{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Facundo/Desktop/Angular/TP/saladejuegos/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./../servicios/auth.service\";\nimport * as i2 from \"@angular/fire/compat/auth\";\nexport class GuardAdministradorGuard {\n  constructor(auth, afAuth) {\n    this.auth = auth;\n    this.afAuth = afAuth;\n  }\n\n  canActivate(route, state) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      let admin = false;\n      const usuarios = yield _this.auth.traerUsuarios().subscribe(res => {\n        return res;\n      });\n\n      if (usuarios) {\n        for (let usuario of usuarios) {}\n      }\n      /*\r\n      subscribe(res=>{\r\n        admin=false;\r\n        for(let item of res)\r\n        {\r\n              if(item.perfil==\"administrador\")\r\n            {\r\n              admin=true;\r\n              break;\r\n            }\r\n          }\r\n      });*/\n\n\n      return false;\n    })();\n  }\n\n}\n\nGuardAdministradorGuard.ɵfac = function GuardAdministradorGuard_Factory(t) {\n  return new (t || GuardAdministradorGuard)(i0.ɵɵinject(i1.AuthService), i0.ɵɵinject(i2.AngularFireAuth));\n};\n\nGuardAdministradorGuard.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: GuardAdministradorGuard,\n  factory: GuardAdministradorGuard.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":";AAGA,SAASA,sBAAT,EAA8CC,mBAA9C,QAAkF,iBAAlF;;;;AAMA,OAAM,MAAOC,uBAAP,CAA8B;EAGlCC,YAAoBC,IAApB,EAA+CC,MAA/C,EAAsE;IAAlD;IAA2B;EAE9C;;EAEKC,WAAW,CAACC,KAAD,EAAgCC,KAAhC,EAA0D;IAAA;;IAAA;MAEzE,IAAIC,KAAK,GAAC,KAAV;MACI,MAAMC,QAAQ,SAAQ,KAAI,CAACN,IAAL,CAAUO,aAAV,GAA0BC,SAA1B,CAAoCC,GAAG,IAAE;QAC7D,OAAOA,GAAP;MACD,CAFqB,CAAtB;;MAIA,IAAGH,QAAH,EACA;QACE,KAAI,IAAII,OAAR,IAAmBJ,QAAnB,EACA,CAEC;MACF;MACD;;;;;;;;;;;;;;MAeF,OAAO,KAAP;IA7BuE;EA8B1E;;AArCiC;;;mBAAvBR,yBAAuBa;AAAA;;;SAAvBb;EAAuBc,SAAvBd,uBAAuB;EAAAe,YAFtB","names":["ActivatedRouteSnapshot","RouterStateSnapshot","GuardAdministradorGuard","constructor","auth","afAuth","canActivate","route","state","admin","usuarios","traerUsuarios","subscribe","res","usuario","i0","factory","providedIn"],"sourceRoot":"","sources":["C:\\Users\\Facundo\\Desktop\\Angular\\TP\\saladejuegos\\src\\app\\guards\\guard-administrador.guard.ts"],"sourcesContent":["import { AngularFireAuth } from '@angular/fire/compat/auth';\nimport { AuthService } from './../servicios/auth.service';\nimport { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, CanActivate, RouterStateSnapshot, UrlTree } from '@angular/router';\nimport { Observable } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class GuardAdministradorGuard implements CanActivate {\n\n\n  constructor(private auth: AuthService, private afAuth: AngularFireAuth) {\n\n  }\n\n  async canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Promise<boolean>\n  {\n    let admin=false;\n        const usuarios= await this.auth.traerUsuarios().subscribe(res=>{\n          return res;\n        });\n\n        if(usuarios)\n        {\n          for(let usuario of usuarios)\n          {\n\n          }\n        }\n        /*\n        subscribe(res=>{\n          admin=false;\n          for(let item of res)\n          {\n\n              if(item.perfil==\"administrador\")\n              {\n                admin=true;\n                break;\n              }\n\n          }\n        });*/\n\n      return false;\n  }\n\n}\n"]},"metadata":{},"sourceType":"module"}