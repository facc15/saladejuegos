{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Facundo/Desktop/Angular/TP/saladejuegos/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { addDoc, collection } from 'firebase/firestore';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/fire/compat/firestore\";\nimport * as i2 from \"src/app/servicios/auth.service\";\nexport class ResultadosService {\n  constructor(afs, auth) {\n    this.afs = afs;\n    this.auth = auth;\n    this.u = this.miUser();\n    this.user.displayName = this.u.displayName;\n    console.log(this.user.displayName);\n  }\n\n  miUser() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      return yield _this.auth.getUserLog().then(res => {\n        console.log(res);\n        _this.user.displayName = res.displayName;\n        _this.user.email = res.email;\n      });\n    })();\n  }\n\n  guardarResultadoAhorcado(puntaje) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      try {\n        const docRef = yield addDoc(collection(_this2.afs.firestore, \"Resultados/ahorcado\"), {\n          puntaje: puntaje,\n          nombre: _this2.user.displayName,\n          correo: _this2.user.email,\n          fecha: new Date()\n        });\n        console.log(\"Resultado registado en ahorcado: \", docRef.id);\n      } catch (e) {\n        console.error(\"Error al agregar document: \", e);\n      }\n    })();\n  }\n\n}\n\nResultadosService.ɵfac = function ResultadosService_Factory(t) {\n  return new (t || ResultadosService)(i0.ɵɵinject(i1.AngularFirestore), i0.ɵɵinject(i2.AuthService));\n};\n\nResultadosService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: ResultadosService,\n  factory: ResultadosService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":";AAMA,SAASA,MAAT,EAAiBC,UAAjB,QAAmC,oBAAnC;;;;AAKA,OAAM,MAAOC,iBAAP,CAAwB;EAI5BC,YAAoBC,GAApB,EAAkDC,IAAlD,EAAmE;IAA/C;IAA8B;IAChD,KAAKC,CAAL,GAAQ,KAAKC,MAAL,EAAR;IAEA,KAAKC,IAAL,CAAUC,WAAV,GAAsB,KAAKH,CAAL,CAAOG,WAA7B;IAGAC,OAAO,CAACC,GAAR,CAAY,KAAKH,IAAL,CAAUC,WAAtB;EACA;;EAEEF,MAAM;IAAA;;IAAA;MACV,aAAa,KAAI,CAACF,IAAL,CAAUO,UAAV,GAAuBC,IAAvB,CAA6BC,GAAD,IAAY;QACnDJ,OAAO,CAACC,GAAR,CAAYG,GAAZ;QACA,KAAI,CAACN,IAAL,CAAUC,WAAV,GAAsBK,GAAG,CAACL,WAA1B;QACA,KAAI,CAACD,IAAL,CAAUO,KAAV,GAAiBD,GAAG,CAACC,KAArB;MACD,CAJY,CAAb;IADU;EAMX;;EAGOC,wBAAwB,CAACC,OAAD,EAAgB;IAAA;;IAAA;MAE5C,IAAI;QACF,MAAMC,MAAM,SAASlB,MAAM,CAACC,UAAU,CAAC,MAAI,CAACG,GAAL,CAASe,SAAV,EAAoB,qBAApB,CAAX,EAAuD;UAChFF,OAAO,EAAEA,OADuE;UAEhFG,MAAM,EAAE,MAAI,CAACZ,IAAL,CAAUC,WAF8D;UAGhFY,MAAM,EAAE,MAAI,CAACb,IAAL,CAAUO,KAH8D;UAIhFO,KAAK,EAAE,IAAIC,IAAJ;QAJyE,CAAvD,CAA3B;QAMAb,OAAO,CAACC,GAAR,CAAY,mCAAZ,EAAiDO,MAAM,CAACM,EAAxD;MAED,CATD,CASE,OAAOC,CAAP,EAAU;QACVf,OAAO,CAACgB,KAAR,CAAc,6BAAd,EAA6CD,CAA7C;MAED;IAd2C;EAe7C;;AArC2B;;;mBAAjBvB,mBAAiByB;AAAA;;;SAAjBzB;EAAiB0B,SAAjB1B,iBAAiB;EAAA2B,YAFhB","names":["addDoc","collection","ResultadosService","constructor","afs","auth","u","miUser","user","displayName","console","log","getUserLog","then","res","email","guardarResultadoAhorcado","puntaje","docRef","firestore","nombre","correo","fecha","Date","id","e","error","i0","factory","providedIn"],"sourceRoot":"","sources":["C:\\Users\\Facundo\\Desktop\\Angular\\TP\\saladejuegos\\src\\app\\servicios\\resultados.service.ts"],"sourcesContent":["import { Observable } from 'rxjs';\nimport { User } from './../interfaces/user';\nimport { AuthService } from 'src/app/servicios/auth.service';\nimport { Injectable } from '@angular/core';\nimport { AngularFirestore } from '@angular/fire/compat/firestore';\nimport { Firestore } from '@angular/fire/firestore';\nimport { addDoc, collection } from 'firebase/firestore';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ResultadosService {\n  private user!: User;\n  private u: any;\n\n  constructor(private afs: AngularFirestore,private auth: AuthService) {\n    this.u= this.miUser();\n\n    this.user.displayName=this.u.displayName;\n\n\n    console.log(this.user.displayName);\n   }\n\nasync miUser() {\n  return await this.auth.getUserLog().then((res: any)=>{\n    console.log(res)\n    this.user.displayName=res.displayName;\n    this.user.email= res.email;\n  });\n}\n\n\n  async guardarResultadoAhorcado(puntaje: number)\n  {\n    try {\n      const docRef = await addDoc(collection(this.afs.firestore,\"Resultados/ahorcado\"), {\n        puntaje: puntaje,\n        nombre: this.user.displayName,\n        correo: this.user.email,\n        fecha: new Date(),\n      });\n      console.log(\"Resultado registado en ahorcado: \", docRef.id);\n\n    } catch (e) {\n      console.error(\"Error al agregar document: \", e);\n\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}