{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Facundo/Desktop/Angular/TP/saladejuegos/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/servicios/auth.service\";\nimport * as i3 from \"ngx-toastr\";\nimport * as i4 from \"@angular/fire/compat/auth\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"../login/registro/registro.component\";\nimport * as i7 from \"../login/login/login.component\";\nimport * as i8 from \"../../components/chat/chat/chat.component\";\n\nfunction HomeComponent_div_2_button_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 4);\n    i0.ɵɵlistener(\"click\", function HomeComponent_div_2_button_18_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r6.verResultadosEncuesta());\n    });\n    i0.ɵɵtext(1, \"Ver resultados de la encuesta\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction HomeComponent_div_2_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"app-chat\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction HomeComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"br\");\n    i0.ɵɵelementStart(2, \"button\", 4);\n    i0.ɵɵlistener(\"click\", function HomeComponent_div_2_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.irASalaDeJuegos());\n    });\n    i0.ɵɵtext(3, \"Sala de juegos\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"br\")(5, \"br\");\n    i0.ɵɵelementStart(6, \"button\", 4);\n    i0.ɵɵlistener(\"click\", function HomeComponent_div_2_Template_button_click_6_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.irAChat());\n    });\n    i0.ɵɵtext(7, \"Sala de Chat\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(8, \"br\")(9, \"br\");\n    i0.ɵɵelementStart(10, \"button\", 4);\n    i0.ɵɵlistener(\"click\", function HomeComponent_div_2_Template_button_click_10_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.irAQuienSoy());\n    });\n    i0.ɵɵtext(11, \"Quien soy?\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(12, \"br\")(13, \"br\");\n    i0.ɵɵelementStart(14, \"button\", 4);\n    i0.ɵɵlistener(\"click\", function HomeComponent_div_2_Template_button_click_14_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.desloguear());\n    });\n    i0.ɵɵtext(15, \"Cerrar sesi\\u00F3n\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(16, \"br\")(17, \"br\");\n    i0.ɵɵtemplate(18, HomeComponent_div_2_button_18_Template, 2, 0, \"button\", 5);\n    i0.ɵɵelement(19, \"br\")(20, \"br\");\n    i0.ɵɵtemplate(21, HomeComponent_div_2_div_21_Template, 2, 0, \"div\", 6);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(18);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.admin);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.chatActivo);\n  }\n}\n\nfunction HomeComponent_ng_template_4_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\")(1, \"app-login\", 8);\n    i0.ɵɵlistener(\"eventoIrARegistro\", function HomeComponent_ng_template_4_div_1_Template_app_login_eventoIrARegistro_1_listener($event) {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r15 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r15.irARegistro($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(2, \"br\")(3, \"br\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction HomeComponent_ng_template_4_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\")(1, \"app-registro\", 9);\n    i0.ɵɵlistener(\"eventoIrALogin\", function HomeComponent_ng_template_4_div_2_Template_app_registro_eventoIrALogin_1_listener($event) {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r17 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r17.irALogin($event));\n    });\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction HomeComponent_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 7);\n    i0.ɵɵtemplate(1, HomeComponent_ng_template_4_div_1_Template, 4, 0, \"div\", 6);\n    i0.ɵɵtemplate(2, HomeComponent_ng_template_4_div_2_Template, 2, 0, \"div\", 6);\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.loguear);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.registrar);\n  }\n}\n\nexport class HomeComponent {\n  constructor(router, auth, toastr, afAuth) {\n    this.router = router;\n    this.auth = auth;\n    this.toastr = toastr;\n    this.afAuth = afAuth;\n    this.user$ = this.auth.afAuth.user;\n    this.spinner = false;\n    this.chatActivo = false;\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.admin = false;\n      _this.user = yield _this.auth.getUserLog();\n      _this.registrar = false;\n\n      if (!_this.user) {\n        _this.loguear = true;\n      } else {\n        _this.checkAdmin();\n\n        _this.loguear = false;\n      }\n    })();\n  }\n\n  desloguear() {\n    this.auth.desloguear();\n    this.loguear = true;\n    this.admin = false;\n    this.registrar = false;\n  }\n\n  irAQuienSoy() {\n    this.router.navigateByUrl('pages/quien-soy');\n  }\n\n  irAChat() {\n    if (!this.chatActivo) this.chatActivo = true;else this.chatActivo = false;\n  }\n\n  irASalaDeJuegos() {\n    this.router.navigateByUrl('pages/juegos/lista');\n  }\n\n  irARegistro(event) {\n    this.registrar = event;\n    this.loguear = false;\n  }\n\n  irALogin(event) {\n    this.loguear = event;\n    this.registrar = false;\n  }\n\n  checkAdmin() {\n    this.auth.traerUsuarios().subscribe(res => {\n      for (let item of res) {\n        if (this.user.uid == item.uid) {\n          if (item.perfil == \"administrador\") {\n            this.admin = true;\n            break;\n          }\n        }\n      }\n    });\n  }\n\n  verResultadosEncuesta() {}\n\n}\n\nHomeComponent.ɵfac = function HomeComponent_Factory(t) {\n  return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.ToastrService), i0.ɵɵdirectiveInject(i4.AngularFireAuth));\n};\n\nHomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: HomeComponent,\n  selectors: [[\"app-home\"]],\n  decls: 6,\n  vars: 4,\n  consts: [[1, \"central\"], [1, \"body\"], [4, \"ngIf\", \"ngIfElse\"], [\"noLog\", \"\"], [\"type\", \"button\", 1, \"miBtn2\", 3, \"click\"], [\"type\", \"button\", \"class\", \"miBtn2\", 3, \"click\", 4, \"ngIf\"], [4, \"ngIf\"], [\"src\", \"../../../assets/login2.png\", \"alt\", \"login\", 1, \"logo\"], [3, \"eventoIrARegistro\"], [3, \"eventoIrALogin\"]],\n  template: function HomeComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n      i0.ɵɵtemplate(2, HomeComponent_div_2_Template, 22, 2, \"div\", 2);\n      i0.ɵɵpipe(3, \"async\");\n      i0.ɵɵtemplate(4, HomeComponent_ng_template_4_Template, 3, 2, \"ng-template\", null, 3, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵelementEnd()();\n    }\n\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(5);\n\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(3, 2, ctx.user$))(\"ngIfElse\", _r1);\n    }\n  },\n  dependencies: [i5.NgIf, i6.RegistroComponent, i7.LoginComponent, i8.ChatComponent, i5.AsyncPipe],\n  styles: [\".logo[_ngcontent-%COMP%]{\\r\\nheight: 100px;\\r\\nmargin-bottom: 5px;\\r\\n}\\r\\n\\r\\n.imagen[_ngcontent-%COMP%]{\\r\\n  object-fit: cover;\\r\\n}\\r\\n\\r\\na[_ngcontent-%COMP%]{\\r\\n  cursor: pointer;\\r\\n\\r\\n}\\r\\n\\r\\n.body[_ngcontent-%COMP%]{\\r\\n\\r\\n  width: 100%;\\r\\n  max-width: 330px;\\r\\n  margin: auto;\\r\\n  padding: 15px;\\r\\n  text-align: center;\\r\\n}\\r\\n\\r\\n.central[_ngcontent-%COMP%]{\\r\\n  height: 80%;\\r\\n  display: flex;\\r\\n  justify-content: center;\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhvbWUuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQ0E7QUFDQSxhQUFhO0FBQ2Isa0JBQWtCO0FBQ2xCOztBQUVBO0VBQ0UsaUJBQWlCO0FBQ25COztBQUVBO0VBQ0UsZUFBZTs7QUFFakI7O0FBSUE7O0VBRUUsV0FBVztFQUNYLGdCQUFnQjtFQUNoQixZQUFZO0VBQ1osYUFBYTtFQUNiLGtCQUFrQjtBQUNwQjs7QUFDQTtFQUNFLFdBQVc7RUFDWCxhQUFhO0VBQ2IsdUJBQXVCO0FBQ3pCIiwiZmlsZSI6ImhvbWUuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG4ubG9nb3tcclxuaGVpZ2h0OiAxMDBweDtcclxubWFyZ2luLWJvdHRvbTogNXB4O1xyXG59XHJcblxyXG4uaW1hZ2Vue1xyXG4gIG9iamVjdC1maXQ6IGNvdmVyO1xyXG59XHJcblxyXG5he1xyXG4gIGN1cnNvcjogcG9pbnRlcjtcclxuXHJcbn1cclxuXHJcblxyXG5cclxuLmJvZHl7XHJcblxyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIG1heC13aWR0aDogMzMwcHg7XHJcbiAgbWFyZ2luOiBhdXRvO1xyXG4gIHBhZGRpbmc6IDE1cHg7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcbi5jZW50cmFse1xyXG4gIGhlaWdodDogODAlO1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbn1cclxuXHJcbiJdfQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","HomeComponent","constructor","router","auth","toastr","afAuth","user","chatActivo","ngOnInit","admin","getUserLog","registrar","loguear","checkAdmin","desloguear","irAQuienSoy","navigateByUrl","irAChat","irASalaDeJuegos","irARegistro","event","irALogin","traerUsuarios","subscribe","res","item","uid","perfil","verResultadosEncuesta","selectors","decls","vars","consts","template","_r1"],"sourceRoot":"","sources":["C:\\Users\\Facundo\\Desktop\\Angular\\TP\\saladejuegos\\src\\app\\pages\\home\\home.component.html","C:\\Users\\Facundo\\Desktop\\Angular\\TP\\saladejuegos\\src\\app\\pages\\home\\home.component.ts"],"sourcesContent":["<div class=\"central\">\n  <div class=\"body\">\n  <div *ngIf=\"this.user$ | async as user; else noLog\">\n\n\n    <br>\n\n    <button type=\"button\" class=\"miBtn2\" (click)=\"irASalaDeJuegos()\">Sala de juegos</button>\n    <br><br>\n    <button type=\"button\" class=\"miBtn2\" (click)=\"irAChat()\">Sala de Chat</button>\n    <br><br>\n    <button type=\"button\" class=\"miBtn2\" (click)=\"irAQuienSoy()\">Quien soy?</button>\n    <br><br>\n    <button type=\"button\" class=\"miBtn2\" (click)=\"desloguear()\">Cerrar sesión</button>\n    <br><br>\n    <button type=\"button\" class=\"miBtn2\" *ngIf=\"this.admin\" (click)=\"verResultadosEncuesta()\">Ver resultados de la encuesta</button>\n    <br><br>\n\n<div *ngIf=\"this.chatActivo\">\n  <app-chat></app-chat>\n</div>\n\n  </div>\n\n\n  <ng-template #noLog>\n  <img class=\"logo\" src=\"../../../assets/login2.png\" alt=\"login\">\n    <div *ngIf=\"loguear\">\n    <app-login (eventoIrARegistro)=\"irARegistro($event)\"></app-login>\n\n    <br><br>\n\n\n\n    </div>\n\n    <div *ngIf=\"registrar\">\n      <app-registro (eventoIrALogin)=\"irALogin($event)\"></app-registro>\n\n\n    </div>\n\n  </ng-template>\n</div>\n</div>\n","import { ToastrService } from 'ngx-toastr';\nimport { Usuario } from './../../clases/usuario';\nimport { AuthService } from 'src/app/servicios/auth.service';\nimport { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AngularFireAuth } from '@angular/fire/compat/auth';\nimport { Observable } from 'rxjs/internal/Observable';\nimport { ThisReceiver } from '@angular/compiler';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css']\n})\nexport class HomeComponent implements OnInit {\n\n  public miUsuario!: any;\n  public loguear!: boolean;\n  public registrar!: boolean;\n  public chatActivo!: boolean;\n\n  public admin!:boolean;\n  public user:any;\n  public user$: Observable<any> =this.auth.afAuth.user;\n\n\n  public spinner: boolean=false;\n\n\n  constructor(private router: Router, public auth: AuthService, public toastr: ToastrService, public afAuth : AngularFireAuth)\n{\nthis.chatActivo=false;\n\n}\n\nasync ngOnInit() {\n  this.admin=false;\n    this.user = await this.auth.getUserLog();\n\n    this.registrar=false;\n    if(!this.user)\n    {\n      this.loguear=true;\n    }else\n    {\n      this.checkAdmin();\n      this.loguear=false;\n\n    }\n}\n\n\n\ndesloguear()\n{\n  this.auth.desloguear();\n  this.loguear=true;\n  this.admin=false;\n  this.registrar=false;\n}\n\n  irAQuienSoy()\n  {\n    this.router.navigateByUrl('pages/quien-soy');\n  }\n\n  irAChat()\n  {\n    if(!this.chatActivo)\n    this.chatActivo=true;\n    else\n    this.chatActivo=false;\n  }\n\nirASalaDeJuegos()\n{\n  this.router.navigateByUrl('pages/juegos/lista');\n}\n\n\n  irARegistro(event: boolean)\n  {\n    this.registrar=event;\n    this.loguear=false;\n\n  }\n  irALogin(event: boolean)\n  {\n    this.loguear=event;\n    this.registrar=false;\n  }\n\n  checkAdmin() : boolean\n  {\n    this.auth.traerUsuarios().subscribe(res=>\n      {\n        for(let item of res)\n        {\n          if(this.user.uid==item.uid)\n          {\n            if(item.perfil==\"administrador\")\n            {\n                this.admin= true;\n                break;\n            }\n          }\n        }\n      }\n      );\n  }\n\n  verResultadosEncuesta()\n  {\n\n  }\n\n}\n"]},"metadata":{},"sourceType":"module"}