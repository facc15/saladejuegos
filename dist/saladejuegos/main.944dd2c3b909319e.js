"use strict";(self.webpackChunksaladejuegos=self.webpackChunksaladejuegos||[]).push([[179],{7128:(nn,it,V)=>{V.d(it,{nm:()=>Li});var c=V(5813),me=(V(4650),V(3692),V(5867),V(5861)),Fe=V(9681),xe=V(4859),ce=V(2090),We=V(1877);const re=new Map,fe={activated:!1,tokenObservers:[]},Oe={initialized:!1,enabled:!1};function yt(Ke){return re.get(Ke)||fe}function ft(Ke,Ve){re.set(Ke,Ve)}function tt(){return Oe}class Ne{constructor(Ve,nt,Tt,Vt,on){if(this.operation=Ve,this.retryPolicy=nt,this.getWaitDuration=Tt,this.lowerBound=Vt,this.upperBound=on,this.pending=null,this.nextErrorWaitInterval=Vt,Vt>on)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Ve){var nt=this;return(0,me.Z)(function*(){nt.stop();try{nt.pending=new ce.BH,yield function Je(Ke){return new Promise(Ve=>{setTimeout(Ve,Ke)})}(nt.getNextRun(Ve)),nt.pending.resolve(),yield nt.pending.promise,nt.pending=new ce.BH,yield nt.operation(),nt.pending.resolve(),yield nt.pending.promise,nt.process(!0).catch(()=>{})}catch(Tt){nt.retryPolicy(Tt)?nt.process(!1).catch(()=>{}):nt.stop()}})()}getNextRun(Ve){if(Ve)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const nt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),nt}}}const Pe=new ce.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Qe(Ke){if(!yt(Ke).activated)throw Pe.create("use-before-activation",{appName:Ke.name})}function je(Ke,Ve){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,me.Z)(function*({url:Ke,body:Ve},nt){var Tt,Vt;const on={"Content-Type":"application/json"},Qn=nt.getImmediate({optional:!0});if(Qn){const ei=yield Qn.getHeartbeatsHeader();ei&&(on["X-Firebase-Client"]=ei)}const Hr={method:"POST",body:JSON.stringify(Ve),headers:on};let lr,fr;try{lr=yield fetch(Ke,Hr)}catch(ei){throw Pe.create("fetch-network-error",{originalErrorMessage:null===(Tt=ei)||void 0===Tt?void 0:Tt.message})}if(200!==lr.status)throw Pe.create("fetch-status-error",{httpStatus:lr.status});try{fr=yield lr.json()}catch(ei){throw Pe.create("fetch-parse-error",{originalErrorMessage:null===(Vt=ei)||void 0===Vt?void 0:Vt.message})}const ns=fr.ttl.match(/^([\d.]+)(s)$/);if(!ns||!ns[2]||isNaN(Number(ns[1])))throw Pe.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${fr.ttl}`});const to=1e3*Number(ns[1]),Yi=Date.now();return{token:fr.token,expireTimeMillis:Yi+to,issuedAtTimeMillis:Yi}})).apply(this,arguments)}function Ft(Ke,Ve){const{projectId:nt,appId:Tt,apiKey:Vt}=Ke.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${nt}/apps/${Tt}:exchangeDebugToken?key=${Vt}`,body:{debug_token:Ve}}}const Dt="firebase-app-check-store";let pn=null;function rt(){return pn||(pn=new Promise((Ke,Ve)=>{var nt;try{const Tt=indexedDB.open("firebase-app-check-database",1);Tt.onsuccess=Vt=>{Ke(Vt.target.result)},Tt.onerror=Vt=>{var on;Ve(Pe.create("storage-open",{originalErrorMessage:null===(on=Vt.target.error)||void 0===on?void 0:on.message}))},Tt.onupgradeneeded=Vt=>{0===Vt.oldVersion&&Vt.target.result.createObjectStore(Dt,{keyPath:"compositeKey"})}}catch(Tt){Ve(Pe.create("storage-open",{originalErrorMessage:null===(nt=Tt)||void 0===nt?void 0:nt.message}))}}),pn)}function Jn(){return(Jn=(0,me.Z)(function*(Ke,Ve){const Tt=(yield rt()).transaction(Dt,"readwrite"),on=Tt.objectStore(Dt).put({compositeKey:Ke,value:Ve});return new Promise((Qn,Hr)=>{on.onsuccess=lr=>{Qn()},Tt.onerror=lr=>{var fr;Hr(Pe.create("storage-set",{originalErrorMessage:null===(fr=lr.target.error)||void 0===fr?void 0:fr.message}))}})})).apply(this,arguments)}const en=new We.Yd("@firebase/app-check");function or(Ke,Ve){return(0,ce.hl)()?function Me(Ke,Ve){return function vn(Ke,Ve){return Jn.apply(this,arguments)}(function hr(Ke){return`${Ke.options.appId}-${Ke.name}`}(Ke),Ve)}(Ke,Ve).catch(nt=>{en.warn(`Failed to write token to IndexedDB. Error: ${nt}`)}):Promise.resolve()}function bn(){return tt().enabled}function Zn(){return br.apply(this,arguments)}function br(){return(br=(0,me.Z)(function*(){const Ke=tt();if(Ke.enabled&&Ke.token)return Ke.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Cr={error:"UNKNOWN_ERROR"};function ot(Ke){return ce.US.encodeString(JSON.stringify(Ke),!1)}function Ee(Ke){return pe.apply(this,arguments)}function pe(){return(pe=(0,me.Z)(function*(Ke,Ve=!1){const nt=Ke.app;Qe(nt);const Tt=yt(nt);let on,Vt=Tt.token;if(!Vt){const lr=yield Tt.cachedTokenPromise;lr&&zt(lr)&&(Vt=lr)}if(!Ve&&Vt&&zt(Vt))return{token:Vt.token};let Hr,Qn=!1;if(bn()){Tt.exchangeTokenPromise||(Tt.exchangeTokenPromise=je(Ft(nt,yield Zn()),Ke.heartbeatServiceProvider).then(fr=>(Tt.exchangeTokenPromise=void 0,fr)),Qn=!0);const lr=yield Tt.exchangeTokenPromise;return yield or(nt,lr),ft(nt,Object.assign(Object.assign({},Tt),{token:lr})),{token:lr.token}}try{Tt.exchangeTokenPromise||(Tt.exchangeTokenPromise=Tt.provider.getToken().then(lr=>(Tt.exchangeTokenPromise=void 0,lr)),Qn=!0),Vt=yield Tt.exchangeTokenPromise}catch(lr){"appCheck/throttled"===lr.code?en.warn(lr.message):en.error(lr),on=lr}return Vt?(Hr={token:Vt.token},ft(nt,Object.assign(Object.assign({},Tt),{token:Vt})),yield or(nt,Vt)):Hr=ar(on),Qn&&Yn(nt,Hr),Hr})).apply(this,arguments)}function dt(Ke,Ve){const nt=yt(Ke),Tt=nt.tokenObservers.filter(Vt=>Vt.next!==Ve);0===Tt.length&&nt.tokenRefresher&&nt.tokenRefresher.isRunning()&&nt.tokenRefresher.stop(),ft(Ke,Object.assign(Object.assign({},nt),{tokenObservers:Tt}))}function fn(Ke){const{app:Ve}=Ke,nt=yt(Ve);let Tt=nt.tokenRefresher;Tt||(Tt=function Cn(Ke){const{app:Ve}=Ke;return new Ne((0,me.Z)(function*(){let Tt;if(Tt=yt(Ve).token?yield Ee(Ke,!0):yield Ee(Ke),Tt.error)throw Tt.error}),()=>!0,()=>{const nt=yt(Ve);if(nt.token){let Tt=nt.token.issuedAtTimeMillis+.5*(nt.token.expireTimeMillis-nt.token.issuedAtTimeMillis)+3e5;return Tt=Math.min(Tt,nt.token.expireTimeMillis-3e5),Math.max(0,Tt-Date.now())}return 0},3e4,96e4)}(Ke),ft(Ve,Object.assign(Object.assign({},nt),{tokenRefresher:Tt}))),!Tt.isRunning()&&nt.isTokenAutoRefreshEnabled&&Tt.start()}function Yn(Ke,Ve){const nt=yt(Ke).tokenObservers;for(const Tt of nt)try{"EXTERNAL"===Tt.type&&null!=Ve.error?Tt.error(Ve.error):Tt.next(Ve)}catch{}}function zt(Ke){return Ke.expireTimeMillis-Date.now()>0}function ar(Ke){return{token:ot(Cr),error:Ke}}class Tn{constructor(Ve,nt){this.app=Ve,this.heartbeatServiceProvider=nt}_delete(){const{tokenObservers:Ve}=yt(this.app);for(const nt of Ve)dt(this.app,nt.next);return Promise.resolve()}}const An="app-check-internal";!function Rr(){(0,Fe._registerComponent)(new xe.wA("app-check",Ke=>function kr(Ke,Ve){return new Tn(Ke,Ve)}(Ke.getProvider("app").getImmediate(),Ke.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Ke,Ve,nt)=>{Ke.getProvider(An).initialize()})),(0,Fe._registerComponent)(new xe.wA(An,Ke=>function Sn(Ke){return{getToken:Ve=>Ee(Ke,Ve),addTokenListener:Ve=>function lt(Ke,Ve,nt,Tt){const{app:Vt}=Ke,on=yt(Vt),Qn={next:nt,error:Tt,type:Ve};if(ft(Vt,Object.assign(Object.assign({},on),{tokenObservers:[...on.tokenObservers,Qn]})),on.token&&zt(on.token)){const Hr=on.token;Promise.resolve().then(()=>{nt({token:Hr.token}),fn(Ke)}).catch(()=>{})}on.cachedTokenPromise.then(()=>fn(Ke))}(Ke,"INTERNAL",Ve),removeTokenListener:Ve=>dt(Ke.app,Ve)}}(Ke.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Fe.registerVersion)("@firebase/app-check","0.5.12")}();class Li{constructor(){return(0,c.vb)("app-check")}}typeof window<"u"&&window},3692:(nn,it,V)=>{V.d(it,{Ot:()=>H}),V(5867),V(4650);class H{constructor(ae){return ae}}},1205:(nn,it,V)=>{V.d(it,{zQ:()=>Ct,rT:()=>Se,f7:()=>je,L6:()=>He,_Q:()=>Qe,lh:()=>ke,Qv:()=>Pe,nw:()=>Ge});var c=V(4650),k=V(7579),H=V(9646),be=V(9751),me=V(8996),Fe=V(6451),xe=V(5363),ce=V(3900),We=V(4004),re=V(6063);class fe extends k.x{constructor(Qt=1/0,ln=1/0,Dt=re.l){super(),this._bufferSize=Qt,this._windowTime=ln,this._timestampProvider=Dt,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ln===1/0,this._bufferSize=Math.max(1,Qt),this._windowTime=Math.max(1,ln)}next(Qt){const{isStopped:ln,_buffer:Dt,_infiniteTimeWindow:un,_timestampProvider:pn,_windowTime:rt}=this;ln||(Dt.push(Qt),!un&&Dt.push(pn.now()+rt)),this._trimBuffer(),super.next(Qt)}_subscribe(Qt){this._throwIfClosed(),this._trimBuffer();const ln=this._innerSubscribe(Qt),{_infiniteTimeWindow:Dt,_buffer:un}=this,pn=un.slice();for(let rt=0;rt<pn.length&&!Qt.closed;rt+=Dt?1:2)Qt.next(pn[rt]);return this._checkFinalizedStatuses(Qt),ln}_trimBuffer(){const{_bufferSize:Qt,_timestampProvider:ln,_buffer:Dt,_infiniteTimeWindow:un}=this,pn=(un?1:2)*Qt;if(Qt<1/0&&pn<Dt.length&&Dt.splice(0,Dt.length-pn),!un){const rt=ln.now();let It=0;for(let Me=1;Me<Dt.length&&Dt[Me]<=rt;Me+=2)It=Me;It&&Dt.splice(0,It+1)}}}var Oe=V(3099);function yt(Ft,Qt,ln){let Dt,un=!1;return Ft&&"object"==typeof Ft?({bufferSize:Dt=1/0,windowTime:Qt=1/0,refCount:un=!1,scheduler:ln}=Ft):Dt=Ft??1/0,(0,Oe.B)({connector:()=>new fe(Dt,Qt,ln),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:un})}var ft=V(590),tt=V(576);function Ht(Ft,Qt){return(0,tt.m)(Qt)?(0,ce.w)(()=>Ft,Qt):(0,ce.w)(()=>Ft)}var Xe=V(9468),Ye=V(9300),St=V(5813),At=V(2011),ae=V(6895),Ne=V(7128);V(127);const Pe=new c.OlP("angularfire2.auth.use-emulator"),He=new c.OlP("angularfire2.auth.settings"),Qe=new c.OlP("angularfire2.auth.tenant-id"),Se=new c.OlP("angularfire2.auth.langugage-code"),ke=new c.OlP("angularfire2.auth.use-device-language"),je=new c.OlP("angularfire.auth.persistence"),Ge=(Ft,Qt,ln,Dt,un,pn,rt,It)=>(0,At.cc)(`${Ft.name}.auth`,"AngularFireAuth",Ft.name,()=>{const Me=Qt.runOutsideAngular(()=>Ft.auth());if(ln&&Me.useEmulator(...ln),Dt&&(Me.tenantId=Dt),Me.languageCode=un,pn&&Me.useDeviceLanguage(),rt)for(const[ze,Kt]of Object.entries(rt))Me.settings[ze]=Kt;return It&&Me.setPersistence(It),Me},[ln,Dt,un,pn,rt,It]);let Ct=(()=>{class Ft{constructor(ln,Dt,un,pn,rt,It,Me,ze,Kt,vn,Jn,Bn){const dr=new k.x,hr=(0,H.of)(void 0).pipe((0,xe.Q)(rt.outsideAngular),(0,ce.w)(()=>pn.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,5881)))),(0,We.U)(()=>(0,At.on)(ln,pn,Dt)),(0,We.U)(en=>Ge(en,pn,It,ze,Kt,vn,Me,Jn)),yt({bufferSize:1,refCount:!1}));if((0,ae.PM)(un))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,H.of)(null);else{hr.pipe((0,ft.P)()).subscribe();const On=hr.pipe((0,ce.w)(Ut=>Ut.getRedirectResult().then(Pn=>Pn,()=>null)),St.iC,yt({bufferSize:1,refCount:!1})),Nr=hr.pipe((0,ce.w)(Ut=>new be.y(Pn=>({unsubscribe:pn.runOutsideAngular(()=>Ut.onAuthStateChanged(bn=>Pn.next(bn),bn=>Pn.error(bn),()=>Pn.complete()))})))),or=hr.pipe((0,ce.w)(Ut=>new be.y(Pn=>({unsubscribe:pn.runOutsideAngular(()=>Ut.onIdTokenChanged(bn=>Pn.next(bn),bn=>Pn.error(bn),()=>Pn.complete()))}))));this.authState=On.pipe(Ht(Nr),(0,Xe.R)(rt.outsideAngular),(0,xe.Q)(rt.insideAngular)),this.user=On.pipe(Ht(or),(0,Xe.R)(rt.outsideAngular),(0,xe.Q)(rt.insideAngular)),this.idToken=this.user.pipe((0,ce.w)(Ut=>Ut?(0,me.D)(Ut.getIdToken()):(0,H.of)(null))),this.idTokenResult=this.user.pipe((0,ce.w)(Ut=>Ut?(0,me.D)(Ut.getIdTokenResult()):(0,H.of)(null))),this.credential=(0,Fe.T)(On,dr,this.authState.pipe((0,Ye.h)(Ut=>!Ut))).pipe((0,We.U)(Ut=>Ut?.user?Ut:null),(0,Xe.R)(rt.outsideAngular),(0,xe.Q)(rt.insideAngular))}return(0,At.pX)(this,hr,pn,{spy:{apply:(en,On,Nr)=>{(en.startsWith("signIn")||en.startsWith("createUser"))&&Nr.then(or=>dr.next(or))}}})}}return Ft.\u0275fac=function(ln){return new(ln||Ft)(c.LFG(At.Dh),c.LFG(At.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(St.HU),c.LFG(Pe,8),c.LFG(He,8),c.LFG(Qe,8),c.LFG(Se,8),c.LFG(ke,8),c.LFG(je,8),c.LFG(Ne.nm,8))},Ft.\u0275prov=c.Yz7({token:Ft,factory:Ft.\u0275fac,providedIn:"any"}),Ft})()},1894:(nn,it,V)=>{V.d(it,{ST:()=>ge,yb:()=>Te});var c=V(4650),k=V(4986),H=V(9751),be=V(8996),me=V(9646),Fe=V(5813),xe=V(8675),ce=V(4482),We=V(5403);function re(){return(0,ce.e)((X,$)=>{let ee,Ue=!1;X.subscribe((0,We.x)($,Mt=>{const cn=ee;ee=Mt,Ue&&$.next([cn,Mt]),Ue=!0}))})}var fe=V(4004),Oe=V(5026),yt=V(4671);function tt(X,$){return X===$}var Ht=V(9300),Xe=V(2011),Ye=V(6895),At=(V(5881),V(3942)),ae=V(5525),Ne=V(2090),Je=V(4859);function He(X,$){if(void 0===$)return{merge:!1};if(void 0!==$.mergeFields&&void 0!==$.merge)throw new ae.WA("invalid-argument",`Invalid options passed to function ${X}(): You cannot specify both "merge" and "mergeFields".`);return $}function Qe(){if(typeof Uint8Array>"u")throw new ae.WA("unimplemented","Uint8Arrays are not available in this environment.")}function Se(){if(!(0,ae.Me)())throw new ae.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class ke{constructor($){this._delegate=$}static fromBase64String($){return Se(),new ke(ae.Jj.fromBase64String($))}static fromUint8Array($){return Qe(),new ke(ae.Jj.fromUint8Array($))}toBase64(){return Se(),this._delegate.toBase64()}toUint8Array(){return Qe(),this._delegate.toUint8Array()}isEqual($){return this._delegate.isEqual($._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function je(X){return function Ge(X,$){if("object"!=typeof X||null===X)return!1;const ee=X;for(const Ue of $)if(Ue in ee&&"function"==typeof ee[Ue])return!0;return!1}(X,["next","error","complete"])}class Ct{enableIndexedDbPersistence($,ee){return(0,ae.ST)($._delegate,{forceOwnership:ee})}enableMultiTabIndexedDbPersistence($){return(0,ae.fH)($._delegate)}clearIndexedDbPersistence($){return(0,ae.Fc)($._delegate)}}class Ot{constructor($,ee,Ue){this._delegate=ee,this._persistenceProvider=Ue,this.INTERNAL={delete:()=>this.terminate()},$ instanceof ae.l7||(this._appCompat=$)}get _databaseId(){return this._delegate._databaseId}settings($){const ee=this._delegate._getSettings();!$.merge&&ee.host!==$.host&&(0,ae.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),$.merge&&delete($=Object.assign(Object.assign({},ee),$)).merge,this._delegate._setSettings($)}useEmulator($,ee,Ue={}){(0,ae.at)(this._delegate,$,ee,Ue)}enableNetwork(){return(0,ae.Ix)(this._delegate)}disableNetwork(){return(0,ae.TF)(this._delegate)}enablePersistence($){let ee=!1,Ue=!1;return $&&(ee=!!$.synchronizeTabs,Ue=!!$.experimentalForceOwningTab,(0,ae.Wi)("synchronizeTabs",ee,"experimentalForceOwningTab",Ue)),ee?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,Ue)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,ae.Mx)(this._delegate)}onSnapshotsInSync($){return(0,ae.sc)(this._delegate,$)}get app(){if(!this._appCompat)throw new ae.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection($){try{return new dr(this,(0,ae.hJ)(this._delegate,$))}catch(ee){throw rt(ee,"collection()","Firestore.collection()")}}doc($){try{return new pn(this,(0,ae.JU)(this._delegate,$))}catch(ee){throw rt(ee,"doc()","Firestore.doc()")}}collectionGroup($){try{return new vn(this,(0,ae.B$)(this._delegate,$))}catch(ee){throw rt(ee,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction($){return(0,ae.i3)(this._delegate,ee=>$(new ln(this,ee)))}batch(){return(0,ae.qY)(this._delegate),new Dt(new ae.PU(this._delegate,$=>(0,ae.GL)(this._delegate,$)))}loadBundle($){return(0,ae.Pb)(this._delegate,$)}namedQuery($){return(0,ae.L$)(this._delegate,$).then(ee=>ee?new vn(this,ee):null)}}class Ft extends ae.u7{constructor($){super(),this.firestore=$}convertBytes($){return new ke(new ae.Jj($))}convertReference($){const ee=this.convertDocumentKey($,this.firestore._databaseId);return pn.forKey(ee,this.firestore,null)}}class ln{constructor($,ee){this._firestore=$,this._delegate=ee,this._userDataWriter=new Ft($)}get($){const ee=hr($);return this._delegate.get(ee).then(Ue=>new ze(this._firestore,new ae.xU(this._firestore._delegate,this._userDataWriter,Ue._key,Ue._document,Ue.metadata,ee.converter)))}set($,ee,Ue){const Mt=hr($);return Ue?(He("Transaction.set",Ue),this._delegate.set(Mt,ee,Ue)):this._delegate.set(Mt,ee),this}update($,ee,Ue,...Mt){const cn=hr($);return 2===arguments.length?this._delegate.update(cn,ee):this._delegate.update(cn,ee,Ue,...Mt),this}delete($){const ee=hr($);return this._delegate.delete(ee),this}}class Dt{constructor($){this._delegate=$}set($,ee,Ue){const Mt=hr($);return Ue?(He("WriteBatch.set",Ue),this._delegate.set(Mt,ee,Ue)):this._delegate.set(Mt,ee),this}update($,ee,Ue,...Mt){const cn=hr($);return 2===arguments.length?this._delegate.update(cn,ee):this._delegate.update(cn,ee,Ue,...Mt),this}delete($){const ee=hr($);return this._delegate.delete(ee),this}commit(){return this._delegate.commit()}}class un{constructor($,ee,Ue){this._firestore=$,this._userDataWriter=ee,this._delegate=Ue}fromFirestore($,ee){const Ue=new ae.$q(this._firestore._delegate,this._userDataWriter,$._key,$._document,$.metadata,null);return this._delegate.fromFirestore(new Kt(this._firestore,Ue),ee??{})}toFirestore($,ee){return ee?this._delegate.toFirestore($,ee):this._delegate.toFirestore($)}static getInstance($,ee){const Ue=un.INSTANCES;let Mt=Ue.get($);Mt||(Mt=new WeakMap,Ue.set($,Mt));let cn=Mt.get(ee);return cn||(cn=new un($,new Ft($),ee),Mt.set(ee,cn)),cn}}un.INSTANCES=new WeakMap;class pn{constructor($,ee){this.firestore=$,this._delegate=ee,this._userDataWriter=new Ft($)}static forPath($,ee,Ue){if($.length%2!=0)throw new ae.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${$.canonicalString()} has ${$.length}`);return new pn(ee,new ae.my(ee._delegate,Ue,new ae.Ky($)))}static forKey($,ee,Ue){return new pn(ee,new ae.my(ee._delegate,Ue,$))}get id(){return this._delegate.id}get parent(){return new dr(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection($){try{return new dr(this.firestore,(0,ae.hJ)(this._delegate,$))}catch(ee){throw rt(ee,"collection()","DocumentReference.collection()")}}isEqual($){return($=(0,Ne.m9)($))instanceof ae.my&&(0,ae.Eo)(this._delegate,$)}set($,ee){ee=He("DocumentReference.set",ee);try{return ee?(0,ae.pl)(this._delegate,$,ee):(0,ae.pl)(this._delegate,$)}catch(Ue){throw rt(Ue,"setDoc()","DocumentReference.set()")}}update($,ee,...Ue){try{return 1===arguments.length?(0,ae.r7)(this._delegate,$):(0,ae.r7)(this._delegate,$,ee,...Ue)}catch(Mt){throw rt(Mt,"updateDoc()","DocumentReference.update()")}}delete(){return(0,ae.oe)(this._delegate)}onSnapshot(...$){const ee=It($),Ue=Me($,Mt=>new ze(this.firestore,new ae.xU(this.firestore._delegate,this._userDataWriter,Mt._key,Mt._document,Mt.metadata,this._delegate.converter)));return(0,ae.cf)(this._delegate,ee,Ue)}get($){let ee;return ee="cache"===$?.source?(0,ae.kl)(this._delegate):"server"===$?.source?(0,ae.Xk)(this._delegate):(0,ae.QT)(this._delegate),ee.then(Ue=>new ze(this.firestore,new ae.xU(this.firestore._delegate,this._userDataWriter,Ue._key,Ue._document,Ue.metadata,this._delegate.converter)))}withConverter($){return new pn(this.firestore,this._delegate.withConverter($?un.getInstance(this.firestore,$):null))}}function rt(X,$,ee){return X.message=X.message.replace($,ee),X}function It(X){for(const $ of X)if("object"==typeof $&&!je($))return $;return{}}function Me(X,$){var ee,Ue;let Mt;return Mt=je(X[0])?X[0]:je(X[1])?X[1]:"function"==typeof X[0]?{next:X[0],error:X[1],complete:X[2]}:{next:X[1],error:X[2],complete:X[3]},{next:cn=>{Mt.next&&Mt.next($(cn))},error:null===(ee=Mt.error)||void 0===ee?void 0:ee.bind(Mt),complete:null===(Ue=Mt.complete)||void 0===Ue?void 0:Ue.bind(Mt)}}class ze{constructor($,ee){this._firestore=$,this._delegate=ee}get ref(){return new pn(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data($){return this._delegate.data($)}get($,ee){return this._delegate.get($,ee)}isEqual($){return(0,ae.qK)(this._delegate,$._delegate)}}class Kt extends ze{data($){const ee=this._delegate.data($);return(0,ae.K9)(void 0!==ee,"Document in a QueryDocumentSnapshot should exist"),ee}}class vn{constructor($,ee){this.firestore=$,this._delegate=ee,this._userDataWriter=new Ft($)}where($,ee,Ue){try{return new vn(this.firestore,(0,ae.IO)(this._delegate,(0,ae.ar)($,ee,Ue)))}catch(Mt){throw rt(Mt,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy($,ee){try{return new vn(this.firestore,(0,ae.IO)(this._delegate,(0,ae.Xo)($,ee)))}catch(Ue){throw rt(Ue,/(orderBy|where)\(\)/,"Query.$1()")}}limit($){try{return new vn(this.firestore,(0,ae.IO)(this._delegate,(0,ae.b9)($)))}catch(ee){throw rt(ee,"limit()","Query.limit()")}}limitToLast($){try{return new vn(this.firestore,(0,ae.IO)(this._delegate,(0,ae.vh)($)))}catch(ee){throw rt(ee,"limitToLast()","Query.limitToLast()")}}startAt(...$){try{return new vn(this.firestore,(0,ae.IO)(this._delegate,(0,ae.e0)(...$)))}catch(ee){throw rt(ee,"startAt()","Query.startAt()")}}startAfter(...$){try{return new vn(this.firestore,(0,ae.IO)(this._delegate,(0,ae.TQ)(...$)))}catch(ee){throw rt(ee,"startAfter()","Query.startAfter()")}}endBefore(...$){try{return new vn(this.firestore,(0,ae.IO)(this._delegate,(0,ae.Lx)(...$)))}catch(ee){throw rt(ee,"endBefore()","Query.endBefore()")}}endAt(...$){try{return new vn(this.firestore,(0,ae.IO)(this._delegate,(0,ae.Wu)(...$)))}catch(ee){throw rt(ee,"endAt()","Query.endAt()")}}isEqual($){return(0,ae.iE)(this._delegate,$._delegate)}get($){let ee;return ee="cache"===$?.source?(0,ae.UQ)(this._delegate):"server"===$?.source?(0,ae.zN)(this._delegate):(0,ae.PL)(this._delegate),ee.then(Ue=>new Bn(this.firestore,new ae.W(this.firestore._delegate,this._userDataWriter,this._delegate,Ue._snapshot)))}onSnapshot(...$){const ee=It($),Ue=Me($,Mt=>new Bn(this.firestore,new ae.W(this.firestore._delegate,this._userDataWriter,this._delegate,Mt._snapshot)));return(0,ae.cf)(this._delegate,ee,Ue)}withConverter($){return new vn(this.firestore,this._delegate.withConverter($?un.getInstance(this.firestore,$):null))}}class Jn{constructor($,ee){this._firestore=$,this._delegate=ee}get type(){return this._delegate.type}get doc(){return new Kt(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Bn{constructor($,ee){this._firestore=$,this._delegate=ee}get query(){return new vn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map($=>new Kt(this._firestore,$))}docChanges($){return this._delegate.docChanges($).map(ee=>new Jn(this._firestore,ee))}forEach($,ee){this._delegate.forEach(Ue=>{$.call(ee,new Kt(this._firestore,Ue))})}isEqual($){return(0,ae.qK)(this._delegate,$._delegate)}}class dr extends vn{constructor($,ee){super($,ee),this.firestore=$,this._delegate=ee}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const $=this._delegate.parent;return $?new pn(this.firestore,$):null}doc($){try{return new pn(this.firestore,void 0===$?(0,ae.JU)(this._delegate):(0,ae.JU)(this._delegate,$))}catch(ee){throw rt(ee,"doc()","CollectionReference.doc()")}}add($){return(0,ae.ET)(this._delegate,$).then(ee=>new pn(this.firestore,ee))}isEqual($){return(0,ae.Eo)(this._delegate,$._delegate)}withConverter($){return new dr(this.firestore,this._delegate.withConverter($?un.getInstance(this.firestore,$):null))}}function hr(X){return(0,ae.Cf)(X,ae.my)}class en{constructor(...$){this._delegate=new ae.Lz(...$)}static documentId(){return new en(ae.Xb.keyField().canonicalString())}isEqual($){return($=(0,Ne.m9)($))instanceof ae.Lz&&this._delegate._internalPath.isEqual($._internalPath)}}class On{constructor($){this._delegate=$}static serverTimestamp(){const $=(0,ae.Bt)();return $._methodName="FieldValue.serverTimestamp",new On($)}static delete(){const $=(0,ae.AK)();return $._methodName="FieldValue.delete",new On($)}static arrayUnion(...$){const ee=(0,ae.vr)(...$);return ee._methodName="FieldValue.arrayUnion",new On(ee)}static arrayRemove(...$){const ee=(0,ae.Ab)(...$);return ee._methodName="FieldValue.arrayRemove",new On(ee)}static increment($){const ee=(0,ae.nP)($);return ee._methodName="FieldValue.increment",new On(ee)}isEqual($){return this._delegate.isEqual($._delegate)}}const Nr={Firestore:Ot,GeoPoint:ae.F8,Timestamp:ae.EK,Blob:ke,Transaction:ln,WriteBatch:Dt,DocumentReference:pn,DocumentSnapshot:ze,Query:vn,QueryDocumentSnapshot:Kt,QuerySnapshot:Bn,CollectionReference:dr,FieldPath:en,FieldValue:On,setLogLevel:function Qt(X){(0,ae.Ub)(X)},CACHE_SIZE_UNLIMITED:ae.IX};!function Ut(X){(function or(X,$){X.INTERNAL.registerComponent(new Je.wA("firestore-compat",ee=>{const Ue=ee.getProvider("app-compat").getImmediate(),Mt=ee.getProvider("firestore").getImmediate();return $(Ue,Mt)},"PUBLIC").setServiceProps(Object.assign({},Nr)))})(X,($,ee)=>new Ot($,ee,new Ct)),X.registerVersion("@firebase/firestore-compat","0.1.25")}(At.Z);var Pn=V(1205),bn=V(7128),Zn=V(127);function bi(X,$){return function br(X,$=k.z){return new H.y(ee=>{let Ue;return null!=$?$.schedule(()=>{Ue=X.onSnapshot({includeMetadataChanges:!0},ee)}):Ue=X.onSnapshot({includeMetadataChanges:!0},ee),()=>{Ue?.()}})}(X,$)}function ot(X,$){return bi(X,$).pipe((0,fe.U)(ee=>({payload:ee,type:"query"})))}function Ee(X,$){return ot(X,$).pipe((0,xe.O)(void 0),re(),(0,fe.U)(([ee,Ue])=>{const Mt=Ue.payload.docChanges(),cn=Mt.map(jn=>({type:jn.type,payload:jn}));return ee&&JSON.stringify(ee.payload.metadata)!==JSON.stringify(Ue.payload.metadata)&&Ue.payload.docs.forEach((jn,$e)=>{const ve=Mt.find(gt=>gt.doc.ref.isEqual(jn.ref)),Ie=ee?.payload.docs.find(gt=>gt.ref.isEqual(jn.ref));ve&&JSON.stringify(ve.doc.metadata)===JSON.stringify(jn.metadata)||!ve&&Ie&&JSON.stringify(Ie.metadata)===JSON.stringify(jn.metadata)||cn.push({type:"modified",payload:{oldIndex:$e,newIndex:$e,type:"modified",doc:jn}})}),cn}))}function pe(X,$,ee){return Ee(X,ee).pipe((0,Oe.R)((Ue,Mt)=>function lt(X,$,ee){return $.forEach(Ue=>{ee.indexOf(Ue.type)>-1&&(X=function fn(X,$){switch($.type){case"added":if(!X[$.newIndex]||!X[$.newIndex].doc.ref.isEqual($.doc.ref))return dt(X,$.newIndex,0,$);break;case"modified":if(null==X[$.oldIndex]||X[$.oldIndex].doc.ref.isEqual($.doc.ref)){if($.oldIndex!==$.newIndex){const ee=X.slice();return ee.splice($.oldIndex,1),ee.splice($.newIndex,0,$),ee}return dt(X,$.newIndex,1,$)}break;case"removed":if(X[$.oldIndex]&&X[$.oldIndex].doc.ref.isEqual($.doc.ref))return dt(X,$.oldIndex,1)}return X}(X,Ue))}),X}(Ue,Mt.map(cn=>cn.payload),$),[]),function ft(X,$=yt.y){return X=X??tt,(0,ce.e)((ee,Ue)=>{let Mt,cn=!0;ee.subscribe((0,We.x)(Ue,jn=>{const $e=$(jn);(cn||!X(Mt,$e))&&(cn=!1,Mt=$e,Ue.next(jn))}))})}(),(0,fe.U)(Ue=>Ue.map(Mt=>({type:Mt.type,payload:Mt}))))}function dt(X,$,ee,...Ue){const Mt=X.slice();return Mt.splice($,ee,...Ue),Mt}function Cn(X){return(!X||0===X.length)&&(X=["added","removed","modified"]),X}class Yn{constructor($,ee,Ue){this.ref=$,this.query=ee,this.afs=Ue}stateChanges($){let ee=Ee(this.query,this.afs.schedulers.outsideAngular);return $&&$.length>0&&(ee=ee.pipe((0,fe.U)(Ue=>Ue.filter(Mt=>$.indexOf(Mt.type)>-1)))),ee.pipe((0,xe.O)(void 0),re(),(0,Ht.h)(([Ue,Mt])=>Mt.length>0||!Ue),(0,fe.U)(([Ue,Mt])=>Mt),Fe.iC)}auditTrail($){return this.stateChanges($).pipe((0,Oe.R)((ee,Ue)=>[...ee,...Ue],[]))}snapshotChanges($){const ee=Cn($);return pe(this.query,ee,this.afs.schedulers.outsideAngular).pipe(Fe.iC)}valueChanges($={}){return ot(this.query,this.afs.schedulers.outsideAngular).pipe((0,fe.U)(ee=>ee.payload.docs.map(Ue=>$.idField?Object.assign(Object.assign({},Ue.data()),{[$.idField]:Ue.id}):Ue.data())),Fe.iC)}get($){return(0,be.D)(this.query.get($)).pipe(Fe.iC)}add($){return this.ref.add($)}doc($){return new zt(this.ref.doc($),this.afs)}}class zt{constructor($,ee){this.ref=$,this.afs=ee}set($,ee){return this.ref.set($,ee)}update($){return this.ref.update($)}delete(){return this.ref.delete()}collection($,ee){const Ue=this.ref.collection($),{ref:Mt,query:cn}=oe(Ue,ee);return new Yn(Mt,cn,this.afs)}snapshotChanges(){return function Cr(X,$){return bi(X,$).pipe((0,xe.O)(void 0),re(),(0,fe.U)(([ee,Ue])=>Ue.exists?ee?.exists?{payload:Ue,type:"modified"}:{payload:Ue,type:"added"}:{payload:Ue,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Fe.iC)}valueChanges($={}){return this.snapshotChanges().pipe((0,fe.U)(({payload:ee})=>$.idField?Object.assign(Object.assign({},ee.data()),{[$.idField]:ee.id}):ee.data()))}get($){return(0,be.D)(this.ref.get($)).pipe(Fe.iC)}}class ar{constructor($,ee){this.query=$,this.afs=ee}stateChanges($){return $&&0!==$.length?Ee(this.query,this.afs.schedulers.outsideAngular).pipe((0,fe.U)(ee=>ee.filter(Ue=>$.indexOf(Ue.type)>-1)),(0,Ht.h)(ee=>ee.length>0),Fe.iC):Ee(this.query,this.afs.schedulers.outsideAngular).pipe(Fe.iC)}auditTrail($){return this.stateChanges($).pipe((0,Oe.R)((ee,Ue)=>[...ee,...Ue],[]))}snapshotChanges($){const ee=Cn($);return pe(this.query,ee,this.afs.schedulers.outsideAngular).pipe(Fe.iC)}valueChanges($={}){return ot(this.query,this.afs.schedulers.outsideAngular).pipe((0,fe.U)(Ue=>Ue.payload.docs.map(Mt=>$.idField?Object.assign({[$.idField]:Mt.id},Mt.data()):Mt.data())),Fe.iC)}get($){return(0,be.D)(this.query.get($)).pipe(Fe.iC)}}const Tn=new c.OlP("angularfire2.enableFirestorePersistence"),kr=new c.OlP("angularfire2.firestore.persistenceSettings"),Sn=new c.OlP("angularfire2.firestore.settings"),De=new c.OlP("angularfire2.firestore.use-emulator");function oe(X,$=(ee=>ee)){return{query:$(X),ref:X}}let ge=(()=>{class X{constructor(ee,Ue,Mt,cn,jn,$e,ve,Ie,gt,$t,_n,Yt,le,de,se,Be,at){this.schedulers=ve;const tn=(0,Xe.on)(ee,$e,Ue),Nn=gt;$t&&(0,Pn.nw)(tn,$e,_n,le,de,se,Yt,Be),[this.firestore,this.persistenceEnabled$]=(0,Xe.cc)(`${tn.name}.firestore`,"AngularFirestore",tn.name,()=>{const An=$e.runOutsideAngular(()=>tn.firestore());if(cn&&An.settings(cn),Nn&&An.useEmulator(...Nn),Mt&&!(0,Ye.PM)(jn)){const Rr=()=>{try{return(0,be.D)(An.enablePersistence(Ie||void 0).then(()=>!0,()=>!1))}catch(oi){return typeof console<"u"&&console.warn(oi),(0,me.of)(!1)}};return[An,$e.runOutsideAngular(Rr)]}return[An,(0,me.of)(!1)]},[cn,Nn,Mt])}collection(ee,Ue){let Mt;Mt="string"==typeof ee?this.firestore.collection(ee):ee;const{ref:cn,query:jn}=oe(Mt,Ue),$e=this.schedulers.ngZone.run(()=>cn);return new Yn($e,jn,this)}collectionGroup(ee,Ue){const Mt=Ue||(jn=>jn),cn=this.firestore.collectionGroup(ee);return new ar(Mt(cn),this)}doc(ee){let Ue;Ue="string"==typeof ee?this.firestore.doc(ee):ee;const Mt=this.schedulers.ngZone.run(()=>Ue);return new zt(Mt,this)}createId(){return this.firestore.collection("_").doc().id}}return X.\u0275fac=function(ee){return new(ee||X)(c.LFG(Xe.Dh),c.LFG(Xe.xv,8),c.LFG(Tn,8),c.LFG(Sn,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Fe.HU),c.LFG(kr,8),c.LFG(De,8),c.LFG(Pn.zQ,8),c.LFG(Pn.Qv,8),c.LFG(Pn.L6,8),c.LFG(Pn._Q,8),c.LFG(Pn.rT,8),c.LFG(Pn.lh,8),c.LFG(Pn.f7,8),c.LFG(bn.nm,8))},X.\u0275prov=c.Yz7({token:X,factory:X.\u0275fac,providedIn:"any"}),X})(),Te=(()=>{class X{constructor(){Zn.Z.registerVersion("angularfire",Fe.q4.full,"fst-compat")}static enablePersistence(ee){return{ngModule:X,providers:[{provide:Tn,useValue:!0},{provide:kr,useValue:ee}]}}}return X.\u0275fac=function(ee){return new(ee||X)},X.\u0275mod=c.oAB({type:X}),X.\u0275inj=c.cJS({providers:[ge]}),X})()},2011:(nn,it,V)=>{V.d(it,{Dh:()=>ce,GT:()=>Fe,cc:()=>ft,hO:()=>yt,on:()=>re,pX:()=>me,xv:()=>We});var c=V(4650),k=V(127),H=V(5813);nn=V.hmd(nn);const be=["ngOnDestroy"],me=(Ye,St,At,ae={})=>new Proxy(Ye,{get:(Ne,Je)=>At.runOutsideAngular(()=>{var xt;if(Ye[Je])return!(null===(xt=ae?.spy)||void 0===xt)&&xt.get&&ae.spy.get(Je,Ye[Je]),Ye[Je];if(be.indexOf(Je)>-1)return()=>{};const Pe=St.toPromise().then(He=>{const Qe=He&&He[Je];return"function"==typeof Qe?Qe.bind(He):Qe&&Qe.then?Qe.then(Se=>At.run(()=>Se)):At.run(()=>Qe)});return new Proxy(()=>{},{get:(He,Qe)=>Pe[Qe],apply:(He,Qe,Se)=>Pe.then(ke=>{var je;const Ge=ke&&ke(...Se);return!(null===(je=ae?.spy)||void 0===je)&&je.apply&&ae.spy.apply(Je,Se,Ge),Ge})})})}),Fe=(Ye,St)=>{St.forEach(At=>{Object.getOwnPropertyNames(At.prototype||At).forEach(ae=>{Object.defineProperty(Ye.prototype,ae,Object.getOwnPropertyDescriptor(At.prototype||At,ae))})})};class xe{constructor(St){return St}}const ce=new c.OlP("angularfire2.app.options"),We=new c.OlP("angularfire2.app.name");function re(Ye,St,At){const Ne="object"==typeof At&&At||{};Ne.name=Ne.name||"string"==typeof At&&At||"[DEFAULT]";const xt=k.Z.apps.filter(Pe=>Pe&&Pe.name===Ne.name)[0]||St.runOutsideAngular(()=>k.Z.initializeApp(Ye,Ne));try{JSON.stringify(Ye)!==JSON.stringify(xt.options)&&fe("error",`${xt.name} Firebase App already initialized with different options${nn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new xe(xt)}const fe=(Ye,...St)=>{(0,c.X6Q)()&&typeof console<"u"&&console[Ye](...St)},Oe={provide:xe,useFactory:re,deps:[ce,c.R0b,[new c.FiY,We]]};let yt=(()=>{class Ye{constructor(At){k.Z.registerVersion("angularfire",H.q4.full,"core"),k.Z.registerVersion("angularfire",H.q4.full,"app-compat"),k.Z.registerVersion("angular",c.q4F.full,At.toString())}static initializeApp(At,ae){return{ngModule:Ye,providers:[{provide:ce,useValue:At},{provide:We,useValue:ae}]}}}return Ye.\u0275fac=function(At){return new(At||Ye)(c.LFG(c.Lbi))},Ye.\u0275mod=c.oAB({type:Ye}),Ye.\u0275inj=c.cJS({providers:[Oe]}),Ye})();function ft(Ye,St,At,ae,Ne){const[,Je,xt]=globalThis.\u0275AngularfireInstanceCache.find(Pe=>Pe[0]===Ye)||[];if(Je)return function tt(Ye,St){try{return Ye.toString()===St.toString()}catch{return Ye===St}}(Ne,xt)||(Xe("error",`${St} was already initialized on the ${At} Firebase App with different settings.${Ht?" You may need to reload as Firebase is not HMR aware.":""}`),Xe("warn",{is:Ne,was:xt})),Je;{const Pe=ae();return globalThis.\u0275AngularfireInstanceCache.push([Ye,Pe,Ne]),Pe}}const Ht=!!nn.hot,Xe=(Ye,...St)=>{(0,c.X6Q)()&&typeof console<"u"&&console[Ye](...St)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(nn,it,V)=>{V.d(it,{q4:()=>Vr,iC:()=>Go,HU:()=>qn,vb:()=>Kn,JM:()=>qt});var c=V(4650),k=V(5867),H=V(5861),be=V(9681),me=V(2090),Fe=V(4859),xe=V(1877),ce=V(8766);const We="@firebase/installations",re="0.5.12",Oe=`w:${re}`,yt="FIS_v2",St=new me.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function At(x){return x instanceof me.ZR&&x.code.includes("request-failed")}function ae({projectId:x}){return`https://firebaseinstallations.googleapis.com/v1/projects/${x}/installations`}function Ne(x){return{token:x.token,requestStatus:2,expiresIn:ke(x.expiresIn),creationTime:Date.now()}}function Je(x,F){return xt.apply(this,arguments)}function xt(){return(xt=(0,H.Z)(function*(x,F){const ye=(yield F.json()).error;return St.create("request-failed",{requestName:x,serverCode:ye.code,serverMessage:ye.message,serverStatus:ye.status})})).apply(this,arguments)}function Pe({apiKey:x}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x})}function He(x,{refreshToken:F}){const q=Pe(x);return q.append("Authorization",function je(x){return`${yt} ${x}`}(F)),q}function Qe(x){return Se.apply(this,arguments)}function Se(){return(Se=(0,H.Z)(function*(x){const F=yield x();return F.status>=500&&F.status<600?x():F})).apply(this,arguments)}function ke(x){return Number(x.replace("s","000"))}function Ge(x,F){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,H.Z)(function*({appConfig:x,heartbeatServiceProvider:F},{fid:q}){const ye=ae(x),Ze=Pe(x),vt=F.getImmediate({optional:!0});if(vt){const xn=yield vt.getHeartbeatsHeader();xn&&Ze.append("x-firebase-client",xn)}const dn={method:"POST",headers:Ze,body:JSON.stringify({fid:q,authVersion:yt,appId:x.appId,sdkVersion:Oe})},$n=yield Qe(()=>fetch(ye,dn));if($n.ok){const xn=yield $n.json();return{fid:xn.fid||q,registrationStatus:2,refreshToken:xn.refreshToken,authToken:Ne(xn.authToken)}}throw yield Je("Create Installation",$n)})).apply(this,arguments)}function Ot(x){return new Promise(F=>{setTimeout(F,x)})}const Qt=/^[cdef][\w-]{21}$/;function Dt(){try{const x=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(x),x[0]=112+x[0]%16;const q=function un(x){return function Ft(x){return btoa(String.fromCharCode(...x)).replace(/\+/g,"-").replace(/\//g,"_")}(x).substr(0,22)}(x);return Qt.test(q)?q:""}catch{return""}}function pn(x){return`${x.appName}!${x.appId}`}const rt=new Map;function It(x,F){const q=pn(x);Kt(q,F),function vn(x,F){const q=function Bn(){return!Jn&&"BroadcastChannel"in self&&(Jn=new BroadcastChannel("[Firebase] FID Change"),Jn.onmessage=x=>{Kt(x.data.key,x.data.fid)}),Jn}();q&&q.postMessage({key:x,fid:F}),function dr(){0===rt.size&&Jn&&(Jn.close(),Jn=null)}()}(q,F)}function Kt(x,F){const q=rt.get(x);if(q)for(const ye of q)ye(F)}let Jn=null;const On="firebase-installations-store";let Nr=null;function or(){return Nr||(Nr=(0,ce.X3)("firebase-installations-database",1,{upgrade:(x,F)=>{0===F&&x.createObjectStore(On)}})),Nr}function Ut(x,F){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,H.Z)(function*(x,F){const q=pn(x),Ze=(yield or()).transaction(On,"readwrite"),vt=Ze.objectStore(On),Bt=yield vt.get(q);return yield vt.put(F,q),yield Ze.done,(!Bt||Bt.fid!==F.fid)&&It(x,F.fid),F})).apply(this,arguments)}function bn(x){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,H.Z)(function*(x){const F=pn(x),ye=(yield or()).transaction(On,"readwrite");yield ye.objectStore(On).delete(F),yield ye.done})).apply(this,arguments)}function br(x,F){return bi.apply(this,arguments)}function bi(){return(bi=(0,H.Z)(function*(x,F){const q=pn(x),Ze=(yield or()).transaction(On,"readwrite"),vt=Ze.objectStore(On),Bt=yield vt.get(q),dn=F(Bt);return void 0===dn?yield vt.delete(q):yield vt.put(dn,q),yield Ze.done,dn&&(!Bt||Bt.fid!==dn.fid)&&It(x,dn.fid),dn})).apply(this,arguments)}function Cr(x){return ot.apply(this,arguments)}function ot(){return(ot=(0,H.Z)(function*(x){let F;const q=yield br(x.appConfig,ye=>{const Ze=Ee(ye),vt=pe(x,Ze);return F=vt.registrationPromise,vt.installationEntry});return""===q.fid?{installationEntry:yield F}:{installationEntry:q,registrationPromise:F}})).apply(this,arguments)}function Ee(x){return zt(x||{fid:Dt(),registrationStatus:0})}function pe(x,F){if(0===F.registrationStatus){if(!navigator.onLine)return{installationEntry:F,registrationPromise:Promise.reject(St.create("app-offline"))};const q={fid:F.fid,registrationStatus:1,registrationTime:Date.now()},ye=function lt(x,F){return dt.apply(this,arguments)}(x,q);return{installationEntry:q,registrationPromise:ye}}return 1===F.registrationStatus?{installationEntry:F,registrationPromise:fn(x)}:{installationEntry:F}}function dt(){return(dt=(0,H.Z)(function*(x,F){try{const q=yield Ge(x,F);return Ut(x.appConfig,q)}catch(q){throw At(q)&&409===q.customData.serverCode?yield bn(x.appConfig):yield Ut(x.appConfig,{fid:F.fid,registrationStatus:0}),q}})).apply(this,arguments)}function fn(x){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,H.Z)(function*(x){let F=yield Yn(x.appConfig);for(;1===F.registrationStatus;)yield Ot(100),F=yield Yn(x.appConfig);if(0===F.registrationStatus){const{installationEntry:q,registrationPromise:ye}=yield Cr(x);return ye||q}return F})).apply(this,arguments)}function Yn(x){return br(x,F=>{if(!F)throw St.create("installation-not-found");return zt(F)})}function zt(x){return function ar(x){return 1===x.registrationStatus&&x.registrationTime+1e4<Date.now()}(x)?{fid:x.fid,registrationStatus:0}:x}function Tn(x,F){return kr.apply(this,arguments)}function kr(){return(kr=(0,H.Z)(function*({appConfig:x,heartbeatServiceProvider:F},q){const ye=Sn(x,q),Ze=He(x,q),vt=F.getImmediate({optional:!0});if(vt){const xn=yield vt.getHeartbeatsHeader();xn&&Ze.append("x-firebase-client",xn)}const dn={method:"POST",headers:Ze,body:JSON.stringify({installation:{sdkVersion:Oe,appId:x.appId}})},$n=yield Qe(()=>fetch(ye,dn));if($n.ok)return Ne(yield $n.json());throw yield Je("Generate Auth Token",$n)})).apply(this,arguments)}function Sn(x,{fid:F}){return`${ae(x)}/${F}/authTokens:generate`}function De(x){return oe.apply(this,arguments)}function oe(){return(oe=(0,H.Z)(function*(x,F=!1){let q;const ye=yield br(x.appConfig,vt=>{if(!Ue(vt))throw St.create("not-registered");const Bt=vt.authToken;if(!F&&Mt(Bt))return vt;if(1===Bt.requestStatus)return q=ge(x,F),vt;{if(!navigator.onLine)throw St.create("app-offline");const dn=jn(vt);return q=$(x,dn),dn}});return q?yield q:ye.authToken})).apply(this,arguments)}function ge(x,F){return Te.apply(this,arguments)}function Te(){return(Te=(0,H.Z)(function*(x,F){let q=yield X(x.appConfig);for(;1===q.authToken.requestStatus;)yield Ot(100),q=yield X(x.appConfig);const ye=q.authToken;return 0===ye.requestStatus?De(x,F):ye})).apply(this,arguments)}function X(x){return br(x,F=>{if(!Ue(F))throw St.create("not-registered");return function $e(x){return 1===x.requestStatus&&x.requestTime+1e4<Date.now()}(F.authToken)?Object.assign(Object.assign({},F),{authToken:{requestStatus:0}}):F})}function $(x,F){return ee.apply(this,arguments)}function ee(){return(ee=(0,H.Z)(function*(x,F){try{const q=yield Tn(x,F),ye=Object.assign(Object.assign({},F),{authToken:q});return yield Ut(x.appConfig,ye),q}catch(q){if(!At(q)||401!==q.customData.serverCode&&404!==q.customData.serverCode){const ye=Object.assign(Object.assign({},F),{authToken:{requestStatus:0}});yield Ut(x.appConfig,ye)}else yield bn(x.appConfig);throw q}})).apply(this,arguments)}function Ue(x){return void 0!==x&&2===x.registrationStatus}function Mt(x){return 2===x.requestStatus&&!function cn(x){const F=Date.now();return F<x.creationTime||x.creationTime+x.expiresIn<F+36e5}(x)}function jn(x){const F={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},x),{authToken:F})}function Ie(){return(Ie=(0,H.Z)(function*(x){const F=x,{installationEntry:q,registrationPromise:ye}=yield Cr(F);return ye?ye.catch(console.error):De(F).catch(console.error),q.fid})).apply(this,arguments)}function $t(){return($t=(0,H.Z)(function*(x,F=!1){const q=x;return yield _n(q),(yield De(q,F)).token})).apply(this,arguments)}function _n(x){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,H.Z)(function*(x){const{registrationPromise:F}=yield Cr(x);F&&(yield F)})).apply(this,arguments)}function Rr(x){return St.create("missing-app-config-values",{valueName:x})}const oi="installations",Li=x=>{const F=x.getProvider("app").getImmediate(),q=function An(x){if(!x||!x.options)throw Rr("App Configuration");if(!x.name)throw Rr("App Name");const F=["projectId","apiKey","appId"];for(const q of F)if(!x.options[q])throw Rr(q);return{appName:x.name,projectId:x.options.projectId,apiKey:x.options.apiKey,appId:x.options.appId}}(F);return{app:F,appConfig:q,heartbeatServiceProvider:(0,be._getProvider)(F,"heartbeat"),_delete:()=>Promise.resolve()}},Vi=x=>{const F=x.getProvider("app").getImmediate(),q=(0,be._getProvider)(F,oi).getImmediate();return{getId:()=>function ve(x){return Ie.apply(this,arguments)}(q),getToken:Ze=>function gt(x){return $t.apply(this,arguments)}(q,Ze)}};(function ws(){(0,be._registerComponent)(new Fe.wA(oi,Li,"PUBLIC")),(0,be._registerComponent)(new Fe.wA("installations-internal",Vi,"PRIVATE"))})(),(0,be.registerVersion)(We,re),(0,be.registerVersion)(We,re,"esm2017");const Gi="@firebase/remote-config",Fr=new me.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Yi{constructor(F,q,ye,Ze){this.client=F,this.storage=q,this.storageCache=ye,this.logger=Ze}isCachedDataFresh(F,q){if(!q)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ye=Date.now()-q,Ze=ye<=F;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ye}. Cache max age millis (minimumFetchIntervalMillis setting): ${F}. Is cache hit: ${Ze}.`),Ze}fetch(F){var q=this;return(0,H.Z)(function*(){const[ye,Ze]=yield Promise.all([q.storage.getLastSuccessfulFetchTimestampMillis(),q.storage.getLastSuccessfulFetchResponse()]);if(Ze&&q.isCachedDataFresh(F.cacheMaxAgeMillis,ye))return Ze;F.eTag=Ze&&Ze.eTag;const vt=yield q.client.fetch(F),Bt=[q.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===vt.status&&Bt.push(q.storage.setLastSuccessfulFetchResponse(vt)),yield Promise.all(Bt),vt})()}}function ei(x=navigator){return x.languages&&x.languages[0]||x.language}class Ns{constructor(F,q,ye,Ze,vt,Bt){this.firebaseInstallations=F,this.sdkVersion=q,this.namespace=ye,this.projectId=Ze,this.apiKey=vt,this.appId=Bt}fetch(F){var q=this;return(0,H.Z)(function*(){var ye,Ze,vt;const[Bt,dn]=yield Promise.all([q.firebaseInstallations.getId(),q.firebaseInstallations.getToken()]),xn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${q.projectId}/namespaces/${q.namespace}:fetch?key=${q.apiKey}`,Er={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":F.eTag||"*"},Hn={sdk_version:q.sdkVersion,app_instance_id:Bt,app_instance_id_token:dn,app_id:q.appId,language_code:ei()},ls={method:"POST",headers:Er,body:JSON.stringify(Hn)},Ss=fetch(xn,ls),Ka=new Promise((Ya,Ma)=>{F.signal.addEventListener(()=>{const cu=new Error("The operation was aborted.");cu.name="AbortError",Ma(cu)})});let qa;try{yield Promise.race([Ss,Ka]),qa=yield Ss}catch(Ya){let Ma="fetch-client-network";throw"AbortError"===(null===(ye=Ya)||void 0===ye?void 0:ye.name)&&(Ma="fetch-timeout"),Fr.create(Ma,{originalErrorMessage:null===(Ze=Ya)||void 0===Ze?void 0:Ze.message})}let Za=qa.status;const Ua=qa.headers.get("ETag")||void 0;let Js,da;if(200===qa.status){let Ya;try{Ya=yield qa.json()}catch(Ma){throw Fr.create("fetch-client-parse",{originalErrorMessage:null===(vt=Ma)||void 0===vt?void 0:vt.message})}Js=Ya.entries,da=Ya.state}if("INSTANCE_STATE_UNSPECIFIED"===da?Za=500:"NO_CHANGE"===da?Za=304:("NO_TEMPLATE"===da||"EMPTY_CONFIG"===da)&&(Js={}),304!==Za&&200!==Za)throw Fr.create("fetch-status",{httpStatus:Za});return{status:Za,eTag:Ua,config:Js}})()}}class rs{constructor(F,q){this.client=F,this.storage=q}fetch(F){var q=this;return(0,H.Z)(function*(){const ye=(yield q.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return q.attemptFetch(F,ye)})()}attemptFetch(F,{throttleEndTimeMillis:q,backoffCount:ye}){var Ze=this;return(0,H.Z)(function*(){yield function Ui(x,F){return new Promise((q,ye)=>{const Ze=Math.max(F-Date.now(),0),vt=setTimeout(q,Ze);x.addEventListener(()=>{clearTimeout(vt),ye(Fr.create("fetch-throttle",{throttleEndTimeMillis:F}))})})}(F.signal,q);try{const vt=yield Ze.client.fetch(F);return yield Ze.storage.deleteThrottleMetadata(),vt}catch(vt){if(!function Fo(x){if(!(x instanceof me.ZR&&x.customData))return!1;const F=Number(x.customData.httpStatus);return 429===F||500===F||503===F||504===F}(vt))throw vt;const Bt={throttleEndTimeMillis:Date.now()+(0,me.$s)(ye),backoffCount:ye+1};return yield Ze.storage.setThrottleMetadata(Bt),Ze.attemptFetch(F,Bt)}})()}}class Do{constructor(F,q,ye,Ze,vt){this.app=F,this._client=q,this._storageCache=ye,this._storage=Ze,this._logger=vt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Os(x,F){var q;const ye=x.target.error||void 0;return Fr.create(F,{originalErrorMessage:ye&&(null===(q=ye)||void 0===q?void 0:q.message)})}const is="app_namespace_store";class zs{constructor(F,q,ye,Ze=function sa(){return new Promise((x,F)=>{var q;try{const ye=indexedDB.open("firebase_remote_config",1);ye.onerror=Ze=>{F(Os(Ze,"storage-open"))},ye.onsuccess=Ze=>{x(Ze.target.result)},ye.onupgradeneeded=Ze=>{0===Ze.oldVersion&&Ze.target.result.createObjectStore(is,{keyPath:"compositeKey"})}}catch(ye){F(Fr.create("storage-open",{originalErrorMessage:null===(q=ye)||void 0===q?void 0:q.message}))}})}()){this.appId=F,this.appName=q,this.namespace=ye,this.openDbPromise=Ze}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(F){return this.set("last_fetch_status",F)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(F){return this.set("last_successful_fetch_timestamp_millis",F)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(F){return this.set("last_successful_fetch_response",F)}getActiveConfig(){return this.get("active_config")}setActiveConfig(F){return this.set("active_config",F)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(F){return this.set("active_config_etag",F)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(F){return this.set("throttle_metadata",F)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(F){var q=this;return(0,H.Z)(function*(){const ye=yield q.openDbPromise;return new Promise((Ze,vt)=>{var Bt;const $n=ye.transaction([is],"readonly").objectStore(is),xn=q.createCompositeKey(F);try{const Er=$n.get(xn);Er.onerror=Hn=>{vt(Os(Hn,"storage-get"))},Er.onsuccess=Hn=>{const ls=Hn.target.result;Ze(ls?ls.value:void 0)}}catch(Er){vt(Fr.create("storage-get",{originalErrorMessage:null===(Bt=Er)||void 0===Bt?void 0:Bt.message}))}})})()}set(F,q){var ye=this;return(0,H.Z)(function*(){const Ze=yield ye.openDbPromise;return new Promise((vt,Bt)=>{var dn;const xn=Ze.transaction([is],"readwrite").objectStore(is),Er=ye.createCompositeKey(F);try{const Hn=xn.put({compositeKey:Er,value:q});Hn.onerror=ls=>{Bt(Os(ls,"storage-set"))},Hn.onsuccess=()=>{vt()}}catch(Hn){Bt(Fr.create("storage-set",{originalErrorMessage:null===(dn=Hn)||void 0===dn?void 0:dn.message}))}})})()}delete(F){var q=this;return(0,H.Z)(function*(){const ye=yield q.openDbPromise;return new Promise((Ze,vt)=>{var Bt;const $n=ye.transaction([is],"readwrite").objectStore(is),xn=q.createCompositeKey(F);try{const Er=$n.delete(xn);Er.onerror=Hn=>{vt(Os(Hn,"storage-delete"))},Er.onsuccess=()=>{Ze()}}catch(Er){vt(Fr.create("storage-delete",{originalErrorMessage:null===(Bt=Er)||void 0===Bt?void 0:Bt.message}))}})})()}createCompositeKey(F){return[this.appId,this.appName,this.namespace,F].join()}}class bs{constructor(F){this.storage=F}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var F=this;return(0,H.Z)(function*(){const q=F.storage.getLastFetchStatus(),ye=F.storage.getLastSuccessfulFetchTimestampMillis(),Ze=F.storage.getActiveConfig(),vt=yield q;vt&&(F.lastFetchStatus=vt);const Bt=yield ye;Bt&&(F.lastSuccessfulFetchTimestampMillis=Bt);const dn=yield Ze;dn&&(F.activeConfig=dn)})()}setLastFetchStatus(F){return this.lastFetchStatus=F,this.storage.setLastFetchStatus(F)}setLastSuccessfulFetchTimestampMillis(F){return this.lastSuccessfulFetchTimestampMillis=F,this.storage.setLastSuccessfulFetchTimestampMillis(F)}setActiveConfig(F){return this.activeConfig=F,this.storage.setActiveConfig(F)}}function Ji(){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,H.Z)(function*(){if(!(0,me.hl)())return!1;try{return yield(0,me.eu)()}catch{return!1}})).apply(this,arguments)}!function bo(){(0,be._registerComponent)(new Fe.wA("remote-config",function x(F,{instanceIdentifier:q}){const ye=F.getProvider("app").getImmediate(),Ze=F.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Fr.create("registration-window");if(!(0,me.hl)())throw Fr.create("indexed-db-unavailable");const{projectId:vt,apiKey:Bt,appId:dn}=ye.options;if(!vt)throw Fr.create("registration-project-id");if(!Bt)throw Fr.create("registration-api-key");if(!dn)throw Fr.create("registration-app-id");const $n=new zs(dn,ye.name,q=q||"firebase"),xn=new bs($n),Er=new xe.Yd(Gi);Er.logLevel=xe.in.ERROR;const Hn=new Ns(Ze,be.SDK_VERSION,q,vt,Bt,dn),ls=new rs(Hn,$n),Ss=new Yi(ls,$n,xn,Er),Ka=new Do(ye,Ss,xn,$n,Er);return function nt(x){const F=(0,me.m9)(x);F._initializePromise||(F._initializePromise=F._storageCache.loadFromStorage().then(()=>{F._isInitializationComplete=!0}))}(Ka),Ka},"PUBLIC").setMultipleInstances(!0)),(0,be.registerVersion)(Gi,"0.3.11"),(0,be.registerVersion)(Gi,"0.3.11","esm2017")}();const pi="/firebase-messaging-sw.js",ds="/firebase-cloud-messaging-push-scope",er="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ps="google.c.a.c_id",ss="google.c.a.c_l",ho="google.c.a.ts",os="google.c.a.e";var Ci=(()=>{return(x=Ci||(Ci={})).PUSH_RECEIVED="push-received",x.NOTIFICATION_CLICKED="notification-clicked",Ci;var x})();function Xi(x){const F=new Uint8Array(x);return btoa(String.fromCharCode(...F)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Bi(x){const q=(x+"=".repeat((4-x.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ye=atob(q),Ze=new Uint8Array(ye.length);for(let vt=0;vt<ye.length;++vt)Ze[vt]=ye.charCodeAt(vt);return Ze}const Gr="fcm_token_details_db",ks="fcm_token_object_Store";function Vo(x){return Fs.apply(this,arguments)}function Fs(){return Fs=(0,H.Z)(function*(x){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(vt=>vt.name).includes(Gr))return null;let F=null;return(yield(0,ce.X3)(Gr,5,{upgrade:(ye=(0,H.Z)(function*(Ze,vt,Bt,dn){var $n;if(vt<2||!Ze.objectStoreNames.contains(ks))return;const xn=dn.objectStore(ks),Er=yield xn.index("fcmSenderId").get(x);if(yield xn.clear(),Er)if(2===vt){const Hn=Er;if(!Hn.auth||!Hn.p256dh||!Hn.endpoint)return;F={token:Hn.fcmToken,createTime:null!==($n=Hn.createTime)&&void 0!==$n?$n:Date.now(),subscriptionOptions:{auth:Hn.auth,p256dh:Hn.p256dh,endpoint:Hn.endpoint,swScope:Hn.swScope,vapidKey:"string"==typeof Hn.vapidKey?Hn.vapidKey:Xi(Hn.vapidKey)}}}else if(3===vt){const Hn=Er;F={token:Hn.fcmToken,createTime:Hn.createTime,subscriptionOptions:{auth:Xi(Hn.auth),p256dh:Xi(Hn.p256dh),endpoint:Hn.endpoint,swScope:Hn.swScope,vapidKey:Xi(Hn.vapidKey)}}}else if(4===vt){const Hn=Er;F={token:Hn.fcmToken,createTime:Hn.createTime,subscriptionOptions:{auth:Xi(Hn.auth),p256dh:Xi(Hn.p256dh),endpoint:Hn.endpoint,swScope:Hn.swScope,vapidKey:Xi(Hn.vapidKey)}}}}),function(vt,Bt,dn,$n){return ye.apply(this,arguments)})})).close(),yield(0,ce.Lj)(Gr),yield(0,ce.Lj)("fcm_vapid_details_db"),yield(0,ce.Lj)("undefined"),Or(F)?F:null;var ye}),Fs.apply(this,arguments)}function Or(x){if(!x||!x.subscriptionOptions)return!1;const{subscriptionOptions:F}=x;return"number"==typeof x.createTime&&x.createTime>0&&"string"==typeof x.token&&x.token.length>0&&"string"==typeof F.auth&&F.auth.length>0&&"string"==typeof F.p256dh&&F.p256dh.length>0&&"string"==typeof F.endpoint&&F.endpoint.length>0&&"string"==typeof F.swScope&&F.swScope.length>0&&"string"==typeof F.vapidKey&&F.vapidKey.length>0}const ui="firebase-messaging-store";let ni=null;function ji(){return ni||(ni=(0,ce.X3)("firebase-messaging-database",1,{upgrade:(x,F)=>{0===F&&x.createObjectStore(ui)}})),ni}function _i(x){return gi.apply(this,arguments)}function gi(){return(gi=(0,H.Z)(function*(x){const F=Ti(x),ye=yield(yield ji()).transaction(ui).objectStore(ui).get(F);if(ye)return ye;{const Ze=yield Vo(x.appConfig.senderId);if(Ze)return yield rr(x,Ze),Ze}})).apply(this,arguments)}function rr(x,F){return no.apply(this,arguments)}function no(){return(no=(0,H.Z)(function*(x,F){const q=Ti(x),Ze=(yield ji()).transaction(ui,"readwrite");return yield Ze.objectStore(ui).put(F,q),yield Ze.done,F})).apply(this,arguments)}function as(x){return To.apply(this,arguments)}function To(){return(To=(0,H.Z)(function*(x){const F=Ti(x),ye=(yield ji()).transaction(ui,"readwrite");yield ye.objectStore(ui).delete(F),yield ye.done})).apply(this,arguments)}function Ti({appConfig:x}){return x.appId}const li=new me.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Rn(x,F){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,H.Z)(function*(x,F){var q;const ye=yield hs(x),Ze=Lt(F),vt={method:"POST",headers:ye,body:JSON.stringify(Ze)};let Bt;try{Bt=yield(yield fetch(Oi(x.appConfig),vt)).json()}catch(dn){throw li.create("token-subscribe-failed",{errorInfo:null===(q=dn)||void 0===q?void 0:q.toString()})}if(Bt.error)throw li.create("token-subscribe-failed",{errorInfo:Bt.error.message});if(!Bt.token)throw li.create("token-subscribe-no-token");return Bt.token})).apply(this,arguments)}function Uo(x,F){return ro.apply(this,arguments)}function ro(){return(ro=(0,H.Z)(function*(x,F){var q;const ye=yield hs(x),Ze=Lt(F.subscriptionOptions),vt={method:"PATCH",headers:ye,body:JSON.stringify(Ze)};let Bt;try{Bt=yield(yield fetch(`${Oi(x.appConfig)}/${F.token}`,vt)).json()}catch(dn){throw li.create("token-update-failed",{errorInfo:null===(q=dn)||void 0===q?void 0:q.toString()})}if(Bt.error)throw li.create("token-update-failed",{errorInfo:Bt.error.message});if(!Bt.token)throw li.create("token-update-no-token");return Bt.token})).apply(this,arguments)}function Ei(x,F){return ii.apply(this,arguments)}function ii(){return(ii=(0,H.Z)(function*(x,F){var q;const Ze={method:"DELETE",headers:yield hs(x)};try{const Bt=yield(yield fetch(`${Oi(x.appConfig)}/${F}`,Ze)).json();if(Bt.error)throw li.create("token-unsubscribe-failed",{errorInfo:Bt.error.message})}catch(vt){throw li.create("token-unsubscribe-failed",{errorInfo:null===(q=vt)||void 0===q?void 0:q.toString()})}})).apply(this,arguments)}function Oi({projectId:x}){return`https://fcmregistrations.googleapis.com/v1/projects/${x}/registrations`}function hs(x){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,H.Z)(function*({appConfig:x,installations:F}){const q=yield F.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x.apiKey,"x-goog-firebase-installations-auth":`FIS ${q}`})})).apply(this,arguments)}function Lt({p256dh:x,auth:F,endpoint:q,vapidKey:ye}){const Ze={web:{endpoint:q,auth:F,p256dh:x}};return ye!==er&&(Ze.web.applicationPubKey=ye),Ze}const tr=6048e5;function Yo(x){return po.apply(this,arguments)}function po(){return(po=(0,H.Z)(function*(x){const F=yield go(x.swRegistration,x.vapidKey),q={vapidKey:x.vapidKey,swScope:x.swRegistration.scope,endpoint:F.endpoint,auth:Xi(F.getKey("auth")),p256dh:Xi(F.getKey("p256dh"))},ye=yield _i(x.firebaseDependencies);if(ye){if(L(ye.subscriptionOptions,q))return Date.now()>=ye.createTime+tr?qs(x,{token:ye.token,createTime:Date.now(),subscriptionOptions:q}):ye.token;try{yield Ei(x.firebaseDependencies,ye.token)}catch(Ze){console.warn(Ze)}return Zs(x.firebaseDependencies,q)}return Zs(x.firebaseDependencies,q)})).apply(this,arguments)}function qr(x){return fs.apply(this,arguments)}function fs(){return(fs=(0,H.Z)(function*(x){const F=yield _i(x.firebaseDependencies);F&&(yield Ei(x.firebaseDependencies,F.token),yield as(x.firebaseDependencies));const q=yield x.swRegistration.pushManager.getSubscription();return!q||q.unsubscribe()})).apply(this,arguments)}function qs(x,F){return wi.apply(this,arguments)}function wi(){return(wi=(0,H.Z)(function*(x,F){try{const q=yield Uo(x.firebaseDependencies,F),ye=Object.assign(Object.assign({},F),{token:q,createTime:Date.now()});return yield rr(x.firebaseDependencies,ye),q}catch(q){throw yield qr(x),q}})).apply(this,arguments)}function Zs(x,F){return ci.apply(this,arguments)}function ci(){return(ci=(0,H.Z)(function*(x,F){const ye={token:yield Rn(x,F),createTime:Date.now(),subscriptionOptions:F};return yield rr(x,ye),ye.token})).apply(this,arguments)}function go(x,F){return mo.apply(this,arguments)}function mo(){return(mo=(0,H.Z)(function*(x,F){return(yield x.pushManager.getSubscription())||x.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Bi(F)})})).apply(this,arguments)}function L(x,F){return F.vapidKey===x.vapidKey&&F.endpoint===x.endpoint&&F.auth===x.auth&&F.p256dh===x.p256dh}function O(x){const F={from:x.from,collapseKey:x.collapse_key,messageId:x.fcmMessageId};return function A(x,F){if(!F.notification)return;x.notification={};const q=F.notification.title;q&&(x.notification.title=q);const ye=F.notification.body;ye&&(x.notification.body=ye);const Ze=F.notification.image;Ze&&(x.notification.image=Ze)}(F,x),function Q(x,F){!F.data||(x.data=F.data)}(F,x),function ht(x,F){var q,ye,Ze,vt,Bt;if(!(F.fcmOptions||null!==(q=F.notification)&&void 0!==q&&q.click_action))return;x.fcmOptions={};const dn=null!==(Ze=null===(ye=F.fcmOptions)||void 0===ye?void 0:ye.link)&&void 0!==Ze?Ze:null===(vt=F.notification)||void 0===vt?void 0:vt.click_action;dn&&(x.fcmOptions.link=dn);const $n=null===(Bt=F.fcmOptions)||void 0===Bt?void 0:Bt.analytics_label;$n&&(x.fcmOptions.analyticsLabel=$n)}(F,x),F}function hn(x){return"object"==typeof x&&!!x&&Ps in x}function yr(x,F){const q=[];for(let ye=0;ye<x.length;ye++)q.push(x.charAt(ye)),ye<F.length&&q.push(F.charAt(ye));return q.join("")}function es(x){return li.create("missing-app-config-values",{valueName:x})}yr("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),yr("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ri{constructor(F,q,ye){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ze=function Wi(x){if(!x||!x.options)throw es("App Configuration Object");if(!x.name)throw es("App Name");const F=["projectId","apiKey","appId","messagingSenderId"],{options:q}=x;for(const ye of F)if(!q[ye])throw es(ye);return{appName:x.name,projectId:q.projectId,apiKey:q.apiKey,appId:q.appId,senderId:q.messagingSenderId}}(F);this.firebaseDependencies={app:F,appConfig:Ze,installations:q,analyticsProvider:ye}}_delete(){return Promise.resolve()}}function io(x){return ps.apply(this,arguments)}function ps(){return(ps=(0,H.Z)(function*(x){var F;try{x.swRegistration=yield navigator.serviceWorker.register(pi,{scope:ds}),x.swRegistration.update().catch(()=>{})}catch(q){throw li.create("failed-service-worker-registration",{browserErrorMessage:null===(F=q)||void 0===F?void 0:F.message})}})).apply(this,arguments)}function Ys(x,F){return So.apply(this,arguments)}function So(){return(So=(0,H.Z)(function*(x,F){if(!F&&!x.swRegistration&&(yield io(x)),F||!x.swRegistration){if(!(F instanceof ServiceWorkerRegistration))throw li.create("invalid-sw-registration");x.swRegistration=F}})).apply(this,arguments)}function oa(x,F){return yo.apply(this,arguments)}function yo(){return(yo=(0,H.Z)(function*(x,F){F?x.vapidKey=F:x.vapidKey||(x.vapidKey=er)})).apply(this,arguments)}function Ao(){return(Ao=(0,H.Z)(function*(x,F){if(!navigator)throw li.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw li.create("permission-blocked");return yield oa(x,F?.vapidKey),yield Ys(x,F?.serviceWorkerRegistration),Yo(x)})).apply(this,arguments)}function so(x,F,q){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,H.Z)(function*(x,F,q){const ye=Qo(F);(yield x.firebaseDependencies.analyticsProvider.get()).logEvent(ye,{message_id:q[Ps],message_name:q[ss],message_time:q[ho],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Qo(x){switch(x){case Ci.NOTIFICATION_CLICKED:return"notification_open";case Ci.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function G(){return(G=(0,H.Z)(function*(x,F){const q=F.data;if(!q.isFirebaseMessaging)return;x.onMessageHandler&&q.messageType===Ci.PUSH_RECEIVED&&("function"==typeof x.onMessageHandler?x.onMessageHandler(O(q)):x.onMessageHandler.next(O(q)));const ye=q.data;hn(ye)&&"1"===ye[os]&&(yield so(x,q.messageType,ye))})).apply(this,arguments)}const R="@firebase/messaging",Y="0.9.16",we=x=>{const F=new ri(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),x.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",q=>function S(x,F){return G.apply(this,arguments)}(F,q)),F},pt=x=>{const F=x.getProvider("messaging").getImmediate();return{getToken:ye=>function ma(x,F){return Ao.apply(this,arguments)}(F,ye)}};function wn(){return vr.apply(this,arguments)}function vr(){return(vr=(0,H.Z)(function*(){try{yield(0,me.eu)()}catch{return!1}return typeof window<"u"&&(0,me.hl)()&&(0,me.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function wt(){(0,be._registerComponent)(new Fe.wA("messaging",we,"PUBLIC")),(0,be._registerComponent)(new Fe.wA("messaging-internal",pt,"PRIVATE")),(0,be.registerVersion)(R,Y),(0,be.registerVersion)(R,Y,"esm2017")}();const Wr="analytics",Ts="firebase_id",xo="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Wt="https://www.googletagmanager.com/gtag/js",ir=new xe.Yd("@firebase/analytics");function vo(x){return Promise.all(x.map(F=>F.catch(q=>q)))}function ya(x,F){const q=document.createElement("script");q.src=`${Wt}?l=${x}&id=${F}`,q.async=!0,document.head.appendChild(q)}function Gn(x,F,q,ye,Ze,vt){return za.apply(this,arguments)}function za(){return(za=(0,H.Z)(function*(x,F,q,ye,Ze,vt){const Bt=ye[Ze];try{if(Bt)yield F[Bt];else{const $n=(yield vo(q)).find(xn=>xn.measurementId===Ze);$n&&(yield F[$n.appId])}}catch(dn){ir.error(dn)}x("config",Ze,vt)})).apply(this,arguments)}function rn(x,F,q,ye,Ze){return _t.apply(this,arguments)}function _t(){return(_t=(0,H.Z)(function*(x,F,q,ye,Ze){try{let vt=[];if(Ze&&Ze.send_to){let Bt=Ze.send_to;Array.isArray(Bt)||(Bt=[Bt]);const dn=yield vo(q);for(const $n of Bt){const xn=dn.find(Hn=>Hn.measurementId===$n),Er=xn&&F[xn.appId];if(!Er){vt=[];break}vt.push(Er)}}0===vt.length&&(vt=Object.values(F)),yield Promise.all(vt),x("event",ye,Ze||{})}catch(vt){ir.error(vt)}})).apply(this,arguments)}function aa(){const x=window.document.getElementsByTagName("script");for(const F of Object.values(x))if(F.src&&F.src.includes(Wt))return F;return null}const Di=new me.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),la=new class va{constructor(F={},q=1e3){this.throttleMetadata=F,this.intervalMillis=q}getThrottleMetadata(F){return this.throttleMetadata[F]}setThrottleMetadata(F,q){this.throttleMetadata[F]=q}deleteThrottleMetadata(F){delete this.throttleMetadata[F]}};function Ta(x){return new Headers({Accept:"application/json","x-goog-api-key":x})}function Sa(x){return mi.apply(this,arguments)}function mi(){return(mi=(0,H.Z)(function*(x){var F;const{appId:q,apiKey:ye}=x,Ze={method:"GET",headers:Ta(ye)},vt=xo.replace("{app-id}",q),Bt=yield fetch(vt,Ze);if(200!==Bt.status&&304!==Bt.status){let dn="";try{const $n=yield Bt.json();null!==(F=$n.error)&&void 0!==F&&F.message&&(dn=$n.error.message)}catch{}throw Di.create("config-fetch-failed",{httpStatus:Bt.status,responseMessage:dn})}return Bt.json()})).apply(this,arguments)}function _a(x){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,H.Z)(function*(x,F=la,q){const{appId:ye,apiKey:Ze,measurementId:vt}=x.options;if(!ye)throw Di.create("no-app-id");if(!Ze){if(vt)return{measurementId:vt,appId:ye};throw Di.create("no-api-key")}const Bt=F.getThrottleMetadata(ye)||{backoffCount:0,throttleEndTimeMillis:Date.now()},dn=new Ro;return setTimeout((0,H.Z)(function*(){dn.abort()}),void 0!==q?q:6e4),No({appId:ye,apiKey:Ze,measurementId:vt},Bt,dn,F)})).apply(this,arguments)}function No(x,F,q){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,H.Z)(function*(x,{throttleEndTimeMillis:F,backoffCount:q},ye,Ze=la){var vt,Bt;const{appId:dn,measurementId:$n}=x;try{yield Lr(ye,F)}catch(xn){if($n)return ir.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${$n} provided in the "measurementId" field in the local Firebase config. [${null===(vt=xn)||void 0===vt?void 0:vt.message}]`),{appId:dn,measurementId:$n};throw xn}try{const xn=yield Sa(x);return Ze.deleteThrottleMetadata(dn),xn}catch(xn){const Er=xn;if(!Ln(Er)){if(Ze.deleteThrottleMetadata(dn),$n)return ir.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${$n} provided in the "measurementId" field in the local Firebase config. [${Er?.message}]`),{appId:dn,measurementId:$n};throw xn}const Hn=503===Number(null===(Bt=Er?.customData)||void 0===Bt?void 0:Bt.httpStatus)?(0,me.$s)(q,Ze.intervalMillis,30):(0,me.$s)(q,Ze.intervalMillis),ls={throttleEndTimeMillis:Date.now()+Hn,backoffCount:q+1};return Ze.setThrottleMetadata(dn,ls),ir.debug(`Calling attemptFetch again in ${Hn} millis`),No(x,ls,ye,Ze)}})).apply(this,arguments)}function Lr(x,F){return new Promise((q,ye)=>{const Ze=Math.max(F-Date.now(),0),vt=setTimeout(q,Ze);x.addEventListener(()=>{clearTimeout(vt),ye(Di.create("fetch-throttle",{throttleEndTimeMillis:F}))})})}function Ln(x){if(!(x instanceof me.ZR&&x.customData))return!1;const F=Number(x.customData.httpStatus);return 429===F||500===F||503===F||504===F}class Ro{constructor(){this.listeners=[]}addEventListener(F){this.listeners.push(F)}abort(){this.listeners.forEach(F=>F())}}let pr,ca;function Zr(){return(Zr=(0,H.Z)(function*(x,F,q,ye,Ze){if(Ze&&Ze.global)x("event",q,ye);else{const vt=yield F;x("event",q,Object.assign(Object.assign({},ye),{send_to:vt}))}})).apply(this,arguments)}function $o(x){ca=x}function us(x){pr=x}function yi(){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,H.Z)(function*(){var x;if(!(0,me.hl)())return ir.warn(Di.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,me.eu)()}catch(F){return ir.warn(Di.create("indexeddb-unavailable",{errorInfo:null===(x=F)||void 0===x?void 0:x.toString()}).message),!1}return!0})).apply(this,arguments)}function gs(){return(gs=(0,H.Z)(function*(x,F,q,ye,Ze,vt,Bt){var dn;const $n=_a(x);$n.then(Ss=>{q[Ss.measurementId]=Ss.appId,x.options.measurementId&&Ss.measurementId!==x.options.measurementId&&ir.warn(`The measurement ID in the local Firebase config (${x.options.measurementId}) does not match the measurement ID fetched from the server (${Ss.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ss=>ir.error(Ss)),F.push($n);const xn=yi().then(Ss=>{if(Ss)return ye.getId()}),[Er,Hn]=yield Promise.all([$n,xn]);aa()||ya(vt,Er.measurementId),ca&&(Ze("consent","default",ca),$o(void 0)),Ze("js",new Date);const ls=null!==(dn=Bt?.config)&&void 0!==dn?dn:{};return ls.origin="firebase",ls.update=!0,null!=Hn&&(ls[Ts]=Hn),Ze("config",Er.measurementId,ls),pr&&(Ze("set",pr),us(void 0)),Er.measurementId})).apply(this,arguments)}class Xo{constructor(F){this.app=F}_delete(){return delete st[this.app.options.appId],Promise.resolve()}}let st={},Eo=[];const $i={};let ms,ys,Ea="dataLayer",ao=!1;function Wa(x,F,q){!function Au(){const x=[];if((0,me.ru)()&&x.push("This is a browser extension environment."),(0,me.zI)()||x.push("Cookies are not available."),x.length>0){const F=x.map((ye,Ze)=>`(${Ze+1}) ${ye}`).join(" "),q=Di.create("invalid-analytics-context",{errorInfo:F});ir.warn(q.message)}}();const ye=x.options.appId;if(!ye)throw Di.create("no-app-id");if(!x.options.apiKey){if(!x.options.measurementId)throw Di.create("no-api-key");ir.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${x.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=st[ye])throw Di.create("already-exists",{id:ye});if(!ao){!function In(x){let F=[];Array.isArray(window[x])?F=window[x]:window[x]=F}(Ea);const{wrappedGtag:vt,gtagCore:Bt}=function xr(x,F,q,ye,Ze){let vt=function(...Bt){window[ye].push(arguments)};return window[Ze]&&"function"==typeof window[Ze]&&(vt=window[Ze]),window[Ze]=function jt(x,F,q,ye){function vt(){return(vt=(0,H.Z)(function*(Bt,dn,$n){try{"event"===Bt?yield rn(x,F,q,dn,$n):"config"===Bt?yield Gn(x,F,q,ye,dn,$n):"consent"===Bt?x("consent","update",$n):x("set",dn)}catch(xn){ir.error(xn)}})).apply(this,arguments)}return function Ze(Bt,dn,$n){return vt.apply(this,arguments)}}(vt,x,F,q),{gtagCore:vt,wrappedGtag:window[Ze]}}(st,Eo,$i,Ea,"gtag");ys=vt,ms=Bt,ao=!0}return st[ye]=function La(x,F,q,ye,Ze,vt,Bt){return gs.apply(this,arguments)}(x,Eo,$i,F,ms,Ea,q),new Xo(x)}function Mu(){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,H.Z)(function*(){if((0,me.ru)()||!(0,me.zI)()||!(0,me.hl)())return!1;try{return yield(0,me.eu)()}catch{return!1}})).apply(this,arguments)}const Ce="@firebase/analytics";!function qe(){(0,be._registerComponent)(new Fe.wA(Wr,(F,{options:q})=>Wa(F.getProvider("app").getImmediate(),F.getProvider("installations-internal").getImmediate(),q),"PUBLIC")),(0,be._registerComponent)(new Fe.wA("analytics-internal",function x(F){try{const q=F.getProvider(Wr).getImmediate();return{logEvent:(ye,Ze,vt)=>function W(x,F,q,ye){x=(0,me.m9)(x),function Jo(x,F,q,ye,Ze){return Zr.apply(this,arguments)}(ys,st[x.app.options.appId],F,q,ye).catch(Ze=>ir.error(Ze))}(q,ye,Ze,vt)}}catch(q){throw Di.create("interop-component-reg-failed",{reason:q})}},"PRIVATE")),(0,be.registerVersion)(Ce,"0.8.0"),(0,be.registerVersion)(Ce,"0.8.0","esm2017")}();var bt=V(4408),Zt=V(7565);const nr=new class zn extends Zt.v{}(class an extends bt.o{constructor(F,q){super(F,q),this.scheduler=F,this.work=q}schedule(F,q=0){return q>0?super.schedule(F,q):(this.delay=q,this.state=F,this.scheduler.flush(this),this)}execute(F,q){return q>0||this.closed?super.execute(F,q):this._execute(F,q)}requestAsyncId(F,q,ye=0){return null!=ye&&ye>0||null==ye&&this.delay>0?super.requestAsyncId(F,q,ye):F.flush(this)}});var Wn=V(4986),Tr=V(8505),Sr=V(9468),hi=V(5363);const Vr=new c.GfV("7.4.1"),Si="__angularfire_symbol__analyticsIsSupportedValue",E="__angularfire_symbol__analyticsIsSupported",w="__angularfire_symbol__remoteConfigIsSupportedValue",m="__angularfire_symbol__remoteConfigIsSupported",T="__angularfire_symbol__messagingIsSupportedValue",P="__angularfire_symbol__messagingIsSupported";function qt(x,F,q){if(F){if(1===F.length)return F[0];const vt=F.filter(Bt=>Bt.app===q);if(1===vt.length)return vt[0]}return q.container.getProvider(x).getImmediate({optional:!0})}globalThis[E]||(globalThis[E]=Mu().then(x=>globalThis[Si]=x).catch(()=>globalThis[Si]=!1)),globalThis[P]||(globalThis[P]=wn().then(x=>globalThis[T]=x).catch(()=>globalThis[T]=!1)),globalThis[m]||(globalThis[m]=Ji().then(x=>globalThis[w]=x).catch(()=>globalThis[w]=!1));const Kn=(x,F)=>{const q=F?[F]:(0,k.C6)(),ye=[];return q.forEach(Ze=>{Ze.container.getProvider(x).instances.forEach(Bt=>{ye.includes(Bt)||ye.push(Bt)})}),ye};function Et(){}class Xt{constructor(F,q=nr){this.zone=F,this.delegate=q}now(){return this.delegate.now()}schedule(F,q,ye){const Ze=this.zone;return this.delegate.schedule(function(Bt){Ze.runGuarded(()=>{F.apply(this,[Bt])})},q,ye)}}class Dn{constructor(F){this.zone=F,this.task=null}call(F,q){const ye=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Et,{},Et,Et)),q.pipe((0,Tr.b)({next:ye,complete:ye,error:ye})).subscribe(F).add(ye)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let qn=(()=>{class x{constructor(q){this.ngZone=q,this.outsideAngular=q.runOutsideAngular(()=>new Xt(Zone.current)),this.insideAngular=q.run(()=>new Xt(Zone.current,Wn.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return x.\u0275fac=function(q){return new(q||x)(c.LFG(c.R0b))},x.\u0275prov=c.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function _r(){const x=globalThis.\u0275AngularFireScheduler;if(!x)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return x}function Go(x){return _r(),function _s(x){return function(q){return(q=q.lift(new Dn(x.ngZone))).pipe((0,Sr.R)(x.outsideAngular),(0,hi.Q)(x.insideAngular))}}(_r())(x)}},7143:(nn,it,V)=>{V.d(it,{$:()=>Oi,A:()=>fe,B:()=>ft,G:()=>Vi,H:()=>Xr,J:()=>rs,L:()=>Mt,M:()=>Cs,N:()=>Ws,P:()=>Wn,Q:()=>Ps,R:()=>_,T:()=>ss,U:()=>er,V:()=>Ci,W:()=>Xi,X:()=>Vo,Y:()=>Ks,Z:()=>Rn,_:()=>Uo,a:()=>Bo,a0:()=>Yo,a1:()=>qr,a2:()=>qs,a3:()=>Zs,a4:()=>go,a5:()=>L,a6:()=>A,a7:()=>Q,a8:()=>hn,a9:()=>yr,aA:()=>Ss,aB:()=>$n,aC:()=>js,aD:()=>ki,aE:()=>gn,aI:()=>Ta,aL:()=>os,aa:()=>io,ab:()=>Ys,ac:()=>oa,af:()=>so,ag:()=>Qo,ah:()=>S,ak:()=>ui,al:()=>Dr,an:()=>Wt,ao:()=>za,ap:()=>se,aq:()=>Qe,ar:()=>de,as:()=>_n,at:()=>At,au:()=>ja,av:()=>Ua,aw:()=>ae,ax:()=>Pe,ay:()=>ke,az:()=>cn,b:()=>Di,c:()=>T,d:()=>_e,e:()=>K,f:()=>_s,g:()=>ye,h:()=>x,i:()=>Ho,j:()=>Bt,k:()=>hc,l:()=>Re,m:()=>xa,o:()=>ce,r:()=>bt,s:()=>te,u:()=>nr});var c=V(5861),k=V(2090),H=V(9681),be=V(655),me=V(1877),Fe=V(4859);const ce={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},fe={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ft=function Oe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},tt=function yt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ht=new k.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ye=new me.Yd("@firebase/auth");function St(I,...f){Ye.logLevel<=me.in.ERROR&&Ye.error(`Auth (${H.SDK_VERSION}): ${I}`,...f)}function At(I,...f){throw xt(I,...f)}function ae(I,...f){return xt(I,...f)}function Ne(I,f,p){const C=Object.assign(Object.assign({},tt()),{[f]:p});return new k.LL("auth","Firebase",C).create(f,{appName:I.name})}function Je(I,f,p){if(!(f instanceof p))throw p.name!==f.constructor.name&&At(I,"argument-error"),Ne(I,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function xt(I,...f){if("string"!=typeof I){const p=f[0],C=[...f.slice(1)];return C[0]&&(C[0].appName=I.name),I._errorFactory.create(p,...C)}return Ht.create(I,...f)}function Pe(I,f,...p){if(!I)throw xt(f,...p)}function He(I){const f="INTERNAL ASSERTION FAILED: "+I;throw St(f),new Error(f)}function Qe(I,f){I||He(f)}const Se=new Map;function ke(I){Qe(I instanceof Function,"Expected a class definition");let f=Se.get(I);return f?(Qe(f instanceof I,"Instance stored in cache mismatched with class"),f):(f=new I,Se.set(I,f),f)}function Ct(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function Ot(){return"http:"===Ft()||"https:"===Ft()}function Ft(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class Dt{constructor(f,p){this.shortDelay=f,this.longDelay=p,Qe(p>f,"Short delay should be less than long delay!"),this.isMobile=(0,k.uI)()||(0,k.b$)()}get(){return function Qt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ot()||(0,k.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function un(I,f){Qe(I.emulator,"Emulator should always be set here");const{url:p}=I.emulator;return f?`${p}${f.startsWith("/")?f.slice(1):f}`:p}class pn{static initialize(f,p,C){this.fetchImpl=f,p&&(this.headersImpl=p),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void He("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void He("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void He("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const rt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},It=new Dt(3e4,6e4);function Me(I,f){return I.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:I.tenantId}):f}function ze(I,f,p,C){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,c.Z)(function*(I,f,p,C,Z={}){return vn(I,Z,(0,c.Z)(function*(){let ie={},et={};C&&("GET"===f?et=C:ie={body:JSON.stringify(C)});const Nt=(0,k.xO)(Object.assign({key:I.config.apiKey},et)).slice(1),mn=yield I._getAdditionalHeaders();return mn["Content-Type"]="application/json",I.languageCode&&(mn["X-Firebase-Locale"]=I.languageCode),pn.fetch()(hr(I,I.config.apiHost,p,Nt),Object.assign({method:f,headers:mn,referrerPolicy:"no-referrer"},ie))}))})).apply(this,arguments)}function vn(I,f,p){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,c.Z)(function*(I,f,p){I._canInitEmulator=!1;const C=Object.assign(Object.assign({},rt),f);try{const Z=new en(I),ie=yield Promise.race([p(),Z.promise]);Z.clearNetworkTimeout();const et=yield ie.json();if("needConfirmation"in et)throw On(I,"account-exists-with-different-credential",et);if(ie.ok&&!("errorMessage"in et))return et;{const Nt=ie.ok?et.errorMessage:et.error.message,[mn,Un]=Nt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===mn)throw On(I,"credential-already-in-use",et);if("EMAIL_EXISTS"===mn)throw On(I,"email-already-in-use",et);if("USER_DISABLED"===mn)throw On(I,"user-disabled",et);const gr=C[mn]||mn.toLowerCase().replace(/[_\s]+/g,"-");if(Un)throw Ne(I,gr,Un);At(I,gr)}}catch(Z){if(Z instanceof k.ZR)throw Z;At(I,"network-request-failed")}})).apply(this,arguments)}function Bn(I,f,p,C){return dr.apply(this,arguments)}function dr(){return(dr=(0,c.Z)(function*(I,f,p,C,Z={}){const ie=yield ze(I,f,p,C,Z);return"mfaPendingCredential"in ie&&At(I,"multi-factor-auth-required",{_serverResponse:ie}),ie})).apply(this,arguments)}function hr(I,f,p,C){const Z=`${f}${p}?${C}`;return I.config.emulator?un(I.config,Z):`${I.config.apiScheme}://${Z}`}class en{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((p,C)=>{this.timer=setTimeout(()=>C(ae(this.auth,"network-request-failed")),It.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function On(I,f,p){const C={appName:I.name};p.email&&(C.email=p.email),p.phoneNumber&&(C.phoneNumber=p.phoneNumber);const Z=ae(I,f,C);return Z.customData._tokenResponse=p,Z}function or(){return(or=(0,c.Z)(function*(I,f){return ze(I,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Ut(I,f){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,c.Z)(function*(I,f){return ze(I,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function bn(I,f){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,c.Z)(function*(I,f){return ze(I,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function br(I){if(I)try{const f=new Date(Number(I));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function ot(){return(ot=(0,c.Z)(function*(I,f=!1){const p=(0,k.m9)(I),C=yield p.getIdToken(f),Z=pe(C);Pe(Z&&Z.exp&&Z.auth_time&&Z.iat,p.auth,"internal-error");const ie="object"==typeof Z.firebase?Z.firebase:void 0,et=ie?.sign_in_provider;return{claims:Z,token:C,authTime:br(Ee(Z.auth_time)),issuedAtTime:br(Ee(Z.iat)),expirationTime:br(Ee(Z.exp)),signInProvider:et||null,signInSecondFactor:ie?.sign_in_second_factor||null}})).apply(this,arguments)}function Ee(I){return 1e3*Number(I)}function pe(I){var f;const[p,C,Z]=I.split(".");if(void 0===p||void 0===C||void 0===Z)return St("JWT malformed, contained fewer than 3 sections"),null;try{const ie=(0,k.tV)(C);return ie?JSON.parse(ie):(St("Failed to decode base64 JWT payload"),null)}catch(ie){return St("Caught error parsing JWT payload as JSON",null===(f=ie)||void 0===f?void 0:f.toString()),null}}function dt(I,f){return fn.apply(this,arguments)}function fn(){return(fn=(0,c.Z)(function*(I,f,p=!1){if(p)return f;try{return yield f}catch(C){throw C instanceof k.ZR&&Cn(C)&&I.auth.currentUser===I&&(yield I.auth.signOut()),C}})).apply(this,arguments)}function Cn({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}class Yn{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var p;if(f){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const Z=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,Z)}}schedule(f=!1){var p=this;if(!this.isRunning)return;const C=this.getInterval(f);this.timerId=setTimeout((0,c.Z)(function*(){yield p.iteration()}),C)}iteration(){var f=this;return(0,c.Z)(function*(){var p;try{yield f.user.getIdToken(!0)}catch(C){return void("auth/network-request-failed"===(null===(p=C)||void 0===p?void 0:p.code)&&f.schedule(!0))}f.schedule()})()}}class zt{constructor(f,p){this.createdAt=f,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=br(this.lastLoginAt),this.creationTime=br(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ar(I){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,c.Z)(function*(I){var f;const p=I.auth,C=yield I.getIdToken(),Z=yield dt(I,bn(p,{idToken:C}));Pe(Z?.users.length,p,"internal-error");const ie=Z.users[0];I._notifyReloadListener(ie);const et=null!==(f=ie.providerUserInfo)&&void 0!==f&&f.length?oe(ie.providerUserInfo):[],Nt=De(I.providerData,et),gr=!!I.isAnonymous&&!(I.email&&ie.passwordHash||Nt?.length),Ai={uid:ie.localId,displayName:ie.displayName||null,photoURL:ie.photoUrl||null,email:ie.email||null,emailVerified:ie.emailVerified||!1,phoneNumber:ie.phoneNumber||null,tenantId:ie.tenantId||null,providerData:Nt,metadata:new zt(ie.createdAt,ie.lastLoginAt),isAnonymous:gr};Object.assign(I,Ai)})).apply(this,arguments)}function Sn(){return(Sn=(0,c.Z)(function*(I){const f=(0,k.m9)(I);yield ar(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function De(I,f){return[...I.filter(C=>!f.some(Z=>Z.providerId===C.providerId)),...f]}function oe(I){return I.map(f=>{var{providerId:p}=f,C=(0,be._T)(f,["providerId"]);return{providerId:p,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function Te(){return(Te=(0,c.Z)(function*(I,f){const p=yield vn(I,{},(0,c.Z)(function*(){const C=(0,k.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:Z,apiKey:ie}=I.config,et=hr(I,Z,"/v1/token",`key=${ie}`),Nt=yield I._getAdditionalHeaders();return Nt["Content-Type"]="application/x-www-form-urlencoded",pn.fetch()(et,{method:"POST",headers:Nt,body:C})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class X{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){Pe(f.idToken,"internal-error"),Pe(typeof f.idToken<"u","internal-error"),Pe(typeof f.refreshToken<"u","internal-error");const p="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function lt(I){const f=pe(I);return Pe(f,"internal-error"),Pe(typeof f.exp<"u","internal-error"),Pe(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,p)}getToken(f,p=!1){var C=this;return(0,c.Z)(function*(){return Pe(!C.accessToken||C.refreshToken,f,"user-token-expired"),p||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(f,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,p){var C=this;return(0,c.Z)(function*(){const{accessToken:Z,refreshToken:ie,expiresIn:et}=yield function ge(I,f){return Te.apply(this,arguments)}(f,p);C.updateTokensAndExpiration(Z,ie,Number(et))})()}updateTokensAndExpiration(f,p,C){this.refreshToken=p||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(f,p){const{refreshToken:C,accessToken:Z,expirationTime:ie}=p,et=new X;return C&&(Pe("string"==typeof C,"internal-error",{appName:f}),et.refreshToken=C),Z&&(Pe("string"==typeof Z,"internal-error",{appName:f}),et.accessToken=Z),ie&&(Pe("number"==typeof ie,"internal-error",{appName:f}),et.expirationTime=ie),et}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new X,this.toJSON())}_performRefresh(){return He("not implemented")}}function $(I,f){Pe("string"==typeof I||typeof I>"u","internal-error",{appName:f})}class ee{constructor(f){var{uid:p,auth:C,stsTokenManager:Z}=f,ie=(0,be._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Yn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=C,this.stsTokenManager=Z,this.accessToken=Z.accessToken,this.displayName=ie.displayName||null,this.email=ie.email||null,this.emailVerified=ie.emailVerified||!1,this.phoneNumber=ie.phoneNumber||null,this.photoURL=ie.photoURL||null,this.isAnonymous=ie.isAnonymous||!1,this.tenantId=ie.tenantId||null,this.providerData=ie.providerData?[...ie.providerData]:[],this.metadata=new zt(ie.createdAt||void 0,ie.lastLoginAt||void 0)}getIdToken(f){var p=this;return(0,c.Z)(function*(){const C=yield dt(p,p.stsTokenManager.getToken(p.auth,f));return Pe(C,p.auth,"internal-error"),p.accessToken!==C&&(p.accessToken=C,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),C})()}getIdTokenResult(f){return function Cr(I){return ot.apply(this,arguments)}(this,f)}reload(){return function kr(I){return Sn.apply(this,arguments)}(this)}_assign(f){this!==f&&(Pe(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(p=>Object.assign({},p)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new ee(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,p=!1){var C=this;return(0,c.Z)(function*(){let Z=!1;f.idToken&&f.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(f),Z=!0),p&&(yield ar(C)),yield C.auth._persistUserIfCurrent(C),Z&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var f=this;return(0,c.Z)(function*(){const p=yield f.getIdToken();return yield dt(f,function Nr(I,f){return or.apply(this,arguments)}(f.auth,{idToken:p})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,p){var C,Z,ie,et,Nt,mn,Un,gr;const Ai=null!==(C=p.displayName)&&void 0!==C?C:void 0,$a=null!==(Z=p.email)&&void 0!==Z?Z:void 0,Fi=null!==(ie=p.phoneNumber)&&void 0!==ie?ie:void 0,jr=null!==(et=p.photoURL)&&void 0!==et?et:void 0,Ju=null!==(Nt=p.tenantId)&&void 0!==Nt?Nt:void 0,Pu=null!==(mn=p._redirectEventId)&&void 0!==mn?mn:void 0,Ja=null!==(Un=p.createdAt)&&void 0!==Un?Un:void 0,hh=null!==(gr=p.lastLoginAt)&&void 0!==gr?gr:void 0,{uid:uo,emailVerified:pc,isAnonymous:ku,providerData:Rl,stsTokenManager:Ia}=p;Pe(uo&&Ia,f,"internal-error");const gc=X.fromJSON(this.name,Ia);Pe("string"==typeof uo,f,"internal-error"),$(Ai,f.name),$($a,f.name),Pe("boolean"==typeof pc,f,"internal-error"),Pe("boolean"==typeof ku,f,"internal-error"),$(Fi,f.name),$(jr,f.name),$(Ju,f.name),$(Pu,f.name),$(Ja,f.name),$(hh,f.name);const Na=new ee({uid:uo,auth:f,email:$a,emailVerified:pc,displayName:Ai,isAnonymous:ku,photoURL:jr,phoneNumber:Fi,tenantId:Ju,stsTokenManager:gc,createdAt:Ja,lastLoginAt:hh});return Rl&&Array.isArray(Rl)&&(Na.providerData=Rl.map(od=>Object.assign({},od))),Pu&&(Na._redirectEventId=Pu),Na}static _fromIdTokenResponse(f,p,C=!1){return(0,c.Z)(function*(){const Z=new X;Z.updateFromServerResponse(p);const ie=new ee({uid:p.localId,auth:f,stsTokenManager:Z,isAnonymous:C});return yield ar(ie),ie})()}}const Mt=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(p,C){var Z=this;return(0,c.Z)(function*(){Z.storage[p]=C})()}_get(p){var C=this;return(0,c.Z)(function*(){const Z=C.storage[p];return void 0===Z?null:Z})()}_remove(p){var C=this;return(0,c.Z)(function*(){delete C.storage[p]})()}_addListener(p,C){}_removeListener(p,C){}}return I.type="NONE",I})();function cn(I,f,p){return`firebase:${I}:${f}:${p}`}class jn{constructor(f,p,C){this.persistence=f,this.auth=p,this.userKey=C;const{config:Z,name:ie}=this.auth;this.fullUserKey=cn(this.userKey,Z.apiKey,ie),this.fullPersistenceKey=cn("persistence",Z.apiKey,ie),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,c.Z)(function*(){const p=yield f.persistence._get(f.fullUserKey);return p?ee._fromJSON(f.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var p=this;return(0,c.Z)(function*(){if(p.persistence===f)return;const C=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=f,C?p.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,p,C="authUser"){return(0,c.Z)(function*(){if(!p.length)return new jn(ke(Mt),f,C);const Z=(yield Promise.all(p.map(function(){var Un=(0,c.Z)(function*(gr){if(yield gr._isAvailable())return gr});return function(gr){return Un.apply(this,arguments)}}()))).filter(Un=>Un);let ie=Z[0]||ke(Mt);const et=cn(C,f.config.apiKey,f.name);let Nt=null;for(const Un of p)try{const gr=yield Un._get(et);if(gr){const Ai=ee._fromJSON(f,gr);Un!==ie&&(Nt=Ai),ie=Un;break}}catch{}const mn=Z.filter(Un=>Un._shouldAllowMigration);return ie._shouldAllowMigration&&mn.length?(ie=mn[0],Nt&&(yield ie._set(et,Nt.toJSON())),yield Promise.all(p.map(function(){var Un=(0,c.Z)(function*(gr){if(gr!==ie)try{yield gr._remove(et)}catch{}});return function(gr){return Un.apply(this,arguments)}}())),new jn(ie,f,C)):new jn(ie,f,C)})()}}function $e(I){const f=I.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if($t(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(ve(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Yt(f))return"Blackberry";if(le(f))return"Webos";if(Ie(f))return"Safari";if((f.includes("chrome/")||gt(f))&&!f.includes("edge/"))return"Chrome";if(_n(f))return"Android";{const C=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function ve(I=(0,k.z$)()){return/firefox\//i.test(I)}function Ie(I=(0,k.z$)()){const f=I.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function gt(I=(0,k.z$)()){return/crios\//i.test(I)}function $t(I=(0,k.z$)()){return/iemobile/i.test(I)}function _n(I=(0,k.z$)()){return/android/i.test(I)}function Yt(I=(0,k.z$)()){return/blackberry/i.test(I)}function le(I=(0,k.z$)()){return/webos/i.test(I)}function de(I=(0,k.z$)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function se(I=(0,k.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}function tn(I=(0,k.z$)()){return de(I)||_n(I)||le(I)||Yt(I)||/windows phone/i.test(I)||$t(I)}function An(I,f=[]){let p;switch(I){case"Browser":p=$e((0,k.z$)());break;case"Worker":p=`${$e((0,k.z$)())}-${I}`;break;default:p=I}const C=f.length?f.join(","):"FirebaseCore-web";return`${p}/JsCore/${H.SDK_VERSION}/${C}`}class Rr{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,p){const C=ie=>new Promise((et,Nt)=>{try{et(f(ie))}catch(mn){Nt(mn)}});C.onAbort=p,this.queue.push(C);const Z=this.queue.length-1;return()=>{this.queue[Z]=()=>Promise.resolve()}}runMiddleware(f){var p=this;return(0,c.Z)(function*(){var C;if(p.auth.currentUser===f)return;const Z=[];try{for(const ie of p.queue)yield ie(f),ie.onAbort&&Z.push(ie.onAbort)}catch(ie){Z.reverse();for(const et of Z)try{et()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:null===(C=ie)||void 0===C?void 0:C.message})}})()}}class oi{constructor(f,p,C){this.app=f,this.heartbeatServiceProvider=p,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Li(this),this.idTokenSubscription=new Li(this),this.beforeStateQueue=new Rr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ht,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(f,p){var C=this;return p&&(this._popupRedirectResolver=ke(p)),this._initializationPromise=this.queue((0,c.Z)(function*(){var Z,ie;if(!C._deleted&&(C.persistenceManager=yield jn.create(C,f),!C._deleted)){if(null!==(Z=C._popupRedirectResolver)&&void 0!==Z&&Z._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(p),C.lastNotifiedUid=(null===(ie=C.currentUser)||void 0===ie?void 0:ie.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,c.Z)(function*(){if(f._deleted)return;const p=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||p){if(f.currentUser&&p&&f.currentUser.uid===p.uid)return f._currentUser._assign(p),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(p,!0)}})()}initializeCurrentUser(f){var p=this;return(0,c.Z)(function*(){var C;const Z=yield p.assertedPersistence.getCurrentUser();let ie=Z,et=!1;if(f&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const Nt=null===(C=p.redirectUser)||void 0===C?void 0:C._redirectEventId,mn=ie?._redirectEventId,Un=yield p.tryRedirectSignIn(f);(!Nt||Nt===mn)&&Un?.user&&(ie=Un.user,et=!0)}if(!ie)return p.directlySetCurrentUser(null);if(!ie._redirectEventId){if(et)try{yield p.beforeStateQueue.runMiddleware(ie)}catch(Nt){ie=Z,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(Nt))}return ie?p.reloadAndSetCurrentUserOrClear(ie):p.directlySetCurrentUser(null)}return Pe(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===ie._redirectEventId?p.directlySetCurrentUser(ie):p.reloadAndSetCurrentUserOrClear(ie)})()}tryRedirectSignIn(f){var p=this;return(0,c.Z)(function*(){let C=null;try{C=yield p._popupRedirectResolver._completeRedirectFn(p,f,!0)}catch{yield p._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(f){var p=this;return(0,c.Z)(function*(){var C;try{yield ar(f)}catch(Z){if("auth/network-request-failed"!==(null===(C=Z)||void 0===C?void 0:C.code))return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function ln(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var f=this;return(0,c.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var p=this;return(0,c.Z)(function*(){const C=f?(0,k.m9)(f):null;return C&&Pe(C.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(C&&C._clone(p))})()}_updateCurrentUser(f,p=!1){var C=this;return(0,c.Z)(function*(){if(!C._deleted)return f&&Pe(C.tenantId===f.tenantId,C,"tenant-id-mismatch"),p||(yield C.beforeStateQueue.runMiddleware(f)),C.queue((0,c.Z)(function*(){yield C.directlySetCurrentUser(f),C.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,c.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var p=this;return this.queue((0,c.Z)(function*(){yield p.assertedPersistence.setPersistence(ke(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new k.LL("auth","Firebase",f())}onAuthStateChanged(f,p,C){return this.registerStateListener(this.authStateSubscription,f,p,C)}beforeAuthStateChanged(f,p){return this.beforeStateQueue.pushCallback(f,p)}onIdTokenChanged(f,p,C){return this.registerStateListener(this.idTokenSubscription,f,p,C)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,p){var C=this;return(0,c.Z)(function*(){const Z=yield C.getOrInitRedirectPersistenceManager(p);return null===f?Z.removeCurrentUser():Z.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var p=this;return(0,c.Z)(function*(){if(!p.redirectPersistenceManager){const C=f&&ke(f)||p._popupRedirectResolver;Pe(C,p,"argument-error"),p.redirectPersistenceManager=yield jn.create(p,[ke(C._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(f){var p=this;return(0,c.Z)(function*(){var C,Z;return p._isInitialized&&(yield p.queue((0,c.Z)(function*(){}))),(null===(C=p._currentUser)||void 0===C?void 0:C._redirectEventId)===f?p._currentUser:(null===(Z=p.redirectUser)||void 0===Z?void 0:Z._redirectEventId)===f?p.redirectUser:null})()}_persistUserIfCurrent(f){var p=this;return(0,c.Z)(function*(){if(f===p.currentUser)return p.queue((0,c.Z)(function*(){return p.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(p=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,p,C,Z){if(this._deleted)return()=>{};const ie="function"==typeof p?p:p.next.bind(p),et=this._isInitialized?Promise.resolve():this._initializationPromise;return Pe(et,this,"internal-error"),et.then(()=>ie(this.currentUser)),"function"==typeof p?f.addObserver(p,C,Z):f.addObserver(p)}directlySetCurrentUser(f){var p=this;return(0,c.Z)(function*(){p.currentUser&&p.currentUser!==f&&p._currentUser._stopProactiveRefresh(),f&&p.isProactiveRefreshEnabled&&f._startProactiveRefresh(),p.currentUser=f,f?yield p.assertedPersistence.setCurrentUser(f):yield p.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=An(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,c.Z)(function*(){var p;const C={"X-Client-Version":f.clientVersion};f.app.options.appId&&(C["X-Firebase-gmpid"]=f.app.options.appId);const Z=yield null===(p=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();return Z&&(C["X-Firebase-Client"]=Z),C})()}}function gn(I){return(0,k.m9)(I)}class Li{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,k.ne)(p=>this.observer=p)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Vi(I,f,p){const C=gn(I);Pe(C._canInitEmulator,C,"emulator-config-failed"),Pe(/^https?:\/\//.test(f),C,"invalid-emulator-scheme");const Z=!!p?.disableWarnings,ie=ws(f),{host:et,port:Nt}=function Gi(I){const f=ws(I),p=/(\/\/)?([^?#/]+)/.exec(I.substr(f.length));if(!p)return{host:"",port:null};const C=p[2].split("@").pop()||"",Z=/^(\[[^\]]+\])(:|$)/.exec(C);if(Z){const ie=Z[1];return{host:ie,port:Qr(C.substr(ie.length+1))}}{const[ie,et]=C.split(":");return{host:ie,port:Qr(et)}}}(f);C.config.emulator={url:`${ie}//${et}${null===Nt?"":`:${Nt}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:et,port:Nt,protocol:ie.replace(":",""),options:Object.freeze({disableWarnings:Z})}),Z||function Gs(){function I(){const f=document.createElement("p"),p=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}function ws(I){const f=I.indexOf(":");return f<0?"":I.substr(0,f+1)}function Qr(I){if(!I)return null;const f=Number(I);return isNaN(f)?null:f}class Xr{constructor(f,p){this.providerId=f,this.signInMethod=p}toJSON(){return He("not implemented")}_getIdTokenResponse(f){return He("not implemented")}_linkToIdToken(f,p){return He("not implemented")}_getReauthenticationResolver(f){return He("not implemented")}}function fi(I,f){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,c.Z)(function*(I,f){return ze(I,"POST","/v1/accounts:resetPassword",Me(I,f))})).apply(this,arguments)}function Is(I,f){return ur.apply(this,arguments)}function ur(){return(ur=(0,c.Z)(function*(I,f){return ze(I,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function qo(I,f){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,c.Z)(function*(I,f){return ze(I,"POST","/v1/accounts:update",Me(I,f))})).apply(this,arguments)}function Zi(){return(Zi=(0,c.Z)(function*(I,f){return Bn(I,"POST","/v1/accounts:signInWithPassword",Me(I,f))})).apply(this,arguments)}function zi(I,f){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,c.Z)(function*(I,f){return ze(I,"POST","/v1/accounts:sendOobCode",Me(I,f))})).apply(this,arguments)}function Ve(I,f){return nt.apply(this,arguments)}function nt(){return(nt=(0,c.Z)(function*(I,f){return zi(I,f)})).apply(this,arguments)}function Tt(I,f){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,c.Z)(function*(I,f){return zi(I,f)})).apply(this,arguments)}function on(I,f){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,c.Z)(function*(I,f){return zi(I,f)})).apply(this,arguments)}function Hr(I,f){return lr.apply(this,arguments)}function lr(){return(lr=(0,c.Z)(function*(I,f){return zi(I,f)})).apply(this,arguments)}function ns(){return(ns=(0,c.Z)(function*(I,f){return Bn(I,"POST","/v1/accounts:signInWithEmailLink",Me(I,f))})).apply(this,arguments)}function Yi(){return(Yi=(0,c.Z)(function*(I,f){return Bn(I,"POST","/v1/accounts:signInWithEmailLink",Me(I,f))})).apply(this,arguments)}class ei extends Xr{constructor(f,p,C,Z=null){super("password",C),this._email=f,this._password=p,this._tenantId=Z}static _fromEmailAndPassword(f,p){return new ei(f,p,"password")}static _fromEmailAndCode(f,p,C=null){return new ei(f,p,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(f){var p=this;return(0,c.Z)(function*(){switch(p.signInMethod){case"password":return function ts(I,f){return Zi.apply(this,arguments)}(f,{returnSecureToken:!0,email:p._email,password:p._password});case"emailLink":return function fr(I,f){return ns.apply(this,arguments)}(f,{email:p._email,oobCode:p._password});default:At(f,"internal-error")}})()}_linkToIdToken(f,p){var C=this;return(0,c.Z)(function*(){switch(C.signInMethod){case"password":return Is(f,{idToken:p,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function to(I,f){return Yi.apply(this,arguments)}(f,{idToken:p,email:C._email,oobCode:C._password});default:At(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Ns(I,f){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,c.Z)(function*(I,f){return Bn(I,"POST","/v1/accounts:signInWithIdp",Me(I,f))})).apply(this,arguments)}class rs extends Xr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const p=new rs(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(p.idToken=f.idToken),f.accessToken&&(p.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(p.nonce=f.nonce),f.pendingToken&&(p.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(p.accessToken=f.oauthToken,p.secret=f.oauthTokenSecret):At("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:C,signInMethod:Z}=p,ie=(0,be._T)(p,["providerId","signInMethod"]);if(!C||!Z)return null;const et=new rs(C,Z);return et.idToken=ie.idToken||void 0,et.accessToken=ie.accessToken||void 0,et.secret=ie.secret,et.nonce=ie.nonce,et.pendingToken=ie.pendingToken||null,et}_getIdTokenResponse(f){return Ns(f,this.buildRequest())}_linkToIdToken(f,p){const C=this.buildRequest();return C.idToken=p,Ns(f,C)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,Ns(f,p)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),f.postBody=(0,k.xO)(p)}return f}}function Qi(I,f){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,c.Z)(function*(I,f){return ze(I,"POST","/v1/accounts:sendVerificationCode",Me(I,f))})).apply(this,arguments)}function Os(){return(Os=(0,c.Z)(function*(I,f){return Bn(I,"POST","/v1/accounts:signInWithPhoneNumber",Me(I,f))})).apply(this,arguments)}function Ds(){return(Ds=(0,c.Z)(function*(I,f){const p=yield Bn(I,"POST","/v1/accounts:signInWithPhoneNumber",Me(I,f));if(p.temporaryProof)throw On(I,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const Ca={USER_NOT_FOUND:"user-not-found"};function zs(){return(zs=(0,c.Z)(function*(I,f){return Bn(I,"POST","/v1/accounts:signInWithPhoneNumber",Me(I,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Ca)})).apply(this,arguments)}class bs extends Xr{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,p){return new bs({verificationId:f,verificationCode:p})}static _fromTokenResponse(f,p){return new bs({phoneNumber:f,temporaryProof:p})}_getIdTokenResponse(f){return function Do(I,f){return Os.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,p){return function is(I,f){return Ds.apply(this,arguments)}(f,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function sa(I,f){return zs.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:p,verificationId:C,verificationCode:Z}=this.params;return f&&p?{temporaryProof:f,phoneNumber:p}:{sessionInfo:C,code:Z}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:p,verificationCode:C,phoneNumber:Z,temporaryProof:ie}=f;return C||p||Z||ie?new bs({verificationId:p,verificationCode:C,phoneNumber:Z,temporaryProof:ie}):null}}class ti{constructor(f){var p,C,Z,ie,et,Nt;const mn=(0,k.zd)((0,k.pd)(f)),Un=null!==(p=mn.apiKey)&&void 0!==p?p:null,gr=null!==(C=mn.oobCode)&&void 0!==C?C:null,Ai=function bo(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Z=mn.mode)&&void 0!==Z?Z:null);Pe(Un&&gr&&Ai,"argument-error"),this.apiKey=Un,this.operation=Ai,this.code=gr,this.continueUrl=null!==(ie=mn.continueUrl)&&void 0!==ie?ie:null,this.languageCode=null!==(et=mn.languageCode)&&void 0!==et?et:null,this.tenantId=null!==(Nt=mn.tenantId)&&void 0!==Nt?Nt:null}static parseLink(f){const p=function Lo(I){const f=(0,k.zd)((0,k.pd)(I)).link,p=f?(0,k.zd)((0,k.pd)(f)).deep_link_id:null,C=(0,k.zd)((0,k.pd)(I)).deep_link_id;return(C?(0,k.zd)((0,k.pd)(C)).link:null)||C||p||f||I}(f);try{return new ti(p)}catch{return null}}}let Cs=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(p,C){return ei._fromEmailAndPassword(p,C)}static credentialWithLink(p,C){const Z=ti.parseLink(C);return Pe(Z,"argument-error"),ei._fromEmailAndCode(p,Z.code,Z.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class pi{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class ds extends pi{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class er extends ds{static credentialFromJSON(f){const p="string"==typeof f?JSON.parse(f):f;return Pe("providerId"in p&&"signInMethod"in p,"argument-error"),rs._fromParams(p)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return Pe(f.idToken||f.accessToken,"argument-error"),rs._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return er.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return er.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:p,oauthAccessToken:C,oauthTokenSecret:Z,pendingToken:ie,nonce:et,providerId:Nt}=f;if(!C&&!Z&&!p&&!ie||!Nt)return null;try{return new er(Nt)._credential({idToken:p,accessToken:C,nonce:et,pendingToken:ie})}catch{return null}}}let Ws=(()=>{class I extends ds{constructor(){super("facebook.com")}static credential(p){return rs._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return I.credentialFromTaggedObject(p)}static credentialFromError(p){return I.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return I.credential(p.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),Ps=(()=>{class I extends ds{constructor(){super("google.com"),this.addScope("profile")}static credential(p,C){return rs._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:C})}static credentialFromResult(p){return I.credentialFromTaggedObject(p)}static credentialFromError(p){return I.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:C,oauthAccessToken:Z}=p;if(!C&&!Z)return null;try{return I.credential(C,Z)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),ss=(()=>{class I extends ds{constructor(){super("github.com")}static credential(p){return rs._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return I.credentialFromTaggedObject(p)}static credentialFromError(p){return I.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return I.credential(p.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class os extends Xr{constructor(f,p){super(f,f),this.pendingToken=p}_getIdTokenResponse(f){return Ns(f,this.buildRequest())}_linkToIdToken(f,p){const C=this.buildRequest();return C.idToken=p,Ns(f,C)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,Ns(f,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:C,signInMethod:Z,pendingToken:ie}=p;return C&&Z&&ie&&C===Z?new os(C,ie):null}static _create(f,p){return new os(f,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ci extends pi{constructor(f){Pe(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Ci.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Ci.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const p=os.fromJSON(f);return Pe(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:p,providerId:C}=f;if(!p||!C)return null;try{return os._create(C,p)}catch{return null}}}let Xi=(()=>{class I extends ds{constructor(){super("twitter.com")}static credential(p,C){return rs._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:C})}static credentialFromResult(p){return I.credentialFromTaggedObject(p)}static credentialFromError(p){return I.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:C,oauthTokenSecret:Z}=p;if(!C||!Z)return null;try{return I.credential(C,Z)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function Bi(I,f){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,c.Z)(function*(I,f){return Bn(I,"POST","/v1/accounts:signUp",Me(I,f))})).apply(this,arguments)}class ai{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,p,C,Z=!1){return(0,c.Z)(function*(){const ie=yield ee._fromIdTokenResponse(f,C,Z),et=ks(C);return new ai({user:ie,providerId:et,_tokenResponse:C,operationType:p})})()}static _forOperation(f,p,C){return(0,c.Z)(function*(){yield f._updateTokensIfNecessary(C,!0);const Z=ks(C);return new ai({user:f,providerId:Z,_tokenResponse:C,operationType:p})})()}}function ks(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function Vo(I){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,c.Z)(function*(I){var f;const p=gn(I);if(yield p._initializationPromise,null!==(f=p.currentUser)&&void 0!==f&&f.isAnonymous)return new ai({user:p.currentUser,providerId:null,operationType:"signIn"});const C=yield Bi(p,{returnSecureToken:!0}),Z=yield ai._fromIdTokenResponse(p,"signIn",C,!0);return yield p._updateCurrentUser(Z.user),Z})).apply(this,arguments)}class Or extends k.ZR{constructor(f,p,C,Z){var ie;super(p.code,p.message),this.operationType=C,this.user=Z,Object.setPrototypeOf(this,Or.prototype),this.customData={appName:f.name,tenantId:null!==(ie=f.tenantId)&&void 0!==ie?ie:void 0,_serverResponse:p.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(f,p,C,Z){return new Or(f,p,C,Z)}}function Co(I,f,p,C){return("reauthenticate"===f?p._getReauthenticationResolver(I):p._getIdTokenResponse(I)).catch(ie=>{throw"auth/multi-factor-auth-required"===ie.code?Or._fromErrorAndOperation(I,ie,f,C):ie})}function Zo(I){return new Set(I.map(({providerId:f})=>f).filter(f=>!!f))}function ui(I,f){return ni.apply(this,arguments)}function ni(){return(ni=(0,c.Z)(function*(I,f){const p=(0,k.m9)(I);yield gi(!0,p,f);const{providerUserInfo:C}=yield Ut(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[f]}),Z=Zo(C||[]);return p.providerData=p.providerData.filter(ie=>Z.has(ie.providerId)),Z.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p})).apply(this,arguments)}function ji(I,f){return _i.apply(this,arguments)}function _i(){return(_i=(0,c.Z)(function*(I,f,p=!1){const C=yield dt(I,f._linkToIdToken(I.auth,yield I.getIdToken()),p);return ai._forOperation(I,"link",C)})).apply(this,arguments)}function gi(I,f,p){return rr.apply(this,arguments)}function rr(){return(rr=(0,c.Z)(function*(I,f,p){yield ar(f);const Z=!1===I?"provider-already-linked":"no-such-provider";Pe(Zo(f.providerData).has(p)===I,f.auth,Z)})).apply(this,arguments)}function no(I,f){return as.apply(this,arguments)}function as(){return(as=(0,c.Z)(function*(I,f,p=!1){var C;const{auth:Z}=I,ie="reauthenticate";try{const et=yield dt(I,Co(Z,ie,f,I),p);Pe(et.idToken,Z,"internal-error");const Nt=pe(et.idToken);Pe(Nt,Z,"internal-error");const{sub:mn}=Nt;return Pe(I.uid===mn,Z,"user-mismatch"),ai._forOperation(I,ie,et)}catch(et){throw"auth/user-not-found"===(null===(C=et)||void 0===C?void 0:C.code)&&At(Z,"user-mismatch"),et}})).apply(this,arguments)}function To(I,f){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,c.Z)(function*(I,f,p=!1){const C="signIn",Z=yield Co(I,C,f),ie=yield ai._fromIdTokenResponse(I,C,Z);return p||(yield I._updateCurrentUser(ie.user)),ie})).apply(this,arguments)}function Ks(I,f){return li.apply(this,arguments)}function li(){return(li=(0,c.Z)(function*(I,f){return To(gn(I),f)})).apply(this,arguments)}function Rn(I,f){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,c.Z)(function*(I,f){const p=(0,k.m9)(I);return yield gi(!1,p,f.providerId),ji(p,f)})).apply(this,arguments)}function Uo(I,f){return ro.apply(this,arguments)}function ro(){return(ro=(0,c.Z)(function*(I,f){return no((0,k.m9)(I),f)})).apply(this,arguments)}function Ei(I,f){return ii.apply(this,arguments)}function ii(){return(ii=(0,c.Z)(function*(I,f){return Bn(I,"POST","/v1/accounts:signInWithCustomToken",Me(I,f))})).apply(this,arguments)}function Oi(I,f){return hs.apply(this,arguments)}function hs(){return(hs=(0,c.Z)(function*(I,f){const p=gn(I),C=yield Ei(p,{token:f,returnSecureToken:!0}),Z=yield ai._fromIdTokenResponse(p,"signIn",C);return yield p._updateCurrentUser(Z.user),Z})).apply(this,arguments)}class Kr{constructor(f,p){this.factorId=f,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(f,p){return"phoneInfo"in p?Lt._fromServerResponse(f,p):At(f,"internal-error")}}class Lt extends Kr{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,p){return new Lt(p)}}function tr(I,f,p){var C;Pe((null===(C=p.url)||void 0===C?void 0:C.length)>0,I,"invalid-continue-uri"),Pe(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),f.continueUrl=p.url,f.dynamicLinkDomain=p.dynamicLinkDomain,f.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(Pe(p.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),f.iOSBundleId=p.iOS.bundleId),p.android&&(Pe(p.android.packageName.length>0,I,"missing-android-pkg-name"),f.androidInstallApp=p.android.installApp,f.androidMinimumVersionCode=p.android.minimumVersion,f.androidPackageName=p.android.packageName)}function Yo(I,f,p){return po.apply(this,arguments)}function po(){return(po=(0,c.Z)(function*(I,f,p){const C=(0,k.m9)(I),Z={requestType:"PASSWORD_RESET",email:f};p&&tr(C,Z,p),yield Tt(C,Z)})).apply(this,arguments)}function qr(I,f,p){return fs.apply(this,arguments)}function fs(){return(fs=(0,c.Z)(function*(I,f,p){yield fi((0,k.m9)(I),{oobCode:f,newPassword:p})})).apply(this,arguments)}function qs(I,f){return wi.apply(this,arguments)}function wi(){return(wi=(0,c.Z)(function*(I,f){yield qo((0,k.m9)(I),{oobCode:f})})).apply(this,arguments)}function Zs(I,f){return ci.apply(this,arguments)}function ci(){return(ci=(0,c.Z)(function*(I,f){const p=(0,k.m9)(I),C=yield fi(p,{oobCode:f}),Z=C.requestType;switch(Pe(Z,p,"internal-error"),Z){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Pe(C.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Pe(C.mfaInfo,p,"internal-error");default:Pe(C.email,p,"internal-error")}let ie=null;return C.mfaInfo&&(ie=Kr._fromServerResponse(gn(p),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:ie},operation:Z}})).apply(this,arguments)}function go(I,f){return mo.apply(this,arguments)}function mo(){return(mo=(0,c.Z)(function*(I,f){const{data:p}=yield Zs((0,k.m9)(I),f);return p.email})).apply(this,arguments)}function L(I,f,p){return O.apply(this,arguments)}function O(){return(O=(0,c.Z)(function*(I,f,p){const C=gn(I),Z=yield Bi(C,{returnSecureToken:!0,email:f,password:p}),ie=yield ai._fromIdTokenResponse(C,"signIn",Z);return yield C._updateCurrentUser(ie.user),ie})).apply(this,arguments)}function A(I,f,p){return Ks((0,k.m9)(I),Cs.credential(f,p))}function Q(I,f,p){return ht.apply(this,arguments)}function ht(){return(ht=(0,c.Z)(function*(I,f,p){const C=(0,k.m9)(I),Z={requestType:"EMAIL_SIGNIN",email:f};Pe(p.handleCodeInApp,C,"argument-error"),p&&tr(C,Z,p),yield on(C,Z)})).apply(this,arguments)}function hn(I,f){return"EMAIL_SIGNIN"===ti.parseLink(f)?.operation}function yr(I,f,p){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,c.Z)(function*(I,f,p){const C=(0,k.m9)(I),Z=Cs.credentialWithLink(f,p||Ct());return Pe(Z._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),Ks(C,Z)})).apply(this,arguments)}function es(I,f){return ri.apply(this,arguments)}function ri(){return(ri=(0,c.Z)(function*(I,f){return ze(I,"POST","/v1/accounts:createAuthUri",Me(I,f))})).apply(this,arguments)}function io(I,f){return ps.apply(this,arguments)}function ps(){return(ps=(0,c.Z)(function*(I,f){const C={identifier:f,continueUri:Ot()?Ct():"http://localhost"},{signinMethods:Z}=yield es((0,k.m9)(I),C);return Z||[]})).apply(this,arguments)}function Ys(I,f){return So.apply(this,arguments)}function So(){return(So=(0,c.Z)(function*(I,f){const p=(0,k.m9)(I),Z={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};f&&tr(p.auth,Z,f);const{email:ie}=yield Ve(p.auth,Z);ie!==I.email&&(yield I.reload())})).apply(this,arguments)}function oa(I,f,p){return yo.apply(this,arguments)}function yo(){return(yo=(0,c.Z)(function*(I,f,p){const C=(0,k.m9)(I),ie={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:f};p&&tr(C.auth,ie,p);const{email:et}=yield Hr(C.auth,ie);et!==I.email&&(yield I.reload())})).apply(this,arguments)}function ma(I,f){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,c.Z)(function*(I,f){return ze(I,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function so(I,f){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,c.Z)(function*(I,{displayName:f,photoURL:p}){if(void 0===f&&void 0===p)return;const C=(0,k.m9)(I),ie={idToken:yield C.getIdToken(),displayName:f,photoUrl:p,returnSecureToken:!0},et=yield dt(C,ma(C.auth,ie));C.displayName=et.displayName||null,C.photoURL=et.photoUrl||null;const Nt=C.providerData.find(({providerId:mn})=>"password"===mn);Nt&&(Nt.displayName=C.displayName,Nt.photoURL=C.photoURL),yield C._updateTokensIfNecessary(et)})).apply(this,arguments)}function Qo(I,f){return G((0,k.m9)(I),f,null)}function S(I,f){return G((0,k.m9)(I),null,f)}function G(I,f,p){return R.apply(this,arguments)}function R(){return(R=(0,c.Z)(function*(I,f,p){const{auth:C}=I,ie={idToken:yield I.getIdToken(),returnSecureToken:!0};f&&(ie.email=f),p&&(ie.password=p);const et=yield dt(I,Is(C,ie));yield I._updateTokensIfNecessary(et,!0)})).apply(this,arguments)}class we{constructor(f,p,C={}){this.isNewUser=f,this.providerId=p,this.profile=C}}class pt extends we{constructor(f,p,C,Z){super(f,p,C),this.username=Z}}class wt extends we{constructor(f,p){super(f,"facebook.com",p)}}class wn extends pt{constructor(f,p){super(f,"github.com",p,"string"==typeof p?.login?p?.login:null)}}class vr extends we{constructor(f,p){super(f,"google.com",p)}}class Ir extends pt{constructor(f,p,C){super(f,"twitter.com",p,C)}}function Dr(I){const{user:f,_tokenResponse:p}=I;return f.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function Y(I){var f,p;if(!I)return null;const{providerId:C}=I,Z=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},ie=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!C&&I?.idToken){const et=null===(p=null===(f=pe(I.idToken))||void 0===f?void 0:f.firebase)||void 0===p?void 0:p.sign_in_provider;if(et)return new we(ie,"anonymous"!==et&&"custom"!==et?et:null)}if(!C)return null;switch(C){case"facebook.com":return new wt(ie,Z);case"github.com":return new wn(ie,Z);case"google.com":return new vr(ie,Z);case"twitter.com":return new Ir(ie,Z,I.screenName||null);case"custom":case"anonymous":return new we(ie,null);default:return new we(ie,C,Z)}}(p)}class Ki{constructor(f,p,C){this.type=f,this.credential=p,this.auth=C}static _fromIdtoken(f,p){return new Ki("enroll",f,p)}static _fromMfaPendingCredential(f){return new Ki("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var p,C;if(f?.multiFactorSession){if(null!==(p=f.multiFactorSession)&&void 0!==p&&p.pendingCredential)return Ki._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(C=f.multiFactorSession)&&void 0!==C&&C.idToken)return Ki._fromIdtoken(f.multiFactorSession.idToken)}return null}}class xo{constructor(f,p,C){this.session=f,this.hints=p,this.signInResolver=C}static _fromError(f,p){const C=gn(f),Z=p.customData._serverResponse,ie=(Z.mfaInfo||[]).map(Nt=>Kr._fromServerResponse(C,Nt));Pe(Z.mfaPendingCredential,C,"internal-error");const et=Ki._fromMfaPendingCredential(Z.mfaPendingCredential);return new xo(et,ie,function(){var Nt=(0,c.Z)(function*(mn){const Un=yield mn._process(C,et);delete Z.mfaInfo,delete Z.mfaPendingCredential;const gr=Object.assign(Object.assign({},Z),{idToken:Un.idToken,refreshToken:Un.refreshToken});switch(p.operationType){case"signIn":const Ai=yield ai._fromIdTokenResponse(C,p.operationType,gr);return yield C._updateCurrentUser(Ai.user),Ai;case"reauthenticate":return Pe(p.user,C,"internal-error"),ai._forOperation(p.user,p.operationType,gr);default:At(C,"internal-error")}});return function(mn){return Nt.apply(this,arguments)}}())}resolveSignIn(f){var p=this;return(0,c.Z)(function*(){return p.signInResolver(f)})()}}function Wt(I,f){var p;const C=(0,k.m9)(I),Z=f;return Pe(f.customData.operationType,C,"argument-error"),Pe(null===(p=Z.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,C,"argument-error"),xo._fromError(C,Z)}function ir(I,f){return ze(I,"POST","/v2/accounts/mfaEnrollment:start",Me(I,f))}class In{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(C=>Kr._fromServerResponse(f.auth,C)))})}static _fromUser(f){return new In(f)}getSession(){var f=this;return(0,c.Z)(function*(){return Ki._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,p){var C=this;return(0,c.Z)(function*(){const Z=f,ie=yield C.getSession(),et=yield dt(C.user,Z._process(C.user.auth,ie,p));return yield C.user._updateTokensIfNecessary(et),C.user.reload()})()}unenroll(f){var p=this;return(0,c.Z)(function*(){var C;const Z="string"==typeof f?f:f.uid,ie=yield p.user.getIdToken(),et=yield dt(p.user,function ya(I,f){return ze(I,"POST","/v2/accounts/mfaEnrollment:withdraw",Me(I,f))}(p.user.auth,{idToken:ie,mfaEnrollmentId:Z}));p.enrolledFactors=p.enrolledFactors.filter(({uid:Nt})=>Nt!==Z),yield p.user._updateTokensIfNecessary(et);try{yield p.user.reload()}catch(Nt){if("auth/user-token-expired"!==(null===(C=Nt)||void 0===C?void 0:C.code))throw Nt}})()}}const Gn=new WeakMap;function za(I){const f=(0,k.m9)(I);return Gn.has(f)||Gn.set(f,In._fromUser(f)),Gn.get(f)}const rn="__sak";class _t{constructor(f,p){this.storageRetriever=f,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(rn,"1"),this.storage.removeItem(rn),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,p){return this.storage.setItem(f,JSON.stringify(p)),Promise.resolve()}_get(f){const p=this.storage.getItem(f);return Promise.resolve(p?JSON.parse(p):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Di=(()=>{class I extends _t{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,C)=>this.onStorageEvent(p,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function jt(){const I=(0,k.z$)();return Ie(I)||de(I)}()&&function Nn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=tn(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const C of Object.keys(this.listeners)){const Z=this.storage.getItem(C),ie=this.localCache[C];Z!==ie&&p(C,ie,Z)}}onStorageEvent(p,C=!1){if(!p.key)return void this.forAllChangedKeys((Nt,mn,Un)=>{this.notifyListeners(Nt,Un)});const Z=p.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Nt=this.storage.getItem(Z);if(p.newValue!==Nt)null!==p.newValue?this.storage.setItem(Z,p.newValue):this.storage.removeItem(Z);else if(this.localCache[Z]===p.newValue&&!C)return}const ie=()=>{const Nt=this.storage.getItem(Z);!C&&this.localCache[Z]===Nt||this.notifyListeners(Z,Nt)},et=this.storage.getItem(Z);!function at(){return(0,k.w1)()&&10===document.documentMode}()||et===p.newValue||p.newValue===p.oldValue?ie():setTimeout(ie,10)}notifyListeners(p,C){this.localCache[p]=C;const Z=this.listeners[p];if(Z)for(const ie of Array.from(Z))ie(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,C,Z)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:C,newValue:Z}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(C)}_removeListener(p,C){this.listeners[p]&&(this.listeners[p].delete(C),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,C){var Z=()=>super._set,ie=this;return(0,c.Z)(function*(){yield Z().call(ie,p,C),ie.localCache[p]=JSON.stringify(C)})()}_get(p){var C=()=>super._get,Z=this;return(0,c.Z)(function*(){const ie=yield C().call(Z,p);return Z.localCache[p]=JSON.stringify(ie),ie})()}_remove(p){var C=()=>super._remove,Z=this;return(0,c.Z)(function*(){yield C().call(Z,p),delete Z.localCache[p]})()}}return I.type="LOCAL",I})(),Bo=(()=>{class I extends _t{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,C){}_removeListener(p,C){}}return I.type="SESSION",I})();let la=(()=>{class I{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const C=this.receivers.find(ie=>ie.isListeningto(p));if(C)return C;const Z=new I(p);return this.receivers.push(Z),Z}isListeningto(p){return this.eventTarget===p}handleEvent(p){var C=this;return(0,c.Z)(function*(){const Z=p,{eventId:ie,eventType:et,data:Nt}=Z.data,mn=C.handlersMap[et];if(!mn?.size)return;Z.ports[0].postMessage({status:"ack",eventId:ie,eventType:et});const Un=Array.from(mn).map(function(){var Ai=(0,c.Z)(function*($a){return $a(Z.origin,Nt)});return function($a){return Ai.apply(this,arguments)}}()),gr=yield function va(I){return Promise.all(I.map(function(){var f=(0,c.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(C){return{fulfilled:!1,reason:C}}});return function(p){return f.apply(this,arguments)}}()))}(Un);Z.ports[0].postMessage({status:"done",eventId:ie,eventType:et,response:gr})})()}_subscribe(p,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(C)}_unsubscribe(p,C){this.handlersMap[p]&&C&&this.handlersMap[p].delete(C),(!C||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function Ta(I="",f=10){let p="";for(let C=0;C<f;C++)p+=Math.floor(10*Math.random());return I+p}class Sa{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,p,C=50){var Z=this;return(0,c.Z)(function*(){const ie=typeof MessageChannel<"u"?new MessageChannel:null;if(!ie)throw new Error("connection_unavailable");let et,Nt;return new Promise((mn,Un)=>{const gr=Ta("",20);ie.port1.start();const Ai=setTimeout(()=>{Un(new Error("unsupported_event"))},C);Nt={messageChannel:ie,onMessage($a){const Fi=$a;if(Fi.data.eventId===gr)switch(Fi.data.status){case"ack":clearTimeout(Ai),et=setTimeout(()=>{Un(new Error("timeout"))},3e3);break;case"done":clearTimeout(et),mn(Fi.data.response);break;default:clearTimeout(Ai),clearTimeout(et),Un(new Error("invalid_response"))}}},Z.handlers.add(Nt),ie.port1.addEventListener("message",Nt.onMessage),Z.target.postMessage({eventType:f,eventId:gr,data:p},[ie.port2])}).finally(()=>{Nt&&Z.removeMessageHandler(Nt)})})()}}function mi(){return window}function Mn(){return typeof mi().WorkerGlobalScope<"u"&&"function"==typeof mi().importScripts}function Pi(){return(Pi=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ro="firebaseLocalStorageDb",Jo="firebaseLocalStorage",Zr="fbase_key";class Jt{constructor(f){this.request=f}toPromise(){return new Promise((f,p)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Qs(I,f){return I.transaction([Jo],f?"readwrite":"readonly").objectStore(Jo)}function Us(){const I=indexedDB.open(Ro,1);return new Promise((f,p)=>{I.addEventListener("error",()=>{p(I.error)}),I.addEventListener("upgradeneeded",()=>{const C=I.result;try{C.createObjectStore(Jo,{keyPath:Zr})}catch(Z){p(Z)}}),I.addEventListener("success",(0,c.Z)(function*(){const C=I.result;C.objectStoreNames.contains(Jo)?f(C):(C.close(),yield function Aa(){const I=indexedDB.deleteDatabase(Ro);return new Jt(I).toPromise()}(),f(yield Us()))}))})}function jo(I,f,p){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,c.Z)(function*(I,f,p){const C=Qs(I,!0).put({[Zr]:f,value:p});return new Jt(C).toPromise()})).apply(this,arguments)}function _o(){return(_o=(0,c.Z)(function*(I,f){const p=Qs(I,!1).get(f),C=yield new Jt(p).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function ca(I,f){const p=Qs(I,!0).delete(f);return new Jt(p).toPromise()}const Ho=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,c.Z)(function*(){return p.db||(p.db=yield Us()),p.db})()}_withRetries(p){var C=this;return(0,c.Z)(function*(){let Z=0;for(;;)try{const ie=yield C._openDb();return yield p(ie)}catch(ie){if(Z++>3)throw ie;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,c.Z)(function*(){return Mn()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,c.Z)(function*(){p.receiver=la._getInstance(function Ln(){return Mn()?self:null}()),p.receiver._subscribe("keyChanged",function(){var C=(0,c.Z)(function*(Z,ie){return{keyProcessed:(yield p._poll()).includes(ie.key)}});return function(Z,ie){return C.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var C=(0,c.Z)(function*(Z,ie){return["keyChanged"]});return function(Z,ie){return C.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,c.Z)(function*(){var C,Z;if(p.activeServiceWorker=yield function No(){return Pi.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new Sa(p.activeServiceWorker);const ie=yield p.sender._send("ping",{},800);!ie||(null===(C=ie[0])||void 0===C?void 0:C.fulfilled)&&(null===(Z=ie[0])||void 0===Z?void 0:Z.value.includes("keyChanged"))&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var C=this;return(0,c.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function Lr(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:p},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const p=yield Us();return yield jo(p,rn,"1"),yield ca(p,rn),!0}catch{}return!1})()}_withPendingWrite(p){var C=this;return(0,c.Z)(function*(){C.pendingWrites++;try{yield p()}finally{C.pendingWrites--}})()}_set(p,C){var Z=this;return(0,c.Z)(function*(){return Z._withPendingWrite((0,c.Z)(function*(){return yield Z._withRetries(ie=>jo(ie,p,C)),Z.localCache[p]=C,Z.notifyServiceWorker(p)}))})()}_get(p){var C=this;return(0,c.Z)(function*(){const Z=yield C._withRetries(ie=>function lu(I,f){return _o.apply(this,arguments)}(ie,p));return C.localCache[p]=Z,Z})()}_remove(p){var C=this;return(0,c.Z)(function*(){return C._withPendingWrite((0,c.Z)(function*(){return yield C._withRetries(Z=>ca(Z,p)),delete C.localCache[p],C.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,c.Z)(function*(){const C=yield p._withRetries(et=>{const Nt=Qs(et,!1).getAll();return new Jt(Nt).toPromise()});if(!C)return[];if(0!==p.pendingWrites)return[];const Z=[],ie=new Set;for(const{fbase_key:et,value:Nt}of C)ie.add(et),JSON.stringify(p.localCache[et])!==JSON.stringify(Nt)&&(p.notifyListeners(et,Nt),Z.push(et));for(const et of Object.keys(p.localCache))p.localCache[et]&&!ie.has(et)&&(p.notifyListeners(et,null),Z.push(et));return Z})()}notifyListeners(p,C){this.localCache[p]=C;const Z=this.listeners[p];if(Z)for(const ie of Array.from(Z))ie(C)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(C)}_removeListener(p,C){this.listeners[p]&&(this.listeners[p].delete(C),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})();function La(I,f){return ze(I,"POST","/v2/accounts/mfaSignIn:start",Me(I,f))}function st(){return(st=(0,c.Z)(function*(I){return(yield ze(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function $i(I){return new Promise((f,p)=>{const C=document.createElement("script");C.setAttribute("src",I),C.onload=f,C.onerror=Z=>{const ie=ae("internal-error");ie.customData=Z,p(ie)},C.type="text/javascript",C.charset="UTF-8",function Eo(){var I,f;return null!==(f=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==f?f:document}().appendChild(C)})}function Ea(I){return`__${I}${Math.floor(1e6*Math.random())}`}const ys=1e12;class ao{constructor(f){this.auth=f,this.counter=ys,this._widgets=new Map}render(f,p){const C=this.counter;return this._widgets.set(C,new Br(f,this.auth.name,p||{})),this.counter++,C}reset(f){var p;const C=f||ys;null===(p=this._widgets.get(C))||void 0===p||p.delete(),this._widgets.delete(C)}getResponse(f){var p;return(null===(p=this._widgets.get(f||ys))||void 0===p?void 0:p.getResponse())||""}execute(f){var p=this;return(0,c.Z)(function*(){var C;return null===(C=p._widgets.get(f||ys))||void 0===C||C.execute(),""})()}}class Br{constructor(f,p,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Z="string"==typeof f?document.getElementById(f):f;Pe(Z,"argument-error",{appName:p}),this.container=Z,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Au(I){const f=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<I;C++)f.push(p.charAt(Math.floor(Math.random()*p.length)));return f.join("")}(50);const{callback:f,"expired-callback":p}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Wa=Ea("rcb"),Va=new Dt(3e4,6e4);class Mu{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=mi().grecaptcha)||void 0===f||!f.render)}load(f,p=""){return Pe(function Oo(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(p),f,"argument-error"),this.shouldResolveImmediately(p)?Promise.resolve(mi().grecaptcha):new Promise((C,Z)=>{const ie=mi().setTimeout(()=>{Z(ae(f,"network-request-failed"))},Va.get());mi()[Wa]=()=>{mi().clearTimeout(ie),delete mi()[Wa];const Nt=mi().grecaptcha;if(!Nt)return void Z(ae(f,"internal-error"));const mn=Nt.render;Nt.render=(Un,gr)=>{const Ai=mn(Un,gr);return this.counter++,Ai},this.hostLanguage=p,C(Nt)},$i(`https://www.google.com/recaptcha/api.js??${(0,k.xO)({onload:Wa,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(ie),Z(ae(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var p;return!(null===(p=mi().grecaptcha)||void 0===p||!p.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class xu{load(f){return(0,c.Z)(function*(){return new ao(f)})()}clearedOneInstance(){}}const j="recaptcha",v={theme:"light",type:"image"};class _{constructor(f,p=Object.assign({},v),C){this.parameters=p,this.type=j,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=gn(C),this.isInvisible="invisible"===this.parameters.size,Pe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Z="string"==typeof f?document.getElementById(f):f;Pe(Z,this.auth,"argument-error"),this.container=Z,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new xu:new Mu,this.validateStartingState()}verify(){var f=this;return(0,c.Z)(function*(){f.assertNotDestroyed();const p=yield f.render(),C=f.getAssertedRecaptcha();return C.getResponse(p)||new Promise(ie=>{const et=Nt=>{!Nt||(f.tokenChangeListeners.delete(et),ie(Nt))};f.tokenChangeListeners.add(et),f.isInvisible&&C.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){Pe(!this.parameters.sitekey,this.auth,"argument-error"),Pe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Pe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return p=>{if(this.tokenChangeListeners.forEach(C=>C(p)),"function"==typeof f)f(p);else if("string"==typeof f){const C=mi()[f];"function"==typeof C&&C(p)}}}assertNotDestroyed(){Pe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,c.Z)(function*(){if(yield f.init(),!f.widgetId){let p=f.container;if(!f.isInvisible){const C=document.createElement("div");p.appendChild(C),p=C}f.widgetId=f.getAssertedRecaptcha().render(p,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,c.Z)(function*(){Pe(Ot()&&!Mn(),f.auth,"internal-error"),yield function N(){let I=null;return new Promise(f=>{"complete"!==document.readyState?(I=()=>f(),window.addEventListener("load",I)):f()}).catch(f=>{throw I&&window.removeEventListener("load",I),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const p=yield function Xo(I){return st.apply(this,arguments)}(f.auth);Pe(p,f.auth,"internal-error"),f.parameters.sitekey=p})()}getAssertedRecaptcha(){return Pe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class W{constructor(f,p){this.verificationId=f,this.onConfirmation=p}confirm(f){const p=bs._fromVerification(this.verificationId,f);return this.onConfirmation(p)}}function te(I,f,p){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,c.Z)(function*(I,f,p){const C=gn(I),Z=yield Zt(C,f,(0,k.m9)(p));return new W(Z,ie=>Ks(C,ie))})).apply(this,arguments)}function Re(I,f,p){return qe.apply(this,arguments)}function qe(){return(qe=(0,c.Z)(function*(I,f,p){const C=(0,k.m9)(I);yield gi(!1,C,"phone");const Z=yield Zt(C.auth,f,(0,k.m9)(p));return new W(Z,ie=>Rn(C,ie))})).apply(this,arguments)}function bt(I,f,p){return an.apply(this,arguments)}function an(){return(an=(0,c.Z)(function*(I,f,p){const C=(0,k.m9)(I),Z=yield Zt(C.auth,f,(0,k.m9)(p));return new W(Z,ie=>Uo(C,ie))})).apply(this,arguments)}function Zt(I,f,p){return zn.apply(this,arguments)}function zn(){return(zn=(0,c.Z)(function*(I,f,p){var C;const Z=yield p.verify();try{let ie;if(Pe("string"==typeof Z,I,"argument-error"),Pe(p.type===j,I,"argument-error"),ie="string"==typeof f?{phoneNumber:f}:f,"session"in ie){const et=ie.session;if("phoneNumber"in ie)return Pe("enroll"===et.type,I,"internal-error"),(yield ir(I,{idToken:et.credential,phoneEnrollmentInfo:{phoneNumber:ie.phoneNumber,recaptchaToken:Z}})).phoneSessionInfo.sessionInfo;{Pe("signin"===et.type,I,"internal-error");const Nt=(null===(C=ie.multiFactorHint)||void 0===C?void 0:C.uid)||ie.multiFactorUid;return Pe(Nt,I,"missing-multi-factor-info"),(yield La(I,{mfaPendingCredential:et.credential,mfaEnrollmentId:Nt,phoneSignInInfo:{recaptchaToken:Z}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:et}=yield Qi(I,{phoneNumber:ie.phoneNumber,recaptchaToken:Z});return et}}finally{p._reset()}})).apply(this,arguments)}function nr(I,f){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,c.Z)(function*(I,f){yield ji((0,k.m9)(I),f)})).apply(this,arguments)}let Wn=(()=>{class I{constructor(p){this.providerId=I.PROVIDER_ID,this.auth=gn(p)}verifyPhoneNumber(p,C){return Zt(this.auth,p,(0,k.m9)(C))}static credential(p,C){return bs._fromVerification(p,C)}static credentialFromResult(p){return I.credentialFromTaggedObject(p)}static credentialFromError(p){return I.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:C,temporaryProof:Z}=p;return C&&Z?bs._fromTokenResponse(C,Z):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function Tr(I,f){return f?ke(f):(Pe(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class Sr extends Xr{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Ns(f,this._buildIdpRequest())}_linkToIdToken(f,p){return Ns(f,this._buildIdpRequest(p))}_getReauthenticationResolver(f){return Ns(f,this._buildIdpRequest())}_buildIdpRequest(f){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(p.idToken=f),p}}function hi(I){return To(I.auth,new Sr(I),I.bypassAuthState)}function Vr(I){const{auth:f,user:p}=I;return Pe(p,f,"internal-error"),no(p,new Sr(I),I.bypassAuthState)}function Si(I){return E.apply(this,arguments)}function E(){return(E=(0,c.Z)(function*(I){const{auth:f,user:p}=I;return Pe(p,f,"internal-error"),ji(p,new Sr(I),I.bypassAuthState)})).apply(this,arguments)}class w{constructor(f,p,C,Z,ie=!1){this.auth=f,this.resolver=C,this.user=Z,this.bypassAuthState=ie,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var f=this;return new Promise(function(){var p=(0,c.Z)(function*(C,Z){f.pendingPromise={resolve:C,reject:Z};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(ie){f.reject(ie)}});return function(C,Z){return p.apply(this,arguments)}}())}onAuthEvent(f){var p=this;return(0,c.Z)(function*(){const{urlResponse:C,sessionId:Z,postBody:ie,tenantId:et,error:Nt,type:mn}=f;if(Nt)return void p.reject(Nt);const Un={auth:p.auth,requestUri:C,sessionId:Z,tenantId:et||void 0,postBody:ie||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(mn)(Un))}catch(gr){p.reject(gr)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return hi;case"linkViaPopup":case"linkViaRedirect":return Si;case"reauthViaPopup":case"reauthViaRedirect":return Vr;default:At(this.auth,"internal-error")}}resolve(f){Qe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Qe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const m=new Dt(2e3,1e4);function T(I,f,p){return P.apply(this,arguments)}function P(){return(P=(0,c.Z)(function*(I,f,p){const C=gn(I);Je(I,f,pi);const Z=Tr(C,p);return new qt(C,"signInViaPopup",f,Z).executeNotNull()})).apply(this,arguments)}function K(I,f,p){return he.apply(this,arguments)}function he(){return(he=(0,c.Z)(function*(I,f,p){const C=(0,k.m9)(I);Je(C.auth,f,pi);const Z=Tr(C.auth,p);return new qt(C.auth,"reauthViaPopup",f,Z,C).executeNotNull()})).apply(this,arguments)}function _e(I,f,p){return mt.apply(this,arguments)}function mt(){return(mt=(0,c.Z)(function*(I,f,p){const C=(0,k.m9)(I);Je(C.auth,f,pi);const Z=Tr(C.auth,p);return new qt(C.auth,"linkViaPopup",f,Z,C).executeNotNull()})).apply(this,arguments)}let qt=(()=>{class I extends w{constructor(p,C,Z,ie,et){super(p,C,ie,et),this.provider=Z,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var p=this;return(0,c.Z)(function*(){const C=yield p.execute();return Pe(C,p.auth,"internal-error"),C})()}onExecution(){var p=this;return(0,c.Z)(function*(){Qe(1===p.filter.length,"Popup operations only handle one event");const C=Ta();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],C),p.authWindow.associatedEvent=C,p.resolver._originValidation(p.auth).catch(Z=>{p.reject(Z)}),p.resolver._isIframeWebStorageSupported(p.auth,Z=>{Z||p.reject(ae(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(ae(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const p=()=>{var C,Z;this.pollId=null!==(Z=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==Z&&Z.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ae(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(p,m.get())};p()}}return I.currentPopupAction=null,I})();const Et=new Map;class Xt extends w{constructor(f,p,C=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,C),this.eventId=null}execute(){var f=()=>super.execute,p=this;return(0,c.Z)(function*(){let C=Et.get(p.auth._key());if(!C){try{const ie=(yield function Dn(I,f){return qn.apply(this,arguments)}(p.resolver,p.auth))?yield f().call(p):null;C=()=>Promise.resolve(ie)}catch(Z){C=()=>Promise.reject(Z)}Et.set(p.auth._key(),C)}return p.bypassAuthState||Et.set(p.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(f){var p=()=>super.onAuthEvent,C=this;return(0,c.Z)(function*(){if("signInViaRedirect"===f.type)return p().call(C,f);if("unknown"!==f.type){if(f.eventId){const Z=yield C.auth._redirectUserForId(f.eventId);if(Z)return C.user=Z,p().call(C,f);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function qn(){return(qn=(0,c.Z)(function*(I,f){const p=Go(f),C=Yr(I);if(!(yield C._isAvailable()))return!1;const Z="true"===(yield C._get(p));return yield C._remove(p),Z})).apply(this,arguments)}function _r(I,f){return vi.apply(this,arguments)}function vi(){return(vi=(0,c.Z)(function*(I,f){return Yr(I)._set(Go(f),"true")})).apply(this,arguments)}function ki(){Et.clear()}function js(I,f){Et.set(I._key(),f)}function Yr(I){return ke(I._redirectPersistence)}function Go(I){return cn("pendingRedirect",I.config.apiKey,I.name)}function _s(I,f,p){return function Ar(I,f,p){return Pr.apply(this,arguments)}(I,f,p)}function Pr(){return(Pr=(0,c.Z)(function*(I,f,p){const C=gn(I);Je(I,f,pi);const Z=Tr(C,p);return yield _r(Z,C),Z._openRedirect(C,f,"signInViaRedirect")})).apply(this,arguments)}function x(I,f,p){return function F(I,f,p){return q.apply(this,arguments)}(I,f,p)}function q(){return(q=(0,c.Z)(function*(I,f,p){const C=(0,k.m9)(I);Je(C.auth,f,pi);const Z=Tr(C.auth,p);yield _r(Z,C.auth);const ie=yield Er(C);return Z._openRedirect(C.auth,f,"reauthViaRedirect",ie)})).apply(this,arguments)}function ye(I,f,p){return function Ze(I,f,p){return vt.apply(this,arguments)}(I,f,p)}function vt(){return(vt=(0,c.Z)(function*(I,f,p){const C=(0,k.m9)(I);Je(C.auth,f,pi);const Z=Tr(C.auth,p);yield gi(!1,C,f.providerId),yield _r(Z,C.auth);const ie=yield Er(C);return Z._openRedirect(C.auth,f,"linkViaRedirect",ie)})).apply(this,arguments)}function Bt(I,f){return dn.apply(this,arguments)}function dn(){return(dn=(0,c.Z)(function*(I,f){return yield gn(I)._initializationPromise,$n(I,f,!1)})).apply(this,arguments)}function $n(I,f){return xn.apply(this,arguments)}function xn(){return(xn=(0,c.Z)(function*(I,f,p=!1){const C=gn(I),Z=Tr(C,f),et=yield new Xt(C,Z,p).execute();return et&&!p&&(delete et.user._redirectEventId,yield C._persistUserIfCurrent(et.user),yield C._setRedirectUser(null,f)),et})).apply(this,arguments)}function Er(I){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,c.Z)(function*(I){const f=Ta(`${I.uid}:::`);return I._redirectEventId=f,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),f})).apply(this,arguments)}class Ss{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let p=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(f,C)&&(p=!0,this.sendToConsumer(f,C),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Za(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qa(I);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=f,p=!0)),p}sendToConsumer(f,p){var C;if(f.error&&!qa(f)){const Z=(null===(C=f.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";p.onError(ae(this.auth,Z))}else p.onAuthEvent(f)}isEventForConsumer(f,p){const C=null===p.eventId||!!f.eventId&&f.eventId===p.eventId;return p.filter.includes(f.type)&&C}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ka(f))}saveEventToCache(f){this.cachedEventUids.add(Ka(f)),this.lastProcessedEventTime=Date.now()}}function Ka(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(f=>f).join("-")}function qa({type:I,error:f}){return"unknown"===I&&"auth/no-auth-event"===f?.code}function Ua(I){return Js.apply(this,arguments)}function Js(){return(Js=(0,c.Z)(function*(I,f={}){return ze(I,"GET","/v1/projects",f)})).apply(this,arguments)}const da=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ya=/^https?/;function cu(){return(cu=(0,c.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:f}=yield Ua(I);for(const p of f)try{if(Qa(p))return}catch{}At(I,"unauthorized-domain")})).apply(this,arguments)}function Qa(I){const f=Ct(),{protocol:p,hostname:C}=new URL(f);if(I.startsWith("chrome-extension://")){const et=new URL(I);return""===et.hostname&&""===C?"chrome-extension:"===p&&I.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===p&&et.hostname===C}if(!Ya.test(p))return!1;if(da.test(I))return C===I;const Z=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Z+"|"+Z+")$","i").test(C)}const Xc=new Dt(3e4,6e4);function du(){const I=mi().___jsl;if(I?.H)for(const f of Object.keys(I.H))if(I.H[f].r=I.H[f].r||[],I.H[f].L=I.H[f].L||[],I.H[f].r=[...I.H[f].L],I.CP)for(let p=0;p<I.CP.length;p++)I.CP[p]=null}let Ba=null;function Cl(I){return Ba=Ba||function ed(I){return new Promise((f,p)=>{var C,Z,ie;function et(){du(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{du(),p(ae(I,"network-request-failed"))},timeout:Xc.get()})}if(null!==(Z=null===(C=mi().gapi)||void 0===C?void 0:C.iframes)&&void 0!==Z&&Z.Iframe)f(gapi.iframes.getContext());else{if(null===(ie=mi().gapi)||void 0===ie||!ie.load){const Nt=Ea("iframefcb");return mi()[Nt]=()=>{gapi.load?et():p(ae(I,"network-request-failed"))},$i(`https://apis.google.com/js/api.js?onload=${Nt}`).catch(mn=>p(mn))}et()}}).catch(f=>{throw Ba=null,f})}(I),Ba}const uc=new Dt(5e3,15e3),Yu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Tl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Sl(I){const f=I.config;Pe(f.authDomain,I,"auth-domain-config-required");const p=f.emulator?un(f,"emulator/auth/iframe"):`https://${I.config.authDomain}/__/auth/iframe`,C={apiKey:f.apiKey,appName:I.name,v:H.SDK_VERSION},Z=Tl.get(I.config.apiHost);Z&&(C.eid=Z);const ie=I._getFrameworks();return ie.length&&(C.fw=ie.join(",")),`${p}?${(0,k.xO)(C).slice(1)}`}function Nu(){return Nu=(0,c.Z)(function*(I){const f=yield Cl(I),p=mi().gapi;return Pe(p,I,"internal-error"),f.open({where:document.body,url:Sl(I),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Yu,dontclear:!0},C=>new Promise(function(){var Z=(0,c.Z)(function*(ie,et){yield C.restyle({setHideOnLeave:!1});const Nt=ae(I,"network-request-failed"),mn=mi().setTimeout(()=>{et(Nt)},uc.get());function Un(){mi().clearTimeout(mn),ie(C)}C.ping(Un).then(Un,()=>{et(Nt)})});return function(ie,et){return Z.apply(this,arguments)}}()))}),Nu.apply(this,arguments)}const Qu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class rd{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ja(I,f,p,C,Z,ie){Pe(I.config.authDomain,I,"auth-domain-config-required"),Pe(I.config.apiKey,I,"invalid-api-key");const et={apiKey:I.config.apiKey,appName:I.name,authType:p,redirectUrl:C,v:H.SDK_VERSION,eventId:Z};if(f instanceof pi){f.setDefaultLanguage(I.languageCode),et.providerId=f.providerId||"",(0,k.xb)(f.getCustomParameters())||(et.customParameters=JSON.stringify(f.getCustomParameters()));for(const[mn,Un]of Object.entries(ie||{}))et[mn]=Un}if(f instanceof ds){const mn=f.getScopes().filter(Un=>""!==Un);mn.length>0&&(et.scopes=mn.join(","))}I.tenantId&&(et.tid=I.tenantId);const Nt=et;for(const mn of Object.keys(Nt))void 0===Nt[mn]&&delete Nt[mn];return`${function na({config:I}){return I.emulator?un(I,"emulator/auth/handler"):`https://${I.authDomain}/__/auth/handler`}(I)}?${(0,k.xO)(Nt).slice(1)}`}const Ml="webStorageSupport",hc=class pu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Bo,this._completeRedirectFn=$n,this._overrideRedirectResult=js}_openPopup(f,p,C,Z){var ie=this;return(0,c.Z)(function*(){var et;Qe(null===(et=ie.eventManagers[f._key()])||void 0===et?void 0:et.manager,"_initialize() not called before _openPopup()");const Nt=ja(f,p,C,Ct(),Z);return function fu(I,f,p,C=500,Z=600){const ie=Math.max((window.screen.availHeight-Z)/2,0).toString(),et=Math.max((window.screen.availWidth-C)/2,0).toString();let Nt="";const mn=Object.assign(Object.assign({},Qu),{width:C.toString(),height:Z.toString(),top:ie,left:et}),Un=(0,k.z$)().toLowerCase();p&&(Nt=gt(Un)?"_blank":p),ve(Un)&&(f=f||"http://localhost",mn.scrollbars="yes");const gr=Object.entries(mn).reduce(($a,[Fi,jr])=>`${$a}${Fi}=${jr},`,"");if(function Be(I=(0,k.z$)()){var f;return de(I)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(Un)&&"_self"!==Nt)return function cc(I,f){const p=document.createElement("a");p.href=I,p.target=f;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(C)}(f||"",Nt),new rd(null);const Ai=window.open(f||"",Nt,gr);Pe(Ai,I,"popup-blocked");try{Ai.focus()}catch{}return new rd(Ai)}(f,Nt,Ta())})()}_openRedirect(f,p,C,Z){var ie=this;return(0,c.Z)(function*(){return yield ie._originValidation(f),function _a(I){mi().location.href=I}(ja(f,p,C,Ct(),Z)),new Promise(()=>{})})()}_initialize(f){const p=f._key();if(this.eventManagers[p]){const{manager:Z,promise:ie}=this.eventManagers[p];return Z?Promise.resolve(Z):(Qe(ie,"If manager is not set, promise should be"),ie)}const C=this.initAndGetManager(f);return this.eventManagers[p]={promise:C},C.catch(()=>{delete this.eventManagers[p]}),C}initAndGetManager(f){var p=this;return(0,c.Z)(function*(){const C=yield function lc(I){return Nu.apply(this,arguments)}(f),Z=new Ss(f);return C.register("authEvent",ie=>(Pe(ie?.authEvent,f,"invalid-auth-event"),{status:Z.onEvent(ie.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[f._key()]={manager:Z},p.iframes[f._key()]=C,Z})()}_isIframeWebStorageSupported(f,p){this.iframes[f._key()].send(Ml,{type:Ml},Z=>{var ie;const et=null===(ie=Z?.[0])||void 0===ie?void 0:ie[Ml];void 0!==et&&p(!!et),At(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const p=f._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Ma(I){return cu.apply(this,arguments)}(f)),this.originValidationPromises[p]}get _shouldInitProactively(){return tn()||Ie()||de()}};class xl extends class Ou{constructor(f){this.factorId=f}_process(f,p,C){switch(p.type){case"enroll":return this._finalizeEnroll(f,p.credential,C);case"signin":return this._finalizeSignIn(f,p.credential);default:return He("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new xl(f)}_finalizeEnroll(f,p,C){return function vo(I,f){return ze(I,"POST","/v2/accounts/mfaEnrollment:finalize",Me(I,f))}(f,{idToken:p,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,p){return function gs(I,f){return ze(I,"POST","/v2/accounts/mfaSignIn:finalize",Me(I,f))}(f,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let xa=(()=>{class I{constructor(){}static assertion(p){return xl._fromCredential(p)}}return I.FACTOR_ID="phone",I})();var wa="@firebase/auth";class dh{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var p=this;return(0,c.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const p=this.auth.onIdTokenChanged(C=>{var Z;f((null===(Z=C)||void 0===Z?void 0:Z.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,p),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const p=this.internalListeners.get(f);!p||(this.internalListeners.delete(f),p(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function Nl(I){(0,H._registerComponent)(new Fe.wA("auth",(f,{options:p})=>{const C=f.getProvider("app").getImmediate(),Z=f.getProvider("heartbeat"),{apiKey:ie,authDomain:et}=C.options;return((Nt,mn)=>{Pe(ie&&!ie.includes(":"),"invalid-api-key",{appName:Nt.name}),Pe(!et?.includes(":"),"argument-error",{appName:Nt.name});const Un={apiKey:ie,authDomain:et,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:An(I)},gr=new oi(Nt,mn,Un);return function Ge(I,f){const p=f?.persistence||[],C=(Array.isArray(p)?p:[p]).map(ke);f?.errorMap&&I._updateErrorMap(f.errorMap),I._initializeWithPersistence(C,f?.popupRedirectResolver)}(gr,p),gr})(C,Z)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,p,C)=>{f.getProvider("auth-internal").initialize()})),(0,H._registerComponent)(new Fe.wA("auth-internal",f=>{const p=gn(f.getProvider("auth").getImmediate());return new dh(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,H.registerVersion)(wa,"0.20.7",function qi(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,H.registerVersion)(wa,"0.20.7","esm2017")}("Browser")},5525:(nn,it,V)=>{V.d(it,{u7:()=>ih,Jj:()=>Es,IX:()=>Pf,my:()=>Ms,xU:()=>bu,Lz:()=>ko,WA:()=>jt,F8:()=>yl,$q:()=>qc,W:()=>ou,EK:()=>Lr,PU:()=>Ry,l7:()=>Sr,Ky:()=>Jt,Xb:()=>Zr,Cf:()=>$r,K9:()=>za,Me:()=>Re,yq:()=>vo,Wi:()=>Rf,ET:()=>cm,Ab:()=>au,vr:()=>Jf,Fc:()=>Qd,hJ:()=>Dy,B$:()=>zv,at:()=>Ug,oe:()=>lm,AK:()=>Yv,TF:()=>Wc,JU:()=>Bg,ST:()=>Cy,fH:()=>Ty,Ix:()=>qv,Wu:()=>Wf,Lx:()=>im,qY:()=>Xs,GL:()=>sc,QT:()=>Oy,kl:()=>Py,Xk:()=>co,PL:()=>am,UQ:()=>ky,zN:()=>Fy,nP:()=>By,b9:()=>tm,vh:()=>nm,Pb:()=>Sy,L$:()=>kf,cf:()=>ic,sc:()=>Vy,Xo:()=>My,IO:()=>Jg,iE:()=>jg,Eo:()=>Wv,i3:()=>dm,Bt:()=>Qf,pl:()=>um,Ub:()=>xo,qK:()=>Qg,TQ:()=>Ny,e0:()=>xy,r7:()=>Ly,Mx:()=>ml,ar:()=>Hf});var ce,c=V(5861),k=V(9681),H=V(4859),be=V(1877),me=V(2090),Fe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},xe={},We=We||{},re=Fe||self;function fe(){}function Oe(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function yt(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var tt="closure_uid_"+(1e9*Math.random()>>>0),Ht=0;function Xe(i,e,n){return i.call.apply(i.bind,arguments)}function Ye(i,e,n){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function St(i,e,n){return(St=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Xe:Ye).apply(null,arguments)}function At(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var o=n.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function ae(i,e){function n(){}n.prototype=e.prototype,i.X=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.Vb=function(o,u,d){for(var g=Array(arguments.length-2),b=2;b<arguments.length;b++)g[b-2]=arguments[b];return e.prototype[u].apply(o,g)}}function Ne(){this.s=this.s,this.o=this.o}var xt={};Ne.prototype.s=!1,Ne.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function ft(i){return Object.prototype.hasOwnProperty.call(i,tt)&&i[tt]||(i[tt]=++Ht)}(this);delete xt[i]}},Ne.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Pe=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1};function He(i){const e=i.length;if(0<e){const n=Array(e);for(let o=0;o<e;o++)n[o]=i[o];return n}return[]}function Qe(i,e){for(let n=1;n<arguments.length;n++){const o=arguments[n];if(Oe(o)){const u=i.length||0,d=o.length||0;i.length=u+d;for(let g=0;g<d;g++)i[u+g]=o[g]}else i.push(o)}}function Se(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}Se.prototype.h=function(){this.defaultPrevented=!0};var ke=function(){if(!re.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{re.addEventListener("test",fe,e),re.removeEventListener("test",fe,e)}catch{}return i}();function je(i){return/^[\s\xa0]*$/.test(i)}var Ge=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Ct(i,e){return i<e?-1:i>e?1:0}function Ot(){var i=re.navigator;return i&&(i=i.userAgent)?i:""}function Ft(i){return-1!=Ot().indexOf(i)}function Qt(i){return Qt[" "](i),i}Qt[" "]=fe;var Kt,i,Dt=Ft("Opera"),un=Ft("Trident")||Ft("MSIE"),pn=Ft("Edge"),rt=pn||un,It=Ft("Gecko")&&!(-1!=Ot().toLowerCase().indexOf("webkit")&&!Ft("Edge"))&&!(Ft("Trident")||Ft("MSIE"))&&!Ft("Edge"),Me=-1!=Ot().toLowerCase().indexOf("webkit")&&!Ft("Edge");function ze(){var i=re.document;return i?i.documentMode:void 0}e:{var vn="",Jn=(i=Ot(),It?/rv:([^\);]+)(\)|;)/.exec(i):pn?/Edge\/([\d\.]+)/.exec(i):un?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Me?/WebKit\/(\S+)/.exec(i):Dt?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Jn&&(vn=Jn?Jn[1]:""),un){var Bn=ze();if(null!=Bn&&Bn>parseFloat(vn)){Kt=String(Bn);break e}}Kt=vn}var dr={};var Nr=re.document&&un&&(ze()||parseInt(Kt,10))||void 0;function or(i,e){if(Se.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(It){e:{try{Qt(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Ut[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&or.X.h.call(this)}}ae(or,Se);var Ut={2:"touch",3:"pen",4:"mouse"};or.prototype.h=function(){or.X.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Pn="closure_listenable_"+(1e6*Math.random()|0),bn=0;function Zn(i,e,n,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!o,this.ha=u,this.key=++bn,this.ba=this.ea=!1}function br(i){i.ba=!0,i.listener=null,i.proxy=null,i.src=null,i.ha=null}function bi(i,e,n){for(const o in i)e.call(n,i[o],o,i)}function Cr(i){const e={};for(const n in i)e[n]=i[n];return e}const ot="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ee(i,e){let n,o;for(let u=1;u<arguments.length;u++){for(n in o=arguments[u],o)i[n]=o[n];for(let d=0;d<ot.length;d++)n=ot[d],Object.prototype.hasOwnProperty.call(o,n)&&(i[n]=o[n])}}function pe(i){this.src=i,this.g={},this.h=0}function lt(i,e){var n=e.type;if(n in i.g){var d,o=i.g[n],u=Pe(o,e);(d=0<=u)&&Array.prototype.splice.call(o,u,1),d&&(br(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function dt(i,e,n,o){for(var u=0;u<i.length;++u){var d=i[u];if(!d.ba&&d.listener==e&&d.capture==!!n&&d.ha==o)return u}return-1}pe.prototype.add=function(i,e,n,o,u){var d=i.toString();(i=this.g[d])||(i=this.g[d]=[],this.h++);var g=dt(i,e,o,u);return-1<g?(e=i[g],n||(e.ea=!1)):((e=new Zn(e,this.src,d,!!o,u)).ea=n,i.push(e)),e};var fn="closure_lm_"+(1e6*Math.random()|0),Cn={};function Yn(i,e,n,o,u){if(o&&o.once)return Tn(i,e,n,o,u);if(Array.isArray(e)){for(var d=0;d<e.length;d++)Yn(i,e[d],n,o,u);return null}return n=X(n),i&&i[Pn]?i.N(e,n,yt(o)?!!o.capture:!!o,u):zt(i,e,n,!1,o,u)}function zt(i,e,n,o,u,d){if(!e)throw Error("Invalid event type");var g=yt(u)?!!u.capture:!!u,b=ge(i);if(b||(i[fn]=b=new pe(i)),(n=b.add(e,n,o,g,d)).proxy)return n;if(o=function ar(){const e=oe;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=o,o.src=i,o.listener=n,i.addEventListener)ke||(u=g),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(De(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return n}function Tn(i,e,n,o,u){if(Array.isArray(e)){for(var d=0;d<e.length;d++)Tn(i,e[d],n,o,u);return null}return n=X(n),i&&i[Pn]?i.O(e,n,yt(o)?!!o.capture:!!o,u):zt(i,e,n,!0,o,u)}function kr(i,e,n,o,u){if(Array.isArray(e))for(var d=0;d<e.length;d++)kr(i,e[d],n,o,u);else o=yt(o)?!!o.capture:!!o,n=X(n),i&&i[Pn]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=dt(d=i.g[e],n,o,u))&&(br(d[n]),Array.prototype.splice.call(d,n,1),0==d.length&&(delete i.g[e],i.h--))):i&&(i=ge(i))&&(e=i.g[e.toString()],i=-1,e&&(i=dt(e,n,o,u)),(n=-1<i?e[i]:null)&&Sn(n))}function Sn(i){if("number"!=typeof i&&i&&!i.ba){var e=i.src;if(e&&e[Pn])lt(e.i,i);else{var n=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(n,o,i.capture):e.detachEvent?e.detachEvent(De(n),o):e.addListener&&e.removeListener&&e.removeListener(o),(n=ge(e))?(lt(n,i),0==n.h&&(n.src=null,e[fn]=null)):br(i)}}}function De(i){return i in Cn?Cn[i]:Cn[i]="on"+i}function oe(i,e){if(i.ba)i=!0;else{e=new or(e,this);var n=i.listener,o=i.ha||i.src;i.ea&&Sn(i),i=n.call(o,e)}return i}function ge(i){return(i=i[fn])instanceof pe?i:null}var Te="__closure_events_fn_"+(1e9*Math.random()>>>0);function X(i){return"function"==typeof i?i:(i[Te]||(i[Te]=function(e){return i.handleEvent(e)}),i[Te])}function $(){Ne.call(this),this.i=new pe(this),this.P=this,this.I=null}function ee(i,e){var n,o=i.I;if(o)for(n=[];o;o=o.I)n.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new Se(e,i);else if(e instanceof Se)e.target=e.target||i;else{var u=e;Ee(e=new Se(o,i),u)}if(u=!0,n)for(var d=n.length-1;0<=d;d--){var g=e.g=n[d];u=Ue(g,o,!0,e)&&u}if(u=Ue(g=e.g=i,o,!0,e)&&u,u=Ue(g,o,!1,e)&&u,n)for(d=0;d<n.length;d++)u=Ue(g=e.g=n[d],o,!1,e)&&u}function Ue(i,e,n,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,d=0;d<e.length;++d){var g=e[d];if(g&&!g.ba&&g.capture==n){var b=g.listener,U=g.ha||g.src;g.ea&&lt(i.i,g),u=!1!==b.call(U,o)&&u}}return u&&!o.defaultPrevented}ae($,Ne),$.prototype[Pn]=!0,$.prototype.removeEventListener=function(i,e,n,o){kr(this,i,e,n,o)},$.prototype.M=function(){if($.X.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],o=0;o<n.length;o++)br(n[o]);delete i.g[e],i.h--}}this.I=null},$.prototype.N=function(i,e,n,o){return this.i.add(String(i),e,!1,n,o)},$.prototype.O=function(i,e,n,o){return this.i.add(String(i),e,!0,n,o)};var Mt=re.JSON.stringify;function cn(){var i=le;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var $t,$e=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new ve,i=>i.reset());class ve{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Ie(i){re.setTimeout(()=>{throw i},0)}function gt(i,e){$t||function _n(){var i=re.Promise.resolve(void 0);$t=function(){i.then(de)}}(),Yt||($t(),Yt=!0),le.add(i,e)}var Yt=!1,le=new class jn{constructor(){this.h=this.g=null}add(e,n){const o=$e.get();o.set(e,n),this.h?this.h.next=o:this.g=o,this.h=o}};function de(){for(var i;i=cn();){try{i.h.call(i.g)}catch(n){Ie(n)}var e=$e;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Yt=!1}function se(i,e){$.call(this),this.h=i||1,this.g=e||re,this.j=St(this.kb,this),this.l=Date.now()}function Be(i){i.ca=!1,i.R&&(i.g.clearTimeout(i.R),i.R=null)}function at(i,e,n){if("function"==typeof i)n&&(i=St(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=St(i.handleEvent,i)}return 2147483647<Number(e)?-1:re.setTimeout(i,e||0)}function tn(i){i.g=at(()=>{i.g=null,i.i&&(i.i=!1,tn(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}ae(se,$),(ce=se.prototype).ca=!1,ce.R=null,ce.kb=function(){if(this.ca){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-i):(this.R&&(this.g.clearTimeout(this.R),this.R=null),ee(this,"tick"),this.ca&&(Be(this),this.start()))}},ce.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ce.M=function(){se.X.M.call(this),Be(this),delete this.g};class Nn extends Ne{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:tn(this)}M(){super.M(),this.g&&(re.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function An(i){Ne.call(this),this.h=i,this.g={}}ae(An,Ne);var Rr=[];function oi(i,e,n,o){Array.isArray(n)||(n&&(Rr[0]=n.toString()),n=Rr);for(var u=0;u<n.length;u++){var d=Yn(e,n[u],o||i.handleEvent,!1,i.h||i);if(!d)break;i.g[d.key]=d}}function gn(i){bi(i.g,function(e,n){this.g.hasOwnProperty(n)&&Sn(e)},i),i.g={}}function Li(){this.g=!0}function Gi(i,e,n,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Gs(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var o=n[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var d=u[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var g=1;g<u.length;g++)u[g]=""}}}return Mt(n)}catch{return e}}(i,n)+(o?" "+o:"")})}An.prototype.M=function(){An.X.M.call(this),gn(this)},An.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Li.prototype.Aa=function(){this.g=!1},Li.prototype.info=function(){};var Xr={},fi=null;function Fr(){return fi=fi||new $}function Is(i){Se.call(this,Xr.Oa,i)}function ur(i){const e=Fr();ee(e,new Is(e,i))}function qo(i,e){Se.call(this,Xr.STAT_EVENT,i),this.stat=e}function Jr(i){const e=Fr();ee(e,new qo(e,i))}function ts(i,e){Se.call(this,Xr.Pa,i),this.size=e}function Zi(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return re.setTimeout(function(){i()},e)}Xr.Oa="serverreachability",ae(Is,Se),Xr.STAT_EVENT="statevent",ae(qo,Se),Xr.Pa="timingevent",ae(ts,Se);var zi={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},Ke={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Ve(){}function Tt(){}Ve.prototype.h=null;var Hr,Vt={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function on(){Se.call(this,"d")}function Qn(){Se.call(this,"c")}function lr(){}function fr(i,e,n,o){this.l=i,this.j=e,this.m=n,this.U=o||1,this.S=new An(this),this.O=to,this.T=new se(i=rt?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new ns}function ns(){this.i=null,this.g="",this.h=!1}ae(on,Se),ae(Qn,Se),ae(lr,Ve),lr.prototype.g=function(){return new XMLHttpRequest},lr.prototype.i=function(){return{}},Hr=new lr;var to=45e3,Yi={},ei={};function Ns(i,e,n){i.K=1,i.v=Ws(Ji(e)),i.s=n,i.P=!0,Ui(i,null)}function Ui(i,e){i.F=Date.now(),Rs(i),i.A=Ji(i.v);var n=i.A,o=i.U;Array.isArray(o)||(o=[String(o)]),Fs(n.i,"t",o),i.C=0,n=i.l.H,i.h=new ns,i.g=S(i.l,n?e:null,!i.s),0<i.N&&(i.L=new Nn(St(i.Ka,i,i.g),i.N)),oi(i.S,i.g,"readystatechange",i.hb),e=i.H?Cr(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.da(i.A,i.u,i.s,e)):(i.u="GET",i.g.da(i.A,i.u,null,e)),ur(1),function Vi(i,e,n,o,u,d){i.info(function(){if(i.g)if(d)for(var g="",b=d.split("&"),U=0;U<b.length;U++){var z=b[U].split("=");if(1<z.length){var ne=z[0];z=z[1];var Ae=ne.split("_");g=2<=Ae.length&&"type"==Ae[1]?g+(ne+"=")+z+"&":g+(ne+"=redacted&")}}else g=null;else g=d;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+n+"\n"+g})}(i.j,i.u,i.A,i.m,i.U,i.s)}function Fo(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Da}function rs(i,e,n){let u,o=!0;for(;!i.I&&i.C<n.length;){if(u=Qi(i,n),u==ei){4==e&&(i.o=4,Jr(14),o=!1),Gi(i.j,i.m,null,"[Incomplete Response]");break}if(u==Yi){i.o=4,Jr(15),Gi(i.j,i.m,n,"[Invalid Chunk]"),o=!1;break}Gi(i.j,i.m,u,null),Ca(i,u)}Fo(i)&&u!=ei&&u!=Yi&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,Jr(16),o=!1),i.i=i.i&&o,o?0<n.length&&!i.$&&(i.$=!0,(e=i.l).g==i&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),So(e),e.K=!0,Jr(11))):(Gi(i.j,i.m,n,"[Invalid Chunked Response]"),Ds(i),is(i))}function Qi(i,e){var n=i.C,o=e.indexOf("\n",n);return-1==o?ei:(n=Number(e.substring(n,o)),isNaN(n)?Yi:(o+=1)+n>e.length?ei:(e=e.substr(o,n),i.C=o+n,e))}function Rs(i){i.V=Date.now()+i.O,Do(i,i.O)}function Do(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Zi(St(i.fb,i),e)}function Os(i){i.B&&(re.clearTimeout(i.B),i.B=null)}function is(i){0==i.l.G||i.I||ma(i.l,i)}function Ds(i){Os(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,Be(i.T),gn(i.S),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function Ca(i,e){try{var n=i.l;if(0!=n.G&&(n.g==i||gi(n.h,i)))if(!i.J&&gi(n.h,i)&&3==n.G){try{var o=n.Fa.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<i.F))break e;yo(n),ht(n)}Ys(n),Jr(18)}}else n.Ba=u[1],0<n.Ba-n.T&&37500>u[2]&&n.L&&0==n.A&&!n.v&&(n.v=Zi(St(n.bb,n),6e3));if(1>=_i(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else so(n,11)}else if((i.J||n.g==i)&&yo(n),!je(e))for(u=n.Fa.g.parse(e),e=0;e<u.length;e++){let z=u[e];if(n.T=z[0],z=z[1],2==n.G)if("c"==z[0]){n.I=z[1],n.ka=z[2];const ne=z[3];null!=ne&&(n.ma=ne,n.j.info("VER="+n.ma));const Ae=z[4];null!=Ae&&(n.Ca=Ae,n.j.info("SVER="+n.Ca));const ct=z[5];null!=ct&&"number"==typeof ct&&0<ct&&(n.J=o=1.5*ct,n.j.info("backChannelRequestTimeoutMs_="+o)),o=n;const Rt=i.g;if(Rt){const kt=Rt.g?Rt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kt){var d=o.h;d.g||-1==kt.indexOf("spdy")&&-1==kt.indexOf("quic")&&-1==kt.indexOf("h2")||(d.j=d.l,d.g=new Set,d.h&&(rr(d,d.h),d.h=null))}if(o.D){const En=Rt.g?Rt.g.getResponseHeader("X-HTTP-Session-Id"):null;En&&(o.za=En,er(o.F,o.D,En))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-i.F,n.j.info("Handshake RTT: "+n.P+"ms"));var g=i;if((o=n).sa=Qo(o,o.H?o.ka:null,o.V),g.J){no(o.h,g);var b=g,U=o.J;U&&b.setTimeout(U),b.B&&(Os(b),Rs(b)),o.g=g}else ps(o);0<n.i.length&&yr(n)}else"stop"!=z[0]&&"close"!=z[0]||so(n,7);else 3==n.G&&("stop"==z[0]||"close"==z[0]?"stop"==z[0]?so(n,7):Q(n):"noop"!=z[0]&&n.l&&n.l.wa(z),n.A=0)}ur(4)}catch{}}function bs(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Oe(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var n=function zs(i){if(i.oa&&"function"==typeof i.oa)return i.oa();if(!i.W||"function"!=typeof i.W){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(Oe(i)||"string"==typeof i){var e=[];i=i.length;for(var n=0;n<i;n++)e.push(n);return e}e=[],n=0;for(const o in i)e[n++]=o;return e}}}(i),o=function sa(i){if(i.W&&"function"==typeof i.W)return i.W();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(Oe(i)){for(var e=[],n=i.length,o=0;o<n;o++)e.push(i[o]);return e}for(o in e=[],n=0,i)e[n++]=i[o];return e}(i),u=o.length,d=0;d<u;d++)e.call(void 0,o[d],n&&n[d],i)}(ce=fr.prototype).setTimeout=function(i){this.O=i},ce.hb=function(i){i=i.target;const e=this.L;e&&3==ci(i)?e.l():this.Ka(i)},ce.Ka=function(i){try{if(i==this.g)e:{const ne=ci(this.g);var e=this.g.Ea();const Ae=this.g.aa();if(!(3>ne)&&(3!=ne||rt||this.g&&(this.h.h||this.g.fa()||go(this.g)))){this.I||4!=ne||7==e||ur(8==e||0>=Ae?3:2),Os(this);var n=this.g.aa();this.Y=n;t:if(Fo(this)){var o=go(this.g);i="";var u=o.length,d=4==ci(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ds(this),is(this);var g="";break t}this.h.i=new re.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:d&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,g=this.h.g}else g=this.g.fa();if(this.i=200==n,function ws(i,e,n,o,u,d,g){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+n+"\n"+d+" "+g})}(this.j,this.u,this.A,this.m,this.U,ne,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var b,U=this.g;if((b=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!je(b)){var z=b;break t}}z=null}if(!(n=z)){this.i=!1,this.o=3,Jr(12),Ds(this),is(this);break e}Gi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ca(this,n)}this.P?(rs(this,ne,g),rt&&this.i&&3==ne&&(oi(this.S,this.T,"tick",this.gb),this.T.start())):(Gi(this.j,this.m,g,null),Ca(this,g)),4==ne&&Ds(this),this.i&&!this.I&&(4==ne?ma(this.l,this):(this.i=!1,Rs(this)))}else 400==n&&0<g.indexOf("Unknown SID")?(this.o=3,Jr(12)):(this.o=0,Jr(13)),Ds(this),is(this)}}}catch{}},ce.gb=function(){if(this.g){var i=ci(this.g),e=this.g.fa();this.C<e.length&&(Os(this),rs(this,i,e),this.i&&4!=i&&Rs(this))}},ce.cancel=function(){this.I=!0,Ds(this)},ce.fb=function(){this.B=null;const i=Date.now();0<=i-this.V?(function Qr(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(ur(3),Jr(17)),Ds(this),this.o=2,is(this)):Do(this,this.V-i)};var bo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ti(i,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof ti){this.h=void 0!==e?e:i.h,Cs(this,i.j),this.s=i.s,this.g=i.g,pi(this,i.m),this.l=i.l,e=i.i;var n=new Gr;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),ds(this,n),this.o=i.o}else i&&(n=String(i).match(bo))?(this.h=!!e,Cs(this,n[1]||"",!0),this.s=Ps(n[2]||""),this.g=Ps(n[3]||"",!0),pi(this,n[4]),this.l=Ps(n[5]||"",!0),ds(this,n[6]||"",!0),this.o=Ps(n[7]||"")):(this.h=!!e,this.i=new Gr(null,this.h))}function Ji(i){return new ti(i)}function Cs(i,e,n){i.j=n?Ps(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function pi(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function ds(i,e,n){e instanceof Gr?(i.i=e,function Co(i,e){e&&!i.j&&(ai(i),i.i=null,i.g.forEach(function(n,o){var u=o.toLowerCase();o!=u&&(ks(this,o),Fs(this,u,n))},i)),i.j=e}(i.i,i.h)):(n||(e=ss(e,Xi)),i.i=new Gr(e,i.h))}function er(i,e,n){i.i.set(e,n)}function Ws(i){return er(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Ps(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function ss(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,ho),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function ho(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}ti.prototype.toString=function(){var i=[],e=this.j;e&&i.push(ss(e,os,!0),":");var n=this.g;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(ss(e,os,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&i.push("/"),i.push(ss(n,"/"==n.charAt(0)?Ci:fo,!0))),(n=this.i.toString())&&i.push("?",n),(n=this.o)&&i.push("#",ss(n,Bi)),i.join("")};var os=/[#\/\?@]/g,fo=/[#\?:]/g,Ci=/[#\?]/g,Xi=/[#\?@]/g,Bi=/#/g;function Gr(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function ai(i){i.g||(i.g=new Map,i.h=0,i.i&&function Lo(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var o=i[n].indexOf("="),u=null;if(0<=o){var d=i[n].substring(0,o);u=i[n].substring(o+1)}else d=i[n];e(d,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function ks(i,e){ai(i),e=Or(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function Vo(i,e){return ai(i),e=Or(i,e),i.g.has(e)}function Fs(i,e,n){ks(i,e),0<n.length&&(i.i=null,i.g.set(Or(i,e),He(n)),i.h+=n.length)}function Or(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function ui(i){this.l=i||ni,i=re.PerformanceNavigationTiming?0<(i=re.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(re.g&&re.g.Ga&&re.g.Ga()&&re.g.Ga().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ce=Gr.prototype).add=function(i,e){ai(this),this.i=null,i=Or(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},ce.forEach=function(i,e){ai(this),this.g.forEach(function(n,o){n.forEach(function(u){i.call(e,u,o,this)},this)},this)},ce.oa=function(){ai(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let o=0;o<e.length;o++){const u=i[o];for(let d=0;d<u.length;d++)n.push(e[o])}return n},ce.W=function(i){ai(this);let e=[];if("string"==typeof i)Vo(this,i)&&(e=e.concat(this.g.get(Or(this,i))));else{i=Array.from(this.g.values());for(let n=0;n<i.length;n++)e=e.concat(i[n])}return e},ce.set=function(i,e){return ai(this),this.i=null,Vo(this,i=Or(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},ce.get=function(i,e){return i&&0<(i=this.W(i)).length?String(i[0]):e},ce.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var o=e[n];const d=encodeURIComponent(String(o)),g=this.W(o);for(o=0;o<g.length;o++){var u=d;""!==g[o]&&(u+="="+encodeURIComponent(String(g[o]))),i.push(u)}}return this.i=i.join("&")};var ni=10;function ji(i){return!!i.h||!!i.g&&i.g.size>=i.j}function _i(i){return i.h?1:i.g?i.g.size:0}function gi(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function rr(i,e){i.g?i.g.add(e):i.h=e}function no(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function as(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.D);return e}return He(i.i)}function To(){}function Ti(){this.g=new To}function Ks(i,e,n){const o=n||"";try{bs(i,function(u,d){let g=u;yt(u)&&(g=Mt(u)),e.push(o+d+"="+encodeURIComponent(g))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function Rn(i,e,n,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch{}}function Ls(i){this.l=i.$b||null,this.j=i.ib||!1}function Uo(i,e){$.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=ro,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ui.prototype.cancel=function(){if(this.i=as(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},To.prototype.stringify=function(i){return re.JSON.stringify(i,void 0)},To.prototype.parse=function(i){return re.JSON.parse(i,void 0)},ae(Ls,Ve),Ls.prototype.g=function(){return new Uo(this.l,this.j)},Ls.prototype.i=function(i){return function(){return i}}({}),ae(Uo,$);var ro=0;function Ei(i){i.j.read().then(i.Sa.bind(i)).catch(i.ga.bind(i))}function ii(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Oi(i)}function Oi(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(ce=Uo.prototype).open=function(i,e){if(this.readyState!=ro)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Oi(this)},ce.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||re).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ga.bind(this))},ce.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ii(this)),this.readyState=ro},ce.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Oi(this)),this.g&&(this.readyState=3,Oi(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if(typeof re.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ei(this)}else i.text().then(this.Ua.bind(this),this.ga.bind(this))},ce.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?ii(this):Oi(this),3==this.readyState&&Ei(this)}},ce.Ua=function(i){this.g&&(this.response=this.responseText=i,ii(this))},ce.Ta=function(i){this.g&&(this.response=i,ii(this))},ce.ga=function(){this.g&&ii(this)},ce.setRequestHeader=function(i,e){this.v.append(i,e)},ce.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},ce.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(Uo.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var hs=re.JSON.parse;function Kr(i){$.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Lt,this.K=this.L=!1}ae(Kr,$);var Lt="",tr=/^https?$/i,Yo=["POST","PUT"];function qr(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,fs(i),wi(i)}function fs(i){i.D||(i.D=!0,ee(i,"complete"),ee(i,"error"))}function qs(i){if(i.h&&typeof We<"u"&&(!i.C[1]||4!=ci(i)||2!=i.aa()))if(i.v&&4==ci(i))at(i.Ha,0,i);else if(ee(i,"readystatechange"),4==ci(i)){i.h=!1;try{const b=i.aa();e:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var o;if(o=0===b){var u=String(i.H).match(bo)[1]||null;if(!u&&re.self&&re.self.location){var d=re.self.location.protocol;u=d.substr(0,d.length-1)}o=!tr.test(u?u.toLowerCase():"")}n=o}if(n)ee(i,"complete"),ee(i,"success");else{i.m=6;try{var g=2<ci(i)?i.g.statusText:""}catch{g=""}i.j=g+" ["+i.aa()+"]",fs(i)}}finally{wi(i)}}}function wi(i,e){if(i.g){Zs(i);const n=i.g,o=i.C[0]?fe:null;i.g=null,i.C=null,e||ee(i,"ready");try{n.onreadystatechange=o}catch{}}}function Zs(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(re.clearTimeout(i.A),i.A=null)}function ci(i){return i.g?i.g.readyState:0}function go(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case Lt:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function mo(i){let e="";return bi(i,function(n,o){e+=o,e+=":",e+=n,e+="\r\n"}),e}function L(i,e,n){e:{for(o in n){var o=!1;break e}o=!0}o||(n=mo(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):er(i,e,n))}function O(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function A(i){this.Ca=0,this.i=[],this.j=new Li,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=O("failFast",!1,i),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=O("baseRetryDelayMs",5e3,i),this.ab=O("retryDelaySeedMs",1e4,i),this.Za=O("forwardChannelMaxRetries",2,i),this.ta=O("forwardChannelRequestTimeoutMs",2e4,i),this.ra=i&&i.xmlHttpFactory||void 0,this.Da=i&&i.Yb||!1,this.J=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.I="",this.h=new ui(i&&i.concurrentRequestLimit),this.Fa=new Ti,this.O=i&&i.fastHandshake||!1,this.N=i&&i.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=i&&i.Wb||!1,i&&i.Aa&&this.j.Aa(),i&&i.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&i&&i.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Q(i){if(hn(i),3==i.G){var e=i.U++,n=Ji(i.F);er(n,"SID",i.I),er(n,"RID",e),er(n,"TYPE","terminate"),ri(i,n),(e=new fr(i,i.j,e,void 0)).K=2,e.v=Ws(Ji(n)),n=!1,re.navigator&&re.navigator.sendBeacon&&(n=re.navigator.sendBeacon(e.v.toString(),"")),!n&&re.Image&&((new Image).src=e.v,n=!0),n||(e.g=S(e.l,null),e.g.da(e.v)),e.F=Date.now(),Rs(e)}Mo(i)}function ht(i){i.g&&(So(i),i.g.cancel(),i.g=null)}function hn(i){ht(i),i.u&&(re.clearTimeout(i.u),i.u=null),yo(i),i.h.cancel(),i.m&&("number"==typeof i.m&&re.clearTimeout(i.m),i.m=null)}function yr(i){ji(i.h)||i.m||(i.m=!0,gt(i.Ja,i),i.C=0)}function es(i,e){var n;n=e?e.m:i.U++;const o=Ji(i.F);er(o,"SID",i.I),er(o,"RID",n),er(o,"AID",i.T),ri(i,o),i.o&&i.s&&L(o,i.o,i.s),n=new fr(i,i.j,n,i.C+1),null===i.o&&(n.H=i.s),e&&(i.i=e.D.concat(i.i)),e=io(i,n,1e3),n.setTimeout(Math.round(.5*i.ta)+Math.round(.5*i.ta*Math.random())),rr(i.h,n),Ns(n,o,e)}function ri(i,e){i.ia&&bi(i.ia,function(n,o){er(e,o,n)}),i.l&&bs({},function(n,o){er(e,o,n)})}function io(i,e,n){n=Math.min(i.i.length,n);var o=i.l?St(i.l.Qa,i.l,i):null;e:{var u=i.i;let d=-1;for(;;){const g=["count="+n];-1==d?0<n?(d=u[0].h,g.push("ofs="+d)):d=0:g.push("ofs="+d);let b=!0;for(let U=0;U<n;U++){let z=u[U].h;const ne=u[U].g;if(z-=d,0>z)d=Math.max(0,u[U].h-100),b=!1;else try{Ks(ne,g,"req"+z+"_")}catch{o&&o(ne)}}if(b){o=g.join("&");break e}}}return i=i.i.splice(0,n),e.D=i,o}function ps(i){i.g||i.u||(i.Z=1,gt(i.Ia,i),i.A=0)}function Ys(i){return!(i.g||i.u||3<=i.A||(i.Z++,i.u=Zi(St(i.Ia,i),Ao(i,i.A)),i.A++,0))}function So(i){null!=i.B&&(re.clearTimeout(i.B),i.B=null)}function oa(i){i.g=new fr(i,i.j,"rpc",i.Z),null===i.o&&(i.g.H=i.s),i.g.N=0;var e=Ji(i.sa);er(e,"RID","rpc"),er(e,"SID",i.I),er(e,"CI",i.L?"0":"1"),er(e,"AID",i.T),er(e,"TYPE","xmlhttp"),ri(i,e),i.o&&i.s&&L(e,i.o,i.s),i.J&&i.g.setTimeout(i.J);var n=i.g;i=i.ka,n.K=1,n.v=Ws(Ji(e)),n.s=null,n.P=!0,Ui(n,i)}function yo(i){null!=i.v&&(re.clearTimeout(i.v),i.v=null)}function ma(i,e){var n=null;if(i.g==e){yo(i),So(i),i.g=null;var o=2}else{if(!gi(i.h,e))return;n=e.D,no(i.h,e),o=1}if(0!=i.G)if(i.pa=e.Y,e.i)if(1==o){n=e.s?e.s.length:0,e=Date.now()-e.F;var u=i.C;ee(o=Fr(),new ts(o,n,e,u)),yr(i)}else ps(i);else if(3==(u=e.o)||0==u&&0<i.pa||!(1==o&&function Wi(i,e){return!(_i(i.h)>=i.h.j-(i.m?1:0)||(i.m?(i.i=e.D.concat(i.i),0):1==i.G||2==i.G||i.C>=(i.Ya?0:i.Za)||(i.m=Zi(St(i.Ja,i,e),Ao(i,i.C)),i.C++,0)))}(i,e)||2==o&&Ys(i)))switch(n&&0<n.length&&(e=i.h,e.i=e.i.concat(n)),u){case 1:so(i,5);break;case 4:so(i,10);break;case 3:so(i,6);break;default:so(i,2)}}function Ao(i,e){let n=i.Wa+Math.floor(Math.random()*i.ab);return i.l||(n*=2),n*e}function so(i,e){if(i.j.info("Error code "+e),2==e){var n=null;i.l&&(n=null);var o=St(i.jb,i);n||(n=new ti("//www.google.com/images/cleardot.gif"),re.location&&"http"==re.location.protocol||Cs(n,"https"),Ws(n)),function li(i,e){const n=new Li;if(re.Image){const o=new Image;o.onload=At(Rn,n,o,"TestLoadImage: loaded",!0,e),o.onerror=At(Rn,n,o,"TestLoadImage: error",!1,e),o.onabort=At(Rn,n,o,"TestLoadImage: abort",!1,e),o.ontimeout=At(Rn,n,o,"TestLoadImage: timeout",!1,e),re.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(n.toString(),o)}else Jr(2);i.G=0,i.l&&i.l.va(e),Mo(i),hn(i)}function Mo(i){if(i.G=0,i.la=[],i.l){const e=as(i.h);(0!=e.length||0!=i.i.length)&&(Qe(i.la,e),Qe(i.la,i.i),i.h.i.length=0,He(i.i),i.i.length=0),i.l.ua()}}function Qo(i,e,n){var o=n instanceof ti?Ji(n):new ti(n,void 0);if(""!=o.g)e&&(o.g=e+"."+o.g),pi(o,o.m);else{var u=re.location;o=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var d=new ti(null,void 0);o&&Cs(d,o),e&&(d.g=e),u&&pi(d,u),n&&(d.l=n),o=d}return e=i.za,(n=i.D)&&e&&er(o,n,e),er(o,"VER",i.ma),ri(i,o),o}function S(i,e,n){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Kr(n&&i.Da&&!i.ra?new Ls({ib:!0}):i.ra)).L=i.H,e}function G(){}function R(){if(un&&!(10<=Number(Nr)))throw Error("Environmental error: no available transport.")}function Y(i,e){$.call(this),this.g=new A(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.S=i,(i=e&&e.Xb)&&!je(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!je(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new wt(this)}function we(i){on.call(this);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function pt(){Qn.call(this),this.status=1}function wt(i){this.g=i}(ce=Kr.prototype).da=function(i,e,n,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Hr.g(),this.C=function nt(i){return i.h||(i.h=i.i())}(this.u?this.u:Hr),this.g.onreadystatechange=St(this.Ha,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(d){return void qr(this,d)}if(i=n||"",n=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var u in o)n.set(u,o[u]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const d of o.keys())n.set(d,o.get(d))}o=Array.from(n.keys()).find(d=>"content-type"==d.toLowerCase()),u=re.FormData&&i instanceof re.FormData,!(0<=Pe(Yo,e))||o||u||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[d,g]of n)this.g.setRequestHeader(d,g);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Zs(this),0<this.B&&((this.K=function po(i){return un&&function hr(){return function ln(i){var e=dr;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=Ge(String(Kt)).split("."),n=Ge("9").split("."),o=Math.max(e.length,n.length);for(let g=0;0==i&&g<o;g++){var u=e[g]||"",d=n[g]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],0==u[0].length&&0==d[0].length)break;i=Ct(0==u[1].length?0:parseInt(u[1],10),0==d[1].length?0:parseInt(d[1],10))||Ct(0==u[2].length,0==d[2].length)||Ct(u[2],d[2]),u=u[3],d=d[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=St(this.qa,this)):this.A=at(this.qa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(d){qr(this,d)}},ce.qa=function(){typeof We<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ee(this,"timeout"),this.abort(8))},ce.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,ee(this,"complete"),ee(this,"abort"),wi(this))},ce.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),wi(this,!0)),Kr.X.M.call(this)},ce.Ha=function(){this.s||(this.F||this.v||this.l?qs(this):this.eb())},ce.eb=function(){qs(this)},ce.aa=function(){try{return 2<ci(this)?this.g.status:-1}catch{return-1}},ce.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},ce.Ra=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),hs(e)}},ce.Ea=function(){return this.m},ce.Na=function(){return"string"==typeof this.j?this.j:String(this.j)},(ce=A.prototype).ma=8,ce.G=1,ce.Ja=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.U=Math.floor(1e5*Math.random()),i=this.U++;const u=new fr(this,this.j,i,void 0);let d=this.s;if(this.S&&(d?(d=Cr(d),Ee(d,this.S)):d=this.S),null!==this.o||this.N||(u.H=d,d=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){var o=this.i[n];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=n;break e}if(4096===e||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=io(this,u,e),er(n=Ji(this.F),"RID",i),er(n,"CVER",22),this.D&&er(n,"X-HTTP-Session-Id",this.D),ri(this,n),d&&(this.N?e="headers="+encodeURIComponent(String(mo(d)))+"&"+e:this.o&&L(n,this.o,d)),rr(this.h,u),this.Xa&&er(n,"TYPE","init"),this.O?(er(n,"$req",e),er(n,"SID","null"),u.Z=!0,Ns(u,n,null)):Ns(u,n,e),this.G=2}}else 3==this.G&&(i?es(this,i):0==this.i.length||ji(this.h)||es(this))},ce.Ia=function(){if(this.u=null,oa(this),this.$&&!(this.K||null==this.g||0>=this.P)){var i=2*this.P;this.j.info("BP detection timer enabled: "+i),this.B=Zi(St(this.cb,this),i)}},ce.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Jr(10),ht(this),oa(this))},ce.bb=function(){null!=this.v&&(this.v=null,ht(this),Ys(this),Jr(19))},ce.jb=function(i){i?(this.j.info("Successfully pinged google.com"),Jr(2)):(this.j.info("Failed to ping google.com"),Jr(1))},(ce=G.prototype).xa=function(){},ce.wa=function(){},ce.va=function(){},ce.ua=function(){},ce.Qa=function(){},R.prototype.g=function(i,e){return new Y(i,e)},ae(Y,$),Y.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,n=this.h||void 0;Jr(0),i.V=e,i.ia=n||{},i.L=i.Y,i.F=Qo(i,null,i.V),yr(i)},Y.prototype.close=function(){Q(this.g)},Y.prototype.u=function(i){var e=this.g;if("string"==typeof i){var n={};n.__data__=i,i=n}else this.v&&((n={}).__data__=Mt(i),i=n);e.i.push(new class{constructor(i,e){this.h=i,this.g=e}}(e.$a++,i)),3==e.G&&yr(e)},Y.prototype.M=function(){this.g.l=null,delete this.j,Q(this.g),delete this.g,Y.X.M.call(this)},ae(we,on),ae(pt,Qn),ae(wt,G),wt.prototype.xa=function(){ee(this.g,"a")},wt.prototype.wa=function(i){ee(this.g,new we(i))},wt.prototype.va=function(i){ee(this.g,new pt(i))},wt.prototype.ua=function(){ee(this.g,"b")},R.prototype.createWebChannel=R.prototype.g,Y.prototype.send=Y.prototype.u,Y.prototype.open=Y.prototype.m,Y.prototype.close=Y.prototype.close,zi.NO_ERROR=0,zi.TIMEOUT=8,zi.HTTP_ERROR=6,Ke.COMPLETE="complete",Tt.EventType=Vt,Vt.OPEN="a",Vt.CLOSE="b",Vt.ERROR="c",Vt.MESSAGE="d",$.prototype.listen=$.prototype.N,Kr.prototype.listenOnce=Kr.prototype.O,Kr.prototype.getLastError=Kr.prototype.Na,Kr.prototype.getLastErrorCode=Kr.prototype.Ea,Kr.prototype.getStatus=Kr.prototype.aa,Kr.prototype.getResponseJson=Kr.prototype.Ra,Kr.prototype.getResponseText=Kr.prototype.fa,Kr.prototype.send=Kr.prototype.da;var wn=xe.createWebChannelTransport=function(){return new R},vr=xe.getStatEventTarget=function(){return Fr()},Ir=xe.ErrorCode=zi,Dr=xe.EventType=Ke,cr=xe.Event=Xr,di=xe.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},zr=xe.FetchXmlHttpFactory=Ls,Ur=xe.WebChannel=Tt,oo=xe.XhrIo=Kr;const Vs="@firebase/firestore";class Wr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wr.UNAUTHENTICATED=new Wr(null),Wr.GOOGLE_CREDENTIALS=new Wr("google-credentials-uid"),Wr.FIRST_PARTY=new Wr("first-party-uid"),Wr.MOCK_USER=new Wr("mock-user");let Ts="9.10.0";const Ii=new be.Yd("@firebase/firestore");function Ki(){return Ii.logLevel}function xo(i){Ii.setLogLevel(i)}function Wt(i,...e){if(Ii.logLevel<=be.in.DEBUG){const n=e.map(ya);Ii.debug(`Firestore (${Ts}): ${i}`,...n)}}function ir(i,...e){if(Ii.logLevel<=be.in.ERROR){const n=e.map(ya);Ii.error(`Firestore (${Ts}): ${i}`,...n)}}function vo(i,...e){if(Ii.logLevel<=be.in.WARN){const n=e.map(ya);Ii.warn(`Firestore (${Ts}): ${i}`,...n)}}function ya(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function In(i="Unexpected state"){const e=`FIRESTORE (${Ts}) INTERNAL ASSERTION FAILED: `+i;throw ir(e),new Error(e)}function Gn(i,e){i||In()}function za(i,e){i||In()}function rn(i,e){return i}const _t={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class jt extends me.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class xr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class aa{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ua{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Wr.UNAUTHENTICATED))}shutdown(){}}class Di{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Su{constructor(e){this.t=e,this.currentUser=Wr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var o=this;let u=this.i;const d=z=>this.i!==u?(u=this.i,n(z)):Promise.resolve();let g=new xr;this.o=()=>{this.i++,this.currentUser=this.u(),g.resolve(),g=new xr,e.enqueueRetryable(()=>d(this.currentUser))};const b=()=>{const z=g;e.enqueueRetryable((0,c.Z)(function*(){yield z.promise,yield d(o.currentUser)}))},U=z=>{Wt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=z,this.auth.addAuthTokenListener(this.o),b()};this.t.onInit(z=>U(z)),setTimeout(()=>{if(!this.auth){const z=this.t.getImmediate({optional:!0});z?U(z):(Wt("FirebaseAuthCredentialsProvider","Auth not yet detected"),g.resolve(),g=new xr)}},0),b()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(Wt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Gn("string"==typeof o.accessToken),new aa(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Gn(null===e||"string"==typeof e),new Wr(e)}}class Bo{constructor(e,n,o,u){this.h=e,this.l=n,this.m=o,this.g=u,this.type="FirstParty",this.user=Wr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Gn(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class va{constructor(e,n,o,u){this.h=e,this.l=n,this.m=o,this.g=u}getToken(){return Promise.resolve(new Bo(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(Wr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class la{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ta{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const o=d=>{null!=d.error&&Wt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const g=d.token!==this.A;return this.A=d.token,Wt("FirebaseAppCheckTokenProvider",`Received ${g?"new":"existing"} token.`),g?n(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable(()=>o(d))};const u=d=>{Wt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.appCheck.addTokenListener(this.o)};this.T.onInit(d=>u(d)),setTimeout(()=>{if(!this.appCheck){const d=this.T.getImmediate({optional:!0});d?u(d):Wt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Gn("string"==typeof n.token),this.A=n.token,new la(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function mi(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let o=0;o<i;o++)n[o]=Math.floor(256*Math.random());return n}class _a{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const u=mi(40);for(let d=0;d<u.length;++d)o.length<20&&u[d]<n&&(o+=e.charAt(u[d]%e.length))}return o}}function Mn(i,e){return i<e?-1:i>e?1:0}function No(i,e,n){return i.length===e.length&&i.every((o,u)=>n(o,e[u]))}function Pi(i){return i+"\0"}class Lr{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new jt(_t.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new jt(_t.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new jt(_t.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new jt(_t.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Lr.fromMillis(Date.now())}static fromDate(e){return Lr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new Lr(n,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Mn(this.nanoseconds,e.nanoseconds):Mn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ln{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ln(e)}static min(){return new Ln(new Lr(0,0))}static max(){return new Ln(new Lr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ro{constructor(e,n,o){void 0===n?n=0:n>e.length&&In(),void 0===o?o=e.length-n:o>e.length-n&&In(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return 0===Ro.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ro?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let u=0;u<o;u++){const d=e.get(u),g=n.get(u);if(d<g)return-1;if(d>g)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class pr extends Ro{construct(e,n,o){return new pr(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new jt(_t.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(u=>u.length>0))}return new pr(n)}static emptyPath(){return new pr([])}}const Jo=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zr extends Ro{construct(e,n,o){return new Zr(e,n,o)}static isValidIdentifier(e){return Jo.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Zr(["__name__"])}static fromServerFormat(e){const n=[];let o="",u=0;const d=()=>{if(0===o.length)throw new jt(_t.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let g=!1;for(;u<e.length;){const b=e[u];if("\\"===b){if(u+1===e.length)throw new jt(_t.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const U=e[u+1];if("\\"!==U&&"."!==U&&"`"!==U)throw new jt(_t.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=U,u+=2}else"`"===b?(g=!g,u++):"."!==b||g?(o+=b,u++):(d(),u++)}if(d(),g)throw new jt(_t.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zr(n)}static emptyPath(){return new Zr([])}}class Jt{constructor(e){this.path=e}static fromPath(e){return new Jt(pr.fromString(e))}static fromName(e){return new Jt(pr.fromString(e).popFirst(5))}static empty(){return new Jt(pr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===pr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return pr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Jt(new pr(e.slice()))}}class Qs{constructor(e,n,o,u){this.indexId=e,this.collectionGroup=n,this.fields=o,this.indexState=u}}function Aa(i){return i.fields.find(e=>2===e.kind)}function Us(i){return i.fields.filter(e=>2!==e.kind)}Qs.UNKNOWN_ID=-1;class Bs{constructor(e,n){this.fieldPath=e,this.kind=n}}class _o{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new _o(0,us.min())}}function ca(i,e){const n=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=Ln.fromTimestamp(1e9===o?new Lr(n+1,0):new Lr(n,o));return new us(u,Jt.empty(),e)}function $o(i){return new us(i.readTime,i.key,-1)}class us{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new us(Ln.min(),Jt.empty(),-1)}static max(){return new us(Ln.max(),Jt.empty(),-1)}}function yi(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=Jt.comparator(i.documentKey,e.documentKey),0!==n?n:Mn(i.largestBatchId,e.largestBatchId))}const Ho="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class La{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function gs(i){return Xo.apply(this,arguments)}function Xo(){return Xo=(0,c.Z)(function*(i){if(i.code!==_t.FAILED_PRECONDITION||i.message!==Ho)throw i;Wt("LocalStore","Unexpectedly lost primary lease")}),Xo.apply(this,arguments)}class st{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&In(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new st((o,u)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(o,u)},this.catchCallback=d=>{this.wrapFailure(n,d).next(o,u)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof st?n:st.resolve(n)}catch(n){return st.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):st.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):st.reject(n)}static resolve(e){return new st((n,o)=>{n(e)})}static reject(e){return new st((n,o)=>{o(e)})}static waitFor(e){return new st((n,o)=>{let u=0,d=0,g=!1;e.forEach(b=>{++u,b.next(()=>{++d,g&&d===u&&n()},U=>o(U))}),g=!0,d===u&&n()})}static or(e){let n=st.resolve(!1);for(const o of e)n=n.next(u=>u?st.resolve(u):o());return n}static forEach(e,n){const o=[];return e.forEach((u,d)=>{o.push(n.call(this,u,d))}),this.waitFor(o)}static mapArray(e,n){return new st((o,u)=>{const d=e.length,g=new Array(d);let b=0;for(let U=0;U<d;U++){const z=U;n(e[z]).next(ne=>{g[z]=ne,++b,b===d&&o(g)},ne=>u(ne))}})}static doWhile(e,n){return new st((o,u)=>{const d=()=>{!0===e()?n().next(()=>{d()},u):o()};d()})}}class Eo{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.P=new xr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{n.error?this.P.reject(new ea(e,n.error)):this.P.resolve()},this.transaction.onerror=o=>{const u=Au(o.target.error);this.P.reject(new ea(e,u))}}static open(e,n,o,u){try{return new Eo(n,e.transaction(u,o))}catch(d){throw new ea(n,d)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Wt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new ys(n)}}class $i{constructor(e,n,o){this.name=e,this.version=n,this.S=o,12.2===$i.D((0,me.z$)())&&ir("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Wt("SimpleDb","Removing database:",e),ao(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,me.hl)())return!1;if($i.N())return!0;const e=(0,me.z$)(),n=$i.D(e),o=0<n&&n<10,u=$i.k(e),d=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||d)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.M)}static O(e,n){return e.store(n)}static D(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static k(e){const n=e.match(/Android ([\d.]+)/i),o=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(o)}F(e){var n=this;return(0,c.Z)(function*(){return n.db||(Wt("SimpleDb","Opening database:",n.name),n.db=yield new Promise((o,u)=>{const d=indexedDB.open(n.name,n.version);d.onsuccess=g=>{o(g.target.result)},d.onblocked=()=>{u(new ea(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=g=>{const b=g.target.error;u("VersionError"===b.name?new jt(_t.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===b.name?new jt(_t.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+b):new ea(e,b))},d.onupgradeneeded=g=>{Wt("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',g.oldVersion),n.S.$(g.target.result,d.transaction,g.oldVersion,n.version).next(()=>{Wt("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.B&&(n.db.onversionchange=o=>n.B(o)),n.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,o,u){var d=this;return(0,c.Z)(function*(){const g="readonly"===n;let b=0;for(;;){++b;try{d.db=yield d.F(e);const U=Eo.open(d.db,e,g?"readonly":"readwrite",o),z=u(U).next(ne=>(U.V(),ne)).catch(ne=>(U.abort(ne),st.reject(ne))).toPromise();return z.catch(()=>{}),yield U.v,z}catch(U){const z=U,ne="FirebaseError"!==z.name&&b<3;if(Wt("SimpleDb","Transaction failed with error:",z.message,"Retrying:",ne),d.close(),!ne)return Promise.reject(z)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Ea{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return ao(this.U.delete())}}class ea extends jt{constructor(e,n){super(_t.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function ms(i){return"IndexedDbTransactionError"===i.name}class ys{constructor(e){this.store=e}put(e,n){let o;return void 0!==n?(Wt("SimpleDb","PUT",this.store.name,e,n),o=this.store.put(n,e)):(Wt("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),ao(o)}add(e){return Wt("SimpleDb","ADD",this.store.name,e,e),ao(this.store.add(e))}get(e){return ao(this.store.get(e)).next(n=>(void 0===n&&(n=null),Wt("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Wt("SimpleDb","DELETE",this.store.name,e),ao(this.store.delete(e))}count(){return Wt("SimpleDb","COUNT",this.store.name),ao(this.store.count())}W(e,n){const o=this.options(e,n);if(o.index||"function"!=typeof this.store.getAll){const u=this.cursor(o),d=[];return this.H(u,(g,b)=>{d.push(b)}).next(()=>d)}{const u=this.store.getAll(o.range);return new st((d,g)=>{u.onerror=b=>{g(b.target.error)},u.onsuccess=b=>{d(b.target.result)}})}}J(e,n){const o=this.store.getAll(e,null===n?void 0:n);return new st((u,d)=>{o.onerror=g=>{d(g.target.error)},o.onsuccess=g=>{u(g.target.result)}})}Y(e,n){Wt("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,n);o.X=!1;const u=this.cursor(o);return this.H(u,(d,g,b)=>b.delete())}Z(e,n){let o;n?o=e:(o={},n=e);const u=this.cursor(o);return this.H(u,n)}tt(e){const n=this.cursor({});return new st((o,u)=>{n.onerror=d=>{const g=Au(d.target.error);u(g)},n.onsuccess=d=>{const g=d.target.result;g?e(g.primaryKey,g.value).next(b=>{b?g.continue():o()}):o()}})}H(e,n){const o=[];return new st((u,d)=>{e.onerror=g=>{d(g.target.error)},e.onsuccess=g=>{const b=g.target.result;if(!b)return void u();const U=new Ea(b),z=n(b.primaryKey,b.value,U);if(z instanceof st){const ne=z.catch(Ae=>(U.done(),st.reject(Ae)));o.push(ne)}U.isDone?u():null===U.G?b.continue():b.continue(U.G)}}).next(()=>st.waitFor(o))}options(e,n){let o;return void 0!==e&&("string"==typeof e?o=e:n=e),{index:o,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const o=this.store.index(e.index);return e.X?o.openKeyCursor(e.range,n):o.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function ao(i){return new st((e,n)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const u=Au(o.target.error);n(u)}})}let Br=!1;function Au(i){const e=$i.D((0,me.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(n)>=0){const o=new jt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Br||(Br=!0,setTimeout(()=>{throw o},0)),o}}return i}class Wa{constructor(e,n){this.asyncQueue=e,this.et=n,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var n=this;Wt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,c.Z)(function*(){n.task=null;try{Wt("IndexBackiller",`Documents written: ${yield n.et.st()}`)}catch(o){ms(o)?Wt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield gs(o)}yield n.nt(6e4)}))}}class Va{constructor(e,n){this.localStore=e,this.persistence=n}st(e=50){var n=this;return(0,c.Z)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>n.it(o,e))})()}it(e,n){const o=new Set;let u=n,d=!0;return st.doWhile(()=>!0===d&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(g=>{if(null!==g&&!o.has(g))return Wt("IndexBackiller",`Processing collection: ${g}`),this.rt(e,g,u).next(b=>{u-=b,o.add(g)});d=!1})).next(()=>n-u)}rt(e,n,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(u=>this.localStore.localDocuments.getNextDocuments(e,n,u,o).next(d=>{const g=d.changes;return this.localStore.indexManager.updateIndexEntries(e,g).next(()=>this.ot(u,d)).next(b=>(Wt("IndexBackiller",`Updating offset: ${b}`),this.localStore.indexManager.updateCollectionGroup(e,n,b))).next(()=>g.size)}))}ot(e,n){let o=e;return n.changes.forEach((u,d)=>{const g=$o(d);yi(g,o)>0&&(o=g)}),new us(o.readTime,o.documentKey,Math.max(n.batchId,e.largestBatchId))}}class vs{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=o=>this.ut(o),this.ct=o=>n.writeSequenceNumber(o))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function Mu(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Oo(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function xu(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}vs.at=-1;class j{constructor(e,n){this.comparator=e,this.root=n||_.EMPTY}insert(e,n){return new j(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_.BLACK,null,null))}remove(e){return new j(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(0===o)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return n+o.left.size;u<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new v(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new v(this.root,e,this.comparator,!1)}getReverseIterator(){return new v(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new v(this.root,e,this.comparator,!0)}}class v{constructor(e,n,o,u){this.isReverse=u,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=n?o(e.key,n):1,n&&u&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(0===d){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _{constructor(e,n,o,u,d){this.key=e,this.value=n,this.color=o??_.RED,this.left=u??_.EMPTY,this.right=d??_.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,u,d){return new _(e??this.key,n??this.value,o??this.color,u??this.left,d??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let u=this;const d=o(e,u.key);return u=d<0?u.copy(null,null,null,u.left.insert(e,n,o),null):0===d?u.copy(null,n,null,null,null):u.copy(null,null,null,null,u.right.insert(e,n,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return _.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,u=this;if(n(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,n),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===n(e,u.key)){if(u.right.isEmpty())return _.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,n))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw In();const e=this.left.check();if(e!==this.right.check())throw In();return e+(this.isRed()?0:1)}}_.EMPTY=null,_.RED=!0,_.BLACK=!1,_.EMPTY=new class{constructor(){this.size=0}get key(){throw In()}get value(){throw In()}get color(){throw In()}get left(){throw In()}get right(){throw In()}copy(i,e,n,o,u){return this}insert(i,e,n){return new _(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class N{constructor(e){this.comparator=e,this.data=new j(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;n(u.key)}}forEachWhile(e,n){let o;for(o=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new W(this.data.getIterator())}getIteratorFrom(e){return new W(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof N)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const u=n.getNext().key,d=o.getNext().key;if(0!==this.comparator(u,d))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new N(this.comparator);return n.data=e,n}}class W{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function te(i){return i.hasNext()?i.getNext():void 0}class Ce{constructor(e){this.fields=e,e.sort(Zr.comparator)}static empty(){return new Ce([])}unionWith(e){let n=new N(Zr.comparator);for(const o of this.fields)n=n.add(o);for(const o of e)n=n.add(o);return new Ce(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return No(this.fields,e.fields,(n,o)=>n.isEqual(o))}}function Re(){return typeof atob<"u"}class qe{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new qe(n)}static fromUint8Array(e){const n=function(o){let u="";for(let d=0;d<o.length;++d)u+=String.fromCharCode(o[d]);return u}(e);return new qe(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Mn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qe.EMPTY_BYTE_STRING=new qe("");const bt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function an(i){if(Gn(!!i),"string"==typeof i){let e=0;const n=bt.exec(i);if(Gn(!!n),n[1]){let u=n[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Zt(i.seconds),nanos:Zt(i.nanos)}}function Zt(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function zn(i){return"string"==typeof i?qe.fromBase64String(i):qe.fromUint8Array(i)}function nr(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Vn(i){const e=i.mapValue.fields.__previous_value__;return nr(e)?Vn(e):e}function Wn(i){const e=an(i.mapValue.fields.__local_write_time__.timestampValue);return new Lr(e.seconds,e.nanos)}class Tr{constructor(e,n,o,u,d,g,b,U){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=u,this.ssl=d,this.forceLongPolling=g,this.autoDetectLongPolling=b,this.useFetchStreams=U}}class Sr{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Sr("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Sr&&e.projectId===this.projectId&&e.database===this.database}}function hi(i){return null==i}function Vr(i){return 0===i&&1/i==-1/0}function Si(i){return"number"==typeof i&&Number.isInteger(i)&&!Vr(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const E={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},w={nullValue:"NULL_VALUE"};function m(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?nr(i)?4:vi(i)?9007199254740991:10:In()}function T(i,e){if(i===e)return!0;const n=m(i);if(n!==m(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Wn(i).isEqual(Wn(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const d=an(o.timestampValue),g=an(u.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,zn(i.bytesValue).isEqual(zn(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return Zt(o.geoPointValue.latitude)===Zt(u.geoPointValue.latitude)&&Zt(o.geoPointValue.longitude)===Zt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Zt(o.integerValue)===Zt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const d=Zt(o.doubleValue),g=Zt(u.doubleValue);return d===g?Vr(d)===Vr(g):isNaN(d)&&isNaN(g)}return!1}(i,e);case 9:return No(i.arrayValue.values||[],e.arrayValue.values||[],T);case 10:return function(o,u){const d=o.mapValue.fields||{},g=u.mapValue.fields||{};if(Mu(d)!==Mu(g))return!1;for(const b in d)if(d.hasOwnProperty(b)&&(void 0===g[b]||!T(d[b],g[b])))return!1;return!0}(i,e);default:return In()}var u}function P(i,e){return void 0!==(i.values||[]).find(n=>T(n,e))}function K(i,e){if(i===e)return 0;const n=m(i),o=m(e);if(n!==o)return Mn(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return Mn(i.booleanValue,e.booleanValue);case 2:return function(u,d){const g=Zt(u.integerValue||u.doubleValue),b=Zt(d.integerValue||d.doubleValue);return g<b?-1:g>b?1:g===b?0:isNaN(g)?isNaN(b)?0:-1:1}(i,e);case 3:return he(i.timestampValue,e.timestampValue);case 4:return he(Wn(i),Wn(e));case 5:return Mn(i.stringValue,e.stringValue);case 6:return function(u,d){const g=zn(u),b=zn(d);return g.compareTo(b)}(i.bytesValue,e.bytesValue);case 7:return function(u,d){const g=u.split("/"),b=d.split("/");for(let U=0;U<g.length&&U<b.length;U++){const z=Mn(g[U],b[U]);if(0!==z)return z}return Mn(g.length,b.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,d){const g=Mn(Zt(u.latitude),Zt(d.latitude));return 0!==g?g:Mn(Zt(u.longitude),Zt(d.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,d){const g=u.values||[],b=d.values||[];for(let U=0;U<g.length&&U<b.length;++U){const z=K(g[U],b[U]);if(z)return z}return Mn(g.length,b.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,d){if(u===E.mapValue&&d===E.mapValue)return 0;if(u===E.mapValue)return 1;if(d===E.mapValue)return-1;const g=u.fields||{},b=Object.keys(g),U=d.fields||{},z=Object.keys(U);b.sort(),z.sort();for(let ne=0;ne<b.length&&ne<z.length;++ne){const Ae=Mn(b[ne],z[ne]);if(0!==Ae)return Ae;const ct=K(g[b[ne]],U[z[ne]]);if(0!==ct)return ct}return Mn(b.length,z.length)}(i.mapValue,e.mapValue);default:throw In()}}function he(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Mn(i,e);const n=an(i),o=an(e),u=Mn(n.seconds,o.seconds);return 0!==u?u:Mn(n.nanos,o.nanos)}function _e(i){return mt(i)}function mt(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=an(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?zn(i.bytesValue).toBase64():"referenceValue"in i?Jt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",d=!0;for(const g of o.values||[])d?d=!1:u+=",",u+=mt(g);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let d="{",g=!0;for(const b of u)g?g=!1:d+=",",d+=`${b}:${mt(o.fields[b])}`;return d+"}"}(i.mapValue):In();var e}function qt(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Kn(i){return!!i&&"integerValue"in i}function Et(i){return!!i&&"arrayValue"in i}function Xt(i){return!!i&&"nullValue"in i}function Dn(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function qn(i){return!!i&&"mapValue"in i}function _r(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Oo(i.mapValue.fields,(n,o)=>e.mapValue.fields[n]=_r(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=_r(i.arrayValue.values[n]);return e}return Object.assign({},i)}function vi(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function ki(i){return"nullValue"in i?w:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?qt(Sr.empty(),Jt.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:In()}function js(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?qt(Sr.empty(),Jt.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?E:In()}function Yr(i,e){const n=K(i.value,e.value);return 0!==n?n:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function Go(i,e){const n=K(i.value,e.value);return 0!==n?n:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class _s{constructor(e){this.value=e}static empty(){return new _s({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!qn(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=_r(n)}setAll(e){let n=Zr.emptyPath(),o={},u=[];e.forEach((g,b)=>{if(!n.isImmediateParentOf(b)){const U=this.getFieldsMap(n);this.applyChanges(U,o,u),o={},u=[],n=b.popLast()}g?o[b.lastSegment()]=_r(g):u.push(b.lastSegment())});const d=this.getFieldsMap(n);this.applyChanges(d,o,u)}delete(e){const n=this.field(e.popLast());qn(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return T(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=n.mapValue.fields[e.get(o)];qn(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=u),n=u}return n.mapValue.fields}applyChanges(e,n,o){Oo(n,(u,d)=>e[u]=d);for(const u of o)delete e[u]}clone(){return new _s(_r(this.value))}}function Ar(i){const e=[];return Oo(i.fields,(n,o)=>{const u=new Zr([n]);if(qn(o)){const d=Ar(o.mapValue).fields;if(0===d.length)e.push(u);else for(const g of d)e.push(u.child(g))}else e.push(u)}),new Ce(e)}class Pr{constructor(e,n,o,u,d,g){this.key=e,this.documentType=n,this.version=o,this.readTime=u,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Pr(e,0,Ln.min(),Ln.min(),_s.empty(),0)}static newFoundDocument(e,n,o){return new Pr(e,1,n,Ln.min(),o,0)}static newNoDocument(e,n){return new Pr(e,2,n,Ln.min(),_s.empty(),0)}static newUnknownDocument(e,n){return new Pr(e,3,n,Ln.min(),_s.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_s.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_s.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ln.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Pr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class x{constructor(e,n=null,o=[],u=[],d=null,g=null,b=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=u,this.limit=d,this.startAt=g,this.endAt=b,this.ht=null}}function F(i,e=null,n=[],o=[],u=null,d=null,g=null){return new x(i,e,n,o,u,d,g)}function q(i){const e=rn(i);if(null===e.ht){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>{return(u=o).field.canonicalString()+u.op.toString()+_e(u.value);var u}).join(","),n+="|ob:",n+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),hi(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>_e(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>_e(o)).join(",")),e.ht=n}return e.ht}function Ze(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let u=0;u<i.orderBy.length;u++)if(!Ya(i.orderBy[u],e.orderBy[u]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let u=0;u<i.filters.length;u++)if((n=i.filters[u]).op!==(o=e.filters[u]).op||!n.field.isEqual(o.field)||!T(n.value,o.value))return!1;var n,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!cu(i.startAt,e.startAt)&&cu(i.endAt,e.endAt)}function vt(i){return Jt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function Bt(i,e){return i.filters.filter(n=>n instanceof xn&&n.field.isEqual(e))}function dn(i,e,n){let o=w,u=!0;for(const d of Bt(i,e)){let g=w,b=!0;switch(d.op){case"<":case"<=":g=ki(d.value);break;case"==":case"in":case">=":g=d.value;break;case">":g=d.value,b=!1;break;case"!=":case"not-in":g=w}Yr({value:o,inclusive:u},{value:g,inclusive:b})<0&&(o=g,u=b)}if(null!==n)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const g=n.position[d];Yr({value:o,inclusive:u},{value:g,inclusive:n.inclusive})<0&&(o=g,u=n.inclusive);break}return{value:o,inclusive:u}}function $n(i,e,n){let o=E,u=!0;for(const d of Bt(i,e)){let g=E,b=!0;switch(d.op){case">=":case">":g=js(d.value),b=!1;break;case"==":case"in":case"<=":g=d.value;break;case"<":g=d.value,b=!1;break;case"!=":case"not-in":g=E}Go({value:o,inclusive:u},{value:g,inclusive:b})>0&&(o=g,u=b)}if(null!==n)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const g=n.position[d];Go({value:o,inclusive:u},{value:g,inclusive:n.inclusive})>0&&(o=g,u=n.inclusive);break}return{value:o,inclusive:u}}class xn extends class{}{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?"in"===n||"not-in"===n?this.lt(e,n,o):new Er(e,n,o):"array-contains"===n?new Ka(e,o):"in"===n?new qa(e,o):"not-in"===n?new Za(e,o):"array-contains-any"===n?new Ua(e,o):new xn(e,n,o)}static lt(e,n,o){return"in"===n?new Hn(e,o):new ls(e,o)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.ft(K(n,this.value)):null!==n&&m(this.value)===m(n)&&this.ft(K(n,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return In()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Er extends xn{constructor(e,n,o){super(e,n,o),this.key=Jt.fromName(o.referenceValue)}matches(e){const n=Jt.comparator(e.key,this.key);return this.ft(n)}}class Hn extends xn{constructor(e,n){super(e,"in",n),this.keys=Ss(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ls extends xn{constructor(e,n){super(e,"not-in",n),this.keys=Ss(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Ss(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(o=>Jt.fromName(o.referenceValue))}class Ka extends xn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Et(n)&&P(n.arrayValue,this.value)}}class qa extends xn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&P(this.value.arrayValue,n)}}class Za extends xn{constructor(e,n){super(e,"not-in",n)}matches(e){if(P(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!P(this.value.arrayValue,n)}}class Ua extends xn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Et(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>P(this.value.arrayValue,o))}}class Js{constructor(e,n){this.position=e,this.inclusive=n}}class da{constructor(e,n="asc"){this.field=e,this.dir=n}}function Ya(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function Ma(i,e,n){let o=0;for(let u=0;u<i.position.length;u++){const d=e[u],g=i.position[u];if(o=d.field.isKeyField()?Jt.comparator(Jt.fromName(g.referenceValue),n.key):K(g,n.data.field(d.field)),"desc"===d.dir&&(o*=-1),0!==o)break}return o}function cu(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!T(i.position[n],e.position[n]))return!1;return!0}class Qa{constructor(e,n=null,o=[],u=[],d=null,g="F",b=null,U=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=u,this.limit=d,this.limitType=g,this.startAt=b,this.endAt=U,this._t=null,this.wt=null}}function Xc(i,e,n,o,u,d,g,b){return new Qa(i,e,n,o,u,d,g,b)}function du(i){return new Qa(i)}function ed(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function Ba(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Cl(i){for(const e of i.filters)if(e.dt())return e.field;return null}function uc(i){return null!==i.collectionGroup}function hu(i){const e=rn(i);if(null===e._t){e._t=[];const n=Cl(e),o=Ba(e);if(null!==n&&null===o)n.isKeyField()||e._t.push(new da(n)),e._t.push(new da(Zr.keyField(),"asc"));else{let u=!1;for(const d of e.explicitOrderBy)e._t.push(d),d.field.isKeyField()&&(u=!0);if(!u){const d=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new da(Zr.keyField(),d))}}}return e._t}function ta(i){const e=rn(i);if(!e.wt)if("F"===e.limitType)e.wt=F(e.path,e.collectionGroup,hu(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const d of hu(e))n.push(new da(d.field,"desc"===d.dir?"asc":"desc"));const o=e.endAt?new Js(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new Js(e.startAt.position,e.startAt.inclusive):null;e.wt=F(e.path,e.collectionGroup,n,e.filters,e.limit,o,u)}return e.wt}function Yu(i,e,n){return new Qa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Tl(i,e){return Ze(ta(i),ta(e))&&i.limitType===e.limitType}function Sl(i){return`${q(ta(i))}|lt:${i.limitType}`}function lc(i){return`Query(target=${function ye(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(n=>{return`${(o=n).field.canonicalString()} ${o.op} ${_e(o.value)}`;var o}).join(", ")}]`),hi(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(n=>{return`${(o=n).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(n=>_e(n)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(n=>_e(n)).join(",")),`Target(${e})`}(ta(i))}; limitType=${i.limitType})`}function Nu(i,e){return e.isFoundDocument()&&function(n,o){const u=o.key.path;return null!==n.collectionGroup?o.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(u):Jt.isDocumentKey(n.path)?n.path.isEqual(u):n.path.isImmediateParentOf(u)}(i,e)&&function(n,o){for(const u of n.explicitOrderBy)if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(n,o){for(const u of n.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((n=i).startAt&&!function(u,d,g){const b=Ma(u,d,g);return u.inclusive?b<=0:b<0}(n.startAt,hu(n),o)||n.endAt&&!function(u,d,g){const b=Ma(u,d,g);return u.inclusive?b>=0:b>0}(n.endAt,hu(n),o)));var n,o}function Qu(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Al(i){return(e,n)=>{let o=!1;for(const u of hu(i)){const d=Ru(u,e,n);if(0!==d)return d;o=o||u.field.isKeyField()}return 0}}function Ru(i,e,n){const o=i.field.isKeyField()?Jt.comparator(e.key,n.key):function(u,d,g){const b=d.data.field(u),U=g.data.field(u);return null!==b&&null!==U?K(b,U):In()}(i.field,e,n);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return In()}}function td(i,e){if(i.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vr(e)?"-0":e}}function nd(i){return{integerValue:""+i}}function rd(i,e){return Si(e)?nd(e):td(i,e)}class fu{constructor(){this._=void 0}}function cc(i,e,n){return i instanceof ja?function(o,u){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&(d.fields.__previous_value__=u),{mapValue:d}}(n,e):i instanceof na?Ml(i,e):i instanceof pu?hc(i,e):function(o,u){const d=dc(o,u),g=xl(d)+xl(o.yt);return Kn(d)&&Kn(o.yt)?nd(g):td(o.It,g)}(i,e)}function id(i,e,n){return i instanceof na?Ml(i,e):i instanceof pu?hc(i,e):n}function dc(i,e){return i instanceof Ou?Kn(n=e)||(o=n)&&"doubleValue"in o?e:{integerValue:0}:null;var o,n}class ja extends fu{}class na extends fu{constructor(e){super(),this.elements=e}}function Ml(i,e){const n=xa(e);for(const o of i.elements)n.some(u=>T(u,o))||n.push(o);return{arrayValue:{values:n}}}class pu extends fu{constructor(e){super(),this.elements=e}}function hc(i,e){let n=xa(e);for(const o of i.elements)n=n.filter(u=>!T(u,o));return{arrayValue:{values:n}}}class Ou extends fu{constructor(e,n){super(),this.It=e,this.yt=n}}function xl(i){return Zt(i.integerValue||i.doubleValue)}function xa(i){return Et(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class wa{constructor(e,n){this.field=e,this.transform=n}}class dh{constructor(e,n){this.version=e,this.transformResults=n}}class qi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qi}static exists(e){return new qi(void 0,e)}static updateTime(e){return new qi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nl(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class fc{}function I(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new gr(i.key,qi.none()):new ie(i.key,i.data,qi.none());{const n=i.data,o=_s.empty();let u=new N(Zr.comparator);for(let d of e.fields)if(!u.has(d)){let g=n.field(d);null===g&&d.length>1&&(d=d.popLast(),g=n.field(d)),null===g?o.delete(d):o.set(d,g),u=u.add(d)}return new et(i.key,o,new Ce(u.toArray()),qi.none())}}function f(i,e,n){i instanceof ie?function(o,u,d){const g=o.value.clone(),b=mn(o.fieldTransforms,u,d.transformResults);g.setAll(b),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(i,e,n):i instanceof et?function(o,u,d){if(!Nl(o.precondition,u))return void u.convertToUnknownDocument(d.version);const g=mn(o.fieldTransforms,u,d.transformResults),b=u.data;b.setAll(Nt(o)),b.setAll(g),u.convertToFoundDocument(d.version,b).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function p(i,e,n,o){return i instanceof ie?function(u,d,g,b){if(!Nl(u.precondition,d))return g;const U=u.value.clone(),z=Un(u.fieldTransforms,b,d);return U.setAll(z),d.convertToFoundDocument(d.version,U).setHasLocalMutations(),null}(i,e,n,o):i instanceof et?function(u,d,g,b){if(!Nl(u.precondition,d))return g;const U=Un(u.fieldTransforms,b,d),z=d.data;return z.setAll(Nt(u)),z.setAll(U),d.convertToFoundDocument(d.version,z).setHasLocalMutations(),null===g?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(ne=>ne.field))}(i,e,n,o):(g=n,Nl(i.precondition,d=e)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g);var d,g}function C(i,e){let n=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),d=dc(o.transform,u||null);null!=d&&(null===n&&(n=_s.empty()),n.set(o.field,d))}return n||null}function Z(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(n=i.fieldTransforms)&&void 0===o||n&&o&&No(n,o,(u,d)=>function sd(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(n=i.transform)instanceof na&&o instanceof na||n instanceof pu&&o instanceof pu?No(n.elements,o.elements,T):n instanceof Ou&&o instanceof Ou?T(n.yt,o.yt):n instanceof ja&&o instanceof ja);var n,o}(u,d))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var n,o}class ie extends fc{constructor(e,n,o,u=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class et extends fc{constructor(e,n,o,u,d=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=u,this.fieldTransforms=d,this.type=1}getFieldMask(){return this.fieldMask}}function Nt(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=i.data.field(n);e.set(n,o)}}),e}function mn(i,e,n){const o=new Map;Gn(i.length===n.length);for(let u=0;u<n.length;u++){const d=i[u],g=d.transform,b=e.data.field(d.field);o.set(d.field,id(g,b,n[u]))}return o}function Un(i,e,n){const o=new Map;for(const u of i){const d=u.transform,g=n.data.field(u.field);o.set(u.field,cc(d,g,e))}return o}class gr extends fc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ai extends fc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class $a{constructor(e){this.count=e}}var Fi,jr;function Ju(i){switch(i){default:return In();case _t.CANCELLED:case _t.UNKNOWN:case _t.DEADLINE_EXCEEDED:case _t.RESOURCE_EXHAUSTED:case _t.INTERNAL:case _t.UNAVAILABLE:case _t.UNAUTHENTICATED:return!1;case _t.INVALID_ARGUMENT:case _t.NOT_FOUND:case _t.ALREADY_EXISTS:case _t.PERMISSION_DENIED:case _t.FAILED_PRECONDITION:case _t.ABORTED:case _t.OUT_OF_RANGE:case _t.UNIMPLEMENTED:case _t.DATA_LOSS:return!0}}function Pu(i){if(void 0===i)return ir("GRPC error has no .code"),_t.UNKNOWN;switch(i){case Fi.OK:return _t.OK;case Fi.CANCELLED:return _t.CANCELLED;case Fi.UNKNOWN:return _t.UNKNOWN;case Fi.DEADLINE_EXCEEDED:return _t.DEADLINE_EXCEEDED;case Fi.RESOURCE_EXHAUSTED:return _t.RESOURCE_EXHAUSTED;case Fi.INTERNAL:return _t.INTERNAL;case Fi.UNAVAILABLE:return _t.UNAVAILABLE;case Fi.UNAUTHENTICATED:return _t.UNAUTHENTICATED;case Fi.INVALID_ARGUMENT:return _t.INVALID_ARGUMENT;case Fi.NOT_FOUND:return _t.NOT_FOUND;case Fi.ALREADY_EXISTS:return _t.ALREADY_EXISTS;case Fi.PERMISSION_DENIED:return _t.PERMISSION_DENIED;case Fi.FAILED_PRECONDITION:return _t.FAILED_PRECONDITION;case Fi.ABORTED:return _t.ABORTED;case Fi.OUT_OF_RANGE:return _t.OUT_OF_RANGE;case Fi.UNIMPLEMENTED:return _t.UNIMPLEMENTED;case Fi.DATA_LOSS:return _t.DATA_LOSS;default:return In()}}(jr=Fi||(Fi={}))[jr.OK=0]="OK",jr[jr.CANCELLED=1]="CANCELLED",jr[jr.UNKNOWN=2]="UNKNOWN",jr[jr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jr[jr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jr[jr.NOT_FOUND=5]="NOT_FOUND",jr[jr.ALREADY_EXISTS=6]="ALREADY_EXISTS",jr[jr.PERMISSION_DENIED=7]="PERMISSION_DENIED",jr[jr.UNAUTHENTICATED=16]="UNAUTHENTICATED",jr[jr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jr[jr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jr[jr.ABORTED=10]="ABORTED",jr[jr.OUT_OF_RANGE=11]="OUT_OF_RANGE",jr[jr.UNIMPLEMENTED=12]="UNIMPLEMENTED",jr[jr.INTERNAL=13]="INTERNAL",jr[jr.UNAVAILABLE=14]="UNAVAILABLE",jr[jr.DATA_LOSS=15]="DATA_LOSS";class Ja{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0!==o)for(const[u,d]of o)if(this.equalsFn(u,e))return d}has(e){return void 0!==this.get(e)}set(e,n){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,n]],void this.innerSize++;for(let d=0;d<u.length;d++)if(this.equalsFn(u[d][0],e))return void(u[d]=[e,n]);u.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[n]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Oo(this.inner,(n,o)=>{for(const[u,d]of o)e(u,d)})}isEmpty(){return xu(this.inner)}size(){return this.innerSize}}const hh=new j(Jt.comparator);function uo(){return hh}const pc=new j(Jt.comparator);function ku(...i){let e=pc;for(const n of i)e=e.insert(n.key,n);return e}function Rl(i){let e=pc;return i.forEach((n,o)=>e=e.insert(n,o.overlayedDocument)),e}function Ia(){return Na()}function gc(){return Na()}function Na(){return new Ja(i=>i.toString(),(i,e)=>i.isEqual(e))}const od=new j(Jt.comparator),fh=new N(Jt.comparator);function Mr(...i){let e=fh;for(const n of i)e=e.add(n);return e}const $s=new N(Mn);function mc(){return $s}class yc{constructor(e,n,o,u,d){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,n){const o=new Map;return o.set(e,Xu.createSynthesizedTargetChangeForCurrentChange(e,n)),new yc(Ln.min(),o,mc(),uo(),Mr())}}class Xu{constructor(e,n,o,u,d){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,n){return new Xu(qe.EMPTY_BYTE_STRING,n,Mr(),Mr(),Mr())}}class vc{constructor(e,n,o,u){this.Tt=e,this.removedTargetIds=n,this.key=o,this.Et=u}}class up{constructor(e,n){this.targetId=e,this.At=n}}class lp{constructor(e,n,o=qe.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=u}}class cp{constructor(){this.Rt=0,this.bt=Sm(),this.Pt=qe.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Mr(),n=Mr(),o=Mr();return this.bt.forEach((u,d)=>{switch(d){case 0:e=e.add(u);break;case 2:n=n.add(u);break;case 1:o=o.add(u);break;default:In()}}),new Xu(this.Pt,this.vt,e,n,o)}Nt(){this.Vt=!1,this.bt=Sm()}kt(e,n){this.Vt=!0,this.bt=this.bt.insert(e,n)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class Tm{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=uo(),this.qt=dp(),this.Kt=new N(Mn)}Gt(e){for(const n of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(n,e.Et):this.jt(n,e.key,e.Et);for(const n of e.removedTargetIds)this.jt(n,e.key,e.Et)}Wt(e){this.forEachTarget(e,n=>{const o=this.zt(n);switch(e.state){case 0:this.Ht(n)&&o.Ct(e.resumeToken);break;case 1:o.Ft(),o.St||o.Nt(),o.Ct(e.resumeToken);break;case 2:o.Ft(),o.St||this.removeTarget(n);break;case 3:this.Ht(n)&&(o.$t(),o.Ct(e.resumeToken));break;case 4:this.Ht(n)&&(this.Jt(n),o.Ct(e.resumeToken));break;default:In()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Lt.forEach((o,u)=>{this.Ht(u)&&n(u)})}Yt(e){const n=e.targetId,o=e.At.count,u=this.Xt(n);if(u){const d=u.target;if(vt(d))if(0===o){const g=new Jt(d.path);this.jt(n,g,Pr.newNoDocument(g,Ln.min()))}else Gn(1===o);else this.Zt(n)!==o&&(this.Jt(n),this.Kt=this.Kt.add(n))}}te(e){const n=new Map;this.Lt.forEach((d,g)=>{const b=this.Xt(g);if(b){if(d.current&&vt(b.target)){const U=new Jt(b.target.path);null!==this.Ut.get(U)||this.ee(g,U)||this.jt(g,U,Pr.newNoDocument(U,e))}d.Dt&&(n.set(g,d.xt()),d.Nt())}});let o=Mr();this.qt.forEach((d,g)=>{let b=!0;g.forEachWhile(U=>{const z=this.Xt(U);return!z||2===z.purpose||(b=!1,!1)}),b&&(o=o.add(d))}),this.Ut.forEach((d,g)=>g.setReadTime(e));const u=new yc(e,n,this.Kt,this.Ut,o);return this.Ut=uo(),this.qt=dp(),this.Kt=new N(Mn),u}Qt(e,n){if(!this.Ht(e))return;const o=this.ee(e,n.key)?2:0;this.zt(e).kt(n.key,o),this.Ut=this.Ut.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ne(n.key).add(e))}jt(e,n,o){if(!this.Ht(e))return;const u=this.zt(e);this.ee(e,n)?u.kt(n,1):u.Mt(n),this.qt=this.qt.insert(n,this.ne(n).delete(e)),o&&(this.Ut=this.Ut.insert(n,o))}removeTarget(e){this.Lt.delete(e)}Zt(e){const n=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let n=this.Lt.get(e);return n||(n=new cp,this.Lt.set(e,n)),n}ne(e){let n=this.qt.get(e);return n||(n=new N(Mn),this.qt=this.qt.insert(e,n)),n}Ht(e){const n=null!==this.Xt(e);return n||Wt("WatchChangeAggregator","Detected inactive target",e),n}Xt(e){const n=this.Lt.get(e);return n&&n.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new cp),this.Bt.getRemoteKeysForTarget(e).forEach(n=>{this.jt(e,n,null)})}ee(e,n){return this.Bt.getRemoteKeysForTarget(e).has(n)}}function dp(){return new j(Jt.comparator)}function Sm(){return new j(Jt.comparator)}const Ov={asc:"ASCENDING",desc:"DESCENDING"},_c={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class ph{constructor(e,n){this.databaseId=e,this.gt=n}}function Ol(i,e){return i.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gh(i,e){return i.gt?e.toBase64():e.toUint8Array()}function hp(i,e){return Ol(i,e.toTimestamp())}function wo(i){return Gn(!!i),Ln.fromTimestamp(function(e){const n=an(e);return new Lr(n.seconds,n.nanos)}(i))}function ad(i,e){return(n=i,new pr(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function mh(i){const e=pr.fromString(i);return Gn(mp(e)),e}function el(i,e){return ad(i.databaseId,e.path)}function gu(i,e){const n=mh(e);if(n.get(1)!==i.databaseId.projectId)throw new jt(_t.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new jt(_t.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Jt(vh(n))}function yh(i,e){return ad(i.databaseId,e)}function ud(i){const e=mh(i);return 4===e.length?pr.emptyPath():vh(e)}function Pl(i){return new pr(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function vh(i){return Gn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Fu(i,e,n){return{name:el(i,e),fields:n.value.mapValue.fields}}function fp(i,e,n){const o=gu(i,e.name),u=wo(e.updateTime),d=new _s({mapValue:{fields:e.fields}}),g=Pr.newFoundDocument(o,u,d);return n&&g.setHasCommittedMutations(),n?g.setHasCommittedMutations():g}function Ec(i,e){let n;if(e instanceof ie)n={update:Fu(i,e.key,e.value)};else if(e instanceof gr)n={delete:el(i,e.key)};else if(e instanceof et)n={update:Fu(i,e.key,e.data),updateMask:wh(e.fieldMask)};else{if(!(e instanceof Ai))return In();n={verify:el(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(u,d){const g=d.transform;if(g instanceof ja)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof na)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof pu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Ou)return{fieldPath:d.field.canonicalString(),increment:g.yt};throw In()}(0,o))),e.precondition.isNone||(n.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:hp(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:In()),n;var u}function wc(i,e){const n=e.currentDocument?void 0!==(u=e.currentDocument).updateTime?qi.updateTime(wo(u.updateTime)):void 0!==u.exists?qi.exists(u.exists):qi.none():qi.none(),o=e.updateTransforms?e.updateTransforms.map(u=>function(d,g){let b=null;"setToServerValue"in g?(Gn("REQUEST_TIME"===g.setToServerValue),b=new ja):"appendMissingElements"in g?b=new na(g.appendMissingElements.values||[]):"removeAllFromArray"in g?b=new pu(g.removeAllFromArray.values||[]):"increment"in g?b=new Ou(d,g.increment):In();const U=Zr.fromServerFormat(g.fieldPath);return new wa(U,b)}(i,u)):[];var u;if(e.update){const u=gu(i,e.update.name),d=new _s({mapValue:{fields:e.update.fields}});if(e.updateMask){const g=new Ce((e.updateMask.fieldPaths||[]).map(z=>Zr.fromServerFormat(z)));return new et(u,d,g,n,o)}return new ie(u,d,n,o)}if(e.delete){const u=gu(i,e.delete);return new gr(u,n)}if(e.verify){const u=gu(i,e.verify);return new Ai(u,n)}return In()}function Lu(i,e){return{documents:[yh(i,e.path)]}}function Eh(i,e){const n={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(n.parent=yh(i,o),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=yh(i,o.popLast()),n.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(U){if(0===U.length)return;const z=U.map(ne=>function(Ae){if("=="===Ae.op){if(Dn(Ae.value))return{unaryFilter:{field:Fl(Ae.field),op:"IS_NAN"}};if(Xt(Ae.value))return{unaryFilter:{field:Fl(Ae.field),op:"IS_NULL"}}}else if("!="===Ae.op){if(Dn(Ae.value))return{unaryFilter:{field:Fl(Ae.field),op:"IS_NOT_NAN"}};if(Xt(Ae.value))return{unaryFilter:{field:Fl(Ae.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fl(Ae.field),op:kl(Ae.op),value:Ae.value}}}(ne));return 1===z.length?z[0]:{compositeFilter:{op:"AND",filters:z}}}(e.filters);u&&(n.structuredQuery.where=u);const d=function(U){if(0!==U.length)return U.map(z=>{return{field:Fl((ne=z).field),direction:gp(ne.dir)};var ne})}(e.orderBy);d&&(n.structuredQuery.orderBy=d);const g=(z=e.limit,i.gt||hi(z)?z:{value:z});var z,b,U;return null!==g&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt={before:(b=e.startAt).inclusive,values:b.position}),e.endAt&&(n.structuredQuery.endAt={before:!(U=e.endAt).inclusive,values:U.position}),n}function dd(i){let e=ud(i.parent);const n=i.structuredQuery,o=n.from?n.from.length:0;let u=null;if(o>0){Gn(1===o);const ne=n.from[0];ne.allDescendants?u=ne.collectionId:e=e.child(ne.collectionId)}let d=[];n.where&&(d=pp(n.where));let g=[];n.orderBy&&(g=n.orderBy.map(ne=>{return new da(Ll((Ae=ne).field),function(ct){switch(ct){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ae.direction));var Ae}));let b=null;n.limit&&(b=function(ne){let Ae;return Ae="object"==typeof ne?ne.value:ne,hi(Ae)?null:Ae}(n.limit));let U=null;var ne;n.startAt&&(U=new Js((ne=n.startAt).values||[],!!ne.before));let z=null;return n.endAt&&(z=function(ne){return new Js(ne.values||[],!ne.before)}(n.endAt)),Xc(e,u,g,d,b,"F",U,z)}function pp(i){return i?void 0!==i.unaryFilter?[xm(i)]:void 0!==i.fieldFilter?[Mm(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>pp(e)).reduce((e,n)=>e.concat(n)):In():[]}function gp(i){return Ov[i]}function kl(i){return _c[i]}function Fl(i){return{fieldPath:i.canonicalString()}}function Ll(i){return Zr.fromServerFormat(i.fieldPath)}function Mm(i){return xn.create(Ll(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return In()}}(i.fieldFilter.op),i.fieldFilter.value)}function xm(i){switch(i.unaryFilter.op){case"IS_NAN":const e=Ll(i.unaryFilter.field);return xn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Ll(i.unaryFilter.field);return xn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ll(i.unaryFilter.field);return xn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Ll(i.unaryFilter.field);return xn.create(u,"!=",{nullValue:"NULL_VALUE"});default:return In()}}function wh(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function mp(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function zo(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Ih(e)),e=Nm(i.get(n),e);return Ih(e)}function Nm(i,e){let n=e;const o=i.length;for(let u=0;u<o;u++){const d=i.charAt(u);switch(d){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=d}}return n}function Ih(i){return i+"\x01\x01"}function mu(i){const e=i.length;if(Gn(e>=2),2===e)return Gn("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),pr.emptyPath();const n=e-2,o=[];let u="";for(let d=0;d<e;){const g=i.indexOf("\x01",d);switch((g<0||g>n)&&In(),i.charAt(g+1)){case"\x01":const b=i.substring(d,g);let U;0===u.length?U=b:(u+=b,U=u,u=""),o.push(U);break;case"\x10":u+=i.substring(d,g),u+="\0";break;case"\x11":u+=i.substring(d,g+1);break;default:In()}d=g+2}return new pr(o)}const yp=["userId","batchId"];function Vu(i,e){return[i,zo(e)]}function vp(i,e,n){return[i,zo(e),n]}const Vl={},Ic=["prefixPath","collectionGroup","readTime","documentId"],Rm=["prefixPath","collectionGroup","documentId"],Pv=["collectionGroup","readTime","prefixPath","documentId"],_p=["canonicalId","targetId"],Om=["targetId","path"],Pm=["path","targetId"],km=["collectionId","parent"],Ep=["indexId","uid"],wp=["uid","sequenceNumber"],Dh=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Fm=["indexId","uid","orderedDocumentKey"],Lm=["userId","collectionPath","documentId"],bh=["userId","collectionPath","largestBatchId"],kv=["userId","collectionGroup","largestBatchId"],Vm=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ch=[...Vm,"documentOverlays"],Um=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Bm=Um,Fv=[...Bm,"indexConfiguration","indexState","indexEntries"];class Ip extends La{constructor(e,n){super(),this.ie=e,this.currentSequenceNumber=n}}function Po(i,e){const n=rn(i);return $i.O(n.ie,e)}class Th{constructor(e,n,o,u){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let u=0;u<this.mutations.length;u++){const d=this.mutations[u];d.key.isEqual(e.key)&&f(d,e,o[u])}}applyToLocalView(e,n){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(n=p(o,e,n,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(n=p(o,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const o=gc();return this.mutations.forEach(u=>{const d=e.get(u.key),g=d.overlayedDocument;let b=this.applyToLocalView(g,d.mutatedFields);b=n.has(u.key)?null:b;const U=I(g,b);null!==U&&o.set(u.key,U),g.isValidDocument()||g.convertToNoDocument(Ln.min())}),o}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Mr())}isEqual(e){return this.batchId===e.batchId&&No(this.mutations,e.mutations,(n,o)=>Z(n,o))&&No(this.baseMutations,e.baseMutations,(n,o)=>Z(n,o))}}class hd{constructor(e,n,o,u){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=u}static from(e,n,o){Gn(e.mutations.length===o.length);let u=od;const d=e.mutations;for(let g=0;g<d.length;g++)u=u.insert(d[g].key,o[g].version);return new hd(e,n,o,u)}}class Dc{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class yu{constructor(e,n,o,u,d=Ln.min(),g=Ln.min(),b=qe.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=g,this.resumeToken=b}withSequenceNumber(e){return new yu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new yu(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new yu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Sh{constructor(e){this.re=e}}function fd(i,e){const n=e.key,o={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:pd(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:el(u=i.re,(d=e).key),fields:d.data.value.mapValue.fields,updateTime:Ol(u,d.version.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:n.path.toArray(),readTime:vu(e.version)};else{if(!e.isUnknownDocument())return In();o.unknownDocument={path:n.path.toArray(),version:vu(e.version)}}var u,d;return o}function pd(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function vu(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ha(i){const e=new Lr(i.seconds,i.nanoseconds);return Ln.fromTimestamp(e)}function tl(i,e){const n=(e.baseMutations||[]).map(d=>wc(i.re,d));for(let d=0;d<e.mutations.length-1;++d){const g=e.mutations[d];d+1<e.mutations.length&&void 0!==e.mutations[d+1].transform&&(g.updateTransforms=e.mutations[d+1].transform.fieldTransforms,e.mutations.splice(d+1,1),++d)}const o=e.mutations.map(d=>wc(i.re,d)),u=Lr.fromMillis(e.localWriteTimeMs);return new Th(e.batchId,u,n,o)}function bc(i){const e=Ha(i.readTime),n=void 0!==i.lastLimboFreeSnapshotVersion?Ha(i.lastLimboFreeSnapshotVersion):Ln.min();let o;var u;return void 0!==i.query.documents?(Gn(1===(u=i.query).documents.length),o=ta(du(ud(u.documents[0])))):o=ta(dd(i.query)),new yu(o,i.targetId,0,i.lastListenSequenceNumber,e,n,qe.fromBase64String(i.resumeToken))}function bp(i,e){const n=vu(e.snapshotVersion),o=vu(e.lastLimboFreeSnapshotVersion);let u;u=vt(e.target)?Lu(i.re,e.target):Eh(i.re,e.target);const d=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:q(e.target),readTime:n,resumeToken:d,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:u}}function gd(i){const e=dd({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Yu(e,e.limit,"L"):e}function Ah(i,e){return new Dc(e.largestBatchId,wc(i.re,e.overlayMutation))}function Cp(i,e){const n=e.path.lastSegment();return[i,zo(e.path.popLast()),n]}function Tp(i,e,n,o){return{indexId:i,uid:e.uid||"",sequenceNumber:n,readTime:vu(o.readTime),documentKey:zo(o.documentKey.path),largestBatchId:o.largestBatchId}}class jm{getBundleMetadata(e,n){return md(e).get(n).next(o=>{if(o)return{id:(u=o).bundleId,createTime:Ha(u.createTime),version:u.version};var u})}saveBundleMetadata(e,n){return md(e).put({bundleId:(o=n).id,createTime:vu(wo(o.createTime)),version:o.version});var o}getNamedQuery(e,n){return Sp(e).get(n).next(o=>{if(o)return{name:(u=o).name,query:gd(u.bundledQuery),readTime:Ha(u.readTime)};var u})}saveNamedQuery(e,n){return Sp(e).put({name:(o=n).name,readTime:vu(wo(o.readTime)),bundledQuery:o.bundledQuery});var o}}function md(i){return Po(i,"bundles")}function Sp(i){return Po(i,"namedQueries")}class yd{constructor(e,n){this.It=e,this.userId=n}static oe(e,n){return new yd(e,n.uid||"")}getOverlay(e,n){return Cc(e).get(Cp(this.userId,n)).next(o=>o?Ah(this.It,o):null)}getOverlays(e,n){const o=Ia();return st.forEach(n,u=>this.getOverlay(e,u).next(d=>{null!==d&&o.set(u,d)})).next(()=>o)}saveOverlays(e,n,o){const u=[];return o.forEach((d,g)=>{const b=new Dc(n,g);u.push(this.ue(e,b))}),st.waitFor(u)}removeOverlaysForBatchId(e,n,o){const u=new Set;n.forEach(g=>u.add(zo(g.getCollectionPath())));const d=[];return u.forEach(g=>{const b=IDBKeyRange.bound([this.userId,g,o],[this.userId,g,o+1],!1,!0);d.push(Cc(e).Y("collectionPathOverlayIndex",b))}),st.waitFor(d)}getOverlaysForCollection(e,n,o){const u=Ia(),d=zo(n),g=IDBKeyRange.bound([this.userId,d,o],[this.userId,d,Number.POSITIVE_INFINITY],!0);return Cc(e).W("collectionPathOverlayIndex",g).next(b=>{for(const U of b){const z=Ah(this.It,U);u.set(z.getKey(),z)}return u})}getOverlaysForCollectionGroup(e,n,o,u){const d=Ia();let g;const b=IDBKeyRange.bound([this.userId,n,o],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Cc(e).Z({index:"collectionGroupOverlayIndex",range:b},(U,z,ne)=>{const Ae=Ah(this.It,z);d.size()<u||Ae.largestBatchId===g?(d.set(Ae.getKey(),Ae),g=Ae.largestBatchId):ne.done()}).next(()=>d)}ue(e,n){return Cc(e).put(function(o,u,d){const[g,b,U]=Cp(u,d.mutation.key);return{userId:u,collectionPath:b,documentId:U,collectionGroup:d.mutation.key.getCollectionGroup(),largestBatchId:d.largestBatchId,overlayMutation:Ec(o.re,d.mutation)}}(this.It,this.userId,n))}}function Cc(i){return Po(i,"documentOverlays")}class Uu{constructor(){}ce(e,n){this.ae(e,n),n.he()}ae(e,n){if("nullValue"in e)this.le(n,5);else if("booleanValue"in e)this.le(n,10),n.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(n,15),n.fe(Zt(e.integerValue));else if("doubleValue"in e){const o=Zt(e.doubleValue);isNaN(o)?this.le(n,13):(this.le(n,15),Vr(o)?n.fe(0):n.fe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.le(n,20),"string"==typeof o?n.de(o):(n.de(`${o.seconds||""}`),n.fe(o.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,n),this.we(n);else if("bytesValue"in e)this.le(n,30),n.me(zn(e.bytesValue)),this.we(n);else if("referenceValue"in e)this.ge(e.referenceValue,n);else if("geoPointValue"in e){const o=e.geoPointValue;this.le(n,45),n.fe(o.latitude||0),n.fe(o.longitude||0)}else"mapValue"in e?vi(e)?this.le(n,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,n),this.we(n)):"arrayValue"in e?(this.pe(e.arrayValue,n),this.we(n)):In()}_e(e,n){this.le(n,25),this.Ie(e,n)}Ie(e,n){n.de(e)}ye(e,n){const o=e.fields||{};this.le(n,55);for(const u of Object.keys(o))this._e(u,n),this.ae(o[u],n)}pe(e,n){const o=e.values||[];this.le(n,50);for(const u of o)this.ae(u,n)}ge(e,n){this.le(n,37),Jt.fromName(e).path.forEach(o=>{this.le(n,60),this.Ie(o,n)})}le(e,n){e.fe(n)}we(e){e.fe(2)}}function $m(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function Ap(i){const e=64-function(n){let o=0;for(let u=0;u<8;++u){const d=$m(255&n[u]);if(o+=d,8!==d)break}return o}(i);return Math.ceil(e/8)}Uu.Te=new Uu;class ra{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const n=e[Symbol.iterator]();let o=n.next();for(;!o.done;)this.Ae(o.value),o=n.next();this.Re()}be(e){const n=e[Symbol.iterator]();let o=n.next();for(;!o.done;)this.Pe(o.value),o=n.next();this.ve()}Ve(e){for(const n of e){const o=n.charCodeAt(0);if(o<128)this.Ae(o);else if(o<2048)this.Ae(960|o>>>6),this.Ae(128|63&o);else if(n<"\ud800"||"\udbff"<n)this.Ae(480|o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o);else{const u=n.codePointAt(0);this.Ae(240|u>>>18),this.Ae(128|63&u>>>12),this.Ae(128|63&u>>>6),this.Ae(128|63&u)}}this.Re()}Se(e){for(const n of e){const o=n.charCodeAt(0);if(o<128)this.Pe(o);else if(o<2048)this.Pe(960|o>>>6),this.Pe(128|63&o);else if(n<"\ud800"||"\udbff"<n)this.Pe(480|o>>>12),this.Pe(128|63&o>>>6),this.Pe(128|63&o);else{const u=n.codePointAt(0);this.Pe(240|u>>>18),this.Pe(128|63&u>>>12),this.Pe(128|63&u>>>6),this.Pe(128|63&u)}}this.ve()}De(e){const n=this.Ce(e),o=Ap(n);this.xe(1+o),this.buffer[this.position++]=255&o;for(let u=n.length-o;u<n.length;++u)this.buffer[this.position++]=255&n[u]}Ne(e){const n=this.Ce(e),o=Ap(n);this.xe(1+o),this.buffer[this.position++]=~(255&o);for(let u=n.length-o;u<n.length;++u)this.buffer[this.position++]=~(255&n[u])}ke(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const n=function(u){const d=new DataView(new ArrayBuffer(8));return d.setFloat64(0,u,!1),new Uint8Array(d.buffer)}(e),o=0!=(128&n[0]);n[0]^=o?255:128;for(let u=1;u<n.length;++u)n[u]^=o?255:0;return n}Ae(e){const n=255&e;0===n?(this.Me(0),this.Me(255)):255===n?(this.Me(255),this.Me(0)):this.Me(n)}Pe(e){const n=255&e;0===n?(this.Fe(0),this.Fe(255)):255===n?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Me(0),this.Me(1)}ve(){this.Fe(0),this.Fe(1)}Me(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const n=e+this.position;if(n<=this.buffer.length)return;let o=2*this.buffer.length;o<n&&(o=n);const u=new Uint8Array(o);u.set(this.buffer),this.buffer=u}}class Mh{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class Mp{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Oe()}}class nl{constructor(){this.Be=new ra,this.Le=new Mh(this.Be),this.Ue=new Mp(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class As{constructor(e,n,o,u){this.indexId=e,this.documentKey=n,this.arrayValue=o,this.directionalValue=u}Ke(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(n);return o.set(this.directionalValue,0),n!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new As(this.indexId,this.documentKey,this.arrayValue,o)}}function Ga(i,e){let n=i.indexId-e.indexId;return 0!==n?n:(n=xh(i.arrayValue,e.arrayValue),0!==n?n:(n=xh(i.directionalValue,e.directionalValue),0!==n?n:Jt.comparator(i.documentKey,e.documentKey)))}function xh(i,e){for(let n=0;n<i.length&&n<e.length;++n){const o=i[n]-e[n];if(0!==o)return o}return i.length-e.length}class Hm{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const n of e.filters){const o=n;o.dt()?this.je=o:this.Qe.push(o)}}We(e){const n=Aa(e);if(void 0!==n&&!this.ze(n))return!1;const o=Us(e);let u=0,d=0;for(;u<o.length&&this.ze(o[u]);++u);if(u===o.length)return!0;if(void 0!==this.je){const g=o[u];if(!this.He(this.je,g)||!this.Je(this.Ge[d++],g))return!1;++u}for(;u<o.length;++u){const g=o[u];if(d>=this.Ge.length||!this.Je(this.Ge[d++],g))return!1}return!0}ze(e){for(const n of this.Qe)if(this.He(n,e))return!0;return!1}He(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}class Gm{constructor(){this.Ye=new vd}addToCollectionParentIndex(e,n){return this.Ye.add(n),st.resolve()}getCollectionParents(e,n){return st.resolve(this.Ye.getEntries(n))}addFieldIndex(e,n){return st.resolve()}deleteFieldIndex(e,n){return st.resolve()}getDocumentsMatchingTarget(e,n){return st.resolve(null)}getIndexType(e,n){return st.resolve(0)}getFieldIndexes(e,n){return st.resolve([])}getNextCollectionGroupToUpdate(e){return st.resolve(null)}getMinOffset(e,n){return st.resolve(us.min())}getMinOffsetFromCollectionGroup(e,n){return st.resolve(us.min())}updateCollectionGroup(e,n,o){return st.resolve()}updateIndexEntries(e,n){return st.resolve()}}class vd{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n]||new N(pr.comparator),d=!u.has(o);return this.index[n]=u.add(o),d}has(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n];return u&&u.has(o)}getEntries(e){return(this.index[e]||new N(pr.comparator)).toArray()}}const _d=new Uint8Array(0);class xp{constructor(e,n){this.user=e,this.databaseId=n,this.Xe=new vd,this.Ze=new Ja(o=>q(o),(o,u)=>Ze(o,u)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.Xe.has(n)){const o=n.lastSegment(),u=n.popLast();e.addOnCommittedListener(()=>{this.Xe.add(n)});const d={collectionId:o,parent:zo(u)};return Np(e).put(d)}return st.resolve()}getCollectionParents(e,n){const o=[],u=IDBKeyRange.bound([n,""],[Pi(n),""],!1,!0);return Np(e).W(u).next(d=>{for(const g of d){if(g.collectionId!==n)break;o.push(mu(g.parent))}return o})}addFieldIndex(e,n){const o=Ed(e),u={indexId:(g=n).indexId,collectionGroup:g.collectionGroup,fields:g.fields.map(b=>[b.fieldPath.canonicalString(),b.kind])};var g;delete u.indexId;const d=o.add(u);if(n.indexState){const g=Tc(e);return d.next(b=>{g.put(Tp(b,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return d.next()}deleteFieldIndex(e,n){const o=Ed(e),u=Tc(e),d=Ul(e);return o.delete(n.indexId).next(()=>u.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>d.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const o=Ul(e);let u=!0;const d=new Map;return st.forEach(this.tn(n),g=>this.en(e,g).next(b=>{u&&(u=!!b),d.set(g,b)})).next(()=>{if(u){let g=Mr();const b=[];return st.forEach(d,(U,z)=>{var ne;Wt("IndexedDbIndexManager",`Using index ${ne=U,`id=${ne.indexId}|cg=${ne.collectionGroup}|f=${ne.fields.map(xi=>`${xi.fieldPath}:${xi.kind}`).join(",")}`} to execute ${q(n)}`);const Ae=function(xi,Hs){const Hi=Aa(Hs);if(void 0===Hi)return null;for(const Ni of Bt(xi,Hi.fieldPath))switch(Ni.op){case"array-contains-any":return Ni.value.arrayValue.values||[];case"array-contains":return[Ni.value]}return null}(z,U),ct=function(xi,Hs){const Hi=new Map;for(const Ni of Us(Hs))for(const Io of Bt(xi,Ni.fieldPath))switch(Io.op){case"==":case"in":Hi.set(Ni.fieldPath.canonicalString(),Io.value);break;case"not-in":case"!=":return Hi.set(Ni.fieldPath.canonicalString(),Io.value),Array.from(Hi.values())}return null}(z,U),Rt=function(xi,Hs){const Hi=[];let Ni=!0;for(const Io of Us(Hs)){const oc=0===Io.kind?dn(xi,Io.fieldPath,xi.startAt):$n(xi,Io.fieldPath,xi.startAt);Hi.push(oc.value),Ni&&(Ni=oc.inclusive)}return new Js(Hi,Ni)}(z,U),kt=function(xi,Hs){const Hi=[];let Ni=!0;for(const Io of Us(Hs)){const oc=0===Io.kind?$n(xi,Io.fieldPath,xi.endAt):dn(xi,Io.fieldPath,xi.endAt);Hi.push(oc.value),Ni&&(Ni=oc.inclusive)}return new Js(Hi,Ni)}(z,U),En=this.nn(U,z,Rt),kn=this.nn(U,z,kt),si=this.sn(U,z,ct),Mi=this.rn(U.indexId,Ae,En,Rt.inclusive,kn,kt.inclusive,si);return st.forEach(Mi,xi=>o.J(xi,n.limit).next(Hs=>{Hs.forEach(Hi=>{const Ni=Jt.fromSegments(Hi.documentKey);g.has(Ni)||(g=g.add(Ni),b.push(Ni))})}))}).next(()=>b)}return st.resolve(null)})}tn(e){let n=this.Ze.get(e);return n||(n=[e],this.Ze.set(e,n),n)}rn(e,n,o,u,d,g,b){const U=(null!=n?n.length:1)*Math.max(o.length,d.length),z=U/(null!=n?n.length:1),ne=[];for(let Ae=0;Ae<U;++Ae){const ct=n?this.on(n[Ae/z]):_d,Rt=this.un(e,ct,o[Ae%z],u),kt=this.cn(e,ct,d[Ae%z],g),En=b.map(kn=>this.un(e,ct,kn,!0));ne.push(...this.createRange(Rt,kt,En))}return ne}un(e,n,o,u){const d=new As(e,Jt.empty(),n,o);return u?d:d.Ke()}cn(e,n,o,u){const d=new As(e,Jt.empty(),n,o);return u?d.Ke():d}en(e,n){const o=new Hm(n),u=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,u).next(d=>{let g=null;for(const b of d)o.We(b)&&(!g||b.fields.length>g.fields.length)&&(g=b);return g})}getIndexType(e,n){let o=2;return st.forEach(this.tn(n),u=>this.en(e,u).next(d=>{d?0!==o&&d.fields.length<function(g){let b=new N(Zr.comparator),U=!1;for(const z of g.filters){const ne=z;ne.field.isKeyField()||("array-contains"===ne.op||"array-contains-any"===ne.op?U=!0:b=b.add(ne.field))}for(const z of g.orderBy)z.field.isKeyField()||(b=b.add(z.field));return b.size+(U?1:0)}(u)&&(o=1):o=0})).next(()=>o)}an(e,n){const o=new nl;for(const u of Us(e)){const d=n.data.field(u.fieldPath);if(null==d)return null;const g=o.qe(u.kind);Uu.Te.ce(d,g)}return o.$e()}on(e){const n=new nl;return Uu.Te.ce(e,n.qe(0)),n.$e()}hn(e,n){const o=new nl;return Uu.Te.ce(qt(this.databaseId,n),o.qe(function(u){const d=Us(u);return 0===d.length?0:d[d.length-1].kind}(e))),o.$e()}sn(e,n,o){if(null===o)return[];let u=[];u.push(new nl);let d=0;for(const g of Us(e)){const b=o[d++];for(const U of u)if(this.ln(n,g.fieldPath)&&Et(b))u=this.fn(u,g,b);else{const z=U.qe(g.kind);Uu.Te.ce(b,z)}}return this.dn(u)}nn(e,n,o){return this.sn(e,n,o.position)}dn(e){const n=[];for(let o=0;o<e.length;++o)n[o]=e[o].$e();return n}fn(e,n,o){const u=[...e],d=[];for(const g of o.arrayValue.values||[])for(const b of u){const U=new nl;U.seed(b.$e()),Uu.Te.ce(g,U.qe(n.kind)),d.push(U)}return d}ln(e,n){return!!e.filters.find(o=>o instanceof xn&&o.field.isEqual(n)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,n){const o=Ed(e),u=Tc(e);return(n?o.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):o.W()).next(d=>{const g=[];return st.forEach(d,b=>u.get([b.indexId,this.uid]).next(U=>{g.push(function(z,ne){const Ae=ne?new _o(ne.sequenceNumber,new us(Ha(ne.readTime),new Jt(mu(ne.documentKey)),ne.largestBatchId)):_o.empty(),ct=z.fields.map(([Rt,kt])=>new Bs(Zr.fromServerFormat(Rt),kt));return new Qs(z.indexId,z.collectionGroup,ct,Ae)}(b,U))})).next(()=>g)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((o,u)=>{const d=o.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==d?d:Mn(o.collectionGroup,u.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,o){const u=Ed(e),d=Tc(e);return this._n(e).next(g=>u.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(b=>st.forEach(b,U=>d.put(Tp(U.indexId,this.user,g,o)))))}updateIndexEntries(e,n){const o=new Map;return st.forEach(n,(u,d)=>{const g=o.get(u.collectionGroup);return(g?st.resolve(g):this.getFieldIndexes(e,u.collectionGroup)).next(b=>(o.set(u.collectionGroup,b),st.forEach(b,U=>this.wn(e,u,U).next(z=>{const ne=this.mn(d,U);return z.isEqual(ne)?st.resolve():this.gn(e,d,U,z,ne)}))))})}yn(e,n,o,u){return Ul(e).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.hn(o,n.key),documentKey:n.key.path.toArray()})}pn(e,n,o,u){return Ul(e).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.hn(o,n.key),n.key.path.toArray()])}wn(e,n,o){const u=Ul(e);let d=new N(Ga);return u.Z({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.hn(o,n)])},(g,b)=>{d=d.add(new As(o.indexId,n,b.arrayValue,b.directionalValue))}).next(()=>d)}mn(e,n){let o=new N(Ga);const u=this.an(n,e);if(null==u)return o;const d=Aa(n);if(null!=d){const g=e.data.field(d.fieldPath);if(Et(g))for(const b of g.arrayValue.values||[])o=o.add(new As(n.indexId,e.key,this.on(b),u))}else o=o.add(new As(n.indexId,e.key,_d,u));return o}gn(e,n,o,u,d){Wt("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const g=[];return function(b,U,z,ne,Ae){const ct=b.getIterator(),Rt=U.getIterator();let kt=te(ct),En=te(Rt);for(;kt||En;){let kn=!1,si=!1;if(kt&&En){const Mi=z(kt,En);Mi<0?si=!0:Mi>0&&(kn=!0)}else null!=kt?si=!0:kn=!0;kn?(ne(En),En=te(Rt)):si?(Ae(kt),kt=te(ct)):(kt=te(ct),En=te(Rt))}}(u,d,Ga,b=>{g.push(this.yn(e,n,o,b))},b=>{g.push(this.pn(e,n,o,b))}),st.waitFor(g)}_n(e){let n=1;return Tc(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,u,d)=>{d.done(),n=u.sequenceNumber+1}).next(()=>n)}createRange(e,n,o){o=o.sort((g,b)=>Ga(g,b)).filter((g,b,U)=>!b||0!==Ga(g,U[b-1]));const u=[];u.push(e);for(const g of o){const b=Ga(g,e),U=Ga(g,n);if(0===b)u[0]=e.Ke();else if(b>0&&U<0)u.push(g),u.push(g.Ke());else if(U>0)break}u.push(n);const d=[];for(let g=0;g<u.length;g+=2)d.push(IDBKeyRange.bound([u[g].indexId,this.uid,u[g].arrayValue,u[g].directionalValue,_d,[]],[u[g+1].indexId,this.uid,u[g+1].arrayValue,u[g+1].directionalValue,_d,[]]));return d}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(Rp)}getMinOffset(e,n){return st.mapArray(this.tn(n),o=>this.en(e,o).next(u=>u||In())).next(Rp)}}function Np(i){return Po(i,"collectionParents")}function Ul(i){return Po(i,"indexEntries")}function Ed(i){return Po(i,"indexConfiguration")}function Tc(i){return Po(i,"indexState")}function Rp(i){Gn(0!==i.length);let e=i[0].indexState.offset,n=e.largestBatchId;for(let o=1;o<i.length;o++){const u=i[o].indexState.offset;yi(u,e)<0&&(e=u),n<u.largestBatchId&&(n=u.largestBatchId)}return new us(e.readTime,e.documentKey,n)}const Op={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ha{constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new ha(e,ha.DEFAULT_COLLECTION_PERCENTILE,ha.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function rl(i,e,n){const o=i.store("mutations"),u=i.store("documentMutations"),d=[],g=IDBKeyRange.only(n.batchId);let b=0;const U=o.Z({range:g},(ne,Ae,ct)=>(b++,ct.delete()));d.push(U.next(()=>{Gn(1===b)}));const z=[];for(const ne of n.mutations){const Ae=vp(e,ne.key.path,n.batchId);d.push(u.delete(Ae)),z.push(ne.key)}return st.waitFor(d).next(()=>z)}function Ra(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw In();e=i.noDocument}return JSON.stringify(e).length}ha.DEFAULT_COLLECTION_PERCENTILE=10,ha.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ha.DEFAULT=new ha(41943040,ha.DEFAULT_COLLECTION_PERCENTILE,ha.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ha.DISABLED=new ha(-1,0,0);class wd{constructor(e,n,o,u){this.userId=e,this.It=n,this.indexManager=o,this.referenceDelegate=u,this.In={}}static oe(e,n,o,u){Gn(""!==e.uid);const d=e.isAuthenticated()?e.uid:"";return new wd(d,n,o,u)}checkEmpty(e){let n=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return il(e).Z({index:"userMutationsIndex",range:o},(u,d,g)=>{n=!1,g.done()}).next(()=>n)}addMutationBatch(e,n,o,u){const d=Sc(e),g=il(e);return g.add({}).next(b=>{Gn("number"==typeof b);const U=new Th(b,n,o,u),z=function(ct,Rt,kt){const En=kt.baseMutations.map(si=>Ec(ct.re,si)),kn=kt.mutations.map(si=>Ec(ct.re,si));return{userId:Rt,batchId:kt.batchId,localWriteTimeMs:kt.localWriteTime.toMillis(),baseMutations:En,mutations:kn}}(this.It,this.userId,U),ne=[];let Ae=new N((ct,Rt)=>Mn(ct.canonicalString(),Rt.canonicalString()));for(const ct of u){const Rt=vp(this.userId,ct.key.path,b);Ae=Ae.add(ct.key.path.popLast()),ne.push(g.put(z)),ne.push(d.put(Rt,Vl))}return Ae.forEach(ct=>{ne.push(this.indexManager.addToCollectionParentIndex(e,ct))}),e.addOnCommittedListener(()=>{this.In[b]=U.keys()}),st.waitFor(ne).next(()=>U)})}lookupMutationBatch(e,n){return il(e).get(n).next(o=>o?(Gn(o.userId===this.userId),tl(this.It,o)):null)}Tn(e,n){return this.In[n]?st.resolve(this.In[n]):this.lookupMutationBatch(e,n).next(o=>{if(o){const u=o.keys();return this.In[n]=u,u}return null})}getNextMutationBatchAfterBatchId(e,n){const o=n+1,u=IDBKeyRange.lowerBound([this.userId,o]);let d=null;return il(e).Z({index:"userMutationsIndex",range:u},(g,b,U)=>{b.userId===this.userId&&(Gn(b.batchId>=o),d=tl(this.It,b)),U.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return il(e).Z({index:"userMutationsIndex",range:n,reverse:!0},(u,d,g)=>{o=d.batchId,g.done()}).next(()=>o)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return il(e).W("userMutationsIndex",n).next(o=>o.map(u=>tl(this.It,u)))}getAllMutationBatchesAffectingDocumentKey(e,n){const o=Vu(this.userId,n.path),u=IDBKeyRange.lowerBound(o),d=[];return Sc(e).Z({range:u},(g,b,U)=>{const[z,ne,Ae]=g,ct=mu(ne);if(z===this.userId&&n.path.isEqual(ct))return il(e).get(Ae).next(Rt=>{if(!Rt)throw In();Gn(Rt.userId===this.userId),d.push(tl(this.It,Rt))});U.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new N(Mn);const u=[];return n.forEach(d=>{const g=Vu(this.userId,d.path),b=IDBKeyRange.lowerBound(g),U=Sc(e).Z({range:b},(z,ne,Ae)=>{const[ct,Rt,kt]=z,En=mu(Rt);ct===this.userId&&d.path.isEqual(En)?o=o.add(kt):Ae.done()});u.push(U)}),st.waitFor(u).next(()=>this.En(e,o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,u=o.length+1,d=Vu(this.userId,o),g=IDBKeyRange.lowerBound(d);let b=new N(Mn);return Sc(e).Z({range:g},(U,z,ne)=>{const[Ae,ct,Rt]=U,kt=mu(ct);Ae===this.userId&&o.isPrefixOf(kt)?kt.length===u&&(b=b.add(Rt)):ne.done()}).next(()=>this.En(e,b))}En(e,n){const o=[],u=[];return n.forEach(d=>{u.push(il(e).get(d).next(g=>{if(null===g)throw In();Gn(g.userId===this.userId),o.push(tl(this.It,g))}))}),st.waitFor(u).next(()=>o)}removeMutationBatch(e,n){return rl(e.ie,this.userId,n).next(o=>(e.addOnCommittedListener(()=>{this.An(n.batchId)}),st.forEach(o,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return st.resolve();const o=IDBKeyRange.lowerBound([this.userId]),u=[];return Sc(e).Z({range:o},(d,g,b)=>{if(d[0]===this.userId){const U=mu(d[1]);u.push(U)}else b.done()}).next(()=>{Gn(0===u.length)})})}containsKey(e,n){return Pp(e,this.userId,n)}Rn(e){return Nh(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Pp(i,e,n){const o=Vu(e,n.path),u=o[1],d=IDBKeyRange.lowerBound(o);let g=!1;return Sc(i).Z({range:d,X:!0},(b,U,z)=>{const[ne,Ae,ct]=b;ne===e&&Ae===u&&(g=!0),z.done()}).next(()=>g)}function il(i){return Po(i,"mutations")}function Sc(i){return Po(i,"documentMutations")}function Nh(i){return Po(i,"mutationQueues")}class Bl{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Bl(0)}static vn(){return new Bl(-1)}}class Xa{constructor(e,n){this.referenceDelegate=e,this.It=n}allocateTargetId(e){return this.Vn(e).next(n=>{const o=new Bl(n.highestTargetId);return n.highestTargetId=o.next(),this.Sn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(n=>Ln.fromTimestamp(new Lr(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,o){return this.Vn(e).next(u=>(u.highestListenSequenceNumber=n,o&&(u.lastRemoteSnapshotVersion=o.toTimestamp()),n>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=n),this.Sn(e,u)))}addTargetData(e,n){return this.Dn(e,n).next(()=>this.Vn(e).next(o=>(o.targetCount+=1,this.Cn(n,o),this.Sn(e,o))))}updateTargetData(e,n){return this.Dn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Bu(e).delete(n.targetId)).next(()=>this.Vn(e)).next(o=>(Gn(o.targetCount>0),o.targetCount-=1,this.Sn(e,o)))}removeTargets(e,n,o){let u=0;const d=[];return Bu(e).Z((g,b)=>{const U=bc(b);U.sequenceNumber<=n&&null===o.get(U.targetId)&&(u++,d.push(this.removeTargetData(e,U)))}).next(()=>st.waitFor(d)).next(()=>u)}forEachTarget(e,n){return Bu(e).Z((o,u)=>{const d=bc(u);n(d)})}Vn(e){return Id(e).get("targetGlobalKey").next(n=>(Gn(null!==n),n))}Sn(e,n){return Id(e).put("targetGlobalKey",n)}Dn(e,n){return Bu(e).put(bp(this.It,n))}Cn(e,n){let o=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,o=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.Vn(e).next(n=>n.targetCount)}getTargetData(e,n){const o=q(n),u=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let d=null;return Bu(e).Z({range:u,index:"queryTargetsIndex"},(g,b,U)=>{const z=bc(b);Ze(n,z.target)&&(d=z,U.done())}).next(()=>d)}addMatchingKeys(e,n,o){const u=[],d=ju(e);return n.forEach(g=>{const b=zo(g.path);u.push(d.put({targetId:o,path:b})),u.push(this.referenceDelegate.addReference(e,o,g))}),st.waitFor(u)}removeMatchingKeys(e,n,o){const u=ju(e);return st.forEach(n,d=>{const g=zo(d.path);return st.waitFor([u.delete([o,g]),this.referenceDelegate.removeReference(e,o,d)])})}removeMatchingKeysForTargetId(e,n){const o=ju(e),u=IDBKeyRange.bound([n],[n+1],!1,!0);return o.delete(u)}getMatchingKeysForTargetId(e,n){const o=IDBKeyRange.bound([n],[n+1],!1,!0),u=ju(e);let d=Mr();return u.Z({range:o,X:!0},(g,b,U)=>{const z=mu(g[1]),ne=new Jt(z);d=d.add(ne)}).next(()=>d)}containsKey(e,n){const o=zo(n.path),u=IDBKeyRange.bound([o],[Pi(o)],!1,!0);let d=0;return ju(e).Z({index:"documentTargetsIndex",X:!0,range:u},([g,b],U,z)=>{0!==g&&(d++,z.done())}).next(()=>d>0)}se(e,n){return Bu(e).get(n).next(o=>o?bc(o):null)}}function Bu(i){return Po(i,"targets")}function Id(i){return Po(i,"targetGlobal")}function ju(i){return Po(i,"targetDocuments")}function Rh([i,e],[n,o]){const u=Mn(i,n);return 0===u?Mn(e,o):u}class zm{constructor(e){this.xn=e,this.buffer=new N(Rh),this.Nn=0}kn(){return++this.Nn}Mn(e){const n=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(n);else{const o=this.buffer.last();Rh(n,o)<0&&(this.buffer=this.buffer.delete(o).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Ac{constructor(e,n,o){this.garbageCollector=e,this.asyncQueue=n,this.localStore=o,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}Fn(e){var n=this;Wt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,c.Z)(function*(){n.On=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(o){ms(o)?Wt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield gs(o)}yield n.Fn(3e5)}))}}class Wm{constructor(e,n){this.$n=e,this.params=n}calculateTargetCount(e,n){return this.$n.Bn(e).next(o=>Math.floor(n/100*o))}nthSequenceNumber(e,n){if(0===n)return st.resolve(vs.at);const o=new zm(n);return this.$n.forEachTarget(e,u=>o.Mn(u.sequenceNumber)).next(()=>this.$n.Ln(e,u=>o.Mn(u))).next(()=>o.maxValue)}removeTargets(e,n,o){return this.$n.removeTargets(e,n,o)}removeOrphanedDocuments(e,n){return this.$n.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(Wt("LruGarbageCollector","Garbage collection skipped; disabled"),st.resolve(Op)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Wt("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Op):this.Un(e,n))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,n){let o,u,d,g,b,U,z;const ne=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ae=>(Ae>this.params.maximumSequenceNumbersToCollect?(Wt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ae}`),u=this.params.maximumSequenceNumbersToCollect):u=Ae,g=Date.now(),this.nthSequenceNumber(e,u))).next(Ae=>(o=Ae,b=Date.now(),this.removeTargets(e,o,n))).next(Ae=>(d=Ae,U=Date.now(),this.removeOrphanedDocuments(e,o))).next(Ae=>(z=Date.now(),Ki()<=be.in.DEBUG&&Wt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${g-ne}ms\n\tDetermined least recently used ${u} in `+(b-g)+`ms\n\tRemoved ${d} targets in `+(U-b)+`ms\n\tRemoved ${Ae} documents in `+(z-U)+`ms\nTotal Duration: ${z-ne}ms`),st.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:d,documentsRemoved:Ae})))}}class Km{constructor(e,n){this.db=e,this.garbageCollector=new Wm(this,n)}Bn(e){const n=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>n.next(u=>o+u))}qn(e){let n=0;return this.Ln(e,o=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Ln(e,n){return this.Kn(e,(o,u)=>n(u))}addReference(e,n,o){return jl(e,o)}removeReference(e,n,o){return jl(e,o)}removeTargets(e,n,o){return this.db.getTargetCache().removeTargets(e,n,o)}markPotentiallyOrphaned(e,n){return jl(e,n)}Gn(e,n){return function(o,u){let d=!1;return Nh(o).tt(g=>Pp(o,g,u).next(b=>(b&&(d=!0),st.resolve(!b)))).next(()=>d)}(e,n)}removeOrphanedDocuments(e,n){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let d=0;return this.Kn(e,(g,b)=>{if(b<=n){const U=this.Gn(e,g).next(z=>{if(!z)return d++,o.getEntry(e,g).next(()=>(o.removeEntry(g,Ln.min()),ju(e).delete([0,zo(g.path)])))});u.push(U)}}).next(()=>st.waitFor(u)).next(()=>o.apply(e)).next(()=>d)}removeTarget(e,n){const o=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,n){return jl(e,n)}Kn(e,n){const o=ju(e);let u,d=vs.at;return o.Z({index:"documentTargetsIndex"},([g,b],{path:U,sequenceNumber:z})=>{0===g?(d!==vs.at&&n(new Jt(mu(u)),d),d=z,u=U):d=vs.at}).next(()=>{d!==vs.at&&n(new Jt(mu(u)),d)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function jl(i,e){return ju(i).put((o=i.currentSequenceNumber,{targetId:0,path:zo(e.path),sequenceNumber:o}));var o}class Dd{constructor(){this.changes=new Ja(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Pr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return void 0!==o?st.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class kp{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,o){return $u(e).put(o)}removeEntry(e,n,o){return $u(e).delete(function(u,d){const g=u.path.toArray();return[g.slice(0,g.length-2),g[g.length-2],pd(d),g[g.length-1]]}(n,o))}updateMetadata(e,n){return this.getMetadata(e).next(o=>(o.byteSize+=n,this.Qn(e,o)))}getEntry(e,n){let o=Pr.newInvalidDocument(n);return $u(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Mc(n))},(u,d)=>{o=this.jn(n,d)}).next(()=>o)}Wn(e,n){let o={size:0,document:Pr.newInvalidDocument(n)};return $u(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Mc(n))},(u,d)=>{o={document:this.jn(n,d),size:Ra(d)}}).next(()=>o)}getEntries(e,n){let o=uo();return this.zn(e,n,(u,d)=>{const g=this.jn(u,d);o=o.insert(u,g)}).next(()=>o)}Hn(e,n){let o=uo(),u=new j(Jt.comparator);return this.zn(e,n,(d,g)=>{const b=this.jn(d,g);o=o.insert(d,b),u=u.insert(d,Ra(g))}).next(()=>({documents:o,Jn:u}))}zn(e,n,o){if(n.isEmpty())return st.resolve();let u=new N(Fp);n.forEach(U=>u=u.add(U));const d=IDBKeyRange.bound(Mc(u.first()),Mc(u.last())),g=u.getIterator();let b=g.getNext();return $u(e).Z({index:"documentKeyIndex",range:d},(U,z,ne)=>{const Ae=Jt.fromSegments([...z.prefixPath,z.collectionGroup,z.documentId]);for(;b&&Fp(b,Ae)<0;)o(b,null),b=g.getNext();b&&b.isEqual(Ae)&&(o(b,z),b=g.hasNext()?g.getNext():null),b?ne.j(Mc(b)):ne.done()}).next(()=>{for(;b;)o(b,null),b=g.hasNext()?g.getNext():null})}getAllFromCollection(e,n,o){const u=[n.popLast().toArray(),n.lastSegment(),pd(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],d=[n.popLast().toArray(),n.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return $u(e).W(IDBKeyRange.bound(u,d,!0)).next(g=>{let b=uo();for(const U of g){const z=this.jn(Jt.fromSegments(U.prefixPath.concat(U.collectionGroup,U.documentId)),U);b=b.insert(z.key,z)}return b})}getAllFromCollectionGroup(e,n,o,u){let d=uo();const g=Cd(n,o),b=Cd(n,us.max());return $u(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(g,b,!0)},(U,z,ne)=>{const Ae=this.jn(Jt.fromSegments(z.prefixPath.concat(z.collectionGroup,z.documentId)),z);d=d.insert(Ae.key,Ae),d.size===u&&ne.done()}).next(()=>d)}newChangeBuffer(e){return new $l(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return bd(e).get("remoteDocumentGlobalKey").next(n=>(Gn(!!n),n))}Qn(e,n){return bd(e).put("remoteDocumentGlobalKey",n)}jn(e,n){if(n){const o=function Dp(i,e){let n;if(e.document)n=fp(i.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=Jt.fromSegments(e.noDocument.path),u=Ha(e.noDocument.readTime);n=Pr.newNoDocument(o,u),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return In();{const o=Jt.fromSegments(e.unknownDocument.path),u=Ha(e.unknownDocument.version);n=Pr.newUnknownDocument(o,u)}}return e.readTime&&n.setReadTime(function(o){const u=new Lr(o[0],o[1]);return Ln.fromTimestamp(u)}(e.readTime)),n}(this.It,n);if(!o.isNoDocument()||!o.version.isEqual(Ln.min()))return o}return Pr.newInvalidDocument(e)}}function qm(i){return new kp(i)}class $l extends Dd{constructor(e,n){super(),this.Yn=e,this.trackRemovals=n,this.Xn=new Ja(o=>o.toString(),(o,u)=>o.isEqual(u))}applyChanges(e){const n=[];let o=0,u=new N((d,g)=>Mn(d.canonicalString(),g.canonicalString()));return this.changes.forEach((d,g)=>{const b=this.Xn.get(d);if(n.push(this.Yn.removeEntry(e,d,b.readTime)),g.isValidDocument()){const U=fd(this.Yn.It,g);u=u.add(d.path.popLast()),o+=Ra(U)-b.size,n.push(this.Yn.addEntry(e,d,U))}else if(o-=b.size,this.trackRemovals){const U=fd(this.Yn.It,g.convertToNoDocument(Ln.min()));n.push(this.Yn.addEntry(e,d,U))}}),u.forEach(d=>{n.push(this.Yn.indexManager.addToCollectionParentIndex(e,d))}),n.push(this.Yn.updateMetadata(e,o)),st.waitFor(n)}getFromCache(e,n){return this.Yn.Wn(e,n).next(o=>(this.Xn.set(n,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,n){return this.Yn.Hn(e,n).next(({documents:o,Jn:u})=>(u.forEach((d,g)=>{this.Xn.set(d,{size:g,readTime:o.get(d).readTime})}),o))}}function bd(i){return Po(i,"remoteDocumentGlobal")}function $u(i){return Po(i,"remoteDocumentsV14")}function Mc(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Cd(i,e){const n=e.documentKey.path.toArray();return[i,pd(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Fp(i,e){const n=i.path.toArray(),o=e.path.toArray();let u=0;for(let d=0;d<n.length-2&&d<o.length-2;++d)if(u=Mn(n[d],o[d]),u)return u;return u=Mn(n.length,o.length),u||(u=Mn(n[n.length-2],o[o.length-2]),u||Mn(n[n.length-1],o[o.length-1]))}class Zm{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Lp{constructor(e,n,o,u){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,n){let o=null;return this.documentOverlayCache.getOverlay(e,n).next(u=>(o=u,this.getBaseDocument(e,n,o))).next(u=>(null!==o&&p(o.mutation,u,Ce.empty(),Lr.now()),u))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.getLocalViewOfDocuments(e,o,Mr()).next(()=>o))}getLocalViewOfDocuments(e,n,o=Mr()){const u=Ia();return this.populateOverlays(e,u,n).next(()=>this.computeViews(e,n,u,o).next(d=>{let g=ku();return d.forEach((b,U)=>{g=g.insert(b,U.overlayedDocument)}),g}))}getOverlayedDocuments(e,n){const o=Ia();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,Mr()))}populateOverlays(e,n,o){const u=[];return o.forEach(d=>{n.has(d)||u.push(d)}),this.documentOverlayCache.getOverlays(e,u).next(d=>{d.forEach((g,b)=>{n.set(g,b)})})}computeViews(e,n,o,u){let d=uo();const g=Na(),b=Na();return n.forEach((U,z)=>{const ne=o.get(z.key);u.has(z.key)&&(void 0===ne||ne.mutation instanceof et)?d=d.insert(z.key,z):void 0!==ne&&(g.set(z.key,ne.mutation.getFieldMask()),p(ne.mutation,z,ne.mutation.getFieldMask(),Lr.now()))}),this.recalculateAndSaveOverlays(e,d).next(U=>(U.forEach((z,ne)=>g.set(z,ne)),n.forEach((z,ne)=>{var Ae;return b.set(z,new Zm(ne,null!==(Ae=g.get(z))&&void 0!==Ae?Ae:null))}),b))}recalculateAndSaveOverlays(e,n){const o=Na();let u=new j((g,b)=>g-b),d=Mr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(g=>{for(const b of g)b.keys().forEach(U=>{const z=n.get(U);if(null===z)return;let ne=o.get(U)||Ce.empty();ne=b.applyToLocalView(z,ne),o.set(U,ne);const Ae=(u.get(b.batchId)||Mr()).add(U);u=u.insert(b.batchId,Ae)})}).next(()=>{const g=[],b=u.getReverseIterator();for(;b.hasNext();){const U=b.getNext(),z=U.key,ne=U.value,Ae=gc();ne.forEach(ct=>{if(!d.has(ct)){const Rt=I(n.get(ct),o.get(ct));null!==Rt&&Ae.set(ct,Rt),d=d.add(ct)}}),g.push(this.documentOverlayCache.saveOverlays(e,z,Ae))}return st.waitFor(g)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,n,o){return Jt.isDocumentKey((u=n).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):uc(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,o):this.getDocumentsMatchingCollectionQuery(e,n,o);var u}getNextDocuments(e,n,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,o,u).next(d=>{const g=u-d.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,o.largestBatchId,u-d.size):st.resolve(Ia());let b=-1,U=d;return g.next(z=>st.forEach(z,(ne,Ae)=>(b<Ae.largestBatchId&&(b=Ae.largestBatchId),d.get(ne)?st.resolve():this.getBaseDocument(e,ne,Ae).next(ct=>{U=U.insert(ne,ct)}))).next(()=>this.populateOverlays(e,z,d)).next(()=>this.computeViews(e,U,z,Mr())).next(ne=>({batchId:b,changes:Rl(ne)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Jt(n)).next(o=>{let u=ku();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,n,o){const u=n.collectionGroup;let d=ku();return this.indexManager.getCollectionParents(e,u).next(g=>st.forEach(g,b=>{const U=(z=n,ne=b.child(u),new Qa(ne,null,z.explicitOrderBy.slice(),z.filters.slice(),z.limit,z.limitType,z.startAt,z.endAt));var z,ne;return this.getDocumentsMatchingCollectionQuery(e,U,o).next(z=>{z.forEach((ne,Ae)=>{d=d.insert(ne,Ae)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,n,o){let u;return this.remoteDocumentCache.getAllFromCollection(e,n.path,o).next(d=>(u=d,this.documentOverlayCache.getOverlaysForCollection(e,n.path,o.largestBatchId))).next(d=>{d.forEach((b,U)=>{const z=U.getKey();null===u.get(z)&&(u=u.insert(z,Pr.newInvalidDocument(z)))});let g=ku();return u.forEach((b,U)=>{const z=d.get(b);void 0!==z&&p(z.mutation,U,Ce.empty(),Lr.now()),Nu(n,U)&&(g=g.insert(b,U))}),g})}getBaseDocument(e,n,o){return null===o||1===o.mutation.type?this.remoteDocumentCache.getEntry(e,n):st.resolve(Pr.newInvalidDocument(n))}}class Ym{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return st.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var o;return this.Zn.set(n.id,{id:(o=n).id,version:o.version,createTime:wo(o.createTime)}),st.resolve()}getNamedQuery(e,n){return st.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,{name:(o=n).name,query:gd(o.bundledQuery),readTime:wo(o.readTime)}),st.resolve();var o}}class Qm{constructor(){this.overlays=new j(Jt.comparator),this.es=new Map}getOverlay(e,n){return st.resolve(this.overlays.get(n))}getOverlays(e,n){const o=Ia();return st.forEach(n,u=>this.getOverlay(e,u).next(d=>{null!==d&&o.set(u,d)})).next(()=>o)}saveOverlays(e,n,o){return o.forEach((u,d)=>{this.ue(e,n,d)}),st.resolve()}removeOverlaysForBatchId(e,n,o){const u=this.es.get(o);return void 0!==u&&(u.forEach(d=>this.overlays=this.overlays.remove(d)),this.es.delete(o)),st.resolve()}getOverlaysForCollection(e,n,o){const u=Ia(),d=n.length+1,g=new Jt(n.child("")),b=this.overlays.getIteratorFrom(g);for(;b.hasNext();){const U=b.getNext().value,z=U.getKey();if(!n.isPrefixOf(z.path))break;z.path.length===d&&U.largestBatchId>o&&u.set(U.getKey(),U)}return st.resolve(u)}getOverlaysForCollectionGroup(e,n,o,u){let d=new j((z,ne)=>z-ne);const g=this.overlays.getIterator();for(;g.hasNext();){const z=g.getNext().value;if(z.getKey().getCollectionGroup()===n&&z.largestBatchId>o){let ne=d.get(z.largestBatchId);null===ne&&(ne=Ia(),d=d.insert(z.largestBatchId,ne)),ne.set(z.getKey(),z)}}const b=Ia(),U=d.getIterator();for(;U.hasNext()&&(U.getNext().value.forEach((z,ne)=>b.set(z,ne)),!(b.size()>=u)););return st.resolve(b)}ue(e,n,o){const u=this.overlays.get(o.key);if(null!==u){const g=this.es.get(u.largestBatchId).delete(o.key);this.es.set(u.largestBatchId,g)}this.overlays=this.overlays.insert(o.key,new Dc(n,o));let d=this.es.get(n);void 0===d&&(d=Mr(),this.es.set(n,d)),this.es.set(n,d.add(o.key))}}class Oh{constructor(){this.ns=new N(lo.ss),this.rs=new N(lo.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const o=new lo(e,n);this.ns=this.ns.add(o),this.rs=this.rs.add(o)}us(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.cs(new lo(e,n))}hs(e,n){e.forEach(o=>this.removeReference(o,n))}ls(e){const n=new Jt(new pr([])),o=new lo(n,e),u=new lo(n,e+1),d=[];return this.rs.forEachInRange([o,u],g=>{this.cs(g),d.push(g.key)}),d}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new Jt(new pr([])),o=new lo(n,e),u=new lo(n,e+1);let d=Mr();return this.rs.forEachInRange([o,u],g=>{d=d.add(g.key)}),d}containsKey(e){const n=new lo(e,0),o=this.ns.firstAfterOrEqual(n);return null!==o&&e.isEqual(o.key)}}class lo{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return Jt.comparator(e.key,n.key)||Mn(e._s,n._s)}static os(e,n){return Mn(e._s,n._s)||Jt.comparator(e.key,n.key)}}class Ph{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new N(lo.ss)}checkEmpty(e){return st.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,o,u){const d=this.ws;this.ws++;const g=new Th(d,n,o,u);this.mutationQueue.push(g);for(const b of u)this.gs=this.gs.add(new lo(b.key,d)),this.indexManager.addToCollectionParentIndex(e,b.key.path.popLast());return st.resolve(g)}lookupMutationBatch(e,n){return st.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const u=this.ps(n+1),d=u<0?0:u;return st.resolve(this.mutationQueue.length>d?this.mutationQueue[d]:null)}getHighestUnacknowledgedBatchId(){return st.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return st.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new lo(n,0),u=new lo(n,Number.POSITIVE_INFINITY),d=[];return this.gs.forEachInRange([o,u],g=>{const b=this.ys(g._s);d.push(b)}),st.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new N(Mn);return n.forEach(u=>{const d=new lo(u,0),g=new lo(u,Number.POSITIVE_INFINITY);this.gs.forEachInRange([d,g],b=>{o=o.add(b._s)})}),st.resolve(this.Is(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,u=o.length+1;let d=o;Jt.isDocumentKey(d)||(d=d.child(""));const g=new lo(new Jt(d),0);let b=new N(Mn);return this.gs.forEachWhile(U=>{const z=U.key.path;return!!o.isPrefixOf(z)&&(z.length===u&&(b=b.add(U._s)),!0)},g),st.resolve(this.Is(b))}Is(e){const n=[];return e.forEach(o=>{const u=this.ys(o);null!==u&&n.push(u)}),n}removeMutationBatch(e,n){Gn(0===this.Ts(n.batchId,"removed")),this.mutationQueue.shift();let o=this.gs;return st.forEach(n.mutations,u=>{const d=new lo(u.key,n.batchId);return o=o.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.gs=o})}An(e){}containsKey(e,n){const o=new lo(n,0),u=this.gs.firstAfterOrEqual(o);return st.resolve(n.isEqual(u&&u.key))}performConsistencyCheck(e){return st.resolve()}Ts(e,n){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Vp{constructor(e){this.Es=e,this.docs=new j(Jt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,u=this.docs.get(o),d=u?u.size:0,g=this.Es(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:g}),this.size+=g-d,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return st.resolve(o?o.document.mutableCopy():Pr.newInvalidDocument(n))}getEntries(e,n){let o=uo();return n.forEach(u=>{const d=this.docs.get(u);o=o.insert(u,d?d.document.mutableCopy():Pr.newInvalidDocument(u))}),st.resolve(o)}getAllFromCollection(e,n,o){let u=uo();const d=new Jt(n.child("")),g=this.docs.getIteratorFrom(d);for(;g.hasNext();){const{key:b,value:{document:U}}=g.getNext();if(!n.isPrefixOf(b.path))break;b.path.length>n.length+1||yi($o(U),o)<=0||(u=u.insert(U.key,U.mutableCopy()))}return st.resolve(u)}getAllFromCollectionGroup(e,n,o,u){In()}As(e,n){return st.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new kh(this)}getSize(e){return st.resolve(this.size)}}class kh extends Dd{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?n.push(this.Yn.addEntry(e,u)):this.Yn.removeEntry(o)}),st.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}class Jm{constructor(e){this.persistence=e,this.Rs=new Ja(n=>q(n),Ze),this.lastRemoteSnapshotVersion=Ln.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Oh,this.targetCount=0,this.vs=Bl.Pn()}forEachTarget(e,n){return this.Rs.forEach((o,u)=>n(u)),st.resolve()}getLastRemoteSnapshotVersion(e){return st.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return st.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),st.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.bs&&(this.bs=n),st.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new Bl(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,st.resolve()}updateTargetData(e,n){return this.Dn(n),st.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,st.resolve()}removeTargets(e,n,o){let u=0;const d=[];return this.Rs.forEach((g,b)=>{b.sequenceNumber<=n&&null===o.get(b.targetId)&&(this.Rs.delete(g),d.push(this.removeMatchingKeysForTargetId(e,b.targetId)),u++)}),st.waitFor(d).next(()=>u)}getTargetCount(e){return st.resolve(this.targetCount)}getTargetData(e,n){const o=this.Rs.get(n)||null;return st.resolve(o)}addMatchingKeys(e,n,o){return this.Ps.us(n,o),st.resolve()}removeMatchingKeys(e,n,o){this.Ps.hs(n,o);const u=this.persistence.referenceDelegate,d=[];return u&&n.forEach(g=>{d.push(u.markPotentiallyOrphaned(e,g))}),st.waitFor(d)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),st.resolve()}getMatchingKeysForTargetId(e,n){const o=this.Ps.ds(n);return st.resolve(o)}containsKey(e,n){return st.resolve(this.Ps.containsKey(n))}}class Up{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new vs(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new Jm(this),this.indexManager=new Gm,this.remoteDocumentCache=new Vp(o=>this.referenceDelegate.xs(o)),this.It=new Sh(n),this.Ns=new Ym(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Qm,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.Vs[e.toKey()];return o||(o=new Ph(n,this.referenceDelegate),this.Vs[e.toKey()]=o),o}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,o){Wt("MemoryPersistence","Starting transaction:",e);const u=new Bp(this.Ss.next());return this.referenceDelegate.ks(),o(u).next(d=>this.referenceDelegate.Ms(u).next(()=>d)).toPromise().then(d=>(u.raiseOnCommittedEvent(),d))}Os(e,n){return st.or(Object.values(this.Vs).map(o=>()=>o.containsKey(e,n)))}}class Bp extends La{constructor(e){super(),this.currentSequenceNumber=e}}class xc{constructor(e){this.persistence=e,this.Fs=new Oh,this.$s=null}static Bs(e){return new xc(e)}get Ls(){if(this.$s)return this.$s;throw In()}addReference(e,n,o){return this.Fs.addReference(o,n),this.Ls.delete(o.toString()),st.resolve()}removeReference(e,n,o){return this.Fs.removeReference(o,n),this.Ls.add(o.toString()),st.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),st.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(u=>this.Ls.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(u=>{u.forEach(d=>this.Ls.add(d.toString()))}).next(()=>o.removeTargetData(e,n))}ks(){this.$s=new Set}Ms(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return st.forEach(this.Ls,o=>{const u=Jt.fromPath(o);return this.Us(e,u).next(d=>{d||n.removeEntry(u,Ln.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.Us(e,n).next(o=>{o?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}Us(e,n){return st.or([()=>st.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Os(e,n)])}}class sl{constructor(e){this.It=e}$(e,n,o,u){const d=new Eo("createOrUpgrade",n);var b;o<1&&u>=1&&(e.createObjectStore("owner"),(b=e).createObjectStore("mutationQueues",{keyPath:"userId"}),b.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",yp,{unique:!0}),b.createObjectStore("documentMutations"),Fh(e),function(b){b.createObjectStore("remoteDocuments")}(e));let g=st.resolve();return o<3&&u>=3&&(0!==o&&(function(b){b.deleteObjectStore("targetDocuments"),b.deleteObjectStore("targets"),b.deleteObjectStore("targetGlobal")}(e),Fh(e)),g=g.next(()=>function(b){const U=b.store("targetGlobal"),z={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ln.min().toTimestamp(),targetCount:0};return U.put("targetGlobalKey",z)}(d))),o<4&&u>=4&&(0!==o&&(g=g.next(()=>function(b,U){return U.store("mutations").W().next(z=>{b.deleteObjectStore("mutations"),b.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",yp,{unique:!0});const ne=U.store("mutations"),Ae=z.map(ct=>ne.put(ct));return st.waitFor(Ae)})}(e,d))),g=g.next(()=>{!function(b){b.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&u>=5&&(g=g.next(()=>this.qs(d))),o<6&&u>=6&&(g=g.next(()=>(function(b){b.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(d)))),o<7&&u>=7&&(g=g.next(()=>this.Gs(d))),o<8&&u>=8&&(g=g.next(()=>this.Qs(e,d))),o<9&&u>=9&&(g=g.next(()=>{!function(b){b.objectStoreNames.contains("remoteDocumentChanges")&&b.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&u>=10&&(g=g.next(()=>this.js(d))),o<11&&u>=11&&(g=g.next(()=>{(function(b){b.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(b){b.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&u>=12&&(g=g.next(()=>{!function(b){const U=b.createObjectStore("documentOverlays",{keyPath:Lm});U.createIndex("collectionPathOverlayIndex",bh,{unique:!1}),U.createIndex("collectionGroupOverlayIndex",kv,{unique:!1})}(e)})),o<13&&u>=13&&(g=g.next(()=>function(b){const U=b.createObjectStore("remoteDocumentsV14",{keyPath:Ic});U.createIndex("documentKeyIndex",Rm),U.createIndex("collectionGroupIndex",Pv)}(e)).next(()=>this.Ws(e,d)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&u>=14&&(g=g.next(()=>this.zs(e,d))),o<15&&u>=15&&(g=g.next(()=>function(b){b.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),b.createObjectStore("indexState",{keyPath:Ep}).createIndex("sequenceNumberIndex",wp,{unique:!1}),b.createObjectStore("indexEntries",{keyPath:Dh}).createIndex("documentKeyIndex",Fm,{unique:!1})}(e))),g}Ks(e){let n=0;return e.store("remoteDocuments").Z((o,u)=>{n+=Ra(u)}).next(()=>{const o={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}qs(e){const n=e.store("mutationQueues"),o=e.store("mutations");return n.W().next(u=>st.forEach(u,d=>{const g=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return o.W("userMutationsIndex",g).next(b=>st.forEach(b,U=>{Gn(U.userId===d.userId);const z=tl(this.It,U);return rl(e,d.userId,z).next(()=>{})}))}))}Gs(e){const n=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const d=[];return o.Z((g,b)=>{const U=new pr(g),z=[0,zo(U)];d.push(n.get(z).next(ne=>ne?st.resolve():n.put({targetId:0,path:zo(U),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>st.waitFor(d))})}Qs(e,n){e.createObjectStore("collectionParents",{keyPath:km});const o=n.store("collectionParents"),u=new vd,d=g=>{if(u.add(g)){const b=g.lastSegment(),U=g.popLast();return o.put({collectionId:b,parent:zo(U)})}};return n.store("remoteDocuments").Z({X:!0},(g,b)=>{const U=new pr(g);return d(U.popLast())}).next(()=>n.store("documentMutations").Z({X:!0},([g,b,U],z)=>{const ne=mu(b);return d(ne.popLast())}))}js(e){const n=e.store("targets");return n.Z((o,u)=>{const d=bc(u),g=bp(this.It,d);return n.put(g)})}Ws(e,n){const o=n.store("remoteDocuments"),u=[];return o.Z((d,g)=>{const b=n.store("remoteDocumentsV14"),U=(z=g,z.document?new Jt(pr.fromString(z.document.name).popFirst(5)):z.noDocument?Jt.fromSegments(z.noDocument.path):z.unknownDocument?Jt.fromSegments(z.unknownDocument.path):In()).path.toArray();var z;const ne={prefixPath:U.slice(0,U.length-2),collectionGroup:U[U.length-2],documentId:U[U.length-1],readTime:g.readTime||[0,0],unknownDocument:g.unknownDocument,noDocument:g.noDocument,document:g.document,hasCommittedMutations:!!g.hasCommittedMutations};u.push(b.put(ne))}).next(()=>st.waitFor(u))}zs(e,n){const o=n.store("mutations"),u=qm(this.It),d=new Up(xc.Bs,this.It.re);return o.W().next(g=>{const b=new Map;return g.forEach(U=>{var z;let ne=null!==(z=b.get(U.userId))&&void 0!==z?z:Mr();tl(this.It,U).keys().forEach(Ae=>ne=ne.add(Ae)),b.set(U.userId,ne)}),st.forEach(b,(U,z)=>{const ne=new Wr(z),Ae=yd.oe(this.It,ne),ct=d.getIndexManager(ne),Rt=wd.oe(ne,this.It,ct,d.referenceDelegate);return new Lp(u,Rt,Ae,ct).recalculateAndSaveOverlaysForDocumentKeys(new Ip(n,vs.at),U).next()})})}}function Fh(i){i.createObjectStore("targetDocuments",{keyPath:Om}).createIndex("documentTargetsIndex",Pm,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",_p,{unique:!0}),i.createObjectStore("targetGlobal")}const Td="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Lh{constructor(e,n,o,u,d,g,b,U,z,ne,Ae=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=o,this.Hs=d,this.window=g,this.document=b,this.Js=z,this.Ys=ne,this.Xs=Ae,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=ct=>Promise.resolve(),!Lh.C())throw new jt(_t.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Km(this,u),this.ii=n+"main",this.It=new Sh(U),this.ri=new $i(this.ii,this.Xs,new sl(this.It)),this.Cs=new Xa(this.referenceDelegate,this.It),this.remoteDocumentCache=qm(this.It),this.Ns=new jm,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===ne&&ir("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new jt(_t.FAILED_PRECONDITION,Td);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new vs(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var n=this;return this.si=function(){var o=(0,c.Z)(function*(u){if(n.started)return e(u)});return function(u){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var n=(0,c.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,c.Z)(function*(){n.started&&(yield n.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>ol(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(n=>{n||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(n=>this.isPrimary&&!n?this._i(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(ms(e))return Wt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Wt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Sd(e).get("owner").next(n=>st.resolve(this.mi(n)))}gi(e){return ol(e).delete(this.clientId)}yi(){var e=this;return(0,c.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const u=Po(o,"clientMetadata");return u.W().next(d=>{const g=e.Ii(d,18e5),b=d.filter(U=>-1===g.indexOf(U));return st.forEach(b,U=>u.delete(U.clientId)).next(()=>b)})}).catch(()=>[]);if(e.oi)for(const o of n)e.oi.removeItem(e.Ti(o.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?st.resolve(!0):Sd(e).get("owner").next(n=>{if(null!==n&&this.pi(n.leaseTimestampMs,5e3)&&!this.Ei(n.ownerId)){if(this.mi(n)&&this.networkEnabled)return!0;if(!this.mi(n)){if(!n.allowTabSynchronization)throw new jt(_t.FAILED_PRECONDITION,Td);return!1}}return!(!this.networkEnabled||!this.inForeground)||ol(e).W().next(o=>void 0===this.Ii(o,5e3).find(u=>{if(this.clientId!==u.clientId){const g=!this.inForeground&&u.inForeground,b=this.networkEnabled===u.networkEnabled;if(!this.networkEnabled&&u.networkEnabled||g&&b)return!0}return!1}))}).next(n=>(this.isPrimary!==n&&Wt("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,c.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const o=new Ip(n,vs.at);return e._i(o).next(()=>e.gi(o))}),e.ri.close(),e.Pi()})()}Ii(e,n){return e.filter(o=>this.pi(o.updateTimeMs,n)&&!this.Ei(o.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>ol(e).W().next(n=>this.Ii(n,18e5).map(o=>o.clientId)))}get started(){return this.Ds}getMutationQueue(e,n){return wd.oe(e,this.It,n,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new xp(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return yd.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,n,o){Wt("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===n?"readonly":"readwrite",d=15===(g=this.Xs)?Fv:14===g?Bm:13===g?Um:12===g?Ch:11===g?Vm:void In();var g;let b;return this.ri.runTransaction(e,u,d,U=>(b=new Ip(U,this.Ss?this.Ss.next():vs.at),"readwrite-primary"===n?this.fi(b).next(z=>!!z||this.di(b)).next(z=>{if(!z)throw ir(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new jt(_t.FAILED_PRECONDITION,Ho);return o(b)}).next(z=>this.wi(b).next(()=>z)):this.Vi(b).next(()=>o(b)))).then(U=>(b.raiseOnCommittedEvent(),U))}Vi(e){return Sd(e).get("owner").next(n=>{if(null!==n&&this.pi(n.leaseTimestampMs,5e3)&&!this.Ei(n.ownerId)&&!this.mi(n)&&!(this.Ys||this.allowTabSynchronization&&n.allowTabSynchronization))throw new jt(_t.FAILED_PRECONDITION,Td)})}wi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Sd(e).put("owner",n)}static C(){return $i.C()}_i(e){const n=Sd(e);return n.get("owner").next(o=>this.mi(o)?(Wt("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):st.resolve())}pi(e,n){const o=Date.now();return!(e<o-n||e>o&&(ir(`Detected an update time that is in the future: ${e} > ${o}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,me.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var n;try{const o=null!==(null===(n=this.oi)||void 0===n?void 0:n.getItem(this.Ti(e)));return Wt("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return ir("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){ir("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Sd(i){return Po(i,"owner")}function ol(i){return Po(i,"clientMetadata")}function Vh(i,e){let n=i.projectId;return i.isDefaultDatabase||(n+="."+i.database),"firestore/"+e+"/"+n+"/"}class Ad{constructor(e,n,o,u){this.targetId=e,this.fromCache=n,this.Si=o,this.Di=u}static Ci(e,n){let o=Mr(),u=Mr();for(const d of n.docChanges)switch(d.type){case 0:o=o.add(d.doc.key);break;case 1:u=u.add(d.doc.key)}return new Ad(e,n.fromCache,o,u)}}class Uh{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,o,u){return this.ki(e,n).next(d=>d||this.Mi(e,n,u,o)).next(d=>d||this.Oi(e,n))}ki(e,n){if(ed(n))return st.resolve(null);let o=ta(n);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==n.limit&&1===u&&(n=Yu(n,null,"F"),o=ta(n)),this.indexManager.getDocumentsMatchingTarget(e,o).next(d=>{const g=Mr(...d);return this.Ni.getDocuments(e,g).next(b=>this.indexManager.getMinOffset(e,o).next(U=>{const z=this.Fi(n,b);return this.$i(n,z,g,U.readTime)?this.ki(e,Yu(n,null,"F")):this.Bi(e,z,n,U)}))})))}Mi(e,n,o,u){return ed(n)||u.isEqual(Ln.min())?this.Oi(e,n):this.Ni.getDocuments(e,o).next(d=>{const g=this.Fi(n,d);return this.$i(n,g,o,u)?this.Oi(e,n):(Ki()<=be.in.DEBUG&&Wt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),lc(n)),this.Bi(e,g,n,ca(u,-1)))})}Fi(e,n){let o=new N(Al(e));return n.forEach((u,d)=>{Nu(e,d)&&(o=o.add(d))}),o}$i(e,n,o,u){if(null===e.limit)return!1;if(o.size!==n.size)return!0;const d="F"===e.limitType?n.last():n.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(u)>0)}Oi(e,n){return Ki()<=be.in.DEBUG&&Wt("QueryEngine","Using full collection scan to execute query:",lc(n)),this.Ni.getDocumentsMatchingQuery(e,n,us.min())}Bi(e,n,o,u){return this.Ni.getDocumentsMatchingQuery(e,o,u).next(d=>(n.forEach(g=>{d=d.insert(g.key,g)}),d))}}class jp{constructor(e,n,o,u){this.persistence=e,this.Li=n,this.It=u,this.Ui=new j(Mn),this.qi=new Ja(d=>q(d),Ze),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(o)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Lp(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ui))}}function Md(i,e,n,o){return new jp(i,e,n,o)}function Bh(i,e){return Hl.apply(this,arguments)}function Hl(){return Hl=(0,c.Z)(function*(i,e){const n=rn(i);return yield n.persistence.runTransaction("Handle user change","readonly",o=>{let u;return n.mutationQueue.getAllMutationBatches(o).next(d=>(u=d,n.Qi(e),n.mutationQueue.getAllMutationBatches(o))).next(d=>{const g=[],b=[];let U=Mr();for(const z of u){g.push(z.batchId);for(const ne of z.mutations)U=U.add(ne.key)}for(const z of d){b.push(z.batchId);for(const ne of z.mutations)U=U.add(ne.key)}return n.localDocuments.getDocuments(o,U).next(z=>({ji:z,removedBatchIds:g,addedBatchIds:b}))})})}),Hl.apply(this,arguments)}function xd(i,e){const n=rn(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),d=n.Gi.newChangeBuffer({trackRemovals:!0});return function(g,b,U,z){const ne=U.batch,Ae=ne.keys();let ct=st.resolve();return Ae.forEach(Rt=>{ct=ct.next(()=>z.getEntry(b,Rt)).next(kt=>{const En=U.docVersions.get(Rt);Gn(null!==En),kt.version.compareTo(En)<0&&(ne.applyToRemoteDocument(kt,U),kt.isValidDocument()&&(kt.setReadTime(U.commitVersion),z.addEntry(kt)))})}),ct.next(()=>g.mutationQueue.removeMutationBatch(b,ne))}(n,o,e,d).next(()=>d.apply(o)).next(()=>n.mutationQueue.performConsistencyCheck(o)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(g){let b=Mr();for(let U=0;U<g.mutationResults.length;++U)g.mutationResults[U].transformResults.length>0&&(b=b.add(g.batch.mutations[U].key));return b}(e))).next(()=>n.localDocuments.getDocuments(o,u))})}function jh(i){const e=rn(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function $h(i,e){const n=rn(i),o=e.snapshotVersion;let u=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const g=n.Gi.newChangeBuffer({trackRemovals:!0});u=n.Ui;const b=[];e.targetChanges.forEach((ne,Ae)=>{const ct=u.get(Ae);if(!ct)return;b.push(n.Cs.removeMatchingKeys(d,ne.removedDocuments,Ae).next(()=>n.Cs.addMatchingKeys(d,ne.addedDocuments,Ae)));let Rt=ct.withSequenceNumber(d.currentSequenceNumber);var kt,En,kn;e.targetMismatches.has(Ae)?Rt=Rt.withResumeToken(qe.EMPTY_BYTE_STRING,Ln.min()).withLastLimboFreeSnapshotVersion(Ln.min()):ne.resumeToken.approximateByteSize()>0&&(Rt=Rt.withResumeToken(ne.resumeToken,o)),u=u.insert(Ae,Rt),En=Rt,kn=ne,(0===(kt=ct).resumeToken.approximateByteSize()||En.snapshotVersion.toMicroseconds()-kt.snapshotVersion.toMicroseconds()>=3e8||kn.addedDocuments.size+kn.modifiedDocuments.size+kn.removedDocuments.size>0)&&b.push(n.Cs.updateTargetData(d,Rt))});let U=uo(),z=Mr();if(e.documentUpdates.forEach(ne=>{e.resolvedLimboDocuments.has(ne)&&b.push(n.persistence.referenceDelegate.updateLimboDocument(d,ne))}),b.push(Hh(d,g,e.documentUpdates).next(ne=>{U=ne.Wi,z=ne.zi})),!o.isEqual(Ln.min())){const ne=n.Cs.getLastRemoteSnapshotVersion(d).next(Ae=>n.Cs.setTargetsMetadata(d,d.currentSequenceNumber,o));b.push(ne)}return st.waitFor(b).next(()=>g.apply(d)).next(()=>n.localDocuments.getLocalViewOfDocuments(d,U,z)).next(()=>U)}).then(d=>(n.Ui=u,d))}function Hh(i,e,n){let o=Mr(),u=Mr();return n.forEach(d=>o=o.add(d)),e.getEntries(i,o).next(d=>{let g=uo();return n.forEach((b,U)=>{const z=d.get(b);U.isFoundDocument()!==z.isFoundDocument()&&(u=u.add(b)),U.isNoDocument()&&U.version.isEqual(Ln.min())?(e.removeEntry(b,U.readTime),g=g.insert(b,U)):!z.isValidDocument()||U.version.compareTo(z.version)>0||0===U.version.compareTo(z.version)&&z.hasPendingWrites?(e.addEntry(U),g=g.insert(b,U)):Wt("LocalStore","Ignoring outdated watch update for ",b,". Current version:",z.version," Watch version:",U.version)}),{Wi:g,zi:u}})}function Gh(i,e){const n=rn(i);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function eu(i,e){const n=rn(i);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return n.Cs.getTargetData(o,e).next(d=>d?(u=d,st.resolve(u)):n.Cs.allocateTargetId(o).next(g=>(u=new yu(e,g,0,o.currentSequenceNumber),n.Cs.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=n.Ui.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(o.targetId,o),n.qi.set(e,o.targetId)),o})}function Gl(i,e,n){return Nd.apply(this,arguments)}function Nd(){return Nd=(0,c.Z)(function*(i,e,n){const o=rn(i),u=o.Ui.get(e),d=n?"readwrite":"readwrite-primary";try{n||(yield o.persistence.runTransaction("Release target",d,g=>o.persistence.referenceDelegate.removeTarget(g,u)))}catch(g){if(!ms(g))throw g;Wt("LocalStore",`Failed to update sequence numbers for target ${e}: ${g}`)}o.Ui=o.Ui.remove(e),o.qi.delete(u.target)}),Nd.apply(this,arguments)}function Rd(i,e,n){const o=rn(i);let u=Ln.min(),d=Mr();return o.persistence.runTransaction("Execute query","readonly",g=>function(b,U,z){const ne=rn(b),Ae=ne.qi.get(z);return void 0!==Ae?st.resolve(ne.Ui.get(Ae)):ne.Cs.getTargetData(U,z)}(o,g,ta(e)).next(b=>{if(b)return u=b.lastLimboFreeSnapshotVersion,o.Cs.getMatchingKeysForTargetId(g,b.targetId).next(U=>{d=U})}).next(()=>o.Li.getDocumentsMatchingQuery(g,e,n?u:Ln.min(),n?d:Mr())).next(b=>(Od(o,Qu(e),b),{documents:b,Hi:d})))}function $p(i,e){const n=rn(i),o=rn(n.Cs),u=n.Ui.get(e);return u?Promise.resolve(u.target):n.persistence.runTransaction("Get target data","readonly",d=>o.se(d,e).next(g=>g?g.target:null))}function zh(i,e){const n=rn(i),o=n.Ki.get(e)||Ln.min();return n.persistence.runTransaction("Get new document changes","readonly",u=>n.Gi.getAllFromCollectionGroup(u,e,ca(o,-1),Number.MAX_SAFE_INTEGER)).then(u=>(Od(n,e,u),u))}function Od(i,e,n){let o=Ln.min();n.forEach((u,d)=>{d.readTime.compareTo(o)>0&&(o=d.readTime)}),i.Ki.set(e,o)}function Gp(){return Gp=(0,c.Z)(function*(i,e,n,o){const u=rn(i);let d=Mr(),g=uo();for(const z of n){const ne=e.Ji(z.metadata.name);z.document&&(d=d.add(ne));const Ae=e.Yi(z);Ae.setReadTime(e.Xi(z.metadata.readTime)),g=g.insert(ne,Ae)}const b=u.Gi.newChangeBuffer({trackRemovals:!0}),U=yield eu(u,(z=o,ta(du(pr.fromString(`__bundle__/docs/${z}`)))));var z;return u.persistence.runTransaction("Apply bundle documents","readwrite",z=>Hh(z,b,g).next(ne=>(b.apply(z),ne)).next(ne=>u.Cs.removeMatchingKeysForTargetId(z,U.targetId).next(()=>u.Cs.addMatchingKeys(z,d,U.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(z,ne.Wi,ne.zi)).next(()=>ne.Wi)))}),Gp.apply(this,arguments)}function zp(i,e){return Wh.apply(this,arguments)}function Wh(){return Wh=(0,c.Z)(function*(i,e,n=Mr()){const o=yield eu(i,ta(gd(e.bundledQuery))),u=rn(i);return u.persistence.runTransaction("Save named query","readwrite",d=>{const g=wo(e.readTime);if(o.snapshotVersion.compareTo(g)>=0)return u.Ns.saveNamedQuery(d,e);const b=o.withResumeToken(qe.EMPTY_BYTE_STRING,g);return u.Ui=u.Ui.insert(b.targetId,b),u.Cs.updateTargetData(d,b).next(()=>u.Cs.removeMatchingKeysForTargetId(d,o.targetId)).next(()=>u.Cs.addMatchingKeys(d,n,o.targetId)).next(()=>u.Ns.saveNamedQuery(d,e))})}),Wh.apply(this,arguments)}function Kh(i,e){return`firestore_clients_${i}_${e}`}function Wp(i,e,n){let o=`firestore_mutations_${i}_${n}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function qh(i,e){return`firestore_targets_${i}_${e}`}class fa{constructor(e,n,o,u){this.user=e,this.batchId=n,this.state=o,this.error=u}static Zi(e,n,o){const u=JSON.parse(o);let d,g="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return g&&u.error&&(g="string"==typeof u.error.message&&"string"==typeof u.error.code,g&&(d=new jt(u.error.code,u.error.message))),g?new fa(e,n,u.state,d):(ir("SharedClientState",`Failed to parse mutation state for ID '${n}': ${o}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Nc{constructor(e,n,o){this.targetId=e,this.state=n,this.error=o}static Zi(e,n){const o=JSON.parse(n);let u,d="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return d&&o.error&&(d="string"==typeof o.error.message&&"string"==typeof o.error.code,d&&(u=new jt(o.error.code,o.error.message))),d?new Nc(e,o.state,u):(ir("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Rc{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Zi(e,n){const o=JSON.parse(n);let u="object"==typeof o&&o.activeTargetIds instanceof Array,d=mc();for(let g=0;u&&g<o.activeTargetIds.length;++g)u=Si(o.activeTargetIds[g]),d=d.add(o.activeTargetIds[g]);return u?new Rc(e,d):(ir("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class Zh{constructor(e,n){this.clientId=e,this.onlineState=n}static Zi(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new Zh(n.clientId,n.onlineState):(ir("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Yh{constructor(){this.activeTargetIds=mc()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Qh{constructor(e,n,o,u,d){this.window=e,this.Hs=n,this.persistenceKey=o,this.sr=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new j(Mn),this.started=!1,this.cr=[];const g=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.ar=Kh(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new Yh),this.lr=new RegExp(`^firestore_clients_${g}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${g}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${g}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(b){return`firestore_bundle_loaded_v2_${b}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,c.Z)(function*(){const n=yield e.syncEngine.vi();for(const u of n){if(u===e.sr)continue;const d=e.getItem(Kh(e.persistenceKey,u));if(d){const g=Rc.Zi(u,d);g&&(e.ur=e.ur.insert(g.clientId,g))}}e.gr();const o=e.storage.getItem(e.wr);if(o){const u=e.yr(o);u&&e.pr(u)}for(const u of e.cr)e.rr(u);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let n=!1;return this.ur.forEach((o,u)=>{u.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,n,o){this.Tr(e,n,o),this.Er(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(qh(this.persistenceKey,e));if(o){const u=Nc.Zi(e,o);u&&(n=u.state)}}return this.Ar.er(e),this.gr(),n}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(qh(this.persistenceKey,e))}updateQueryState(e,n,o){this.Rr(e,n,o)}handleUserChange(e,n,o){n.forEach(u=>{this.Er(u)}),this.currentUser=e,o.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return Wt("SharedClientState","READ",e,n),n}setItem(e,n){Wt("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){Wt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var n=this;const o=e;if(o.storageArea===this.storage){if(Wt("SharedClientState","EVENT",o.key,o.newValue),o.key===this.ar)return void ir("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,c.Z)(function*(){if(n.started){if(null!==o.key)if(n.lr.test(o.key)){if(null==o.newValue){const u=n.vr(o.key);return n.Vr(u,null)}{const u=n.Sr(o.key,o.newValue);if(u)return n.Vr(u.clientId,u)}}else if(n.dr.test(o.key)){if(null!==o.newValue){const u=n.Dr(o.key,o.newValue);if(u)return n.Cr(u)}}else if(n._r.test(o.key)){if(null!==o.newValue){const u=n.Nr(o.key,o.newValue);if(u)return n.kr(u)}}else if(o.key===n.wr){if(null!==o.newValue){const u=n.yr(o.newValue);if(u)return n.pr(u)}}else if(o.key===n.hr){const u=function(d){let g=vs.at;if(null!=d)try{const b=JSON.parse(d);Gn("number"==typeof b),g=b}catch(b){ir("SharedClientState","Failed to read sequence number from WebStorage",b)}return g}(o.newValue);u!==vs.at&&n.sequenceNumberHandler(u)}else if(o.key===n.mr){const u=n.Mr(o.newValue);yield Promise.all(u.map(d=>n.syncEngine.Or(d)))}}else n.cr.push(o)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,n,o){const u=new fa(this.currentUser,e,n,o),d=Wp(this.persistenceKey,this.currentUser,e);this.setItem(d,u.tr())}Er(e){const n=Wp(this.persistenceKey,this.currentUser,e);this.removeItem(n)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,n,o){const u=qh(this.persistenceKey,e),d=new Nc(e,n,o);this.setItem(u,d.tr())}Pr(e){const n=JSON.stringify(Array.from(e));this.setItem(this.mr,n)}vr(e){const n=this.lr.exec(e);return n?n[1]:null}Sr(e,n){const o=this.vr(e);return Rc.Zi(o,n)}Dr(e,n){const o=this.dr.exec(e),u=Number(o[1]);return fa.Zi(new Wr(void 0!==o[2]?o[2]:null),u,n)}Nr(e,n){const o=this._r.exec(e),u=Number(o[1]);return Nc.Zi(u,n)}yr(e){return Zh.Zi(e)}Mr(e){return JSON.parse(e)}Cr(e){var n=this;return(0,c.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.Fr(e.batchId,e.state,e.error);Wt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,n){const o=n?this.ur.insert(e,n):this.ur.remove(e),u=this.Ir(this.ur),d=this.Ir(o),g=[],b=[];return d.forEach(U=>{u.has(U)||g.push(U)}),u.forEach(U=>{d.has(U)||b.push(U)}),this.syncEngine.Br(g,b).then(()=>{this.ur=o})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let n=mc();return e.forEach((o,u)=>{n=n.unionWith(u.activeTargetIds)}),n}}class Kp{constructor(){this.Lr=new Yh,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,n,o){this.Ur[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Yh,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class qp{qr(e){}shutdown(){}}class Zp{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Wt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Wt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Xm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class ey{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class wr extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,n,o,u,d){const g=this.ao(e,n);Wt("RestConnection","Sending: ",g,o);const b={};return this.ho(b,u,d),this.lo(e,g,b,o).then(U=>(Wt("RestConnection","Received: ",U),U),U=>{throw vo("RestConnection",`${e} failed with error: `,U,"url: ",g,"request:",o),U})}fo(e,n,o,u,d,g){return this.co(e,n,o,u,d)}ho(e,n,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ts,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((u,d)=>e[d]=u),o&&o.headers.forEach((u,d)=>e[d]=u)}ao(e,n){return`${this.oo}/v1/${n}:${Xm[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,n,o,u){return new Promise((d,g)=>{const b=new oo;b.listenOnce(Dr.COMPLETE,()=>{try{switch(b.getLastErrorCode()){case Ir.NO_ERROR:const z=b.getResponseJson();Wt("Connection","XHR received:",JSON.stringify(z)),d(z);break;case Ir.TIMEOUT:Wt("Connection",'RPC "'+e+'" timed out'),g(new jt(_t.DEADLINE_EXCEEDED,"Request time out"));break;case Ir.HTTP_ERROR:const ne=b.getStatus();if(Wt("Connection",'RPC "'+e+'" failed with status:',ne,"response text:",b.getResponseText()),ne>0){const Ae=b.getResponseJson().error;if(Ae&&Ae.status&&Ae.message){const ct=function(Rt){const kt=Rt.toLowerCase().replace(/_/g,"-");return Object.values(_t).indexOf(kt)>=0?kt:_t.UNKNOWN}(Ae.status);g(new jt(ct,Ae.message))}else g(new jt(_t.UNKNOWN,"Server responded with status "+b.getStatus()))}else g(new jt(_t.UNAVAILABLE,"Connection failed."));break;default:In()}}finally{Wt("Connection",'RPC "'+e+'" completed.')}});const U=JSON.stringify(u);b.send(n,"POST",U,o,15)})}_o(e,n,o){const u=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=wn(),g=vr(),b={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(b.xmlHttpFactory=new zr({})),this.ho(b.initMessageHeaders,n,o),b.encodeInitMessageHeaders=!0;const U=u.join("");Wt("Connection","Creating WebChannel: "+U,b);const z=d.createWebChannel(U,b);let ne=!1,Ae=!1;const ct=new ey({Hr:kt=>{Ae?Wt("Connection","Not sending because WebChannel is closed:",kt):(ne||(Wt("Connection","Opening WebChannel transport."),z.open(),ne=!0),Wt("Connection","WebChannel sending:",kt),z.send(kt))},Jr:()=>z.close()}),Rt=(kt,En,kn)=>{kt.listen(En,si=>{try{kn(si)}catch(Mi){setTimeout(()=>{throw Mi},0)}})};return Rt(z,Ur.EventType.OPEN,()=>{Ae||Wt("Connection","WebChannel transport opened.")}),Rt(z,Ur.EventType.CLOSE,()=>{Ae||(Ae=!0,Wt("Connection","WebChannel transport closed"),ct.io())}),Rt(z,Ur.EventType.ERROR,kt=>{Ae||(Ae=!0,vo("Connection","WebChannel transport errored:",kt),ct.io(new jt(_t.UNAVAILABLE,"The operation could not be completed")))}),Rt(z,Ur.EventType.MESSAGE,kt=>{var En;if(!Ae){const kn=kt.data[0];Gn(!!kn);const si=kn,Mi=si.error||(null===(En=si[0])||void 0===En?void 0:En.error);if(Mi){Wt("Connection","WebChannel received error:",Mi);const xi=Mi.status;let Hs=function(Ni){const Io=Fi[Ni];if(void 0!==Io)return Pu(Io)}(xi),Hi=Mi.message;void 0===Hs&&(Hs=_t.INTERNAL,Hi="Unknown error status: "+xi+" with message "+Mi.message),Ae=!0,ct.io(new jt(Hs,Hi)),z.close()}else Wt("Connection","WebChannel received:",kn),ct.ro(kn)}}),Rt(g,cr.STAT_EVENT,kt=>{kt.stat===di.PROXY?Wt("Connection","Detected buffering proxy"):kt.stat===di.NOPROXY&&Wt("Connection","Detected no buffering proxy")}),setTimeout(()=>{ct.so()},0),ct}}function Jh(){return typeof window<"u"?window:null}function Oc(){return typeof document<"u"?document:null}function zl(i){return new ph(i,!0)}class Xh{constructor(e,n,o=1e3,u=1.5,d=6e4){this.Hs=e,this.timerId=n,this.wo=o,this.mo=u,this.yo=d,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const n=Math.floor(this.po+this.Ro()),o=Math.max(0,Date.now()-this.To),u=Math.max(0,n-o);u>0&&Wt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.po} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,u,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class Yp{constructor(e,n,o,u,d,g,b,U){this.Hs=e,this.Po=o,this.vo=u,this.Vo=d,this.authCredentialsProvider=g,this.appCheckCredentialsProvider=b,this.listener=U,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Xh(e,n)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,c.Z)(function*(){e.No()&&(yield e.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,c.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,n){var o=this;return(0,c.Z)(function*(){o.Lo(),o.Uo(),o.xo.cancel(),o.So++,4!==e?o.xo.reset():n&&n.code===_t.RESOURCE_EXHAUSTED?(ir(n.toString()),ir("Using maximum backoff delay to prevent overloading the backend."),o.xo.Eo()):n&&n.code===_t.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.qo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Zr(n)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.So===n&&this.Go(o,u)},o=>{e(()=>{const u=new jt(_t.UNKNOWN,"Fetching auth token failed: "+o.message);return this.Qo(u)})})}Go(e,n){const o=this.Ko(this.So);this.stream=this.jo(e,n),this.stream.Yr(()=>{o(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(u=>{o(()=>this.Qo(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}Mo(){var e=this;this.state=5,this.xo.Ao((0,c.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Wt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return n=>{this.Hs.enqueueAndForget(()=>this.So===e?n():(Wt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Qp extends Yp{constructor(e,n,o,u,d,g){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,u,g),this.It=d}jo(e,n){return this.Vo._o("Listen",e,n)}onMessage(e){this.xo.reset();const n=function ld(i,e){let n;if("targetChange"in e){const o="NO_CHANGE"===(U=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===U?1:"REMOVE"===U?2:"CURRENT"===U?3:"RESET"===U?4:In(),u=e.targetChange.targetIds||[],d=function(U,z){return U.gt?(Gn(void 0===z||"string"==typeof z),qe.fromBase64String(z||"")):(Gn(void 0===z||z instanceof Uint8Array),qe.fromUint8Array(z||new Uint8Array))}(i,e.targetChange.resumeToken),g=e.targetChange.cause,b=g&&function(U){const z=void 0===U.code?_t.UNKNOWN:Pu(U.code);return new jt(z,U.message||"")}(g);n=new lp(o,u,d,b||null)}else if("documentChange"in e){const o=e.documentChange,u=gu(i,o.document.name),d=wo(o.document.updateTime),g=new _s({mapValue:{fields:o.document.fields}}),b=Pr.newFoundDocument(u,d,g);n=new vc(o.targetIds||[],o.removedTargetIds||[],b.key,b)}else if("documentDelete"in e){const o=e.documentDelete,u=gu(i,o.document),d=o.readTime?wo(o.readTime):Ln.min(),g=Pr.newNoDocument(u,d);n=new vc([],o.removedTargetIds||[],g.key,g)}else if("documentRemove"in e){const o=e.documentRemove,u=gu(i,o.document);n=new vc([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return In();{const o=e.filter,d=new $a(o.count||0);n=new up(o.targetId,d)}}var U;return n}(this.It,e),o=function(u){if(!("targetChange"in u))return Ln.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?Ln.min():d.readTime?wo(d.readTime):Ln.min()}(e);return this.listener.Wo(n,o)}zo(e){const n={};n.database=Pl(this.It),n.addTarget=function(u,d){let g;const b=d.target;return g=vt(b)?{documents:Lu(u,b)}:{query:Eh(u,b)},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0?g.resumeToken=gh(u,d.resumeToken):d.snapshotVersion.compareTo(Ln.min())>0&&(g.readTime=Ol(u,d.snapshotVersion.toTimestamp())),g}(this.It,e);const o=function Am(i,e){const n=function(o,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return In()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);o&&(n.labels=o),this.Bo(n)}Ho(e){const n={};n.database=Pl(this.It),n.removeTarget=e,this.Bo(n)}}class ty extends Yp{constructor(e,n,o,u,d,g){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,u,g),this.It=d,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,n){return this.Vo._o("Write",e,n)}onMessage(e){if(Gn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const n=function cd(i,e){return i&&i.length>0?(Gn(void 0!==e),i.map(n=>function(o,u){let d=wo(o.updateTime?o.updateTime:u);return d.isEqual(Ln.min())&&(d=wo(u)),new dh(d,o.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),o=wo(e.commitTime);return this.listener.Zo(o,n)}return Gn(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Pl(this.It),this.Bo(e)}Xo(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>Ec(this.It,o))};this.Bo(n)}}class Jp extends class{}{constructor(e,n,o,u){super(),this.authCredentials=e,this.appCheckCredentials=n,this.Vo=o,this.It=u,this.nu=!1}su(){if(this.nu)throw new jt(_t.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,n,o){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.Vo.co(e,n,o,u,d)).catch(u=>{throw"FirebaseError"===u.name?(u.code===_t.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new jt(_t.UNKNOWN,u.toString())})}fo(e,n,o,u){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.Vo.fo(e,n,o,d,g,u)).catch(d=>{throw"FirebaseError"===d.name?(d.code===_t.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new jt(_t.UNKNOWN,d.toString())})}terminate(){this.nu=!0}}class ny{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(ir(n),this.ou=!1):Wt("OnlineStateTracker",n)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class ry{constructor(e,n,o,u,d){var g=this;this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=d,this.mu.qr(b=>{o.enqueueAndForget((0,c.Z)(function*(){var U;ll(g)&&(Wt("RemoteStore","Restarting streams for network reachability change."),yield(U=(0,c.Z)(function*(z){const ne=rn(z);ne._u.add(4),yield al(ne),ne.gu.set("Unknown"),ne._u.delete(4),yield Pd(ne)}),function(z){return U.apply(this,arguments)})(g))}))}),this.gu=new ny(o,u)}}function Pd(i){return kd.apply(this,arguments)}function kd(){return kd=(0,c.Z)(function*(i){if(ll(i))for(const e of i.wu)yield e(!0)}),kd.apply(this,arguments)}function al(i){return _u.apply(this,arguments)}function _u(){return _u=(0,c.Z)(function*(i){for(const e of i.wu)yield e(!1)}),_u.apply(this,arguments)}function Fd(i,e){const n=rn(i);n.du.has(e.targetId)||(n.du.set(e.targetId,e),tg(n)?eg(n):Wo(n).ko()&&Pc(n,e))}function ul(i,e){const n=rn(i),o=Wo(n);n.du.delete(e),o.ko()&&Xp(n,e),0===n.du.size&&(o.ko()?o.Fo():ll(n)&&n.gu.set("Unknown"))}function Pc(i,e){i.yu.Ot(e.targetId),Wo(i).zo(e)}function Xp(i,e){i.yu.Ot(e),Wo(i).Ho(e)}function eg(i){i.yu=new Tm({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),se:e=>i.du.get(e)||null}),Wo(i).start(),i.gu.uu()}function tg(i){return ll(i)&&!Wo(i).No()&&i.du.size>0}function ll(i){return 0===rn(i)._u.size}function ng(i){i.yu=void 0}function rg(i){return ig.apply(this,arguments)}function ig(){return ig=(0,c.Z)(function*(i){i.du.forEach((e,n)=>{Pc(i,e)})}),ig.apply(this,arguments)}function iy(i,e){return Hu.apply(this,arguments)}function Hu(){return Hu=(0,c.Z)(function*(i,e){ng(i),tg(i)?(i.gu.hu(e),eg(i)):i.gu.set("Unknown")}),Hu.apply(this,arguments)}function sy(i,e,n){return Ld.apply(this,arguments)}function Ld(){return Ld=(0,c.Z)(function*(i,e,n){if(i.gu.set("Online"),e instanceof lp&&2===e.state&&e.cause)try{yield(o=(0,c.Z)(function*(u,d){const g=d.cause;for(const b of d.targetIds)u.du.has(b)&&(yield u.remoteSyncer.rejectListen(b,g),u.du.delete(b),u.yu.removeTarget(b))}),function(u,d){return o.apply(this,arguments)})(i,e)}catch(o){Wt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield cl(i,o)}else if(e instanceof vc?i.yu.Gt(e):e instanceof up?i.yu.Yt(e):i.yu.Wt(e),!n.isEqual(Ln.min()))try{const o=yield jh(i.localStore);n.compareTo(o)>=0&&(yield function(u,d){const g=u.yu.te(d);return g.targetChanges.forEach((b,U)=>{if(b.resumeToken.approximateByteSize()>0){const z=u.du.get(U);z&&u.du.set(U,z.withResumeToken(b.resumeToken,d))}}),g.targetMismatches.forEach(b=>{const U=u.du.get(b);if(!U)return;u.du.set(b,U.withResumeToken(qe.EMPTY_BYTE_STRING,U.snapshotVersion)),Xp(u,b);const z=new yu(U.target,b,1,U.sequenceNumber);Pc(u,z)}),u.remoteSyncer.applyRemoteEvent(g)}(i,n))}catch(o){Wt("RemoteStore","Failed to raise snapshot:",o),yield cl(i,o)}var o}),Ld.apply(this,arguments)}function cl(i,e,n){return ef.apply(this,arguments)}function ef(){return ef=(0,c.Z)(function*(i,e,n){if(!ms(e))throw e;i._u.add(1),yield al(i),i.gu.set("Offline"),n||(n=()=>jh(i.localStore)),i.asyncQueue.enqueueRetryable((0,c.Z)(function*(){Wt("RemoteStore","Retrying IndexedDB access"),yield n(),i._u.delete(1),yield Pd(i)}))}),ef.apply(this,arguments)}function tf(i,e){return e().catch(n=>cl(i,n,e))}function Wl(i){return nf.apply(this,arguments)}function nf(){return nf=(0,c.Z)(function*(i){const e=rn(i),n=Eu(e);let o=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;oy(e);)try{const u=yield Gh(e.localStore,o);if(null===u){0===e.fu.length&&n.Fo();break}o=u.batchId,ay(e,u)}catch(u){yield cl(e,u)}sg(e)&&rf(e)}),nf.apply(this,arguments)}function oy(i){return ll(i)&&i.fu.length<10}function ay(i,e){i.fu.push(e);const n=Eu(i);n.ko()&&n.Yo&&n.Xo(e.mutations)}function sg(i){return ll(i)&&!Eu(i).No()&&i.fu.length>0}function rf(i){Eu(i).start()}function uy(i){return Vd.apply(this,arguments)}function Vd(){return Vd=(0,c.Z)(function*(i){Eu(i).eu()}),Vd.apply(this,arguments)}function og(i){return kc.apply(this,arguments)}function kc(){return kc=(0,c.Z)(function*(i){const e=Eu(i);for(const n of i.fu)e.Xo(n.mutations)}),kc.apply(this,arguments)}function Lv(i,e,n){return Fc.apply(this,arguments)}function Fc(){return Fc=(0,c.Z)(function*(i,e,n){const o=i.fu.shift(),u=hd.from(o,e,n);yield tf(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield Wl(i)}),Fc.apply(this,arguments)}function ly(i,e){return ag.apply(this,arguments)}function ag(){return ag=(0,c.Z)(function*(i,e){var n;e&&Eu(i).Yo&&(yield(n=(0,c.Z)(function*(o,u){if(Ju(d=u.code)&&d!==_t.ABORTED){const g=o.fu.shift();Eu(o).Oo(),yield tf(o,()=>o.remoteSyncer.rejectFailedWrite(g.batchId,u)),yield Wl(o)}var d}),function(o,u){return n.apply(this,arguments)})(i,e)),sg(i)&&rf(i)}),ag.apply(this,arguments)}function dl(i,e){return Ud.apply(this,arguments)}function Ud(){return Ud=(0,c.Z)(function*(i,e){const n=rn(i);n.asyncQueue.verifyOperationInProgress(),Wt("RemoteStore","RemoteStore received new credentials");const o=ll(n);n._u.add(3),yield al(n),o&&n.gu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),yield Pd(n)}),Ud.apply(this,arguments)}function Bd(i,e){return Kl.apply(this,arguments)}function Kl(){return Kl=(0,c.Z)(function*(i,e){const n=rn(i);e?(n._u.delete(2),yield Pd(n)):e||(n._u.add(2),yield al(n),n.gu.set("Unknown"))}),Kl.apply(this,arguments)}function Wo(i){return i.pu||(i.pu=function(e,n,o){const u=rn(e);return u.su(),new Qp(n,u.Vo,u.authCredentials,u.appCheckCredentials,u.It,o)}(i.datastore,i.asyncQueue,{Yr:rg.bind(null,i),Zr:iy.bind(null,i),Wo:sy.bind(null,i)}),i.wu.push(function(){var e=(0,c.Z)(function*(n){n?(i.pu.Oo(),tg(i)?eg(i):i.gu.set("Unknown")):(yield i.pu.stop(),ng(i))});return function(n){return e.apply(this,arguments)}}())),i.pu}function Eu(i){return i.Iu||(i.Iu=function(e,n,o){const u=rn(e);return u.su(),new ty(n,u.Vo,u.authCredentials,u.appCheckCredentials,u.It,o)}(i.datastore,i.asyncQueue,{Yr:uy.bind(null,i),Zr:ly.bind(null,i),tu:og.bind(null,i),Zo:Lv.bind(null,i)}),i.wu.push(function(){var e=(0,c.Z)(function*(n){n?(i.Iu.Oo(),yield Wl(i)):(yield i.Iu.stop(),i.fu.length>0&&(Wt("RemoteStore",`Stopping write stream with ${i.fu.length} pending writes`),i.fu=[]))});return function(n){return e.apply(this,arguments)}}())),i.Iu}class sf{constructor(e,n,o,u,d){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=u,this.removalCallback=d,this.deferred=new xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(g=>{})}static createAndSchedule(e,n,o,u,d){const g=Date.now()+o,b=new sf(e,n,g,u,d);return b.start(o),b}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new jt(_t.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gu(i,e){if(ir("AsyncQueue",`${e}: ${i}`),ms(i))return new jt(_t.UNAVAILABLE,`${e}: ${i}`);throw i}class pa{constructor(e){this.comparator=e?(n,o)=>e(n,o)||Jt.comparator(n.key,o.key):(n,o)=>Jt.comparator(n.key,o.key),this.keyedMap=ku(),this.sortedSet=new j(this.comparator)}static emptySet(e){return new pa(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof pa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const u=n.getNext().key,d=o.getNext().key;if(!u.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const o=new pa;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}class jd{constructor(){this.Tu=new j(Jt.comparator)}track(e){const n=e.doc.key,o=this.Tu.get(n);o?0!==e.type&&3===o.type?this.Tu=this.Tu.insert(n,e):3===e.type&&1!==o.type?this.Tu=this.Tu.insert(n,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Tu=this.Tu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Tu=this.Tu.remove(n):1===e.type&&2===o.type?this.Tu=this.Tu.insert(n,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):In():this.Tu=this.Tu.insert(n,e)}Eu(){const e=[];return this.Tu.inorderTraversal((n,o)=>{e.push(o)}),e}}class hl{constructor(e,n,o,u,d,g,b,U){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=d,this.fromCache=g,this.syncStateChanged=b,this.excludesMetadataChanges=U}static fromInitialDocuments(e,n,o,u){const d=[];return n.forEach(g=>{d.push({type:0,doc:g})}),new hl(e,n,pa.emptySet(n),d,o,u,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let u=0;u<n.length;u++)if(n[u].type!==o[u].type||!n[u].doc.isEqual(o[u].doc))return!1;return!0}}class af{constructor(){this.Au=void 0,this.listeners=[]}}class Vv{constructor(){this.queries=new Ja(e=>Sl(e),Tl),this.onlineState="Unknown",this.Ru=new Set}}function $d(i,e){return ug.apply(this,arguments)}function ug(){return ug=(0,c.Z)(function*(i,e){const n=rn(i),o=e.query;let u=!1,d=n.queries.get(o);if(d||(u=!0,d=new af),u)try{d.Au=yield n.onListen(o)}catch(g){const b=Gu(g,`Initialization of query '${lc(e.query)}' failed`);return void e.onError(b)}n.queries.set(o,d),d.listeners.push(e),e.bu(n.onlineState),d.Au&&e.Pu(d.Au)&&Lc(n)}),ug.apply(this,arguments)}function ql(i,e){return Zl.apply(this,arguments)}function Zl(){return Zl=(0,c.Z)(function*(i,e){const n=rn(i),o=e.query;let u=!1;const d=n.queries.get(o);if(d){const g=d.listeners.indexOf(e);g>=0&&(d.listeners.splice(g,1),u=0===d.listeners.length)}if(u)return n.queries.delete(o),n.onUnlisten(o)}),Zl.apply(this,arguments)}function uf(i,e){const n=rn(i);let o=!1;for(const u of e){const g=n.queries.get(u.query);if(g){for(const b of g.listeners)b.Pu(u)&&(o=!0);g.Au=u}}o&&Lc(n)}function lf(i,e,n){const o=rn(i),u=o.queries.get(e);if(u)for(const d of u.listeners)d.onError(n);o.queries.delete(e)}function Lc(i){i.Ru.forEach(e=>{e.next()})}class lg{constructor(e,n,o){this.query=e,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=o||{}}Pu(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new hl(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),n=!0):this.Cu(e,this.onlineState)&&(this.xu(e),n=!0),this.Su=e,n}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),n=!0),n}Cu(e,n){return!e.fromCache||!(this.options.Nu&&"Offline"!==n||e.docs.isEmpty()&&"Offline"!==n)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=hl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}class cy{constructor(e,n){this.payload=e,this.byteLength=n}ku(){return"metadata"in this.payload}}class cg{constructor(e){this.It=e}Ji(e){return gu(this.It,e)}Yi(e){return e.metadata.exists?fp(this.It,e.document,!1):Pr.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return wo(e)}}class dy{constructor(e,n,o){this.Mu=e,this.localStore=n,this.It=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=dg(e)}Ou(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++n;const o=pr.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}Fu(e){const n=new Map,o=new cg(this.It);for(const u of e)if(u.metadata.queries){const d=o.Ji(u.metadata.name);for(const g of u.metadata.queries){const b=(n.get(g)||Mr()).add(d);n.set(g,b)}}return n}complete(){var e=this;return(0,c.Z)(function*(){const n=yield function Hp(i,e,n,o){return Gp.apply(this,arguments)}(e.localStore,new cg(e.It),e.documents,e.Mu.id),o=e.Fu(e.documents);for(const u of e.queries)yield zp(e.localStore,u,o.get(u.name));return e.progress.taskState="Success",{progress:e.progress,$u:e.collectionGroups,Bu:n}})()}}function dg(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class cf{constructor(e){this.key=e}}class hy{constructor(e){this.key=e}}class hg{constructor(e,n){this.query=e,this.Lu=n,this.Uu=null,this.current=!1,this.qu=Mr(),this.mutatedKeys=Mr(),this.Ku=Al(e),this.Gu=new pa(this.Ku)}get Qu(){return this.Lu}ju(e,n){const o=n?n.Wu:new jd,u=n?n.Gu:this.Gu;let d=n?n.mutatedKeys:this.mutatedKeys,g=u,b=!1;const U="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,z="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((ne,Ae)=>{const ct=u.get(ne),Rt=Nu(this.query,Ae)?Ae:null,kt=!!ct&&this.mutatedKeys.has(ct.key),En=!!Rt&&(Rt.hasLocalMutations||this.mutatedKeys.has(Rt.key)&&Rt.hasCommittedMutations);let kn=!1;ct&&Rt?ct.data.isEqual(Rt.data)?kt!==En&&(o.track({type:3,doc:Rt}),kn=!0):this.zu(ct,Rt)||(o.track({type:2,doc:Rt}),kn=!0,(U&&this.Ku(Rt,U)>0||z&&this.Ku(Rt,z)<0)&&(b=!0)):!ct&&Rt?(o.track({type:0,doc:Rt}),kn=!0):ct&&!Rt&&(o.track({type:1,doc:ct}),kn=!0,(U||z)&&(b=!0)),kn&&(Rt?(g=g.add(Rt),d=En?d.add(ne):d.delete(ne)):(g=g.delete(ne),d=d.delete(ne)))}),null!==this.query.limit)for(;g.size>this.query.limit;){const ne="F"===this.query.limitType?g.last():g.first();g=g.delete(ne.key),d=d.delete(ne.key),o.track({type:1,doc:ne})}return{Gu:g,Wu:o,$i:b,mutatedKeys:d}}zu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o){const u=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const d=e.Wu.Eu();d.sort((z,ne)=>function(Ae,ct){const Rt=kt=>{switch(kt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return In()}};return Rt(Ae)-Rt(ct)}(z.type,ne.type)||this.Ku(z.doc,ne.doc)),this.Hu(o);const g=n?this.Ju():[],b=0===this.qu.size&&this.current?1:0,U=b!==this.Uu;return this.Uu=b,0!==d.length||U?{snapshot:new hl(this.query,e.Gu,u,d,e.mutatedKeys,0===b,U,!1),Yu:g}:{Yu:g}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new jd,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(n=>this.Lu=this.Lu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Lu=this.Lu.delete(n)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=Mr(),this.Gu.forEach(o=>{this.Xu(o.key)&&(this.qu=this.qu.add(o.key))});const n=[];return e.forEach(o=>{this.qu.has(o)||n.push(new hy(o))}),this.qu.forEach(o=>{e.has(o)||n.push(new cf(o))}),n}Zu(e){this.Lu=e.Hi,this.qu=Mr();const n=this.ju(e.documents);return this.applyChanges(n,!0)}tc(){return hl.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class Uv{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class fg{constructor(e){this.key=e,this.ec=!1}}class pg{constructor(e,n,o,u,d,g){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=u,this.currentUser=d,this.maxConcurrentLimboResolutions=g,this.nc={},this.sc=new Ja(b=>Sl(b),Tl),this.ic=new Map,this.rc=new Set,this.oc=new j(Jt.comparator),this.uc=new Map,this.cc=new Oh,this.ac={},this.hc=new Map,this.lc=Bl.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function fy(i,e){return Vc.apply(this,arguments)}function Vc(){return Vc=(0,c.Z)(function*(i,e){const n=ia(i);let o,u;const d=n.sc.get(e);if(d)o=d.targetId,n.sharedClientState.addLocalQueryTarget(o),u=d.view.tc();else{const g=yield eu(n.localStore,ta(e));n.isPrimaryClient&&Fd(n.remoteStore,g);const b=n.sharedClientState.addLocalQueryTarget(g.targetId);o=g.targetId,u=yield gg(n,e,o,"current"===b)}return u}),Vc.apply(this,arguments)}function gg(i,e,n,o){return mg.apply(this,arguments)}function mg(){return mg=(0,c.Z)(function*(i,e,n,o){i.dc=(ne,Ae,ct)=>{return(Rt=(0,c.Z)(function*(kt,En,kn,si){let Mi=En.view.ju(kn);Mi.$i&&(Mi=yield Rd(kt.localStore,En.query,!1).then(({documents:Hi})=>En.view.ju(Hi,Mi)));const xi=si&&si.targetChanges.get(En.targetId),Hs=En.view.applyChanges(Mi,kt.isPrimaryClient,xi);return pf(kt,En.targetId,Hs.Yu),Hs.snapshot}),function(kt,En,kn,si){return Rt.apply(this,arguments)})(i,ne,Ae,ct);var Rt};const u=yield Rd(i.localStore,e,!0),d=new hg(e,u.Hi),g=d.ju(u.documents),b=Xu.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==i.onlineState),U=d.applyChanges(g,i.isPrimaryClient,b);pf(i,n,U.Yu);const z=new Uv(e,n,d);return i.sc.set(e,z),i.ic.has(n)?i.ic.get(n).push(e):i.ic.set(n,[e]),U.snapshot}),mg.apply(this,arguments)}function Bv(i,e){return yg.apply(this,arguments)}function yg(){return yg=(0,c.Z)(function*(i,e){const n=rn(i),o=n.sc.get(e),u=n.ic.get(o.targetId);if(u.length>1)return n.ic.set(o.targetId,u.filter(d=>!Tl(d,e))),void n.sc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Gl(n.localStore,o.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(o.targetId),ul(n.remoteStore,o.targetId),fl(n,o.targetId)}).catch(gs))):(fl(n,o.targetId),yield Gl(n.localStore,o.targetId,!0))}),yg.apply(this,arguments)}function vg(){return vg=(0,c.Z)(function*(i,e,n){const o=zd(i);try{const u=yield function(d,g){const b=rn(d),U=Lr.now(),z=g.reduce((ct,Rt)=>ct.add(Rt.key),Mr());let ne,Ae;return b.persistence.runTransaction("Locally write mutations","readwrite",ct=>{let Rt=uo(),kt=Mr();return b.Gi.getEntries(ct,z).next(En=>{Rt=En,Rt.forEach((kn,si)=>{si.isValidDocument()||(kt=kt.add(kn))})}).next(()=>b.localDocuments.getOverlayedDocuments(ct,Rt)).next(En=>{ne=En;const kn=[];for(const si of g){const Mi=C(si,ne.get(si.key).overlayedDocument);null!=Mi&&kn.push(new et(si.key,Mi,Ar(Mi.value.mapValue),qi.exists(!0)))}return b.mutationQueue.addMutationBatch(ct,U,kn,g)}).next(En=>{Ae=En;const kn=En.applyToLocalDocumentSet(ne,kt);return b.documentOverlayCache.saveOverlays(ct,En.batchId,kn)})}).then(()=>({batchId:Ae.batchId,changes:Rl(ne)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(d,g,b){let U=d.ac[d.currentUser.toKey()];U||(U=new j(Mn)),U=U.insert(g,b),d.ac[d.currentUser.toKey()]=U}(o,u.batchId,n),yield wu(o,u.changes),yield Wl(o.remoteStore)}catch(u){const d=Gu(u,"Failed to persist write");n.reject(d)}}),vg.apply(this,arguments)}function py(i,e){return _g.apply(this,arguments)}function _g(){return _g=(0,c.Z)(function*(i,e){const n=rn(i);try{const o=yield $h(n.localStore,e);e.targetChanges.forEach((u,d)=>{const g=n.uc.get(d);g&&(Gn(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?g.ec=!0:u.modifiedDocuments.size>0?Gn(g.ec):u.removedDocuments.size>0&&(Gn(g.ec),g.ec=!1))}),yield wu(n,o,e)}catch(o){yield gs(o)}}),_g.apply(this,arguments)}function gy(i,e,n){const o=rn(i);if(o.isPrimaryClient&&0===n||!o.isPrimaryClient&&1===n){const u=[];o.sc.forEach((d,g)=>{const b=g.view.bu(e);b.snapshot&&u.push(b.snapshot)}),function(d,g){const b=rn(d);b.onlineState=g;let U=!1;b.queries.forEach((z,ne)=>{for(const Ae of ne.listeners)Ae.bu(g)&&(U=!0)}),U&&Lc(b)}(o.eventManager,e),u.length&&o.nc.Wo(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function $v(i,e,n){return tu.apply(this,arguments)}function tu(){return tu=(0,c.Z)(function*(i,e,n){const o=rn(i);o.sharedClientState.updateQueryState(e,"rejected",n);const u=o.uc.get(e),d=u&&u.key;if(d){let g=new j(Jt.comparator);g=g.insert(d,Pr.newNoDocument(d,Ln.min()));const b=Mr().add(d),U=new yc(Ln.min(),new Map,new N(Mn),g,b);yield py(o,U),o.oc=o.oc.remove(d),o.uc.delete(e),gf(o)}else yield Gl(o.localStore,e,!1).then(()=>fl(o,e,n)).catch(gs)}),tu.apply(this,arguments)}function df(i,e){return hf.apply(this,arguments)}function hf(){return hf=(0,c.Z)(function*(i,e){const n=rn(i),o=e.batch.batchId;try{const u=yield xd(n.localStore,e);nu(n,o,null),ff(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),yield wu(n,u)}catch(u){yield gs(u)}}),hf.apply(this,arguments)}function Eg(i,e,n){return Uc.apply(this,arguments)}function Uc(){return Uc=(0,c.Z)(function*(i,e,n){const o=rn(i);try{const u=yield function(d,g){const b=rn(d);return b.persistence.runTransaction("Reject batch","readwrite-primary",U=>{let z;return b.mutationQueue.lookupMutationBatch(U,g).next(ne=>(Gn(null!==ne),z=ne.keys(),b.mutationQueue.removeMutationBatch(U,ne))).next(()=>b.mutationQueue.performConsistencyCheck(U)).next(()=>b.documentOverlayCache.removeOverlaysForBatchId(U,z,g)).next(()=>b.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(U,z)).next(()=>b.localDocuments.getDocuments(U,z))})}(o.localStore,e);nu(o,e,n),ff(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),yield wu(o,u)}catch(u){yield gs(u)}}),Uc.apply(this,arguments)}function Bc(){return Bc=(0,c.Z)(function*(i,e){const n=rn(i);ll(n.remoteStore)||Wt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(d){const g=rn(d);return g.persistence.runTransaction("Get highest unacknowledged batch id","readonly",b=>g.mutationQueue.getHighestUnacknowledgedBatchId(b))}(n.localStore);if(-1===o)return void e.resolve();const u=n.hc.get(o)||[];u.push(e),n.hc.set(o,u)}catch(o){const u=Gu(o,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}}),Bc.apply(this,arguments)}function ff(i,e){(i.hc.get(e)||[]).forEach(n=>{n.resolve()}),i.hc.delete(e)}function nu(i,e,n){const o=rn(i);let u=o.ac[o.currentUser.toKey()];if(u){const d=u.get(e);d&&(n?d.reject(n):d.resolve(),u=u.remove(e)),o.ac[o.currentUser.toKey()]=u}}function fl(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.ic.get(e))i.sc.delete(o),n&&i.nc._c(o,n);i.ic.delete(e),i.isPrimaryClient&&i.cc.ls(e).forEach(o=>{i.cc.containsKey(o)||Ig(i,o)})}function Ig(i,e){i.rc.delete(e.path.canonicalString());const n=i.oc.get(e);null!==n&&(ul(i.remoteStore,n),i.oc=i.oc.remove(e),i.uc.delete(n),gf(i))}function pf(i,e,n){for(const o of n)o instanceof cf?(i.cc.addReference(o.key,e),Dg(i,o)):o instanceof hy?(Wt("SyncEngine","Document no longer in limbo: "+o.key),i.cc.removeReference(o.key,e),i.cc.containsKey(o.key)||Ig(i,o.key)):In()}function Dg(i,e){const n=e.key,o=n.path.canonicalString();i.oc.get(n)||i.rc.has(o)||(Wt("SyncEngine","New document in limbo: "+n),i.rc.add(o),gf(i))}function gf(i){for(;i.rc.size>0&&i.oc.size<i.maxConcurrentLimboResolutions;){const e=i.rc.values().next().value;i.rc.delete(e);const n=new Jt(pr.fromString(e)),o=i.lc.next();i.uc.set(o,new fg(n)),i.oc=i.oc.insert(n,o),Fd(i.remoteStore,new yu(ta(du(n.path)),o,2,vs.at))}}function wu(i,e,n){return Yl.apply(this,arguments)}function Yl(){return Yl=(0,c.Z)(function*(i,e,n){const o=rn(i),u=[],d=[],g=[];var b;o.sc.isEmpty()||(o.sc.forEach((b,U)=>{g.push(o.dc(U,e,n).then(z=>{if(z){o.isPrimaryClient&&o.sharedClientState.updateQueryState(U.targetId,z.fromCache?"not-current":"current"),u.push(z);const ne=Ad.Ci(U.targetId,z);d.push(ne)}}))}),yield Promise.all(g),o.nc.Wo(u),yield(b=(0,c.Z)(function*(U,z){const ne=rn(U);try{yield ne.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ae=>st.forEach(z,ct=>st.forEach(ct.Si,Rt=>ne.persistence.referenceDelegate.addReference(Ae,ct.targetId,Rt)).next(()=>st.forEach(ct.Di,Rt=>ne.persistence.referenceDelegate.removeReference(Ae,ct.targetId,Rt)))))}catch(Ae){if(!ms(Ae))throw Ae;Wt("LocalStore","Failed to update sequence numbers: "+Ae)}for(const Ae of z){const ct=Ae.targetId;if(!Ae.fromCache){const Rt=ne.Ui.get(ct),En=Rt.withLastLimboFreeSnapshotVersion(Rt.snapshotVersion);ne.Ui=ne.Ui.insert(ct,En)}}}),function(U,z){return b.apply(this,arguments)})(o.localStore,d))}),Yl.apply(this,arguments)}function Ql(i,e){return jc.apply(this,arguments)}function jc(){return jc=(0,c.Z)(function*(i,e){const n=rn(i);if(!n.currentUser.isEqual(e)){Wt("SyncEngine","User change. New user:",e.toKey());const o=yield Bh(n.localStore,e);n.currentUser=e,(u=n).hc.forEach(g=>{g.forEach(b=>{b.reject(new jt(_t.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.hc.clear(),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield wu(n,o.ji)}var u}),jc.apply(this,arguments)}function Jl(i,e){const n=rn(i),o=n.uc.get(e);if(o&&o.ec)return Mr().add(o.key);{let u=Mr();const d=n.ic.get(e);if(!d)return u;for(const g of d){const b=n.sc.get(g);u=u.unionWith(b.view.Qu)}return u}}function mf(i,e){return Xl.apply(this,arguments)}function Xl(){return Xl=(0,c.Z)(function*(i,e){const n=rn(i),o=yield Rd(n.localStore,e.query,!0),u=e.view.Zu(o);return n.isPrimaryClient&&pf(n,e.targetId,u.Yu),u}),Xl.apply(this,arguments)}function bg(i,e){return Hd.apply(this,arguments)}function Hd(){return Hd=(0,c.Z)(function*(i,e){const n=rn(i);return zh(n.localStore,e).then(o=>wu(n,o))}),Hd.apply(this,arguments)}function yf(i,e,n,o){return $c.apply(this,arguments)}function $c(){return $c=(0,c.Z)(function*(i,e,n,o){const u=rn(i),d=yield function(g,b){const U=rn(g),z=rn(U.mutationQueue);return U.persistence.runTransaction("Lookup mutation documents","readonly",ne=>z.Tn(ne,b).next(Ae=>Ae?U.localDocuments.getDocuments(ne,Ae):st.resolve(null)))}(u.localStore,e);var b;null!==d?("pending"===n?yield Wl(u.remoteStore):"acknowledged"===n||"rejected"===n?(nu(u,e,o||null),ff(u,e),b=e,rn(rn(u.localStore).mutationQueue).An(b)):In(),yield wu(u,d)):Wt("SyncEngine","Cannot apply mutation batch with id: "+e)}),$c.apply(this,arguments)}function Hc(){return Hc=(0,c.Z)(function*(i,e){const n=rn(i);if(ia(n),zd(n),!0===e&&!0!==n.fc){const o=n.sharedClientState.getAllActiveQueryTargets(),u=yield Tg(n,o.toArray());n.fc=!0,yield Bd(n.remoteStore,!0);for(const d of u)Fd(n.remoteStore,d)}else if(!1===e&&!1!==n.fc){const o=[];let u=Promise.resolve();n.ic.forEach((d,g)=>{n.sharedClientState.isLocalQueryTarget(g)?o.push(g):u=u.then(()=>(fl(n,g),Gl(n.localStore,g,!0))),ul(n.remoteStore,g)}),yield u,yield Tg(n,o),function(d){const g=rn(d);g.uc.forEach((b,U)=>{ul(g.remoteStore,U)}),g.cc.fs(),g.uc=new Map,g.oc=new j(Jt.comparator)}(n),n.fc=!1,yield Bd(n.remoteStore,!1)}}),Hc.apply(this,arguments)}function Tg(i,e,n){return Sg.apply(this,arguments)}function Sg(){return Sg=(0,c.Z)(function*(i,e,n){const o=rn(i),u=[],d=[];for(const g of e){let b;const U=o.ic.get(g);if(U&&0!==U.length){b=yield eu(o.localStore,ta(U[0]));for(const z of U){const ne=o.sc.get(z),Ae=yield mf(o,ne);Ae.snapshot&&d.push(Ae.snapshot)}}else{const z=yield $p(o.localStore,g);b=yield eu(o.localStore,z),yield gg(o,Ag(z),g,!1)}u.push(b)}return o.nc.Wo(d),u}),Sg.apply(this,arguments)}function Ag(i){return Xc(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function Mg(i){const e=rn(i);return rn(rn(e.localStore).persistence).vi()}function my(i,e,n,o){return Gd.apply(this,arguments)}function Gd(){return Gd=(0,c.Z)(function*(i,e,n,o){const u=rn(i);if(u.fc)return void Wt("SyncEngine","Ignoring unexpected query state notification.");const d=u.ic.get(e);if(d&&d.length>0)switch(n){case"current":case"not-current":{const g=yield zh(u.localStore,Qu(d[0])),b=yc.createSynthesizedRemoteEventForCurrentChange(e,"current"===n);yield wu(u,g,b);break}case"rejected":yield Gl(u.localStore,e,!0),fl(u,e,o);break;default:In()}}),Gd.apply(this,arguments)}function xg(i,e,n){return vf.apply(this,arguments)}function vf(){return vf=(0,c.Z)(function*(i,e,n){const o=ia(i);if(o.fc){for(const u of e){if(o.ic.has(u)){Wt("SyncEngine","Adding an already active target "+u);continue}const d=yield $p(o.localStore,u),g=yield eu(o.localStore,d);yield gg(o,Ag(d),g.targetId,!1),Fd(o.remoteStore,g)}for(const u of n)o.ic.has(u)&&(yield Gl(o.localStore,u,!1).then(()=>{ul(o.remoteStore,u),fl(o,u)}).catch(gs))}}),vf.apply(this,arguments)}function ia(i){const e=rn(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=py.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Jl.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$v.bind(null,e),e.nc.Wo=uf.bind(null,e.eventManager),e.nc._c=lf.bind(null,e.eventManager),e}function zd(i){const e=rn(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=df.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Eg.bind(null,e),e}class vy{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,c.Z)(function*(){n.It=zl(e.databaseInfo.databaseId),n.sharedClientState=n.mc(e),n.persistence=n.gc(e),yield n.persistence.start(),n.localStore=n.yc(e),n.gcScheduler=n.Ic(e,n.localStore),n.indexBackfillerScheduler=n.Tc(e,n.localStore)})()}Ic(e,n){return null}Tc(e,n){return null}yc(e){return Md(this.persistence,new Uh,e.initialUser,this.It)}gc(e){return new Up(xc.Bs,this.It)}mc(e){return new Kp}terminate(){var e=this;return(0,c.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Ng extends vy{constructor(e,n,o){super(),this.Ec=e,this.cacheSizeBytes=n,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,o=this;return(0,c.Z)(function*(){yield n().call(o,e),yield o.Ec.initialize(o,e),yield zd(o.Ec.syncEngine),yield Wl(o.Ec.remoteStore),yield o.persistence.li(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}yc(e){return Md(this.persistence,new Uh,e.initialUser,this.It)}Ic(e,n){return new Ac(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}Tc(e,n){const o=new Va(n,this.persistence);return new Wa(e.asyncQueue,o)}gc(e){const n=Vh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?ha.withCacheSize(this.cacheSizeBytes):ha.DEFAULT;return new Lh(this.synchronizeTabs,n,e.clientId,o,e.asyncQueue,Jh(),Oc(),this.It,this.sharedClientState,!!this.forceOwnership)}mc(e){return new Kp}}class _f extends Ng{constructor(e,n){super(e,n,!1),this.Ec=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,o=this;return(0,c.Z)(function*(){yield n().call(o,e);const u=o.Ec.syncEngine;o.sharedClientState instanceof Qh&&(o.sharedClientState.syncEngine={Fr:yf.bind(null,u),$r:my.bind(null,u),Br:xg.bind(null,u),vi:Mg.bind(null,u),Or:bg.bind(null,u)},yield o.sharedClientState.start()),yield o.persistence.li(function(){var d=(0,c.Z)(function*(g){yield function Cg(i,e){return Hc.apply(this,arguments)}(o.Ec.syncEngine,g),o.gcScheduler&&(g&&!o.gcScheduler.started?o.gcScheduler.start():g||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(g&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():g||o.indexBackfillerScheduler.stop())});return function(g){return d.apply(this,arguments)}}())})()}mc(e){const n=Jh();if(!Qh.C(n))throw new jt(_t.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Vh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Qh(n,e.asyncQueue,o,e.clientId,e.initialUser)}}class Wd{initialize(e,n){var o=this;return(0,c.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(n),o.remoteStore=o.createRemoteStore(n),o.eventManager=o.createEventManager(n),o.syncEngine=o.createSyncEngine(n,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>gy(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=Ql.bind(null,o.syncEngine),yield Bd(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Vv}createDatastore(e){const n=zl(e.databaseInfo.databaseId),o=new wr(e.databaseInfo);return new Jp(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return n=this.localStore,o=this.datastore,u=e.asyncQueue,d=b=>gy(this.syncEngine,b,0),g=Zp.C()?new Zp:new qp,new ry(n,o,u,d,g);var n,o,u,d,g}createSyncEngine(e,n){return function(o,u,d,g,b,U,z){const ne=new pg(o,u,d,g,b,U);return z&&(ne.fc=!0),ne}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,c.Z)(function*(n){const o=rn(n);Wt("RemoteStore","RemoteStore shutting down."),o._u.add(5),yield al(o),o.mu.shutdown(),o.gu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}function Rg(i,e=10240){let n=0;return{read:()=>(0,c.Z)(function*(){if(n<i.byteLength){const o={value:i.slice(n,n+e),done:!1};return n+=e,o}return{done:!0}})(),cancel:()=>(0,c.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Kd{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):ir("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class _y{constructor(e,n){this.bc=e,this.It=n,this.metadata=new xr,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then(o=>{o&&o.ku()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(o?.payload)}`))},o=>this.metadata.reject(o))}close(){return this.bc.cancel()}getMetadata(){var e=this;return(0,c.Z)(function*(){return e.metadata.promise})()}wc(){var e=this;return(0,c.Z)(function*(){return yield e.getMetadata(),e.vc()})()}vc(){var e=this;return(0,c.Z)(function*(){const n=yield e.Vc();if(null===n)return null;const o=e.Pc.decode(n),u=Number(o);isNaN(u)&&e.Sc(`length string (${o}) is not valid number`);const d=yield e.Dc(u);return new cy(JSON.parse(d),n.length+u)})()}Cc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Vc(){var e=this;return(0,c.Z)(function*(){for(;e.Cc()<0&&!(yield e.xc()););if(0===e.buffer.length)return null;const n=e.Cc();n<0&&e.Sc("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),o})()}Dc(e){var n=this;return(0,c.Z)(function*(){for(;n.buffer.length<e;)(yield n.xc())&&n.Sc("Reached the end of bundle when more is expected.");const o=n.Pc.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),o})()}Sc(e){throw this.bc.cancel(),new Error(`Invalid bundle format: ${e}`)}xc(){var e=this;return(0,c.Z)(function*(){const n=yield e.bc.read();if(!n.done){const o=new Uint8Array(e.buffer.length+n.value.length);o.set(e.buffer),o.set(n.value,e.buffer.length),e.buffer=o}return n.done})()}}class Og{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,c.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new jt(_t.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(u=(0,c.Z)(function*(d,g){const b=rn(d),U=Pl(b.It)+"/documents",z={documents:g.map(Rt=>el(b.It,Rt))},ne=yield b.fo("BatchGetDocuments",U,z,g.length),Ae=new Map;ne.forEach(Rt=>{const kt=function _h(i,e){return"found"in e?function(n,o){Gn(!!o.found);const u=gu(n,o.found.name),d=wo(o.found.updateTime),g=new _s({mapValue:{fields:o.found.fields}});return Pr.newFoundDocument(u,d,g)}(i,e):"missing"in e?function(n,o){Gn(!!o.missing),Gn(!!o.readTime);const u=gu(n,o.missing),d=wo(o.readTime);return Pr.newNoDocument(u,d)}(i,e):In()}(b.It,Rt);Ae.set(kt.key.toString(),kt)});const ct=[];return g.forEach(Rt=>{const kt=Ae.get(Rt.toString());Gn(!!kt),ct.push(kt)}),ct}),function(d,g){return u.apply(this,arguments)})(n.datastore,e);var u;return o.forEach(u=>n.recordVersion(u)),o})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new gr(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,c.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var o;e.mutations.forEach(o=>{n.delete(o.key.toString())}),n.forEach((o,u)=>{const d=Jt.fromPath(u);e.mutations.push(new Ai(d,e.precondition(d)))}),yield(o=(0,c.Z)(function*(u,d){const g=rn(u),b=Pl(g.It)+"/documents",U={writes:d.map(z=>Ec(g.It,z))};yield g.co("Commit",b,U)}),function(u,d){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw In();n=Ln.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!n.isEqual(o))throw new jt(_t.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Ln.min())?qi.exists(!1):qi.updateTime(n):qi.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Ln.min()))throw new jt(_t.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return qi.updateTime(n)}return qi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Ey{constructor(e,n,o,u,d){this.asyncQueue=e,this.datastore=n,this.options=o,this.updateFunction=u,this.deferred=d,this.Nc=o.maxAttempts,this.xo=new Xh(this.asyncQueue,"transaction_retry")}run(){this.Nc-=1,this.kc()}kc(){var e=this;this.xo.Ao((0,c.Z)(function*(){const n=new Og(e.datastore),o=e.Mc(n);o&&o.then(u=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(u)}).catch(d=>{e.Oc(d)}))}).catch(u=>{e.Oc(u)})}))}Mc(e){try{const n=this.updateFunction(e);return!hi(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Oc(e){this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget(()=>(this.kc(),Promise.resolve()))):this.deferred.reject(e)}Fc(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||!Ju(n)}return!1}}class Pg{constructor(e,n,o,u){var d=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=u,this.user=Wr.UNAUTHENTICATED,this.clientId=_a.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var g=(0,c.Z)(function*(b){Wt("FirestoreClient","Received user=",b.uid),yield d.authCredentialListener(b),d.user=b});return function(b){return g.apply(this,arguments)}}()),this.appCheckCredentials.start(o,g=>(Wt("FirestoreClient","Received new app check token=",g),this.appCheckCredentialListener(g,this.user)))}getConfiguration(){var e=this;return(0,c.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new jt(_t.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,c.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(o){const u=Gu(o,"Failed to shutdown persistence");n.reject(u)}})),n.promise}}function kg(i,e){return Ef.apply(this,arguments)}function Ef(){return Ef=(0,c.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Wt("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let o=n.initialUser;i.setCredentialChangeListener(function(){var u=(0,c.Z)(function*(d){o.isEqual(d)||(yield Bh(e.localStore,d),o=d)});return function(d){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),Ef.apply(this,arguments)}function wf(i,e){return qd.apply(this,arguments)}function qd(){return qd=(0,c.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield If(i);Wt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(n,o),i.setCredentialChangeListener(u=>dl(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,d)=>dl(e.remoteStore,d)),i.onlineComponents=e}),qd.apply(this,arguments)}function If(i){return Oa.apply(this,arguments)}function Oa(){return Oa=(0,c.Z)(function*(i){return i.offlineComponents||(Wt("FirestoreClient","Using default OfflineComponentProvider"),yield kg(i,new vy)),i.offlineComponents}),Oa.apply(this,arguments)}function ec(i){return Df.apply(this,arguments)}function Df(){return Df=(0,c.Z)(function*(i){return i.onlineComponents||(Wt("FirestoreClient","Using default OnlineComponentProvider"),yield wf(i,new Wd)),i.onlineComponents}),Df.apply(this,arguments)}function Fg(i){return If(i).then(e=>e.persistence)}function bf(i){return If(i).then(e=>e.localStore)}function Cf(i){return ec(i).then(e=>e.remoteStore)}function Tf(i){return ec(i).then(e=>e.syncEngine)}function tc(i){return Sf.apply(this,arguments)}function Sf(){return Sf=(0,c.Z)(function*(i){const e=yield ec(i),n=e.eventManager;return n.onListen=fy.bind(null,e.syncEngine),n.onUnlisten=Bv.bind(null,e.syncEngine),n}),Sf.apply(this,arguments)}function Gc(i,e,n={}){const o=new xr;return i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return function(u,d,g,b,U){const z=new Kd({next:Ae=>{d.enqueueAndForget(()=>ql(u,ne));const ct=Ae.docs.has(g);!ct&&Ae.fromCache?U.reject(new jt(_t.UNAVAILABLE,"Failed to get document because the client is offline.")):ct&&Ae.fromCache&&b&&"server"===b.source?U.reject(new jt(_t.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):U.resolve(Ae)},error:Ae=>U.reject(Ae)}),ne=new lg(du(g.path),z,{includeMetadataChanges:!0,Nu:!0});return $d(u,ne)}(yield tc(i),i.asyncQueue,e,n,o)})),o.promise}function zc(i,e,n={}){const o=new xr;return i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return function(u,d,g,b,U){const z=new Kd({next:Ae=>{d.enqueueAndForget(()=>ql(u,ne)),Ae.fromCache&&"server"===b.source?U.reject(new jt(_t.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):U.resolve(Ae)},error:Ae=>U.reject(Ae)}),ne=new lg(g,z,{includeMetadataChanges:!0,Nu:!0});return $d(u,ne)}(yield tc(i),i.asyncQueue,e,n,o)})),o.promise}const Nf=new Map;function Zd(i,e,n){if(!n)throw new jt(_t.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Rf(i,e,n,o){if(!0===e&&!0===o)throw new jt(_t.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Yd(i){if(!Jt.isDocumentKey(i))throw new jt(_t.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function ru(i){if(Jt.isDocumentKey(i))throw new jt(_t.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function pl(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(n=i).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof i?"a function":In()}function $r(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new jt(_t.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=pl(i);throw new jt(_t.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function nc(i,e){if(e<=0)throw new jt(_t.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class Vg{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new jt(_t.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new jt(_t.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Rf("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gl{constructor(e,n,o,u){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new jt(_t.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new jt(_t.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vg(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new ua;switch(n.type){case"gapi":return new va(n.client,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new jt(_t.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Nf.get(e);n&&(Wt("ComponentProvider","Removing Datastore"),Nf.delete(e),n.terminate())}(this),Promise.resolve()}}function Ug(i,e,n,o={}){var u;const d=(i=$r(i,gl))._getSettings();if("firestore.googleapis.com"!==d.host&&d.host!==e&&vo("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},d),{host:`${e}:${n}`,ssl:!1})),o.mockUserToken){let g,b;if("string"==typeof o.mockUserToken)g=o.mockUserToken,b=Wr.MOCK_USER;else{g=(0,me.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const U=o.mockUserToken.sub||o.mockUserToken.user_id;if(!U)throw new jt(_t.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Wr(U)}i._authCredentials=new Di(new aa(g,b))}}class Ms{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ga(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ms(this.firestore,e,this._key)}}class Ko{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Ko(this.firestore,e,this._query)}}class ga extends Ko{constructor(e,n,o){super(e,n,du(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ms(this.firestore,null,new Jt(e))}withConverter(e){return new ga(this.firestore,e,this._path)}}function Dy(i,e,...n){if(i=(0,me.m9)(i),Zd("collection","path",e),i instanceof gl){const o=pr.fromString(e,...n);return ru(o),new ga(i,null,o)}{if(!(i instanceof Ms||i instanceof ga))throw new jt(_t.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(pr.fromString(e,...n));return ru(o),new ga(i.firestore,null,o)}}function zv(i,e){if(i=$r(i,gl),Zd("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new jt(_t.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ko(i,null,(n=e,new Qa(pr.emptyPath(),n)));var n}function Bg(i,e,...n){if(i=(0,me.m9)(i),1===arguments.length&&(e=_a.R()),Zd("doc","path",e),i instanceof gl){const o=pr.fromString(e,...n);return Yd(o),new Ms(i,null,new Jt(o))}{if(!(i instanceof Ms||i instanceof ga))throw new jt(_t.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(pr.fromString(e,...n));return Yd(o),new Ms(i.firestore,i instanceof ga?i.converter:null,new Jt(o))}}function Wv(i,e){return i=(0,me.m9)(i),e=(0,me.m9)(e),(i instanceof Ms||i instanceof ga)&&(e instanceof Ms||e instanceof ga)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function jg(i,e){return i=(0,me.m9)(i),e=(0,me.m9)(e),i instanceof Ko&&e instanceof Ko&&i.firestore===e.firestore&&Tl(i._query,e._query)&&i.converter===e.converter}class by{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new Xh(this,"async_queue_retry"),this.jc=()=>{const n=Oc();n&&Wt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.bo()};const e=Oc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const n=Oc();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const n=new xr;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}Hc(){var e=this;return(0,c.Z)(function*(){if(0!==e.Bc.length){try{yield e.Bc[0](),e.Bc.shift(),e.xo.reset()}catch(n){if(!ms(n))throw n;Wt("AsyncQueue","Operation failed with retryable error: "+n)}e.Bc.length>0&&e.xo.Ao(()=>e.Hc())}})()}zc(e){const n=this.$c.then(()=>(this.Kc=!0,e().catch(o=>{throw this.qc=o,this.Kc=!1,ir("INTERNAL UNHANDLED ERROR: ",function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+"\n"+d.stack),g}(o)),o}).then(o=>(this.Kc=!1,o))));return this.$c=n,n}enqueueAfterDelay(e,n,o){this.Wc(),this.Qc.indexOf(e)>-1&&(n=0);const u=sf.createAndSchedule(this,e,n,o,d=>this.Jc(d));return this.Uc.push(u),u}Wc(){this.qc&&In()}verifyOperationInProgress(){}Yc(){var e=this;return(0,c.Z)(function*(){let n;do{n=e.$c,yield n}while(n!==e.$c)})()}Xc(e){for(const n of this.Uc)if(n.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.Uc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const n=this.Uc.indexOf(e);this.Uc.splice(n,1)}}function Of(i){return function(e,n){if("object"!=typeof e||null===e)return!1;const o=e;for(const u of["next","error","complete"])if(u in o&&"function"==typeof o[u])return!0;return!1}(i)}class $g{constructor(){this._progressObserver={},this._taskCompletionResolver=new xr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,o){this._progressObserver={next:e,error:n,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Pf=-1;class cs extends gl{constructor(e,n,o,u){super(e,n,o,u),this.type="firestore",this._queue=new by,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Gg(this),this._firestoreClient.terminate()}}function Xs(i){return i._firestoreClient||Gg(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Gg(i){var e;const n=i._freezeSettings(),o=(d=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Tr(i._databaseId,d,i._persistenceKey,(b=n).host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,b.useFetchStreams));var d,b;i._firestoreClient=new Pg(i._authCredentials,i._appCheckCredentials,i._queue,o)}function Cy(i,e){Wg(i=$r(i,cs));const n=Xs(i),o=i._freezeSettings(),u=new Wd;return zg(n,u,new Ng(u,o.cacheSizeBytes,e?.forceOwnership))}function Ty(i){Wg(i=$r(i,cs));const e=Xs(i),n=i._freezeSettings(),o=new Wd;return zg(e,o,new _f(o,n.cacheSizeBytes))}function zg(i,e,n){const o=new xr;return i.asyncQueue.enqueue((0,c.Z)(function*(){try{yield kg(i,n),yield wf(i,e),o.resolve()}catch(u){const d=u;if(!("FirebaseError"===(g=d).name?g.code===_t.FAILED_PRECONDITION||g.code===_t.UNIMPLEMENTED:!(typeof DOMException<"u"&&g instanceof DOMException)||22===g.code||20===g.code||11===g.code))throw d;vo("Error enabling offline persistence. Falling back to persistence disabled: "+d),o.reject(d)}var g})).then(()=>o.promise)}function Qd(i){if(i._initialized&&!i._terminated)throw new jt(_t.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new xr;return i._queue.enqueueAndForgetEvenWhileRestricted((0,c.Z)(function*(){try{yield(n=(0,c.Z)(function*(o){if(!$i.C())return Promise.resolve();const u=o+"main";yield $i.delete(u)}),function(o){return n.apply(this,arguments)})(Vh(i._databaseId,i._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}function ml(i){return function(e){const n=new xr;return e.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return function wg(i,e){return Bc.apply(this,arguments)}(yield Tf(e),n)})),n.promise}(Xs(i=$r(i,cs)))}function qv(i){return function Af(i){return i.asyncQueue.enqueue((0,c.Z)(function*(){const e=yield Fg(i),n=yield Cf(i);return e.setNetworkEnabled(!0),function(o){const u=rn(o);return u._u.delete(0),Pd(u)}(n)}))}(Xs(i=$r(i,cs)))}function Wc(i){return function wy(i){return i.asyncQueue.enqueue((0,c.Z)(function*(){const e=yield Fg(i),n=yield Cf(i);return e.setNetworkEnabled(!1),(o=(0,c.Z)(function*(u){const d=rn(u);d._u.add(0),yield al(d),d.gu.set("Offline")}),function(u){return o.apply(this,arguments)})(n);var o}))}(Xs(i=$r(i,cs)))}function Sy(i,e){const n=Xs(i=$r(i,cs)),o=new $g;return function Gv(i,e,n,o){const u=function(d,g){let b;return b="string"==typeof d?(new TextEncoder).encode(d):d,U=function(U,z){if(U instanceof Uint8Array)return Rg(U,z);if(U instanceof ArrayBuffer)return Rg(new Uint8Array(U),z);if(U instanceof ReadableStream)return U.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(b),new _y(U,g);var U}(n,zl(e));i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){!function yy(i,e,n){const o=rn(i);var u;(u=(0,c.Z)(function*(d,g,b){try{const U=yield g.getMetadata();if(yield function(ct,Rt){const kt=rn(ct),En=wo(Rt.createTime);return kt.persistence.runTransaction("hasNewerBundle","readonly",kn=>kt.Ns.getBundleMetadata(kn,Rt.id)).then(kn=>!!kn&&kn.createTime.compareTo(En)>=0)}(d.localStore,U))return yield g.close(),b._completeWith({taskState:"Success",documentsLoaded:(ct=U).totalDocuments,bytesLoaded:ct.totalBytes,totalDocuments:ct.totalDocuments,totalBytes:ct.totalBytes}),Promise.resolve(new Set);b._updateProgress(dg(U));const z=new dy(U,d.localStore,g.It);let ne=yield g.wc();for(;ne;){const ct=yield z.Ou(ne);ct&&b._updateProgress(ct),ne=yield g.wc()}const Ae=yield z.complete();return yield wu(d,Ae.Bu,void 0),yield function(ct,Rt){const kt=rn(ct);return kt.persistence.runTransaction("Save bundle","readwrite",En=>kt.Ns.saveBundleMetadata(En,Rt))}(d.localStore,U),b._completeWith(Ae.progress),Promise.resolve(Ae.$u)}catch(U){return vo("SyncEngine",`Loading bundle failed with ${U}`),b._failWith(U),Promise.resolve(new Set)}var ct}),function(d,g,b){return u.apply(this,arguments)})(o,e,n).then(u=>{o.sharedClientState.notifyBundleLoaded(u)})}(yield Tf(i),u,o)}))}(n,i._databaseId,e,o),o}function kf(i,e){return function Lg(i,e){return i.asyncQueue.enqueue((0,c.Z)(function*(){return function(n,o){const u=rn(n);return u.persistence.runTransaction("Get named query","readonly",d=>u.Ns.getNamedQuery(d,o))}(yield bf(i),e)}))}(Xs(i=$r(i,cs)),e).then(n=>n?new Ko(i,null,n.query):null)}function Wg(i){if(i._initialized||i._terminated)throw new jt(_t.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ko{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new jt(_t.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Es{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Es(qe.fromBase64String(e))}catch(n){throw new jt(_t.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Es(qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Da{constructor(e){this._methodName=e}}class yl{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new jt(_t.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new jt(_t.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Mn(this._lat,e._lat)||Mn(this._long,e._long)}}const Pa=/^__.*__$/;class Ff{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return null!==this.fieldMask?new et(e,this.data,this.fieldMask,n,this.fieldTransforms):new ie(e,this.data,n,this.fieldTransforms)}}class vl{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return new et(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function _l(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw In()}}class Iu{constructor(e,n,o,u,d,g){this.settings=e,this.databaseId=n,this.It=o,this.ignoreUndefinedProperties=u,void 0===d&&this.ea(),this.fieldTransforms=d||[],this.fieldMask=g||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new Iu(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.sa({path:o,ra:!1});return u.oa(e),u}ua(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.sa({path:o,ra:!1});return u.ea(),u}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return Kc(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(_l(this.na)&&Pa.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class rc{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.It=o||zl(e)}fa(e,n,o,u=!1){return new Iu({na:e,methodName:n,la:o,path:Zr.emptyPath(),ra:!1,ha:u},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function ka(i){const e=i._freezeSettings(),n=zl(i._databaseId);return new rc(i._databaseId,!!e.ignoreUndefinedProperties,n)}function Du(i,e,n,o,u,d={}){const g=i.fa(d.merge||d.mergeFields?2:0,e,n,u);Bf("Data must be an object, but it was:",g,o);const b=Vf(o,g);let U,z;if(d.merge)U=new Ce(g.fieldMask),z=g.fieldTransforms;else if(d.mergeFields){const ne=[];for(const Ae of d.mergeFields){const ct=jf(e,Ae,n);if(!g.contains(ct))throw new jt(_t.INVALID_ARGUMENT,`Field '${ct}' is specified in your field mask but missing from your input data.`);nh(ne,ct)||ne.push(ct)}U=new Ce(ne),z=g.fieldTransforms.filter(Ae=>U.covers(Ae.field))}else U=null,z=g.fieldTransforms;return new Ff(new _s(b),U,z)}class iu extends Da{_toFieldTransform(e){if(2!==e.na)throw e.aa(1===e.na?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof iu}}function El(i,e,n){return new Iu({na:3,la:e.settings.la,methodName:i._methodName,ra:n},e.databaseId,e.It,e.ignoreUndefinedProperties)}class zu extends Da{_toFieldTransform(e){return new wa(e.path,new ja)}isEqual(e){return e instanceof zu}}class Kg extends Da{constructor(e,n){super(e),this.da=n}_toFieldTransform(e){const n=El(this,e,!0),o=this.da.map(d=>Wu(d,n)),u=new na(o);return new wa(e.path,u)}isEqual(e){return this===e}}class qg extends Da{constructor(e,n){super(e),this.da=n}_toFieldTransform(e){const n=El(this,e,!0),o=this.da.map(d=>Wu(d,n)),u=new pu(o);return new wa(e.path,u)}isEqual(e){return this===e}}class Zg extends Da{constructor(e,n){super(e),this._a=n}_toFieldTransform(e){const n=new Ou(e.It,rd(e.It,this._a));return new wa(e.path,n)}isEqual(e){return this===e}}function Xd(i,e,n,o){const u=i.fa(1,e,n);Bf("Data must be an object, but it was:",u,o);const d=[],g=_s.empty();Oo(o,(U,z)=>{const ne=th(e,U,n);z=(0,me.m9)(z);const Ae=u.ua(ne);if(z instanceof iu)d.push(ne);else{const ct=Wu(z,Ae);null!=ct&&(d.push(ne),g.set(ne,ct))}});const b=new Ce(d);return new vl(g,b,u.fieldTransforms)}function eh(i,e,n,o,u,d){const g=i.fa(1,e,n),b=[jf(e,o,n)],U=[u];if(d.length%2!=0)throw new jt(_t.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ct=0;ct<d.length;ct+=2)b.push(jf(e,d[ct])),U.push(d[ct+1]);const z=[],ne=_s.empty();for(let ct=b.length-1;ct>=0;--ct)if(!nh(z,b[ct])){const Rt=b[ct];let kt=U[ct];kt=(0,me.m9)(kt);const En=g.ua(Rt);if(kt instanceof iu)z.push(Rt);else{const kn=Wu(kt,En);null!=kn&&(z.push(Rt),ne.set(Rt,kn))}}const Ae=new Ce(z);return new vl(ne,Ae,g.fieldTransforms)}function Lf(i,e,n,o=!1){return Wu(n,i.fa(o?4:3,e))}function Wu(i,e){if(Uf(i=(0,me.m9)(i)))return Bf("Unsupported field value:",e,i),Vf(i,e);if(i instanceof Da)return function(n,o){if(!_l(o.na))throw o.aa(`${n._methodName}() can only be used with update() and set()`);if(!o.path)throw o.aa(`${n._methodName}() is not currently supported inside arrays`);const u=n._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.ra&&4!==e.na)throw e.aa("Nested arrays are not supported");return function(n,o){const u=[];let d=0;for(const g of n){let b=Wu(g,o.ca(d));null==b&&(b={nullValue:"NULL_VALUE"}),u.push(b),d++}return{arrayValue:{values:u}}}(i,e)}return function(n,o){if(null===(n=(0,me.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return rd(o.It,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const u=Lr.fromDate(n);return{timestampValue:Ol(o.It,u)}}if(n instanceof Lr){const u=new Lr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Ol(o.It,u)}}if(n instanceof yl)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Es)return{bytesValue:gh(o.It,n._byteString)};if(n instanceof Ms){const u=o.databaseId,d=n.firestore._databaseId;if(!d.isEqual(u))throw o.aa(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ad(n.firestore._databaseId||o.databaseId,n._key.path)}}throw o.aa(`Unsupported field value: ${pl(n)}`)}(i,e)}function Vf(i,e){const n={};return xu(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Oo(i,(o,u)=>{const d=Wu(u,e.ia(o));null!=d&&(n[o]=d)}),{mapValue:{fields:n}}}function Uf(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Lr||i instanceof yl||i instanceof Es||i instanceof Ms||i instanceof Da)}function Bf(i,e,n){if(!Uf(n)||"object"!=typeof(o=n)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=pl(n);throw e.aa("an object"===o?i+" a custom object":i+" "+o)}var o}function jf(i,e,n){if((e=(0,me.m9)(e))instanceof ko)return e._internalPath;if("string"==typeof e)return th(i,e);throw Kc("Field path arguments must be of type string or ",i,!1,void 0,n)}const Yg=new RegExp("[~\\*/\\[\\]]");function th(i,e,n){if(e.search(Yg)>=0)throw Kc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new ko(...e.split("."))._internalPath}catch{throw Kc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Kc(i,e,n,o,u){const d=o&&!o.isEmpty(),g=void 0!==u;let b=`Function ${e}() called with invalid data`;n&&(b+=" (via `toFirestore()`)"),b+=". ";let U="";return(d||g)&&(U+=" (found",d&&(U+=` in field ${o}`),g&&(U+=` in document ${u}`),U+=")"),new jt(_t.INVALID_ARGUMENT,b+i+U)}function nh(i,e){return i.some(n=>n.isEqual(e))}class wl{constructor(e,n,o,u,d){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=u,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new Ms(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ay(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Il("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Ay extends wl{data(){return super.data()}}function Il(i,e){return"string"==typeof e?th(i,e):e instanceof ko?e._internalPath:e._delegate._internalPath}class su{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bu extends wl{constructor(e,n,o,u,d,g){super(e,n,o,u,g),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(Il("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class qc extends bu{data(e={}){return super.data(e)}}class ou{constructor(e,n,o,u){this._firestore=e,this._userDataWriter=n,this._snapshot=u,this.metadata=new su(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new qc(this._firestore,this._userDataWriter,o.key,o,new su(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new jt(_t.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>({type:"added",doc:new qc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new su(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:d++}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>u||3!==g.type).map(g=>{const b=new qc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new su(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let U=-1,z=-1;return 0!==g.type&&(U=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),1!==g.type&&(d=d.add(g.doc),z=d.indexOf(g.doc.key)),{type:rh(g.type),doc:b,oldIndex:U,newIndex:z}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function rh(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return In()}}function Qg(i,e){return i instanceof bu&&e instanceof bu?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof ou&&e instanceof ou&&i._firestore===e._firestore&&jg(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function $f(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new jt(_t.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dl{}function Jg(i,...e){for(const n of e)i=n._apply(i);return i}class Xg extends Dl{constructor(e,n,o){super(),this.wa=e,this.ma=n,this.ga=o,this.type="where"}_apply(e){const n=ka(e.firestore),o=function(u,d,g,b,U,z,ne){let Ae;if(U.isKeyField()){if("array-contains"===z||"array-contains-any"===z)throw new jt(_t.INVALID_ARGUMENT,`Invalid Query. You can't perform '${z}' queries on documentId().`);if("in"===z||"not-in"===z){Zf(ne,z);const Rt=[];for(const kt of ne)Rt.push(qf(b,u,kt));Ae={arrayValue:{values:Rt}}}else Ae=qf(b,u,ne)}else"in"!==z&&"not-in"!==z&&"array-contains-any"!==z||Zf(ne,z),Ae=Lf(g,"where",ne,"in"===z||"not-in"===z);const ct=xn.create(U,z,Ae);return function(Rt,kt){if(kt.dt()){const kn=Cl(Rt);if(null!==kn&&!kn.isEqual(kt.field))throw new jt(_t.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${kn.toString()}' and '${kt.field.toString()}'`);const si=Ba(Rt);null!==si&&Yf(0,kt.field,si)}const En=function(kn,si){for(const Mi of kn.filters)if(si.indexOf(Mi.op)>=0)return Mi.op;return null}(Rt,function(kn){switch(kn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(kt.op));if(null!==En)throw new jt(_t.INVALID_ARGUMENT,En===kt.op?`Invalid query. You cannot use more than one '${kt.op.toString()}' filter.`:`Invalid query. You cannot use '${kt.op.toString()}' filters with '${En.toString()}' filters.`)}(u,ct),ct}(e._query,0,n,e.firestore._databaseId,this.wa,this.ma,this.ga);return new Ko(e.firestore,e.converter,function(u,d){const g=u.filters.concat([d]);return new Qa(u.path,u.collectionGroup,u.explicitOrderBy.slice(),g,u.limit,u.limitType,u.startAt,u.endAt)}(e._query,o))}}function Hf(i,e,n){const o=e,u=Il("where",i);return new Xg(u,o,n)}class em extends Dl{constructor(e,n){super(),this.wa=e,this.ya=n,this.type="orderBy"}_apply(e){const n=function(o,u,d){if(null!==o.startAt)throw new jt(_t.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new jt(_t.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const g=new da(u,d);return function(b,U){if(null===Ba(b)){const z=Cl(b);null!==z&&Yf(0,z,U.field)}}(o,g),g}(e._query,this.wa,this.ya);return new Ko(e.firestore,e.converter,function(o,u){const d=o.explicitOrderBy.concat([u]);return new Qa(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function My(i,e="asc"){const n=e,o=Il("orderBy",i);return new em(o,n)}class Gf extends Dl{constructor(e,n,o){super(),this.type=e,this.pa=n,this.Ia=o}_apply(e){return new Ko(e.firestore,e.converter,Yu(e._query,this.pa,this.Ia))}}function tm(i){return nc("limit",i),new Gf("limit",i,"F")}function nm(i){return nc("limitToLast",i),new Gf("limitToLast",i,"L")}class zf extends Dl{constructor(e,n,o){super(),this.type=e,this.Ta=n,this.Ea=o}_apply(e){const n=Kf(e,this.type,this.Ta,this.Ea);return new Ko(e.firestore,e.converter,(u=n,new Qa((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)));var o,u}}function xy(...i){return new zf("startAt",i,!0)}function Ny(...i){return new zf("startAfter",i,!1)}class rm extends Dl{constructor(e,n,o){super(),this.type=e,this.Ta=n,this.Ea=o}_apply(e){const n=Kf(e,this.type,this.Ta,this.Ea);return new Ko(e.firestore,e.converter,(u=n,new Qa((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,u)));var o,u}}function im(...i){return new rm("endBefore",i,!1)}function Wf(...i){return new rm("endAt",i,!0)}function Kf(i,e,n,o){if(n[0]=(0,me.m9)(n[0]),n[0]instanceof wl)return function(u,d,g,b,U){if(!b)throw new jt(_t.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${g}().`);const z=[];for(const ne of hu(u))if(ne.field.isKeyField())z.push(qt(d,b.key));else{const Ae=b.data.field(ne.field);if(nr(Ae))throw new jt(_t.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ne.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ae){const ct=ne.field.canonicalString();throw new jt(_t.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${ct}' (used as the orderBy) does not exist.`)}z.push(Ae)}return new Js(z,U)}(i._query,i.firestore._databaseId,e,n[0]._document,o);{const u=ka(i.firestore);return function(d,g,b,U,z,ne){const Ae=d.explicitOrderBy;if(z.length>Ae.length)throw new jt(_t.INVALID_ARGUMENT,`Too many arguments provided to ${U}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const ct=[];for(let Rt=0;Rt<z.length;Rt++){const kt=z[Rt];if(Ae[Rt].field.isKeyField()){if("string"!=typeof kt)throw new jt(_t.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${U}(), but got a ${typeof kt}`);if(!uc(d)&&-1!==kt.indexOf("/"))throw new jt(_t.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${U}() must be a plain document ID, but '${kt}' contains a slash.`);const En=d.path.child(pr.fromString(kt));if(!Jt.isDocumentKey(En))throw new jt(_t.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${U}() must result in a valid document path, but '${En}' is not because it contains an odd number of segments.`);const kn=new Jt(En);ct.push(qt(g,kn))}else{const En=Lf(b,U,kt);ct.push(En)}}return new Js(ct,ne)}(i._query,i.firestore._databaseId,u,e,n,o)}}function qf(i,e,n){if("string"==typeof(n=(0,me.m9)(n))){if(""===n)throw new jt(_t.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uc(e)&&-1!==n.indexOf("/"))throw new jt(_t.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const o=e.path.child(pr.fromString(n));if(!Jt.isDocumentKey(o))throw new jt(_t.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return qt(i,new Jt(o))}if(n instanceof Ms)return qt(i,n._key);throw new jt(_t.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pl(n)}.`)}function Zf(i,e){if(!Array.isArray(i)||0===i.length)throw new jt(_t.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new jt(_t.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Yf(i,e,n){if(!n.isEqual(e))throw new jt(_t.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}const sm={maxAttempts:5};class ih{convertValue(e,n="none"){switch(m(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(zn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw In()}}convertObject(e,n){const o={};return Oo(e.fields,(u,d)=>{o[u]=this.convertValue(d,n)}),o}convertGeoPoint(e){return new yl(Zt(e.latitude),Zt(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=Vn(e);return null==o?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(Wn(e));default:return null}}convertTimestamp(e){const n=an(e);return new Lr(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=pr.fromString(e);Gn(mp(o));const u=new Sr(o.get(1),o.get(3)),d=new Jt(o.popFirst(5));return u.isEqual(n)||ir(`Document ${d} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),d}}function Zc(i,e,n){let o;return o=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,o}class om extends ih{constructor(e){super(),this.firestore=e}convertBytes(e){return new Es(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ms(this.firestore,null,n)}}class Ry{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ka(e)}set(e,n,o){this._verifyNotCommitted();const u=Ku(e,this._firestore),d=Zc(u.converter,n,o),g=Du(this._dataReader,"WriteBatch.set",u._key,d,null!==u.converter,o);return this._mutations.push(g.toMutation(u._key,qi.none())),this}update(e,n,o,...u){this._verifyNotCommitted();const d=Ku(e,this._firestore);let g;return g="string"==typeof(n=(0,me.m9)(n))||n instanceof ko?eh(this._dataReader,"WriteBatch.update",d._key,n,o,u):Xd(this._dataReader,"WriteBatch.update",d._key,n),this._mutations.push(g.toMutation(d._key,qi.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Ku(e,this._firestore);return this._mutations=this._mutations.concat(new gr(n._key,qi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new jt(_t.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ku(i,e){if((i=(0,me.m9)(i)).firestore!==e)throw new jt(_t.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}function Oy(i){i=$r(i,Ms);const e=$r(i.firestore,cs);return Gc(Xs(e),i._key).then(n=>sh(e,i,n))}class qu extends ih{constructor(e){super(),this.firestore=e}convertBytes(e){return new Es(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ms(this.firestore,null,n)}}function Py(i){i=$r(i,Ms);const e=$r(i.firestore,cs),n=Xs(e),o=new qu(e);return function Iy(i,e){const n=new xr;return i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return(o=(0,c.Z)(function*(u,d,g){try{const b=yield function(U,z){const ne=rn(U);return ne.persistence.runTransaction("read document","readonly",Ae=>ne.localDocuments.getDocument(Ae,z))}(u,d);b.isFoundDocument()?g.resolve(b):b.isNoDocument()?g.resolve(null):g.reject(new jt(_t.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(b){const U=Gu(b,`Failed to get document '${d} from cache`);g.reject(U)}}),function(u,d,g){return o.apply(this,arguments)})(yield bf(i),e,n);var o})),n.promise}(n,i._key).then(u=>new bu(e,o,i._key,u,new su(null!==u&&u.hasLocalMutations,!0),i.converter))}function co(i){i=$r(i,Ms);const e=$r(i.firestore,cs);return Gc(Xs(e),i._key,{source:"server"}).then(n=>sh(e,i,n))}function am(i){i=$r(i,Ko);const e=$r(i.firestore,cs),n=Xs(e),o=new qu(e);return $f(i._query),zc(n,i._query).then(u=>new ou(e,o,i,u))}function ky(i){i=$r(i,Ko);const e=$r(i.firestore,cs),n=Xs(e),o=new qu(e);return function Mf(i,e){const n=new xr;return i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return(o=(0,c.Z)(function*(u,d,g){try{const b=yield Rd(u,d,!0),U=new hg(d,b.Hi),z=U.ju(b.documents),ne=U.applyChanges(z,!1);g.resolve(ne.snapshot)}catch(b){const U=Gu(b,`Failed to execute query '${d} against cache`);g.reject(U)}}),function(u,d,g){return o.apply(this,arguments)})(yield bf(i),e,n);var o})),n.promise}(n,i._query).then(u=>new ou(e,o,i,u))}function Fy(i){i=$r(i,Ko);const e=$r(i.firestore,cs),n=Xs(e),o=new qu(e);return zc(n,i._query,{source:"server"}).then(u=>new ou(e,o,i,u))}function um(i,e,n){i=$r(i,Ms);const o=$r(i.firestore,cs),u=Zc(i.converter,e,n);return sc(o,[Du(ka(o),"setDoc",i._key,u,null!==i.converter,n).toMutation(i._key,qi.none())])}function Ly(i,e,n,...o){i=$r(i,Ms);const u=$r(i.firestore,cs),d=ka(u);let g;return g="string"==typeof(e=(0,me.m9)(e))||e instanceof ko?eh(d,"updateDoc",i._key,e,n,o):Xd(d,"updateDoc",i._key,e),sc(u,[g.toMutation(i._key,qi.exists(!0))])}function lm(i){return sc($r(i.firestore,cs),[new gr(i._key,qi.none())])}function cm(i,e){const n=$r(i.firestore,cs),o=Bg(i),u=Zc(i.converter,e);return sc(n,[Du(ka(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,qi.exists(!1))]).then(()=>o)}function ic(i,...e){var n,o,u;i=(0,me.m9)(i);let d={includeMetadataChanges:!1},g=0;"object"!=typeof e[g]||Of(e[g])||(d=e[g],g++);const b={includeMetadataChanges:d.includeMetadataChanges};if(Of(e[g])){const Ae=e[g];e[g]=null===(n=Ae.next)||void 0===n?void 0:n.bind(Ae),e[g+1]=null===(o=Ae.error)||void 0===o?void 0:o.bind(Ae),e[g+2]=null===(u=Ae.complete)||void 0===u?void 0:u.bind(Ae)}let U,z,ne;if(i instanceof Ms)z=$r(i.firestore,cs),ne=du(i._key.path),U={next:Ae=>{e[g]&&e[g](sh(z,i,Ae))},error:e[g+1],complete:e[g+2]};else{const Ae=$r(i,Ko);z=$r(Ae.firestore,cs),ne=Ae._query;const ct=new qu(z);U={next:Rt=>{e[g]&&e[g](new ou(z,ct,Ae,Rt))},error:e[g+1],complete:e[g+2]},$f(i._query)}return function(Ae,ct,Rt,kt){const En=new Kd(kt),kn=new lg(ct,En,Rt);return Ae.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return $d(yield tc(Ae),kn)})),()=>{En.Rc(),Ae.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return ql(yield tc(Ae),kn)}))}}(Xs(z),ne,b,U)}function Vy(i,e){return function Hv(i,e){const n=new Kd(e);return i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return o=yield tc(i),u=n,rn(o).Ru.add(u),void u.next();var o,u})),()=>{n.Rc(),i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return o=yield tc(i),u=n,void rn(o).Ru.delete(u);var o,u}))}}(Xs(i=$r(i,cs)),Of(e)?e:{next:e})}function sc(i,e){return function(n,o){const u=new xr;return n.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return function jv(i,e,n){return vg.apply(this,arguments)}(yield Tf(n),o,u)})),u.promise}(Xs(i),e)}function sh(i,e,n){const o=n.docs.get(e._key),u=new qu(i);return new bu(i,u,e._key,o,new su(n.hasPendingWrites,n.fromCache),e.converter)}class Uy extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=ka(e)}get(e){const n=Ku(e,this._firestore),o=new om(this._firestore);return this._transaction.lookup([n._key]).then(u=>{if(!u||1!==u.length)return In();const d=u[0];if(d.isFoundDocument())return new wl(this._firestore,o,d.key,d,n.converter);if(d.isNoDocument())return new wl(this._firestore,o,n._key,null,n.converter);throw In()})}set(e,n,o){const u=Ku(e,this._firestore),d=Zc(u.converter,n,o),g=Du(this._dataReader,"Transaction.set",u._key,d,null!==u.converter,o);return this._transaction.set(u._key,g),this}update(e,n,o,...u){const d=Ku(e,this._firestore);let g;return g="string"==typeof(n=(0,me.m9)(n))||n instanceof ko?eh(this._dataReader,"Transaction.update",d._key,n,o,u):Xd(this._dataReader,"Transaction.update",d._key,n),this._transaction.update(d._key,g),this}delete(e){const n=Ku(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Ku(e,this._firestore),o=new qu(this._firestore);return super.get(e).then(u=>new bu(this._firestore,o,n._key,u._document,new su(!1,!1),n.converter))}}function dm(i,e,n){i=$r(i,cs);const o=Object.assign(Object.assign({},sm),n);return function(u){if(u.maxAttempts<1)throw new jt(_t.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function xf(i,e,n){const o=new xr;return i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){const u=yield(d=i,ec(d).then(g=>g.datastore));var d;new Ey(i.asyncQueue,u,n,e,o).run()})),o.promise}(Xs(i),u=>e(new Uy(i,u)),o)}function Yv(){return new iu("deleteField")}function Qf(){return new zu("serverTimestamp")}function Jf(...i){return new Kg("arrayUnion",i)}function au(...i){return new qg("arrayRemove",i)}function By(i){return new Zg("increment",i)}!function(i,e=!0){Ts=k.SDK_VERSION,(0,k._registerComponent)(new H.wA("firestore",(n,{instanceIdentifier:o,options:u})=>{const d=n.getProvider("app").getImmediate(),g=new cs(new Su(n.getProvider("auth-internal")),new Ta(n.getProvider("app-check-internal")),function(b,U){if(!Object.prototype.hasOwnProperty.apply(b.options,["projectId"]))throw new jt(_t.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sr(b.options.projectId,U)}(d,o),d);return u=Object.assign({useFetchStreams:e},u),g._setSettings(u),g},"PUBLIC").setMultipleInstances(!0)),(0,k.registerVersion)(Vs,"3.5.0",i),(0,k.registerVersion)(Vs,"3.5.0","esm2017")}()},2090:(nn,it,V)=>{V.d(it,{$s:()=>ar,BH:()=>yt,G6:()=>Pe,L:()=>ce,LL:()=>Ct,Sg:()=>ft,UG:()=>Xe,US:()=>Fe,ZB:()=>fe,ZR:()=>Ge,b$:()=>At,eu:()=>Qe,hl:()=>He,jU:()=>Ye,m9:()=>Sn,ne:()=>or,pd:()=>On,r3:()=>Me,ru:()=>St,tV:()=>We,uI:()=>Ht,vZ:()=>Jn,w1:()=>Ne,xO:()=>hr,xb:()=>Kt,z$:()=>tt,zI:()=>Se,zd:()=>en});const be=function(De){const oe=[];let ge=0;for(let Te=0;Te<De.length;Te++){let X=De.charCodeAt(Te);X<128?oe[ge++]=X:X<2048?(oe[ge++]=X>>6|192,oe[ge++]=63&X|128):55296==(64512&X)&&Te+1<De.length&&56320==(64512&De.charCodeAt(Te+1))?(X=65536+((1023&X)<<10)+(1023&De.charCodeAt(++Te)),oe[ge++]=X>>18|240,oe[ge++]=X>>12&63|128,oe[ge++]=X>>6&63|128,oe[ge++]=63&X|128):(oe[ge++]=X>>12|224,oe[ge++]=X>>6&63|128,oe[ge++]=63&X|128)}return oe},Fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(De,oe){if(!Array.isArray(De))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ge=oe?this.byteToCharMapWebSafe_:this.byteToCharMap_,Te=[];for(let X=0;X<De.length;X+=3){const $=De[X],ee=X+1<De.length,Ue=ee?De[X+1]:0,Mt=X+2<De.length,cn=Mt?De[X+2]:0;let ve=(15&Ue)<<2|cn>>6,Ie=63&cn;Mt||(Ie=64,ee||(ve=64)),Te.push(ge[$>>2],ge[(3&$)<<4|Ue>>4],ge[ve],ge[Ie])}return Te.join("")},encodeString(De,oe){return this.HAS_NATIVE_SUPPORT&&!oe?btoa(De):this.encodeByteArray(be(De),oe)},decodeString(De,oe){return this.HAS_NATIVE_SUPPORT&&!oe?atob(De):function(De){const oe=[];let ge=0,Te=0;for(;ge<De.length;){const X=De[ge++];if(X<128)oe[Te++]=String.fromCharCode(X);else if(X>191&&X<224){const $=De[ge++];oe[Te++]=String.fromCharCode((31&X)<<6|63&$)}else if(X>239&&X<365){const Mt=((7&X)<<18|(63&De[ge++])<<12|(63&De[ge++])<<6|63&De[ge++])-65536;oe[Te++]=String.fromCharCode(55296+(Mt>>10)),oe[Te++]=String.fromCharCode(56320+(1023&Mt))}else{const $=De[ge++],ee=De[ge++];oe[Te++]=String.fromCharCode((15&X)<<12|(63&$)<<6|63&ee)}}return oe.join("")}(this.decodeStringToByteArray(De,oe))},decodeStringToByteArray(De,oe){this.init_();const ge=oe?this.charToByteMapWebSafe_:this.charToByteMap_,Te=[];for(let X=0;X<De.length;){const $=ge[De.charAt(X++)],Ue=X<De.length?ge[De.charAt(X)]:0;++X;const cn=X<De.length?ge[De.charAt(X)]:64;++X;const $e=X<De.length?ge[De.charAt(X)]:64;if(++X,null==$||null==Ue||null==cn||null==$e)throw Error();Te.push($<<2|Ue>>4),64!==cn&&(Te.push(Ue<<4&240|cn>>2),64!==$e&&Te.push(cn<<6&192|$e))}return Te},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let De=0;De<this.ENCODED_VALS.length;De++)this.byteToCharMap_[De]=this.ENCODED_VALS.charAt(De),this.charToByteMap_[this.byteToCharMap_[De]]=De,this.byteToCharMapWebSafe_[De]=this.ENCODED_VALS_WEBSAFE.charAt(De),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[De]]=De,De>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(De)]=De,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(De)]=De)}}},ce=function(De){return function(De){const oe=be(De);return Fe.encodeByteArray(oe,!0)}(De).replace(/\./g,"")},We=function(De){try{return Fe.decodeString(De,!0)}catch(oe){console.error("base64Decode failed: ",oe)}return null};function fe(De,oe){if(!(oe instanceof Object))return oe;switch(oe.constructor){case Date:return new Date(oe.getTime());case Object:void 0===De&&(De={});break;case Array:De=[];break;default:return oe}for(const ge in oe)!oe.hasOwnProperty(ge)||!Oe(ge)||(De[ge]=fe(De[ge],oe[ge]));return De}function Oe(De){return"__proto__"!==De}class yt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((oe,ge)=>{this.resolve=oe,this.reject=ge})}wrapCallback(oe){return(ge,Te)=>{ge?this.reject(ge):this.resolve(Te),"function"==typeof oe&&(this.promise.catch(()=>{}),1===oe.length?oe(ge):oe(ge,Te))}}}function ft(De,oe){if(De.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Te=oe||"demo-project",X=De.iat||0,$=De.sub||De.user_id;if(!$)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ee=Object.assign({iss:`https://securetoken.google.com/${Te}`,aud:Te,iat:X,exp:X+3600,auth_time:X,sub:$,user_id:$,firebase:{sign_in_provider:"custom",identities:{}}},De);return[ce(JSON.stringify({alg:"none",type:"JWT"})),ce(JSON.stringify(ee)),""].join(".")}function tt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ht(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tt())}function Xe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ye(){return"object"==typeof self&&self.self===self}function St(){const De="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof De&&void 0!==De.id}function At(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ne(){const De=tt();return De.indexOf("MSIE ")>=0||De.indexOf("Trident/")>=0}function Pe(){return!Xe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function He(){return"object"==typeof indexedDB}function Qe(){return new Promise((De,oe)=>{try{let ge=!0;const Te="validate-browser-context-for-indexeddb-analytics-module",X=self.indexedDB.open(Te);X.onsuccess=()=>{X.result.close(),ge||self.indexedDB.deleteDatabase(Te),De(!0)},X.onupgradeneeded=()=>{ge=!1},X.onerror=()=>{var $;oe((null===($=X.error)||void 0===$?void 0:$.message)||"")}}catch(ge){oe(ge)}})}function Se(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ge extends Error{constructor(oe,ge,Te){super(ge),this.code=oe,this.customData=Te,this.name="FirebaseError",Object.setPrototypeOf(this,Ge.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ct.prototype.create)}}class Ct{constructor(oe,ge,Te){this.service=oe,this.serviceName=ge,this.errors=Te}create(oe,...ge){const Te=ge[0]||{},X=`${this.service}/${oe}`,$=this.errors[oe],ee=$?function Ot(De,oe){return De.replace(Ft,(ge,Te)=>{const X=oe[Te];return null!=X?String(X):`<${Te}?>`})}($,Te):"Error";return new Ge(X,`${this.serviceName}: ${ee} (${X}).`,Te)}}const Ft=/\{\$([^}]+)}/g;function Me(De,oe){return Object.prototype.hasOwnProperty.call(De,oe)}function Kt(De){for(const oe in De)if(Object.prototype.hasOwnProperty.call(De,oe))return!1;return!0}function Jn(De,oe){if(De===oe)return!0;const ge=Object.keys(De),Te=Object.keys(oe);for(const X of ge){if(!Te.includes(X))return!1;const $=De[X],ee=oe[X];if(Bn($)&&Bn(ee)){if(!Jn($,ee))return!1}else if($!==ee)return!1}for(const X of Te)if(!ge.includes(X))return!1;return!0}function Bn(De){return null!==De&&"object"==typeof De}function hr(De){const oe=[];for(const[ge,Te]of Object.entries(De))Array.isArray(Te)?Te.forEach(X=>{oe.push(encodeURIComponent(ge)+"="+encodeURIComponent(X))}):oe.push(encodeURIComponent(ge)+"="+encodeURIComponent(Te));return oe.length?"&"+oe.join("&"):""}function en(De){const oe={};return De.replace(/^\?/,"").split("&").forEach(Te=>{if(Te){const[X,$]=Te.split("=");oe[decodeURIComponent(X)]=decodeURIComponent($)}}),oe}function On(De){const oe=De.indexOf("?");if(!oe)return"";const ge=De.indexOf("#",oe);return De.substring(oe,ge>0?ge:void 0)}function or(De,oe){const ge=new Ut(De,oe);return ge.subscribe.bind(ge)}class Ut{constructor(oe,ge){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ge,this.task.then(()=>{oe(this)}).catch(Te=>{this.error(Te)})}next(oe){this.forEachObserver(ge=>{ge.next(oe)})}error(oe){this.forEachObserver(ge=>{ge.error(oe)}),this.close(oe)}complete(){this.forEachObserver(oe=>{oe.complete()}),this.close()}subscribe(oe,ge,Te){let X;if(void 0===oe&&void 0===ge&&void 0===Te)throw new Error("Missing Observer.");X=function bn(De,oe){if("object"!=typeof De||null===De)return!1;for(const ge of oe)if(ge in De&&"function"==typeof De[ge])return!0;return!1}(oe,["next","error","complete"])?oe:{next:oe,error:ge,complete:Te},void 0===X.next&&(X.next=Zn),void 0===X.error&&(X.error=Zn),void 0===X.complete&&(X.complete=Zn);const $=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?X.error(this.finalError):X.complete()}catch{}}),this.observers.push(X),$}unsubscribeOne(oe){void 0===this.observers||void 0===this.observers[oe]||(delete this.observers[oe],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(oe){if(!this.finalized)for(let ge=0;ge<this.observers.length;ge++)this.sendOne(ge,oe)}sendOne(oe,ge){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[oe])try{ge(this.observers[oe])}catch(Te){typeof console<"u"&&console.error&&console.error(Te)}})}close(oe){this.finalized||(this.finalized=!0,void 0!==oe&&(this.finalError=oe),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Zn(){}function ar(De,oe=1e3,ge=2){const Te=oe*Math.pow(ge,De),X=Math.round(.5*Te*(Math.random()-.5)*2);return Math.min(144e5,Te+X)}function Sn(De){return De&&De._delegate?De._delegate:De}},5269:(nn,it,V)=>{V.r(it),V.d(it,{ComponentsModule:()=>Fe});var c=V(6895),k=V(7001),H=V(4650);const be=[{path:"chat",loadChildren:()=>V.e(592).then(V.bind(V,3139)).then(xe=>xe.ChatModule)}];let me=(()=>{class xe{}return xe.\u0275fac=function(We){return new(We||xe)},xe.\u0275mod=H.oAB({type:xe}),xe.\u0275inj=H.cJS({imports:[k.Bz.forChild(be),k.Bz]}),xe})(),Fe=(()=>{class xe{}return xe.\u0275fac=function(We){return new(We||xe)},xe.\u0275mod=H.oAB({type:xe}),xe.\u0275inj=H.cJS({imports:[c.ez,me]}),xe})()},6400:(nn,it,V)=>{V.d(it,{e:()=>ft});var c=V(5861),k=V(7143),xe=(V(2090),V(9681),V(1877),V(4859),V(590)),ce=V(2731),We=V(4650),re=V(7001),fe=V(1894),Oe=V(1205),yt=V(7185);let ft=(()=>{class tt{constructor(Xe,Ye,St,At){this.router=Xe,this.afs=Ye,this.afAuth=St,this.toastr=At,this.miUser={},this.afAuth.authState.subscribe(ae=>{console.log("estado:",ae),ae&&(this.miUser.name=ae?.displayName,this.miUser.id=ae?.uid,this.miUser.email=ae?.email)})}estadoLog(){}guardarColeccion(Xe,Ye){var St=this;return(0,c.Z)(function*(){try{const At=yield(0,ce.ET)((0,ce.hJ)(St.afs.firestore,"Usuarios"),{correo:Xe,pass:Ye,fecha:new Date});console.log("Documento escrito en colecci\xf3n: ",At.id)}catch(At){console.error("Error al agregar document: ",At)}})()}loguearGoogle(){this.afAuth.signInWithPopup(new k.Q).then(()=>{console.log("Se logueo bien con google"),this.router.navigateByUrl("home")}).catch(Xe=>{console.log(Xe)})}loguear(Xe,Ye){var St=this;return(0,c.Z)(function*(){return yield St.afAuth.signInWithEmailAndPassword(Xe,Ye).then(ae=>{St.toastr.success("El usuario se logue\xf3 satistactoriamente","Exito",{timeOut:1500,progressAnimation:"increasing",positionClass:"toast-top-center"}),console.log(ae)}).catch(ae=>{console.log(ae),St.toastr.error(St.firebaseError(ae.code),"Error",{timeOut:1500,progressAnimation:"decreasing",positionClass:"toast-bottom-center"})})})()}getIdToken(){var Xe=this;return(0,c.Z)(function*(){return yield Xe.afAuth.idTokenResult})()}registrar(Xe,Ye){var St=this;return(0,c.Z)(function*(){try{return yield St.afAuth.createUserWithEmailAndPassword(Xe,Ye).then(function(){var ae=(0,c.Z)(function*(Ne){console.log("user: "+Ne),yield St.guardarColeccion(Xe,Ye)});return function(Ne){return ae.apply(this,arguments)}}()).catch(ae=>{console.log(ae),St.toastr.error(St.firebaseError(ae.code),"Error",{timeOut:2e3,progressAnimation:"decreasing",positionClass:"toast-bottom-center"})})}catch{return"error"}return""})()}firebaseError(Xe){switch(Xe){case"auth/email-already-in-use":return"El usuario ya se encuentra registrado";case"auth/weak-password":return"La contrase\xf1a debe ser m\xednimo de 6 caracteres";case"auth/invalid-email":return"El correo es inv\xe1lido";case"auth/wrong-password":return"La contrase\xf1a es incorrecta";case"auth/user-not-found":return"El usuario no se encuentra registado";default:return"Error desconocido"}}desloguear(){var Xe=this;return(0,c.Z)(function*(){try{Xe.miUser={},yield Xe.afAuth.signOut()}catch(Ye){console.log(Ye)}})()}getUserLog(){return this.afAuth.authState.pipe((0,xe.P)()).toPromise()}}return tt.\u0275fac=function(Xe){return new(Xe||tt)(We.LFG(re.F0),We.LFG(fe.ST),We.LFG(Oe.zQ),We.LFG(yt._W))},tt.\u0275prov=We.Yz7({token:tt,factory:tt.\u0275fac,providedIn:"root"}),tt})()},3991:(nn,it,V)=>{var c=V(1481),k=V(4650),H=V(7001);const be=[{path:"pages",loadChildren:()=>Promise.all([V.e(592),V.e(36)]).then(V.bind(V,5036)).then(j=>j.PagesModule)},{path:"components",loadChildren:()=>Promise.resolve().then(V.bind(V,5269)).then(j=>j.ComponentsModule)},{path:"**",redirectTo:"pages/home",pathMatch:"full"}];let me=(()=>{class j{}return j.\u0275fac=function(_){return new(_||j)},j.\u0275mod=k.oAB({type:j}),j.\u0275inj=k.cJS({imports:[H.Bz.forRoot(be),H.Bz]}),j})();var Fe=V(5861),xe=V(6400),ce=V(6895);function We(j,v){if(1&j&&(k.TgZ(0,"h5"),k._uU(1),k.qZA()),2&j){const _=k.oxw().ngIf;k.xp6(1),k.Oqu(_.displayName)}}function re(j,v){if(1&j&&(k.TgZ(0,"h5"),k._uU(1),k.qZA()),2&j){const _=k.oxw().ngIf;k.xp6(1),k.Oqu(_.email)}}function fe(j,v){if(1&j&&(k.TgZ(0,"a",7),k.YNc(1,We,2,1,"h5",8),k.YNc(2,re,2,1,"ng-template",null,9,k.W1O),k.qZA()),2&j){const _=v.ngIf,N=k.MAs(3);k.xp6(1),k.Q6J("ngIf",_.displayName)("ngIfElse",N)}}let Oe=(()=>{class j{constructor(_,N){this.auth=_,this.router=N,this.item="",this.user$=this.auth.afAuth.user}ngOnInit(){var _=this;return(0,Fe.Z)(function*(){_.user=yield _.auth.getUserLog()})()}desloguear(){this.auth.desloguear(),this.router.navigateByUrl("home")}}return j.\u0275fac=function(_){return new(_||j)(k.Y36(xe.e),k.Y36(H.F0))},j.\u0275cmp=k.Xpm({type:j,selectors:[["app-navbar"]],inputs:{item:"item"},decls:8,vars:3,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],["class","navbar-brand",4,"ngIf"],["type","button","data-toggle","collapse","data-target","#navbarText","aria-controls","navbarText","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarText",1,"collapse","navbar-collapse"],[1,"navbar-text","ml-lg-5"],[1,"nav-link","active"],[1,"navbar-brand"],[4,"ngIf","ngIfElse"],["notDisplay",""]],template:function(_,N){1&_&&(k.TgZ(0,"nav",0),k.YNc(1,fe,4,2,"a",1),k.ALo(2,"async"),k.TgZ(3,"button",2),k._UZ(4,"span",3),k.qZA(),k.TgZ(5,"div",4)(6,"span",5),k._UZ(7,"a",6),k.qZA()()()),2&_&&(k.xp6(1),k.Q6J("ngIf",k.lcZ(2,1,N.user$)))},dependencies:[ce.O5,ce.Ov],styles:[".titles[_ngcontent-%COMP%]{color:#7e4e1e;font-family:Poppins,sans-serif;text-shadow:1px 1px 1px #251709;display:flex;text-align:center;align-items:center;font-weight:200px;font-size:40px;left:500px;top:0;position:fixed}"]}),j})(),yt=(()=>{class j{constructor(){this.title="saladejuegos"}}return j.\u0275fac=function(_){return new(_||j)},j.\u0275cmp=k.Xpm({type:j,selectors:[["app-root"]],decls:2,vars:0,template:function(_,N){1&_&&k._UZ(0,"app-navbar")(1,"router-outlet")},dependencies:[H.lC,Oe],styles:[".titles[_ngcontent-%COMP%]{color:#7e4e1e;font-family:Poppins,sans-serif;text-shadow:2px 2px 2px #251709;display:flex;align-items:center}.miNav[_ngcontent-%COMP%]{color:#f3f1ef}"]}),j})();var ft=V(5813),tt=V(3692),Ht=V(5867);V(2731);class Ye{constructor(v){return v}}const St="firestore",Ne=new k.OlP("angularfire2.firestore-instances"),Pe={provide:class At{constructor(){return(0,ft.vb)(St)}},deps:[[new k.FiY,Ne]]},He={provide:Ye,useFactory:function Je(j,v){const _=(0,ft.JM)(St,j,v);return _&&new Ye(_)},deps:[[new k.FiY,Ne],tt.Ot]};let Qe=(()=>{class j{constructor(){(0,Ht.KN)("angularfire",ft.q4.full,"fst")}}return j.\u0275fac=function(_){return new(_||j)},j.\u0275mod=k.oAB({type:j}),j.\u0275inj=k.cJS({providers:[He,Pe]}),j})();var ve=V(2011),Ie=V(1894);const gt={apiKey:"AIzaSyDV7IISCTLDhPYu-M8it-uvLa3oEuQe9HI",authDomain:"saladejuegos-559fa.firebaseapp.com",projectId:"saladejuegos-559fa",storageBucket:"saladejuegos-559fa.appspot.com",messagingSenderId:"182674480705",appId:"1:182674480705:web:5533daedbe0ac8632ab0c0"};var $t=V(433),_n=V(7185),Yt=V(7340);function de(j){return new k.vHH(3e3,!1)}function to(){return typeof window<"u"&&typeof window.document<"u"}function Yi(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function ei(j){switch(j.length){case 0:return new Yt.ZN;case 1:return j[0];default:return new Yt.ZE(j)}}function Ns(j,v,_,N,W=new Map,te=new Map){const Ce=[],Re=[];let qe=-1,bt=null;if(N.forEach(an=>{const Zt=an.get("offset"),zn=Zt==qe,nr=zn&&bt||new Map;an.forEach((Vn,Wn)=>{let Tr=Wn,Sr=Vn;if("offset"!==Wn)switch(Tr=v.normalizePropertyName(Tr,Ce),Sr){case Yt.k1:Sr=W.get(Wn);break;case Yt.l3:Sr=te.get(Wn);break;default:Sr=v.normalizeStyleValue(Wn,Tr,Sr,Ce)}nr.set(Tr,Sr)}),zn||Re.push(nr),bt=nr,qe=Zt}),Ce.length)throw function Zi(j){return new k.vHH(3502,!1)}();return Re}function Ui(j,v,_,N){switch(v){case"start":j.onStart(()=>N(_&&Fo(_,"start",j)));break;case"done":j.onDone(()=>N(_&&Fo(_,"done",j)));break;case"destroy":j.onDestroy(()=>N(_&&Fo(_,"destroy",j)))}}function Fo(j,v,_){const te=rs(j.element,j.triggerName,j.fromState,j.toState,v||j.phaseName,_.totalTime??j.totalTime,!!_.disabled),Ce=j._data;return null!=Ce&&(te._data=Ce),te}function rs(j,v,_,N,W="",te=0,Ce){return{element:j,triggerName:v,fromState:_,toState:N,phaseName:W,totalTime:te,disabled:!!Ce}}function Qi(j,v,_){let N=j.get(v);return N||j.set(v,N=_),N}function Rs(j){const v=j.indexOf(":");return[j.substring(1,v),j.slice(v+1)]}let Do=(j,v)=>!1,Os=(j,v,_)=>[],is=null;function Ds(j){const v=j.parentNode||j.host;return v===is?null:v}(Yi()||typeof Element<"u")&&(to()?(is=(()=>document.documentElement)(),Do=(j,v)=>{for(;v;){if(v===j)return!0;v=Ds(v)}return!1}):Do=(j,v)=>j.contains(v),Os=(j,v,_)=>{if(_)return Array.from(j.querySelectorAll(v));const N=j.querySelector(v);return N?[N]:[]});let zs=null,bs=!1;const Ji=Do,Cs=Os;let ds=(()=>{class j{validateStyleProperty(_){return function bo(j){zs||(zs=function ti(){return typeof document<"u"?document.body:null}()||{},bs=!!zs.style&&"WebkitAppearance"in zs.style);let v=!0;return zs.style&&!function sa(j){return"ebkit"==j.substring(1,6)}(j)&&(v=j in zs.style,!v&&bs&&(v="Webkit"+j.charAt(0).toUpperCase()+j.slice(1)in zs.style)),v}(_)}matchesElement(_,N){return!1}containsElement(_,N){return Ji(_,N)}getParentElement(_){return Ds(_)}query(_,N,W){return Cs(_,N,W)}computeStyle(_,N,W){return W||""}animate(_,N,W,te,Ce,Re=[],qe){return new Yt.ZN(W,te)}}return j.\u0275fac=function(_){return new(_||j)},j.\u0275prov=k.Yz7({token:j,factory:j.\u0275fac}),j})(),er=(()=>{class j{}return j.NOOP=new ds,j})();const ho="ng-enter",os="ng-leave",fo="ng-trigger",Ci=".ng-trigger",Xi="ng-animating",Bi=".ng-animating";function Gr(j){if("number"==typeof j)return j;const v=j.match(/^(-?[\.\d]+)(m?s)/);return!v||v.length<2?0:ai(parseFloat(v[1]),v[2])}function ai(j,v){return"s"===v?1e3*j:j}function ks(j,v,_){return j.hasOwnProperty("duration")?j:function Vo(j,v,_){let W,te=0,Ce="";if("string"==typeof j){const Re=j.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Re)return v.push(de()),{duration:0,delay:0,easing:""};W=ai(parseFloat(Re[1]),Re[2]);const qe=Re[3];null!=qe&&(te=ai(parseFloat(qe),Re[4]));const bt=Re[5];bt&&(Ce=bt)}else W=j;if(!_){let Re=!1,qe=v.length;W<0&&(v.push(function se(){return new k.vHH(3100,!1)}()),Re=!0),te<0&&(v.push(function Be(){return new k.vHH(3101,!1)}()),Re=!0),Re&&v.splice(qe,0,de())}return{duration:W,delay:te,easing:Ce}}(j,v,_)}function Fs(j,v={}){return Object.keys(j).forEach(_=>{v[_]=j[_]}),v}function Or(j){const v=new Map;return Object.keys(j).forEach(_=>{v.set(_,j[_])}),v}function ui(j,v=new Map,_){if(_)for(let[N,W]of _)v.set(N,W);for(let[N,W]of j)v.set(N,W);return v}function ni(j,v,_){return _?v+":"+_+";":""}function ji(j){let v="";for(let _=0;_<j.style.length;_++){const N=j.style.item(_);v+=ni(0,N,j.style.getPropertyValue(N))}for(const _ in j.style)j.style.hasOwnProperty(_)&&!_.startsWith("_")&&(v+=ni(0,Ls(_),j.style[_]));j.setAttribute("style",v)}function _i(j,v,_){j.style&&(v.forEach((N,W)=>{const te=Rn(W);_&&!_.has(W)&&_.set(W,j.style[te]),j.style[te]=N}),Yi()&&ji(j))}function gi(j,v){j.style&&(v.forEach((_,N)=>{const W=Rn(N);j.style[W]=""}),Yi()&&ji(j))}function rr(j){return Array.isArray(j)?1==j.length?j[0]:(0,Yt.vP)(j):j}const as=new RegExp("{{\\s*(.+?)\\s*}}","g");function To(j){let v=[];if("string"==typeof j){let _;for(;_=as.exec(j);)v.push(_[1]);as.lastIndex=0}return v}function Ti(j,v,_){const N=j.toString(),W=N.replace(as,(te,Ce)=>{let Re=v[Ce];return null==Re&&(_.push(function tn(j){return new k.vHH(3003,!1)}()),Re=""),Re.toString()});return W==N?j:W}function Ks(j){const v=[];let _=j.next();for(;!_.done;)v.push(_.value),_=j.next();return v}const li=/-+([a-z0-9])/g;function Rn(j){return j.replace(li,(...v)=>v[1].toUpperCase())}function Ls(j){return j.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ei(j,v,_){switch(v.type){case 7:return j.visitTrigger(v,_);case 0:return j.visitState(v,_);case 1:return j.visitTransition(v,_);case 2:return j.visitSequence(v,_);case 3:return j.visitGroup(v,_);case 4:return j.visitAnimate(v,_);case 5:return j.visitKeyframes(v,_);case 6:return j.visitStyle(v,_);case 8:return j.visitReference(v,_);case 9:return j.visitAnimateChild(v,_);case 10:return j.visitAnimateRef(v,_);case 11:return j.visitQuery(v,_);case 12:return j.visitStagger(v,_);default:throw function Nn(j){return new k.vHH(3004,!1)}()}}function ii(j,v){return window.getComputedStyle(j)[v]}function fs(j,v){const _=[];return"string"==typeof j?j.split(/\s*,\s*/).forEach(N=>function qs(j,v,_){if(":"==j[0]){const qe=function wi(j,v){switch(j){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(_,N)=>parseFloat(N)>parseFloat(_);case":decrement":return(_,N)=>parseFloat(N)<parseFloat(_);default:return v.push(function ur(j){return new k.vHH(3016,!1)}()),"* => *"}}(j,_);if("function"==typeof qe)return void v.push(qe);j=qe}const N=j.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==N||N.length<4)return _.push(function Is(j){return new k.vHH(3015,!1)}()),v;const W=N[1],te=N[2],Ce=N[3];v.push(go(W,Ce));"<"==te[0]&&!("*"==W&&"*"==Ce)&&v.push(go(Ce,W))}(N,_,v)):_.push(j),_}const Zs=new Set(["true","1"]),ci=new Set(["false","0"]);function go(j,v){const _=Zs.has(j)||ci.has(j),N=Zs.has(v)||ci.has(v);return(W,te)=>{let Ce="*"==j||j==W,Re="*"==v||v==te;return!Ce&&_&&"boolean"==typeof W&&(Ce=W?Zs.has(j):ci.has(j)),!Re&&N&&"boolean"==typeof te&&(Re=te?Zs.has(v):ci.has(v)),Ce&&Re}}const L=new RegExp("s*:selfs*,?","g");function O(j,v,_,N){return new Q(j).build(v,_,N)}class Q{constructor(v){this._driver=v}build(v,_,N){const W=new yr(_);return this._resetContextStyleTimingState(W),Ei(this,rr(v),W)}_resetContextStyleTimingState(v){v.currentQuerySelector="",v.collectedStyles=new Map,v.collectedStyles.set("",new Map),v.currentTime=0}visitTrigger(v,_){let N=_.queryCount=0,W=_.depCount=0;const te=[],Ce=[];return"@"==v.name.charAt(0)&&_.errors.push(function Rr(){return new k.vHH(3006,!1)}()),v.definitions.forEach(Re=>{if(this._resetContextStyleTimingState(_),0==Re.type){const qe=Re,bt=qe.name;bt.toString().split(/\s*,\s*/).forEach(an=>{qe.name=an,te.push(this.visitState(qe,_))}),qe.name=bt}else if(1==Re.type){const qe=this.visitTransition(Re,_);N+=qe.queryCount,W+=qe.depCount,Ce.push(qe)}else _.errors.push(function oi(){return new k.vHH(3007,!1)}())}),{type:7,name:v.name,states:te,transitions:Ce,queryCount:N,depCount:W,options:null}}visitState(v,_){const N=this.visitStyle(v.styles,_),W=v.options&&v.options.params||null;if(N.containsDynamicStyles){const te=new Set,Ce=W||{};N.styles.forEach(Re=>{Re instanceof Map&&Re.forEach(qe=>{To(qe).forEach(bt=>{Ce.hasOwnProperty(bt)||te.add(bt)})})}),te.size&&(Ks(te.values()),_.errors.push(function gn(j,v){return new k.vHH(3008,!1)}()))}return{type:0,name:v.name,style:N,options:W?{params:W}:null}}visitTransition(v,_){_.queryCount=0,_.depCount=0;const N=Ei(this,rr(v.animation),_);return{type:1,matchers:fs(v.expr,_.errors),animation:N,queryCount:_.queryCount,depCount:_.depCount,options:ri(v.options)}}visitSequence(v,_){return{type:2,steps:v.steps.map(N=>Ei(this,N,_)),options:ri(v.options)}}visitGroup(v,_){const N=_.currentTime;let W=0;const te=v.steps.map(Ce=>{_.currentTime=N;const Re=Ei(this,Ce,_);return W=Math.max(W,_.currentTime),Re});return _.currentTime=W,{type:3,steps:te,options:ri(v.options)}}visitAnimate(v,_){const N=function es(j,v){if(j.hasOwnProperty("duration"))return j;if("number"==typeof j)return io(ks(j,v).duration,0,"");const _=j;if(_.split(/\s+/).some(te=>"{"==te.charAt(0)&&"{"==te.charAt(1))){const te=io(0,0,"");return te.dynamic=!0,te.strValue=_,te}const W=ks(_,v);return io(W.duration,W.delay,W.easing)}(v.timings,_.errors);_.currentAnimateTimings=N;let W,te=v.styles?v.styles:(0,Yt.oB)({});if(5==te.type)W=this.visitKeyframes(te,_);else{let Ce=v.styles,Re=!1;if(!Ce){Re=!0;const bt={};N.easing&&(bt.easing=N.easing),Ce=(0,Yt.oB)(bt)}_.currentTime+=N.duration+N.delay;const qe=this.visitStyle(Ce,_);qe.isEmptyStep=Re,W=qe}return _.currentAnimateTimings=null,{type:4,timings:N,style:W,options:null}}visitStyle(v,_){const N=this._makeStyleAst(v,_);return this._validateStyleAst(N,_),N}_makeStyleAst(v,_){const N=[],W=Array.isArray(v.styles)?v.styles:[v.styles];for(let Re of W)"string"==typeof Re?Re===Yt.l3?N.push(Re):_.errors.push(new k.vHH(3002,!1)):N.push(Or(Re));let te=!1,Ce=null;return N.forEach(Re=>{if(Re instanceof Map&&(Re.has("easing")&&(Ce=Re.get("easing"),Re.delete("easing")),!te))for(let qe of Re.values())if(qe.toString().indexOf("{{")>=0){te=!0;break}}),{type:6,styles:N,easing:Ce,offset:v.offset,containsDynamicStyles:te,options:null}}_validateStyleAst(v,_){const N=_.currentAnimateTimings;let W=_.currentTime,te=_.currentTime;N&&te>0&&(te-=N.duration+N.delay),v.styles.forEach(Ce=>{"string"!=typeof Ce&&Ce.forEach((Re,qe)=>{const bt=_.collectedStyles.get(_.currentQuerySelector),an=bt.get(qe);let Zt=!0;an&&(te!=W&&te>=an.startTime&&W<=an.endTime&&(_.errors.push(function ws(j,v,_,N,W){return new k.vHH(3010,!1)}()),Zt=!1),te=an.startTime),Zt&&bt.set(qe,{startTime:te,endTime:W}),_.options&&function no(j,v,_){const N=v.params||{},W=To(j);W.length&&W.forEach(te=>{N.hasOwnProperty(te)||_.push(function at(j){return new k.vHH(3001,!1)}())})}(Re,_.options,_.errors)})})}visitKeyframes(v,_){const N={type:5,styles:[],options:null};if(!_.currentAnimateTimings)return _.errors.push(function Gi(){return new k.vHH(3011,!1)}()),N;let te=0;const Ce=[];let Re=!1,qe=!1,bt=0;const an=v.steps.map(Sr=>{const hi=this._makeStyleAst(Sr,_);let Vr=null!=hi.offset?hi.offset:function Wi(j){if("string"==typeof j)return null;let v=null;if(Array.isArray(j))j.forEach(_=>{if(_ instanceof Map&&_.has("offset")){const N=_;v=parseFloat(N.get("offset")),N.delete("offset")}});else if(j instanceof Map&&j.has("offset")){const _=j;v=parseFloat(_.get("offset")),_.delete("offset")}return v}(hi.styles),Si=0;return null!=Vr&&(te++,Si=hi.offset=Vr),qe=qe||Si<0||Si>1,Re=Re||Si<bt,bt=Si,Ce.push(Si),hi});qe&&_.errors.push(function Qr(){return new k.vHH(3012,!1)}()),Re&&_.errors.push(function Gs(){return new k.vHH(3200,!1)}());const Zt=v.steps.length;let zn=0;te>0&&te<Zt?_.errors.push(function Xr(){return new k.vHH(3202,!1)}()):0==te&&(zn=1/(Zt-1));const nr=Zt-1,Vn=_.currentTime,Wn=_.currentAnimateTimings,Tr=Wn.duration;return an.forEach((Sr,hi)=>{const Vr=zn>0?hi==nr?1:zn*hi:Ce[hi],Si=Vr*Tr;_.currentTime=Vn+Wn.delay+Si,Wn.duration=Si,this._validateStyleAst(Sr,_),Sr.offset=Vr,N.styles.push(Sr)}),N}visitReference(v,_){return{type:8,animation:Ei(this,rr(v.animation),_),options:ri(v.options)}}visitAnimateChild(v,_){return _.depCount++,{type:9,options:ri(v.options)}}visitAnimateRef(v,_){return{type:10,animation:this.visitReference(v.animation,_),options:ri(v.options)}}visitQuery(v,_){const N=_.currentQuerySelector,W=v.options||{};_.queryCount++,_.currentQuery=v;const[te,Ce]=function ht(j){const v=!!j.split(/\s*,\s*/).find(_=>":self"==_);return v&&(j=j.replace(L,"")),j=j.replace(/@\*/g,Ci).replace(/@\w+/g,_=>Ci+"-"+_.slice(1)).replace(/:animating/g,Bi),[j,v]}(v.selector);_.currentQuerySelector=N.length?N+" "+te:te,Qi(_.collectedStyles,_.currentQuerySelector,new Map);const Re=Ei(this,rr(v.animation),_);return _.currentQuery=null,_.currentQuerySelector=N,{type:11,selector:te,limit:W.limit||0,optional:!!W.optional,includeSelf:Ce,animation:Re,originalSelector:v.selector,options:ri(v.options)}}visitStagger(v,_){_.currentQuery||_.errors.push(function fi(){return new k.vHH(3013,!1)}());const N="full"===v.timings?{duration:0,delay:0,easing:"full"}:ks(v.timings,_.errors,!0);return{type:12,animation:Ei(this,rr(v.animation),_),timings:N,options:null}}}class yr{constructor(v){this.errors=v,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ri(j){return j?(j=Fs(j)).params&&(j.params=function hn(j){return j?Fs(j):null}(j.params)):j={},j}function io(j,v,_){return{duration:j,delay:v,easing:_}}function ps(j,v,_,N,W,te,Ce=null,Re=!1){return{type:1,element:j,keyframes:v,preStyleProps:_,postStyleProps:N,duration:W,delay:te,totalTime:W+te,easing:Ce,subTimeline:Re}}class Ys{constructor(){this._map=new Map}get(v){return this._map.get(v)||[]}append(v,_){let N=this._map.get(v);N||this._map.set(v,N=[]),N.push(..._)}has(v){return this._map.has(v)}clear(){this._map.clear()}}const yo=new RegExp(":enter","g"),Ao=new RegExp(":leave","g");function so(j,v,_,N,W,te=new Map,Ce=new Map,Re,qe,bt=[]){return(new Mo).buildKeyframes(j,v,_,N,W,te,Ce,Re,qe,bt)}class Mo{buildKeyframes(v,_,N,W,te,Ce,Re,qe,bt,an=[]){bt=bt||new Ys;const Zt=new S(v,_,bt,W,te,an,[]);Zt.options=qe;const zn=qe.delay?Gr(qe.delay):0;Zt.currentTimeline.delayNextStep(zn),Zt.currentTimeline.setStyles([Ce],null,Zt.errors,qe),Ei(this,N,Zt);const nr=Zt.timelines.filter(Vn=>Vn.containsAnimation());if(nr.length&&Re.size){let Vn;for(let Wn=nr.length-1;Wn>=0;Wn--){const Tr=nr[Wn];if(Tr.element===_){Vn=Tr;break}}Vn&&!Vn.allowOnlyTimelineStyles()&&Vn.setStyles([Re],null,Zt.errors,qe)}return nr.length?nr.map(Vn=>Vn.buildKeyframes()):[ps(_,[],[],[],0,zn,"",!1)]}visitTrigger(v,_){}visitState(v,_){}visitTransition(v,_){}visitAnimateChild(v,_){const N=_.subInstructions.get(_.element);if(N){const W=_.createSubContext(v.options),te=_.currentTimeline.currentTime,Ce=this._visitSubInstructions(N,W,W.options);te!=Ce&&_.transformIntoNewTimeline(Ce)}_.previousNode=v}visitAnimateRef(v,_){const N=_.createSubContext(v.options);N.transformIntoNewTimeline(),this._applyAnimateRefDelay(v.animation,_,N),this.visitReference(v.animation,N),_.transformIntoNewTimeline(N.currentTimeline.currentTime),_.previousNode=v}_applyAnimateRefDelay(v,_,N){const W=v.options?.delay;if(!W)return;let te;te="string"==typeof W?Gr(Ti(W,v.options?.params??{},_.errors)):W,N.delayNextStep(te)}_visitSubInstructions(v,_,N){let te=_.currentTimeline.currentTime;const Ce=null!=N.duration?Gr(N.duration):null,Re=null!=N.delay?Gr(N.delay):null;return 0!==Ce&&v.forEach(qe=>{const bt=_.appendInstructionToTimeline(qe,Ce,Re);te=Math.max(te,bt.duration+bt.delay)}),te}visitReference(v,_){_.updateOptions(v.options,!0),Ei(this,v.animation,_),_.previousNode=v}visitSequence(v,_){const N=_.subContextCount;let W=_;const te=v.options;if(te&&(te.params||te.delay)&&(W=_.createSubContext(te),W.transformIntoNewTimeline(),null!=te.delay)){6==W.previousNode.type&&(W.currentTimeline.snapshotCurrentStyles(),W.previousNode=Qo);const Ce=Gr(te.delay);W.delayNextStep(Ce)}v.steps.length&&(v.steps.forEach(Ce=>Ei(this,Ce,W)),W.currentTimeline.applyStylesToKeyframe(),W.subContextCount>N&&W.transformIntoNewTimeline()),_.previousNode=v}visitGroup(v,_){const N=[];let W=_.currentTimeline.currentTime;const te=v.options&&v.options.delay?Gr(v.options.delay):0;v.steps.forEach(Ce=>{const Re=_.createSubContext(v.options);te&&Re.delayNextStep(te),Ei(this,Ce,Re),W=Math.max(W,Re.currentTimeline.currentTime),N.push(Re.currentTimeline)}),N.forEach(Ce=>_.currentTimeline.mergeTimelineCollectedStyles(Ce)),_.transformIntoNewTimeline(W),_.previousNode=v}_visitTiming(v,_){if(v.dynamic){const N=v.strValue;return ks(_.params?Ti(N,_.params,_.errors):N,_.errors)}return{duration:v.duration,delay:v.delay,easing:v.easing}}visitAnimate(v,_){const N=_.currentAnimateTimings=this._visitTiming(v.timings,_),W=_.currentTimeline;N.delay&&(_.incrementTime(N.delay),W.snapshotCurrentStyles());const te=v.style;5==te.type?this.visitKeyframes(te,_):(_.incrementTime(N.duration),this.visitStyle(te,_),W.applyStylesToKeyframe()),_.currentAnimateTimings=null,_.previousNode=v}visitStyle(v,_){const N=_.currentTimeline,W=_.currentAnimateTimings;!W&&N.hasCurrentStyleProperties()&&N.forwardFrame();const te=W&&W.easing||v.easing;v.isEmptyStep?N.applyEmptyStep(te):N.setStyles(v.styles,te,_.errors,_.options),_.previousNode=v}visitKeyframes(v,_){const N=_.currentAnimateTimings,W=_.currentTimeline.duration,te=N.duration,Re=_.createSubContext().currentTimeline;Re.easing=N.easing,v.styles.forEach(qe=>{Re.forwardTime((qe.offset||0)*te),Re.setStyles(qe.styles,qe.easing,_.errors,_.options),Re.applyStylesToKeyframe()}),_.currentTimeline.mergeTimelineCollectedStyles(Re),_.transformIntoNewTimeline(W+te),_.previousNode=v}visitQuery(v,_){const N=_.currentTimeline.currentTime,W=v.options||{},te=W.delay?Gr(W.delay):0;te&&(6===_.previousNode.type||0==N&&_.currentTimeline.hasCurrentStyleProperties())&&(_.currentTimeline.snapshotCurrentStyles(),_.previousNode=Qo);let Ce=N;const Re=_.invokeQuery(v.selector,v.originalSelector,v.limit,v.includeSelf,!!W.optional,_.errors);_.currentQueryTotal=Re.length;let qe=null;Re.forEach((bt,an)=>{_.currentQueryIndex=an;const Zt=_.createSubContext(v.options,bt);te&&Zt.delayNextStep(te),bt===_.element&&(qe=Zt.currentTimeline),Ei(this,v.animation,Zt),Zt.currentTimeline.applyStylesToKeyframe(),Ce=Math.max(Ce,Zt.currentTimeline.currentTime)}),_.currentQueryIndex=0,_.currentQueryTotal=0,_.transformIntoNewTimeline(Ce),qe&&(_.currentTimeline.mergeTimelineCollectedStyles(qe),_.currentTimeline.snapshotCurrentStyles()),_.previousNode=v}visitStagger(v,_){const N=_.parentContext,W=_.currentTimeline,te=v.timings,Ce=Math.abs(te.duration),Re=Ce*(_.currentQueryTotal-1);let qe=Ce*_.currentQueryIndex;switch(te.duration<0?"reverse":te.easing){case"reverse":qe=Re-qe;break;case"full":qe=N.currentStaggerTime}const an=_.currentTimeline;qe&&an.delayNextStep(qe);const Zt=an.currentTime;Ei(this,v.animation,_),_.previousNode=v,N.currentStaggerTime=W.currentTime-Zt+(W.startTime-N.currentTimeline.startTime)}}const Qo={};class S{constructor(v,_,N,W,te,Ce,Re,qe){this._driver=v,this.element=_,this.subInstructions=N,this._enterClassName=W,this._leaveClassName=te,this.errors=Ce,this.timelines=Re,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Qo,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=qe||new G(this._driver,_,0),Re.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(v,_){if(!v)return;const N=v;let W=this.options;null!=N.duration&&(W.duration=Gr(N.duration)),null!=N.delay&&(W.delay=Gr(N.delay));const te=N.params;if(te){let Ce=W.params;Ce||(Ce=this.options.params={}),Object.keys(te).forEach(Re=>{(!_||!Ce.hasOwnProperty(Re))&&(Ce[Re]=Ti(te[Re],Ce,this.errors))})}}_copyOptions(){const v={};if(this.options){const _=this.options.params;if(_){const N=v.params={};Object.keys(_).forEach(W=>{N[W]=_[W]})}}return v}createSubContext(v=null,_,N){const W=_||this.element,te=new S(this._driver,W,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(W,N||0));return te.previousNode=this.previousNode,te.currentAnimateTimings=this.currentAnimateTimings,te.options=this._copyOptions(),te.updateOptions(v),te.currentQueryIndex=this.currentQueryIndex,te.currentQueryTotal=this.currentQueryTotal,te.parentContext=this,this.subContextCount++,te}transformIntoNewTimeline(v){return this.previousNode=Qo,this.currentTimeline=this.currentTimeline.fork(this.element,v),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(v,_,N){const W={duration:_??v.duration,delay:this.currentTimeline.currentTime+(N??0)+v.delay,easing:""},te=new R(this._driver,v.element,v.keyframes,v.preStyleProps,v.postStyleProps,W,v.stretchStartingKeyframe);return this.timelines.push(te),W}incrementTime(v){this.currentTimeline.forwardTime(this.currentTimeline.duration+v)}delayNextStep(v){v>0&&this.currentTimeline.delayNextStep(v)}invokeQuery(v,_,N,W,te,Ce){let Re=[];if(W&&Re.push(this.element),v.length>0){v=(v=v.replace(yo,"."+this._enterClassName)).replace(Ao,"."+this._leaveClassName);let bt=this._driver.query(this.element,v,1!=N);0!==N&&(bt=N<0?bt.slice(bt.length+N,bt.length):bt.slice(0,N)),Re.push(...bt)}return!te&&0==Re.length&&Ce.push(function Fr(j){return new k.vHH(3014,!1)}()),Re}}class G{constructor(v,_,N,W){this._driver=v,this.element=_,this.startTime=N,this._elementTimelineStylesLookup=W,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(_),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(_,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(v){const _=1===this._keyframes.size&&this._pendingStyles.size;this.duration||_?(this.forwardTime(this.currentTime+v),_&&this.snapshotCurrentStyles()):this.startTime+=v}fork(v,_){return this.applyStylesToKeyframe(),new G(this._driver,v,_||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(v){this.applyStylesToKeyframe(),this.duration=v,this._loadKeyframe()}_updateStyle(v,_){this._localTimelineStyles.set(v,_),this._globalTimelineStyles.set(v,_),this._styleSummary.set(v,{time:this.currentTime,value:_})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(v){v&&this._previousKeyframe.set("easing",v);for(let[_,N]of this._globalTimelineStyles)this._backFill.set(_,N||Yt.l3),this._currentKeyframe.set(_,Yt.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(v,_,N,W){_&&this._previousKeyframe.set("easing",_);const te=W&&W.params||{},Ce=function we(j,v){const _=new Map;let N;return j.forEach(W=>{if("*"===W){N=N||v.keys();for(let te of N)_.set(te,Yt.l3)}else ui(W,_)}),_}(v,this._globalTimelineStyles);for(let[Re,qe]of Ce){const bt=Ti(qe,te,N);this._pendingStyles.set(Re,bt),this._localTimelineStyles.has(Re)||this._backFill.set(Re,this._globalTimelineStyles.get(Re)??Yt.l3),this._updateStyle(Re,bt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((v,_)=>{this._currentKeyframe.set(_,v)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((v,_)=>{this._currentKeyframe.has(_)||this._currentKeyframe.set(_,v)}))}snapshotCurrentStyles(){for(let[v,_]of this._localTimelineStyles)this._pendingStyles.set(v,_),this._updateStyle(v,_)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const v=[];for(let _ in this._currentKeyframe)v.push(_);return v}mergeTimelineCollectedStyles(v){v._styleSummary.forEach((_,N)=>{const W=this._styleSummary.get(N);(!W||_.time>W.time)&&this._updateStyle(N,_.value)})}buildKeyframes(){this.applyStylesToKeyframe();const v=new Set,_=new Set,N=1===this._keyframes.size&&0===this.duration;let W=[];this._keyframes.forEach((Re,qe)=>{const bt=ui(Re,new Map,this._backFill);bt.forEach((an,Zt)=>{an===Yt.k1?v.add(Zt):an===Yt.l3&&_.add(Zt)}),N||bt.set("offset",qe/this.duration),W.push(bt)});const te=v.size?Ks(v.values()):[],Ce=_.size?Ks(_.values()):[];if(N){const Re=W[0],qe=new Map(Re);Re.set("offset",0),qe.set("offset",1),W=[Re,qe]}return ps(this.element,W,te,Ce,this.duration,this.startTime,this.easing,!1)}}class R extends G{constructor(v,_,N,W,te,Ce,Re=!1){super(v,_,Ce.delay),this.keyframes=N,this.preStyleProps=W,this.postStyleProps=te,this._stretchStartingKeyframe=Re,this.timings={duration:Ce.duration,delay:Ce.delay,easing:Ce.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let v=this.keyframes,{delay:_,duration:N,easing:W}=this.timings;if(this._stretchStartingKeyframe&&_){const te=[],Ce=N+_,Re=_/Ce,qe=ui(v[0]);qe.set("offset",0),te.push(qe);const bt=ui(v[0]);bt.set("offset",Y(Re)),te.push(bt);const an=v.length-1;for(let Zt=1;Zt<=an;Zt++){let zn=ui(v[Zt]);const nr=zn.get("offset");zn.set("offset",Y((_+nr*N)/Ce)),te.push(zn)}N=Ce,_=0,W="",v=te}return ps(this.element,v,this.preStyleProps,this.postStyleProps,N,_,W,!0)}}function Y(j,v=3){const _=Math.pow(10,v-1);return Math.round(j*_)/_}class wt{}const vr=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Ir extends wt{normalizePropertyName(v,_){return Rn(v)}normalizeStyleValue(v,_,N,W){let te="";const Ce=N.toString().trim();if(vr.has(_)&&0!==N&&"0"!==N)if("number"==typeof N)te="px";else{const Re=N.match(/^[+-]?[\d\.]+([a-z]*)$/);Re&&0==Re[1].length&&W.push(function An(j,v){return new k.vHH(3005,!1)}())}return Ce+te}}function Dr(j,v,_,N,W,te,Ce,Re,qe,bt,an,Zt,zn){return{type:0,element:j,triggerName:v,isRemovalTransition:W,fromState:_,fromStyles:te,toState:N,toStyles:Ce,timelines:Re,queriedElements:qe,preStyleProps:bt,postStyleProps:an,totalTime:Zt,errors:zn}}const cr={};class di{constructor(v,_,N){this._triggerName=v,this.ast=_,this._stateStyles=N}match(v,_,N,W){return function Ur(j,v,_,N,W){return j.some(te=>te(v,_,N,W))}(this.ast.matchers,v,_,N,W)}buildStyles(v,_,N){let W=this._stateStyles.get("*");return void 0!==v&&(W=this._stateStyles.get(v?.toString())||W),W?W.buildStyles(_,N):new Map}build(v,_,N,W,te,Ce,Re,qe,bt,an){const Zt=[],zn=this.ast.options&&this.ast.options.params||cr,Vn=this.buildStyles(N,Re&&Re.params||cr,Zt),Wn=qe&&qe.params||cr,Tr=this.buildStyles(W,Wn,Zt),Sr=new Set,hi=new Map,Vr=new Map,Si="void"===W,E={params:oo(Wn,zn),delay:this.ast.options?.delay},w=an?[]:so(v,_,this.ast.animation,te,Ce,Vn,Tr,E,bt,Zt);let m=0;if(w.forEach(P=>{m=Math.max(P.duration+P.delay,m)}),Zt.length)return Dr(_,this._triggerName,N,W,Si,Vn,Tr,[],[],hi,Vr,m,Zt);w.forEach(P=>{const K=P.element,he=Qi(hi,K,new Set);P.preStyleProps.forEach(mt=>he.add(mt));const _e=Qi(Vr,K,new Set);P.postStyleProps.forEach(mt=>_e.add(mt)),K!==_&&Sr.add(K)});const T=Ks(Sr.values());return Dr(_,this._triggerName,N,W,Si,Vn,Tr,w,T,hi,Vr,m)}}function oo(j,v){const _=Fs(v);for(const N in j)j.hasOwnProperty(N)&&null!=j[N]&&(_[N]=j[N]);return _}class Vs{constructor(v,_,N){this.styles=v,this.defaultParams=_,this.normalizer=N}buildStyles(v,_){const N=new Map,W=Fs(this.defaultParams);return Object.keys(v).forEach(te=>{const Ce=v[te];null!==Ce&&(W[te]=Ce)}),this.styles.styles.forEach(te=>{"string"!=typeof te&&te.forEach((Ce,Re)=>{Ce&&(Ce=Ti(Ce,W,_));const qe=this.normalizer.normalizePropertyName(Re,_);Ce=this.normalizer.normalizeStyleValue(Re,qe,Ce,_),N.set(qe,Ce)})}),N}}class Ts{constructor(v,_,N){this.name=v,this.ast=_,this._normalizer=N,this.transitionFactories=[],this.states=new Map,_.states.forEach(W=>{this.states.set(W.name,new Vs(W.style,W.options&&W.options.params||{},N))}),Ki(this.states,"true","1"),Ki(this.states,"false","0"),_.transitions.forEach(W=>{this.transitionFactories.push(new di(v,W,this.states))}),this.fallbackTransition=function Ii(j,v,_){return new di(j,{type:1,animation:{type:2,steps:[],options:null},matchers:[(Ce,Re)=>!0],options:null,queryCount:0,depCount:0},v)}(v,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(v,_,N,W){return this.transitionFactories.find(Ce=>Ce.match(v,_,N,W))||null}matchStyles(v,_,N){return this.fallbackTransition.buildStyles(v,_,N)}}function Ki(j,v,_){j.has(v)?j.has(_)||j.set(_,j.get(v)):j.has(_)&&j.set(v,j.get(_))}const xo=new Ys;class Wt{constructor(v,_,N){this.bodyNode=v,this._driver=_,this._normalizer=N,this._animations=new Map,this._playersById=new Map,this.players=[]}register(v,_){const N=[],te=O(this._driver,_,N,[]);if(N.length)throw function zi(j){return new k.vHH(3503,!1)}();this._animations.set(v,te)}_buildPlayer(v,_,N){const W=v.element,te=Ns(0,this._normalizer,0,v.keyframes,_,N);return this._driver.animate(W,te,v.duration,v.delay,v.easing,[],!0)}create(v,_,N={}){const W=[],te=this._animations.get(v);let Ce;const Re=new Map;if(te?(Ce=so(this._driver,_,te,ho,os,new Map,new Map,N,xo,W),Ce.forEach(an=>{const Zt=Qi(Re,an.element,new Map);an.postStyleProps.forEach(zn=>Zt.set(zn,null))})):(W.push(function Ke(){return new k.vHH(3300,!1)}()),Ce=[]),W.length)throw function Ve(j){return new k.vHH(3504,!1)}();Re.forEach((an,Zt)=>{an.forEach((zn,nr)=>{an.set(nr,this._driver.computeStyle(Zt,nr,Yt.l3))})});const bt=ei(Ce.map(an=>{const Zt=Re.get(an.element);return this._buildPlayer(an,new Map,Zt)}));return this._playersById.set(v,bt),bt.onDestroy(()=>this.destroy(v)),this.players.push(bt),bt}destroy(v){const _=this._getPlayer(v);_.destroy(),this._playersById.delete(v);const N=this.players.indexOf(_);N>=0&&this.players.splice(N,1)}_getPlayer(v){const _=this._playersById.get(v);if(!_)throw function nt(j){return new k.vHH(3301,!1)}();return _}listen(v,_,N,W){const te=rs(_,"","","");return Ui(this._getPlayer(v),N,te,W),()=>{}}command(v,_,N,W){if("register"==N)return void this.register(v,W[0]);if("create"==N)return void this.create(v,_,W[0]||{});const te=this._getPlayer(v);switch(N){case"play":te.play();break;case"pause":te.pause();break;case"reset":te.reset();break;case"restart":te.restart();break;case"finish":te.finish();break;case"init":te.init();break;case"setPosition":te.setPosition(parseFloat(W[0]));break;case"destroy":this.destroy(v)}}}const ir="ng-animate-queued",ya="ng-animate-disabled",rn=[],_t={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},jt={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},xr="__ng_removed";class aa{constructor(v,_=""){this.namespaceId=_;const N=v&&v.hasOwnProperty("value");if(this.value=function Ta(j){return j??null}(N?v.value:v),N){const te=Fs(v);delete te.value,this.options=te}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(v){const _=v.params;if(_){const N=this.options.params;Object.keys(_).forEach(W=>{null==N[W]&&(N[W]=_[W])})}}}const ua="void",Di=new aa(ua);class Su{constructor(v,_,N){this.id=v,this.hostElement=_,this._engine=N,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+v,Pi(_,this._hostClassName)}listen(v,_,N,W){if(!this._triggers.has(_))throw function Tt(j,v){return new k.vHH(3302,!1)}();if(null==N||0==N.length)throw function Vt(j){return new k.vHH(3303,!1)}();if(!function mi(j){return"start"==j||"done"==j}(N))throw function on(j,v){return new k.vHH(3400,!1)}();const te=Qi(this._elementListeners,v,[]),Ce={name:_,phase:N,callback:W};te.push(Ce);const Re=Qi(this._engine.statesByElement,v,new Map);return Re.has(_)||(Pi(v,fo),Pi(v,fo+"-"+_),Re.set(_,Di)),()=>{this._engine.afterFlush(()=>{const qe=te.indexOf(Ce);qe>=0&&te.splice(qe,1),this._triggers.has(_)||Re.delete(_)})}}register(v,_){return!this._triggers.has(v)&&(this._triggers.set(v,_),!0)}_getTrigger(v){const _=this._triggers.get(v);if(!_)throw function Qn(j){return new k.vHH(3401,!1)}();return _}trigger(v,_,N,W=!0){const te=this._getTrigger(_),Ce=new va(this.id,_,v);let Re=this._engine.statesByElement.get(v);Re||(Pi(v,fo),Pi(v,fo+"-"+_),this._engine.statesByElement.set(v,Re=new Map));let qe=Re.get(_);const bt=new aa(N,this.id);if(!(N&&N.hasOwnProperty("value"))&&qe&&bt.absorbOptions(qe.options),Re.set(_,bt),qe||(qe=Di),bt.value!==ua&&qe.value===bt.value){if(!function Jo(j,v){const _=Object.keys(j),N=Object.keys(v);if(_.length!=N.length)return!1;for(let W=0;W<_.length;W++){const te=_[W];if(!v.hasOwnProperty(te)||j[te]!==v[te])return!1}return!0}(qe.params,bt.params)){const Wn=[],Tr=te.matchStyles(qe.value,qe.params,Wn),Sr=te.matchStyles(bt.value,bt.params,Wn);Wn.length?this._engine.reportError(Wn):this._engine.afterFlush(()=>{gi(v,Tr),_i(v,Sr)})}return}const zn=Qi(this._engine.playersByElement,v,[]);zn.forEach(Wn=>{Wn.namespaceId==this.id&&Wn.triggerName==_&&Wn.queued&&Wn.destroy()});let nr=te.matchTransition(qe.value,bt.value,v,bt.params),Vn=!1;if(!nr){if(!W)return;nr=te.fallbackTransition,Vn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:v,triggerName:_,transition:nr,fromState:qe,toState:bt,player:Ce,isFallbackTransition:Vn}),Vn||(Pi(v,ir),Ce.onStart(()=>{Lr(v,ir)})),Ce.onDone(()=>{let Wn=this.players.indexOf(Ce);Wn>=0&&this.players.splice(Wn,1);const Tr=this._engine.playersByElement.get(v);if(Tr){let Sr=Tr.indexOf(Ce);Sr>=0&&Tr.splice(Sr,1)}}),this.players.push(Ce),zn.push(Ce),Ce}deregister(v){this._triggers.delete(v),this._engine.statesByElement.forEach(_=>_.delete(v)),this._elementListeners.forEach((_,N)=>{this._elementListeners.set(N,_.filter(W=>W.name!=v))})}clearElementCache(v){this._engine.statesByElement.delete(v),this._elementListeners.delete(v);const _=this._engine.playersByElement.get(v);_&&(_.forEach(N=>N.destroy()),this._engine.playersByElement.delete(v))}_signalRemovalForInnerTriggers(v,_){const N=this._engine.driver.query(v,Ci,!0);N.forEach(W=>{if(W[xr])return;const te=this._engine.fetchNamespacesByElement(W);te.size?te.forEach(Ce=>Ce.triggerLeaveAnimation(W,_,!1,!0)):this.clearElementCache(W)}),this._engine.afterFlushAnimationsDone(()=>N.forEach(W=>this.clearElementCache(W)))}triggerLeaveAnimation(v,_,N,W){const te=this._engine.statesByElement.get(v),Ce=new Map;if(te){const Re=[];if(te.forEach((qe,bt)=>{if(Ce.set(bt,qe.value),this._triggers.has(bt)){const an=this.trigger(v,bt,ua,W);an&&Re.push(an)}}),Re.length)return this._engine.markElementAsRemoved(this.id,v,!0,_,Ce),N&&ei(Re).onDone(()=>this._engine.processLeaveNode(v)),!0}return!1}prepareLeaveAnimationListeners(v){const _=this._elementListeners.get(v),N=this._engine.statesByElement.get(v);if(_&&N){const W=new Set;_.forEach(te=>{const Ce=te.name;if(W.has(Ce))return;W.add(Ce);const qe=this._triggers.get(Ce).fallbackTransition,bt=N.get(Ce)||Di,an=new aa(ua),Zt=new va(this.id,Ce,v);this._engine.totalQueuedPlayers++,this._queue.push({element:v,triggerName:Ce,transition:qe,fromState:bt,toState:an,player:Zt,isFallbackTransition:!0})})}}removeNode(v,_){const N=this._engine;if(v.childElementCount&&this._signalRemovalForInnerTriggers(v,_),this.triggerLeaveAnimation(v,_,!0))return;let W=!1;if(N.totalAnimations){const te=N.players.length?N.playersByQueriedElement.get(v):[];if(te&&te.length)W=!0;else{let Ce=v;for(;Ce=Ce.parentNode;)if(N.statesByElement.get(Ce)){W=!0;break}}}if(this.prepareLeaveAnimationListeners(v),W)N.markElementAsRemoved(this.id,v,!1,_);else{const te=v[xr];(!te||te===_t)&&(N.afterFlush(()=>this.clearElementCache(v)),N.destroyInnerAnimations(v),N._onRemovalComplete(v,_))}}insertNode(v,_){Pi(v,this._hostClassName)}drainQueuedTransitions(v){const _=[];return this._queue.forEach(N=>{const W=N.player;if(W.destroyed)return;const te=N.element,Ce=this._elementListeners.get(te);Ce&&Ce.forEach(Re=>{if(Re.name==N.triggerName){const qe=rs(te,N.triggerName,N.fromState.value,N.toState.value);qe._data=v,Ui(N.player,Re.phase,qe,Re.callback)}}),W.markedForDestroy?this._engine.afterFlush(()=>{W.destroy()}):_.push(N)}),this._queue=[],_.sort((N,W)=>{const te=N.transition.ast.depCount,Ce=W.transition.ast.depCount;return 0==te||0==Ce?te-Ce:this._engine.driver.containsElement(N.element,W.element)?1:-1})}destroy(v){this.players.forEach(_=>_.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,v)}elementContainsData(v){let _=!1;return this._elementListeners.has(v)&&(_=!0),_=!!this._queue.find(N=>N.element===v)||_,_}}class Bo{constructor(v,_,N){this.bodyNode=v,this.driver=_,this._normalizer=N,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(W,te)=>{}}_onRemovalComplete(v,_){this.onRemovalComplete(v,_)}get queuedPlayers(){const v=[];return this._namespaceList.forEach(_=>{_.players.forEach(N=>{N.queued&&v.push(N)})}),v}createNamespace(v,_){const N=new Su(v,_,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,_)?this._balanceNamespaceList(N,_):(this.newHostElements.set(_,N),this.collectEnterElement(_)),this._namespaceLookup[v]=N}_balanceNamespaceList(v,_){const N=this._namespaceList,W=this.namespacesByHostElement;if(N.length-1>=0){let Ce=!1,Re=this.driver.getParentElement(_);for(;Re;){const qe=W.get(Re);if(qe){const bt=N.indexOf(qe);N.splice(bt+1,0,v),Ce=!0;break}Re=this.driver.getParentElement(Re)}Ce||N.unshift(v)}else N.push(v);return W.set(_,v),v}register(v,_){let N=this._namespaceLookup[v];return N||(N=this.createNamespace(v,_)),N}registerTrigger(v,_,N){let W=this._namespaceLookup[v];W&&W.register(_,N)&&this.totalAnimations++}destroy(v,_){if(!v)return;const N=this._fetchNamespace(v);this.afterFlush(()=>{this.namespacesByHostElement.delete(N.hostElement),delete this._namespaceLookup[v];const W=this._namespaceList.indexOf(N);W>=0&&this._namespaceList.splice(W,1)}),this.afterFlushAnimationsDone(()=>N.destroy(_))}_fetchNamespace(v){return this._namespaceLookup[v]}fetchNamespacesByElement(v){const _=new Set,N=this.statesByElement.get(v);if(N)for(let W of N.values())if(W.namespaceId){const te=this._fetchNamespace(W.namespaceId);te&&_.add(te)}return _}trigger(v,_,N,W){if(Sa(_)){const te=this._fetchNamespace(v);if(te)return te.trigger(_,N,W),!0}return!1}insertNode(v,_,N,W){if(!Sa(_))return;const te=_[xr];if(te&&te.setForRemoval){te.setForRemoval=!1,te.setForMove=!0;const Ce=this.collectedLeaveElements.indexOf(_);Ce>=0&&this.collectedLeaveElements.splice(Ce,1)}if(v){const Ce=this._fetchNamespace(v);Ce&&Ce.insertNode(_,N)}W&&this.collectEnterElement(_)}collectEnterElement(v){this.collectedEnterElements.push(v)}markElementAsDisabled(v,_){_?this.disabledNodes.has(v)||(this.disabledNodes.add(v),Pi(v,ya)):this.disabledNodes.has(v)&&(this.disabledNodes.delete(v),Lr(v,ya))}removeNode(v,_,N,W){if(Sa(_)){const te=v?this._fetchNamespace(v):null;if(te?te.removeNode(_,W):this.markElementAsRemoved(v,_,!1,W),N){const Ce=this.namespacesByHostElement.get(_);Ce&&Ce.id!==v&&Ce.removeNode(_,W)}}else this._onRemovalComplete(_,W)}markElementAsRemoved(v,_,N,W,te){this.collectedLeaveElements.push(_),_[xr]={namespaceId:v,setForRemoval:W,hasAnimation:N,removedBeforeQueried:!1,previousTriggersValues:te}}listen(v,_,N,W,te){return Sa(_)?this._fetchNamespace(v).listen(_,N,W,te):()=>{}}_buildInstruction(v,_,N,W,te){return v.transition.build(this.driver,v.element,v.fromState.value,v.toState.value,N,W,v.fromState.options,v.toState.options,_,te)}destroyInnerAnimations(v){let _=this.driver.query(v,Ci,!0);_.forEach(N=>this.destroyActiveAnimationsForElement(N)),0!=this.playersByQueriedElement.size&&(_=this.driver.query(v,Bi,!0),_.forEach(N=>this.finishActiveQueriedAnimationOnElement(N)))}destroyActiveAnimationsForElement(v){const _=this.playersByElement.get(v);_&&_.forEach(N=>{N.queued?N.markedForDestroy=!0:N.destroy()})}finishActiveQueriedAnimationOnElement(v){const _=this.playersByQueriedElement.get(v);_&&_.forEach(N=>N.finish())}whenRenderingDone(){return new Promise(v=>{if(this.players.length)return ei(this.players).onDone(()=>v());v()})}processLeaveNode(v){const _=v[xr];if(_&&_.setForRemoval){if(v[xr]=_t,_.namespaceId){this.destroyInnerAnimations(v);const N=this._fetchNamespace(_.namespaceId);N&&N.clearElementCache(v)}this._onRemovalComplete(v,_.setForRemoval)}v.classList?.contains(ya)&&this.markElementAsDisabled(v,!1),this.driver.query(v,".ng-animate-disabled",!0).forEach(N=>{this.markElementAsDisabled(N,!1)})}flush(v=-1){let _=[];if(this.newHostElements.size&&(this.newHostElements.forEach((N,W)=>this._balanceNamespaceList(N,W)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let N=0;N<this.collectedEnterElements.length;N++)Pi(this.collectedEnterElements[N],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const N=[];try{_=this._flushAnimations(N,v)}finally{for(let W=0;W<N.length;W++)N[W]()}}else for(let N=0;N<this.collectedLeaveElements.length;N++)this.processLeaveNode(this.collectedLeaveElements[N]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(N=>N()),this._flushFns=[],this._whenQuietFns.length){const N=this._whenQuietFns;this._whenQuietFns=[],_.length?ei(_).onDone(()=>{N.forEach(W=>W())}):N.forEach(W=>W())}}reportError(v){throw function Hr(j){return new k.vHH(3402,!1)}()}_flushAnimations(v,_){const N=new Ys,W=[],te=new Map,Ce=[],Re=new Map,qe=new Map,bt=new Map,an=new Set;this.disabledNodes.forEach(Et=>{an.add(Et);const Xt=this.driver.query(Et,".ng-animate-queued",!0);for(let Dn=0;Dn<Xt.length;Dn++)an.add(Xt[Dn])});const Zt=this.bodyNode,zn=Array.from(this.statesByElement.keys()),nr=No(zn,this.collectedEnterElements),Vn=new Map;let Wn=0;nr.forEach((Et,Xt)=>{const Dn=ho+Wn++;Vn.set(Xt,Dn),Et.forEach(qn=>Pi(qn,Dn))});const Tr=[],Sr=new Set,hi=new Set;for(let Et=0;Et<this.collectedLeaveElements.length;Et++){const Xt=this.collectedLeaveElements[Et],Dn=Xt[xr];Dn&&Dn.setForRemoval&&(Tr.push(Xt),Sr.add(Xt),Dn.hasAnimation?this.driver.query(Xt,".ng-star-inserted",!0).forEach(qn=>Sr.add(qn)):hi.add(Xt))}const Vr=new Map,Si=No(zn,Array.from(Sr));Si.forEach((Et,Xt)=>{const Dn=os+Wn++;Vr.set(Xt,Dn),Et.forEach(qn=>Pi(qn,Dn))}),v.push(()=>{nr.forEach((Et,Xt)=>{const Dn=Vn.get(Xt);Et.forEach(qn=>Lr(qn,Dn))}),Si.forEach((Et,Xt)=>{const Dn=Vr.get(Xt);Et.forEach(qn=>Lr(qn,Dn))}),Tr.forEach(Et=>{this.processLeaveNode(Et)})});const E=[],w=[];for(let Et=this._namespaceList.length-1;Et>=0;Et--)this._namespaceList[Et].drainQueuedTransitions(_).forEach(Dn=>{const qn=Dn.player,_r=Dn.element;if(E.push(qn),this.collectedEnterElements.length){const Ar=_r[xr];if(Ar&&Ar.setForMove){if(Ar.previousTriggersValues&&Ar.previousTriggersValues.has(Dn.triggerName)){const Pr=Ar.previousTriggersValues.get(Dn.triggerName),x=this.statesByElement.get(Dn.element);if(x&&x.has(Dn.triggerName)){const F=x.get(Dn.triggerName);F.value=Pr,x.set(Dn.triggerName,F)}}return void qn.destroy()}}const vi=!Zt||!this.driver.containsElement(Zt,_r),ki=Vr.get(_r),js=Vn.get(_r),Yr=this._buildInstruction(Dn,N,js,ki,vi);if(Yr.errors&&Yr.errors.length)return void w.push(Yr);if(vi)return qn.onStart(()=>gi(_r,Yr.fromStyles)),qn.onDestroy(()=>_i(_r,Yr.toStyles)),void W.push(qn);if(Dn.isFallbackTransition)return qn.onStart(()=>gi(_r,Yr.fromStyles)),qn.onDestroy(()=>_i(_r,Yr.toStyles)),void W.push(qn);const Go=[];Yr.timelines.forEach(Ar=>{Ar.stretchStartingKeyframe=!0,this.disabledNodes.has(Ar.element)||Go.push(Ar)}),Yr.timelines=Go,N.append(_r,Yr.timelines),Ce.push({instruction:Yr,player:qn,element:_r}),Yr.queriedElements.forEach(Ar=>Qi(Re,Ar,[]).push(qn)),Yr.preStyleProps.forEach((Ar,Pr)=>{if(Ar.size){let x=qe.get(Pr);x||qe.set(Pr,x=new Set),Ar.forEach((F,q)=>x.add(q))}}),Yr.postStyleProps.forEach((Ar,Pr)=>{let x=bt.get(Pr);x||bt.set(Pr,x=new Set),Ar.forEach((F,q)=>x.add(q))})});if(w.length){const Et=[];w.forEach(Xt=>{Et.push(function fr(j,v){return new k.vHH(3505,!1)}())}),E.forEach(Xt=>Xt.destroy()),this.reportError(Et)}const m=new Map,T=new Map;Ce.forEach(Et=>{const Xt=Et.element;N.has(Xt)&&(T.set(Xt,Xt),this._beforeAnimationBuild(Et.player.namespaceId,Et.instruction,m))}),W.forEach(Et=>{const Xt=Et.element;this._getPreviousPlayers(Xt,!1,Et.namespaceId,Et.triggerName,null).forEach(qn=>{Qi(m,Xt,[]).push(qn),qn.destroy()})});const P=Tr.filter(Et=>Zr(Et,qe,bt)),K=new Map;Mn(K,this.driver,hi,bt,Yt.l3).forEach(Et=>{Zr(Et,qe,bt)&&P.push(Et)});const _e=new Map;nr.forEach((Et,Xt)=>{Mn(_e,this.driver,new Set(Et),qe,Yt.k1)}),P.forEach(Et=>{const Xt=K.get(Et),Dn=_e.get(Et);K.set(Et,new Map([...Array.from(Xt?.entries()??[]),...Array.from(Dn?.entries()??[])]))});const mt=[],qt=[],Kn={};Ce.forEach(Et=>{const{element:Xt,player:Dn,instruction:qn}=Et;if(N.has(Xt)){if(an.has(Xt))return Dn.onDestroy(()=>_i(Xt,qn.toStyles)),Dn.disabled=!0,Dn.overrideTotalTime(qn.totalTime),void W.push(Dn);let _r=Kn;if(T.size>1){let ki=Xt;const js=[];for(;ki=ki.parentNode;){const Yr=T.get(ki);if(Yr){_r=Yr;break}js.push(ki)}js.forEach(Yr=>T.set(Yr,_r))}const vi=this._buildAnimation(Dn.namespaceId,qn,m,te,_e,K);if(Dn.setRealPlayer(vi),_r===Kn)mt.push(Dn);else{const ki=this.playersByElement.get(_r);ki&&ki.length&&(Dn.parentPlayer=ei(ki)),W.push(Dn)}}else gi(Xt,qn.fromStyles),Dn.onDestroy(()=>_i(Xt,qn.toStyles)),qt.push(Dn),an.has(Xt)&&W.push(Dn)}),qt.forEach(Et=>{const Xt=te.get(Et.element);if(Xt&&Xt.length){const Dn=ei(Xt);Et.setRealPlayer(Dn)}}),W.forEach(Et=>{Et.parentPlayer?Et.syncPlayerEvents(Et.parentPlayer):Et.destroy()});for(let Et=0;Et<Tr.length;Et++){const Xt=Tr[Et],Dn=Xt[xr];if(Lr(Xt,os),Dn&&Dn.hasAnimation)continue;let qn=[];if(Re.size){let vi=Re.get(Xt);vi&&vi.length&&qn.push(...vi);let ki=this.driver.query(Xt,Bi,!0);for(let js=0;js<ki.length;js++){let Yr=Re.get(ki[js]);Yr&&Yr.length&&qn.push(...Yr)}}const _r=qn.filter(vi=>!vi.destroyed);_r.length?Ln(this,Xt,_r):this.processLeaveNode(Xt)}return Tr.length=0,mt.forEach(Et=>{this.players.push(Et),Et.onDone(()=>{Et.destroy();const Xt=this.players.indexOf(Et);this.players.splice(Xt,1)}),Et.play()}),mt}elementContainsData(v,_){let N=!1;const W=_[xr];return W&&W.setForRemoval&&(N=!0),this.playersByElement.has(_)&&(N=!0),this.playersByQueriedElement.has(_)&&(N=!0),this.statesByElement.has(_)&&(N=!0),this._fetchNamespace(v).elementContainsData(_)||N}afterFlush(v){this._flushFns.push(v)}afterFlushAnimationsDone(v){this._whenQuietFns.push(v)}_getPreviousPlayers(v,_,N,W,te){let Ce=[];if(_){const Re=this.playersByQueriedElement.get(v);Re&&(Ce=Re)}else{const Re=this.playersByElement.get(v);if(Re){const qe=!te||te==ua;Re.forEach(bt=>{bt.queued||!qe&&bt.triggerName!=W||Ce.push(bt)})}}return(N||W)&&(Ce=Ce.filter(Re=>!(N&&N!=Re.namespaceId||W&&W!=Re.triggerName))),Ce}_beforeAnimationBuild(v,_,N){const te=_.element,Ce=_.isRemovalTransition?void 0:v,Re=_.isRemovalTransition?void 0:_.triggerName;for(const qe of _.timelines){const bt=qe.element,an=bt!==te,Zt=Qi(N,bt,[]);this._getPreviousPlayers(bt,an,Ce,Re,_.toState).forEach(nr=>{const Vn=nr.getRealPlayer();Vn.beforeDestroy&&Vn.beforeDestroy(),nr.destroy(),Zt.push(nr)})}gi(te,_.fromStyles)}_buildAnimation(v,_,N,W,te,Ce){const Re=_.triggerName,qe=_.element,bt=[],an=new Set,Zt=new Set,zn=_.timelines.map(Vn=>{const Wn=Vn.element;an.add(Wn);const Tr=Wn[xr];if(Tr&&Tr.removedBeforeQueried)return new Yt.ZN(Vn.duration,Vn.delay);const Sr=Wn!==qe,hi=function Ro(j){const v=[];return pr(j,v),v}((N.get(Wn)||rn).map(m=>m.getRealPlayer())).filter(m=>!!m.element&&m.element===Wn),Vr=te.get(Wn),Si=Ce.get(Wn),E=Ns(0,this._normalizer,0,Vn.keyframes,Vr,Si),w=this._buildPlayer(Vn,E,hi);if(Vn.subTimeline&&W&&Zt.add(Wn),Sr){const m=new va(v,Re,Wn);m.setRealPlayer(w),bt.push(m)}return w});bt.forEach(Vn=>{Qi(this.playersByQueriedElement,Vn.element,[]).push(Vn),Vn.onDone(()=>function la(j,v,_){let N=j.get(v);if(N){if(N.length){const W=N.indexOf(_);N.splice(W,1)}0==N.length&&j.delete(v)}return N}(this.playersByQueriedElement,Vn.element,Vn))}),an.forEach(Vn=>Pi(Vn,Xi));const nr=ei(zn);return nr.onDestroy(()=>{an.forEach(Vn=>Lr(Vn,Xi)),_i(qe,_.toStyles)}),Zt.forEach(Vn=>{Qi(W,Vn,[]).push(nr)}),nr}_buildPlayer(v,_,N){return _.length>0?this.driver.animate(v.element,_,v.duration,v.delay,v.easing,N):new Yt.ZN(v.duration,v.delay)}}class va{constructor(v,_,N){this.namespaceId=v,this.triggerName=_,this.element=N,this._player=new Yt.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(v){this._containsRealPlayer||(this._player=v,this._queuedCallbacks.forEach((_,N)=>{_.forEach(W=>Ui(v,N,void 0,W))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(v.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(v){this.totalTime=v}syncPlayerEvents(v){const _=this._player;_.triggerCallback&&v.onStart(()=>_.triggerCallback("start")),v.onDone(()=>this.finish()),v.onDestroy(()=>this.destroy())}_queueEvent(v,_){Qi(this._queuedCallbacks,v,[]).push(_)}onDone(v){this.queued&&this._queueEvent("done",v),this._player.onDone(v)}onStart(v){this.queued&&this._queueEvent("start",v),this._player.onStart(v)}onDestroy(v){this.queued&&this._queueEvent("destroy",v),this._player.onDestroy(v)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(v){this.queued||this._player.setPosition(v)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(v){const _=this._player;_.triggerCallback&&_.triggerCallback(v)}}function Sa(j){return j&&1===j.nodeType}function _a(j,v){const _=j.style.display;return j.style.display=v??"none",_}function Mn(j,v,_,N,W){const te=[];_.forEach(qe=>te.push(_a(qe)));const Ce=[];N.forEach((qe,bt)=>{const an=new Map;qe.forEach(Zt=>{const zn=v.computeStyle(bt,Zt,W);an.set(Zt,zn),(!zn||0==zn.length)&&(bt[xr]=jt,Ce.push(bt))}),j.set(bt,an)});let Re=0;return _.forEach(qe=>_a(qe,te[Re++])),Ce}function No(j,v){const _=new Map;if(j.forEach(Re=>_.set(Re,[])),0==v.length)return _;const W=new Set(v),te=new Map;function Ce(Re){if(!Re)return 1;let qe=te.get(Re);if(qe)return qe;const bt=Re.parentNode;return qe=_.has(bt)?bt:W.has(bt)?1:Ce(bt),te.set(Re,qe),qe}return v.forEach(Re=>{const qe=Ce(Re);1!==qe&&_.get(qe).push(Re)}),_}function Pi(j,v){j.classList?.add(v)}function Lr(j,v){j.classList?.remove(v)}function Ln(j,v,_){ei(_).onDone(()=>j.processLeaveNode(v))}function pr(j,v){for(let _=0;_<j.length;_++){const N=j[_];N instanceof Yt.ZE?pr(N.players,v):v.push(N)}}function Zr(j,v,_){const N=_.get(j);if(!N)return!1;let W=v.get(j);return W?N.forEach(te=>W.add(te)):v.set(j,N),_.delete(j),!0}class Jt{constructor(v,_,N){this.bodyNode=v,this._driver=_,this._normalizer=N,this._triggerCache={},this.onRemovalComplete=(W,te)=>{},this._transitionEngine=new Bo(v,_,N),this._timelineEngine=new Wt(v,_,N),this._transitionEngine.onRemovalComplete=(W,te)=>this.onRemovalComplete(W,te)}registerTrigger(v,_,N,W,te){const Ce=v+"-"+W;let Re=this._triggerCache[Ce];if(!Re){const qe=[],an=O(this._driver,te,qe,[]);if(qe.length)throw function ts(j,v){return new k.vHH(3404,!1)}();Re=function Wr(j,v,_){return new Ts(j,v,_)}(W,an,this._normalizer),this._triggerCache[Ce]=Re}this._transitionEngine.registerTrigger(_,W,Re)}register(v,_){this._transitionEngine.register(v,_)}destroy(v,_){this._transitionEngine.destroy(v,_)}onInsert(v,_,N,W){this._transitionEngine.insertNode(v,_,N,W)}onRemove(v,_,N,W){this._transitionEngine.removeNode(v,_,W||!1,N)}disableAnimations(v,_){this._transitionEngine.markElementAsDisabled(v,_)}process(v,_,N,W){if("@"==N.charAt(0)){const[te,Ce]=Rs(N);this._timelineEngine.command(te,_,Ce,W)}else this._transitionEngine.trigger(v,_,N,W)}listen(v,_,N,W,te){if("@"==N.charAt(0)){const[Ce,Re]=Rs(N);return this._timelineEngine.listen(Ce,_,Re,te)}return this._transitionEngine.listen(v,_,N,W,te)}flush(v=-1){this._transitionEngine.flush(v)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Aa=(()=>{class j{constructor(_,N,W){this._element=_,this._startStyles=N,this._endStyles=W,this._state=0;let te=j.initialStylesByElement.get(_);te||j.initialStylesByElement.set(_,te=new Map),this._initialStyles=te}start(){this._state<1&&(this._startStyles&&_i(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(_i(this._element,this._initialStyles),this._endStyles&&(_i(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(j.initialStylesByElement.delete(this._element),this._startStyles&&(gi(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(gi(this._element,this._endStyles),this._endStyles=null),_i(this._element,this._initialStyles),this._state=3)}}return j.initialStylesByElement=new WeakMap,j})();function Us(j){let v=null;return j.forEach((_,N)=>{(function jo(j){return"display"===j||"position"===j})(N)&&(v=v||new Map,v.set(N,_))}),v}class Bs{constructor(v,_,N,W){this.element=v,this.keyframes=_,this.options=N,this._specialStyles=W,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=N.duration,this._delay=N.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(v=>v()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const v=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,v,this.options),this._finalKeyframe=v.length?v[v.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(v){const _=[];return v.forEach(N=>{_.push(Object.fromEntries(N))}),_}_triggerWebAnimation(v,_,N){return v.animate(this._convertKeyframesToObject(_),N)}onStart(v){this._originalOnStartFns.push(v),this._onStartFns.push(v)}onDone(v){this._originalOnDoneFns.push(v),this._onDoneFns.push(v)}onDestroy(v){this._onDestroyFns.push(v)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(v=>v()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(v=>v()),this._onDestroyFns=[])}setPosition(v){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=v*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const v=new Map;this.hasStarted()&&this._finalKeyframe.forEach((N,W)=>{"offset"!==W&&v.set(W,this._finished?N:ii(this.element,W))}),this.currentSnapshot=v}triggerCallback(v){const _="start"===v?this._onStartFns:this._onDoneFns;_.forEach(N=>N()),_.length=0}}class lu{validateStyleProperty(v){return!0}validateAnimatableStyleProperty(v){return!0}matchesElement(v,_){return!1}containsElement(v,_){return Ji(v,_)}getParentElement(v){return Ds(v)}query(v,_,N){return Cs(v,_,N)}computeStyle(v,_,N){return window.getComputedStyle(v)[_]}animate(v,_,N,W,te,Ce=[]){const qe={duration:N,delay:W,fill:0==W?"both":"forwards"};te&&(qe.easing=te);const bt=new Map,an=Ce.filter(nr=>nr instanceof Bs);(function Uo(j,v){return 0===j||0===v})(N,W)&&an.forEach(nr=>{nr.currentSnapshot.forEach((Vn,Wn)=>bt.set(Wn,Vn))});let Zt=function Co(j){return j.length?j[0]instanceof Map?j:j.map(v=>Or(v)):[]}(_).map(nr=>ui(nr));Zt=function ro(j,v,_){if(_.size&&v.length){let N=v[0],W=[];if(_.forEach((te,Ce)=>{N.has(Ce)||W.push(Ce),N.set(Ce,te)}),W.length)for(let te=1;te<v.length;te++){let Ce=v[te];W.forEach(Re=>Ce.set(Re,ii(j,Re)))}}return v}(v,Zt,bt);const zn=function Qs(j,v){let _=null,N=null;return Array.isArray(v)&&v.length?(_=Us(v[0]),v.length>1&&(N=Us(v[v.length-1]))):v instanceof Map&&(_=Us(v)),_||N?new Aa(j,_,N):null}(v,Zt);return new Bs(v,Zt,qe,zn)}}let _o=(()=>{class j extends Yt._j{constructor(_,N){super(),this._nextAnimationId=0,this._renderer=_.createRenderer(N.body,{id:"0",encapsulation:k.ifc.None,styles:[],data:{animation:[]}})}build(_){const N=this._nextAnimationId.toString();this._nextAnimationId++;const W=Array.isArray(_)?(0,Yt.vP)(_):_;return us(this._renderer,null,N,"register",[W]),new ca(N,this._renderer)}}return j.\u0275fac=function(_){return new(_||j)(k.LFG(k.FYo),k.LFG(ce.K0))},j.\u0275prov=k.Yz7({token:j,factory:j.\u0275fac}),j})();class ca extends Yt.LC{constructor(v,_){super(),this._id=v,this._renderer=_}create(v,_){return new $o(this._id,v,_||{},this._renderer)}}class $o{constructor(v,_,N,W){this.id=v,this.element=_,this._renderer=W,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",N)}_listen(v,_){return this._renderer.listen(this.element,`@@${this.id}:${v}`,_)}_command(v,..._){return us(this._renderer,this.element,this.id,v,_)}onDone(v){this._listen("done",v)}onStart(v){this._listen("start",v)}onDestroy(v){this._listen("destroy",v)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(v){this._command("setPosition",v)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function us(j,v,_,N,W){return j.setProperty(v,`@@${_}:${N}`,W)}const Ho="@.disabled";let La=(()=>{class j{constructor(_,N,W){this.delegate=_,this.engine=N,this._zone=W,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),N.onRemovalComplete=(te,Ce)=>{const Re=Ce?.parentNode(te);Re&&Ce.removeChild(Re,te)}}createRenderer(_,N){const te=this.delegate.createRenderer(_,N);if(!(_&&N&&N.data&&N.data.animation)){let an=this._rendererCache.get(te);return an||(an=new gs("",te,this.engine),this._rendererCache.set(te,an)),an}const Ce=N.id,Re=N.id+"-"+this._currentId;this._currentId++,this.engine.register(Re,_);const qe=an=>{Array.isArray(an)?an.forEach(qe):this.engine.registerTrigger(Ce,Re,_,an.name,an)};return N.data.animation.forEach(qe),new Xo(this,Re,te,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(_,N,W){_>=0&&_<this._microtaskId?this._zone.run(()=>N(W)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(te=>{const[Ce,Re]=te;Ce(Re)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([N,W]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return j.\u0275fac=function(_){return new(_||j)(k.LFG(k.FYo),k.LFG(Jt),k.LFG(k.R0b))},j.\u0275prov=k.Yz7({token:j,factory:j.\u0275fac}),j})();class gs{constructor(v,_,N){this.namespaceId=v,this.delegate=_,this.engine=N,this.destroyNode=this.delegate.destroyNode?W=>_.destroyNode(W):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(v,_){return this.delegate.createElement(v,_)}createComment(v){return this.delegate.createComment(v)}createText(v){return this.delegate.createText(v)}appendChild(v,_){this.delegate.appendChild(v,_),this.engine.onInsert(this.namespaceId,_,v,!1)}insertBefore(v,_,N,W=!0){this.delegate.insertBefore(v,_,N),this.engine.onInsert(this.namespaceId,_,v,W)}removeChild(v,_,N){this.engine.onRemove(this.namespaceId,_,this.delegate,N)}selectRootElement(v,_){return this.delegate.selectRootElement(v,_)}parentNode(v){return this.delegate.parentNode(v)}nextSibling(v){return this.delegate.nextSibling(v)}setAttribute(v,_,N,W){this.delegate.setAttribute(v,_,N,W)}removeAttribute(v,_,N){this.delegate.removeAttribute(v,_,N)}addClass(v,_){this.delegate.addClass(v,_)}removeClass(v,_){this.delegate.removeClass(v,_)}setStyle(v,_,N,W){this.delegate.setStyle(v,_,N,W)}removeStyle(v,_,N){this.delegate.removeStyle(v,_,N)}setProperty(v,_,N){"@"==_.charAt(0)&&_==Ho?this.disableAnimations(v,!!N):this.delegate.setProperty(v,_,N)}setValue(v,_){this.delegate.setValue(v,_)}listen(v,_,N){return this.delegate.listen(v,_,N)}disableAnimations(v,_){this.engine.disableAnimations(v,_)}}class Xo extends gs{constructor(v,_,N,W){super(_,N,W),this.factory=v,this.namespaceId=_}setProperty(v,_,N){"@"==_.charAt(0)?"."==_.charAt(1)&&_==Ho?this.disableAnimations(v,N=void 0===N||!!N):this.engine.process(this.namespaceId,v,_.slice(1),N):this.delegate.setProperty(v,_,N)}listen(v,_,N){if("@"==_.charAt(0)){const W=function st(j){switch(j){case"body":return document.body;case"document":return document;case"window":return window;default:return j}}(v);let te=_.slice(1),Ce="";return"@"!=te.charAt(0)&&([te,Ce]=function Eo(j){const v=j.indexOf(".");return[j.substring(0,v),j.slice(v+1)]}(te)),this.engine.listen(this.namespaceId,W,te,Ce,Re=>{this.factory.scheduleListenerCallback(Re._data||-1,N,Re)})}return this.delegate.listen(v,_,N)}}const ms=[{provide:Yt._j,useClass:_o},{provide:wt,useFactory:function Ea(){return new Ir}},{provide:Jt,useClass:(()=>{class j extends Jt{constructor(_,N,W,te){super(_.body,N,W)}ngOnDestroy(){this.flush()}}return j.\u0275fac=function(_){return new(_||j)(k.LFG(ce.K0),k.LFG(er),k.LFG(wt),k.LFG(k.z2F))},j.\u0275prov=k.Yz7({token:j,factory:j.\u0275fac}),j})()},{provide:k.FYo,useFactory:function ea(j,v,_){return new La(j,v,_)},deps:[c.se,Jt,k.R0b]}],ys=[{provide:er,useFactory:()=>new lu},{provide:k.QbO,useValue:"BrowserAnimations"},...ms],ao=[{provide:er,useClass:ds},{provide:k.QbO,useValue:"NoopAnimations"},...ms];let Br=(()=>{class j{static withConfig(_){return{ngModule:j,providers:_.disableAnimations?ao:ys}}}return j.\u0275fac=function(_){return new(_||j)},j.\u0275mod=k.oAB({type:j}),j.\u0275inj=k.cJS({providers:ys,imports:[c.b2]}),j})();var vs=V(5269),Mu=V(529);let Oo=(()=>{class j{}return j.\u0275fac=function(_){return new(_||j)},j.\u0275mod=k.oAB({type:j,bootstrap:[yt]}),j.\u0275inj=k.cJS({imports:[c.b2,me,H.Bz,vs.ComponentsModule,$t.u5,Qe,ve.hO,Ie.yb,$t.UX,_n.Rh.forRoot(),Br,ve.hO.initializeApp(gt),Mu.JF]}),j})();(0,k.G48)(),c.q6().bootstrapModule(Oo).catch(j=>console.error(j))},5867:(nn,it,V)=>{V.d(it,{C6:()=>c.getApps,KN:()=>c.registerVersion,Mq:()=>c.getApp});var c=V(9681);(0,c.registerVersion)("firebase","9.10.0","app")},127:(nn,it,V)=>{V.d(it,{Z:()=>c.Z});var c=V(3942);c.Z.registerVersion("firebase","9.10.0","app-compat")},5881:(nn,it,V)=>{V.r(it);var c=V(5861),k=V(3942),H=V(7143),be=V(2090),xe=(V(9681),V(1877),V(4859));function ce(){return window}function fe(){return(fe=(0,c.Z)(function*($e,ve,Ie){var gt;const{BuildInfo:$t}=ce();(0,H.aq)(ve.sessionId,"AuthEvent did not contain a session ID");const _n=yield Ye(ve.sessionId),Yt={};return(0,H.ar)()?Yt.ibi=$t.packageName:(0,H.as)()?Yt.apn=$t.packageName:(0,H.at)($e,"operation-not-supported-in-this-environment"),$t.displayName&&(Yt.appDisplayName=$t.displayName),Yt.sessionId=_n,(0,H.au)($e,Ie,ve.type,void 0,null!==(gt=ve.eventId)&&void 0!==gt?gt:void 0,Yt)})).apply(this,arguments)}function yt(){return(yt=(0,c.Z)(function*($e){const{BuildInfo:ve}=ce(),Ie={};(0,H.ar)()?Ie.iosBundleId=ve.packageName:(0,H.as)()?Ie.androidPackageName=ve.packageName:(0,H.at)($e,"operation-not-supported-in-this-environment"),yield(0,H.av)($e,Ie)})).apply(this,arguments)}function Ht(){return(Ht=(0,c.Z)(function*($e,ve,Ie){const{cordova:gt}=ce();let $t=()=>{};try{yield new Promise((_n,Yt)=>{let le=null;function de(){var at;_n();const tn=null===(at=gt.plugins.browsertab)||void 0===at?void 0:at.close;"function"==typeof tn&&tn(),"function"==typeof Ie?.close&&Ie.close()}function se(){le||(le=window.setTimeout(()=>{Yt((0,H.aw)($e,"redirect-cancelled-by-user"))},2e3))}function Be(){"visible"===document?.visibilityState&&se()}ve.addPassiveListener(de),document.addEventListener("resume",se,!1),(0,H.as)()&&document.addEventListener("visibilitychange",Be,!1),$t=()=>{ve.removePassiveListener(de),document.removeEventListener("resume",se,!1),document.removeEventListener("visibilitychange",Be,!1),le&&window.clearTimeout(le)}})}finally{$t()}})).apply(this,arguments)}function Ye($e){return St.apply(this,arguments)}function St(){return(St=(0,c.Z)(function*($e){const ve=At($e),Ie=yield crypto.subtle.digest("SHA-256",ve);return Array.from(new Uint8Array(Ie)).map($t=>$t.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function At($e){if((0,H.aq)(/[0-9a-zA-Z]+/.test($e),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode($e);const ve=new ArrayBuffer($e.length),Ie=new Uint8Array(ve);for(let gt=0;gt<$e.length;gt++)Ie[gt]=$e.charCodeAt(gt);return Ie}class Ne extends H.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(ve=>{this.resolveInialized=ve})}addPassiveListener(ve){this.passiveListeners.add(ve)}removePassiveListener(ve){this.passiveListeners.delete(ve)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(ve){return this.resolveInialized(),this.passiveListeners.forEach(Ie=>Ie(ve)),super.onEvent(ve)}initialized(){var ve=this;return(0,c.Z)(function*(){yield ve.initPromise})()}}function Pe($e){return He.apply(this,arguments)}function He(){return(He=(0,c.Z)(function*($e){const ve=yield ke()._get(je($e));return ve&&(yield ke()._remove(je($e))),ve})).apply(this,arguments)}function Se(){const $e=[],ve="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let Ie=0;Ie<20;Ie++){const gt=Math.floor(Math.random()*ve.length);$e.push(ve.charAt(gt))}return $e.join("")}function ke(){return(0,H.ay)(H.b)}function je($e){return(0,H.az)("authEvent",$e.config.apiKey,$e.name)}function Ot($e){if(!$e?.includes("?"))return{};const[ve,...Ie]=$e.split("?");return(0,be.zd)(Ie.join("?"))}function Dt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,H.aw)("no-auth-event")}}function Me(){var $e;return(null===($e=self?.location)||void 0===$e?void 0:$e.protocol)||null}function Kt($e=(0,be.z$)()){return!("file:"!==Me()&&"ionic:"!==Me()&&"capacitor:"!==Me()||!$e.toLowerCase().match(/iphone|ipad|ipod|android/))}function hr(){try{const $e=self.localStorage,ve=H.aI();if($e)return $e.setItem(ve,"1"),$e.removeItem(ve),!function dr($e=(0,be.z$)()){return function Jn(){return(0,be.w1)()&&11===document?.documentMode}()||function Bn($e=(0,be.z$)()){return/Edge\/\d+/.test($e)}($e)}()||(0,be.hl)()}catch{return en()&&(0,be.hl)()}return!1}function en(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function On(){return(function ze(){return"http:"===Me()||"https:"===Me()}()||(0,be.ru)()||Kt())&&!function vn(){return(0,be.b$)()||(0,be.UG)()}()&&hr()&&!en()}function Nr(){return Kt()&&typeof document<"u"}function Ut(){return(Ut=(0,c.Z)(function*(){return!!Nr()&&new Promise($e=>{const ve=setTimeout(()=>{$e(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(ve),$e(!0)})})})).apply(this,arguments)}const bn={LOCAL:"local",NONE:"none",SESSION:"session"},Zn=H.ax,br="persistence";function Cr($e){return ot.apply(this,arguments)}function ot(){return(ot=(0,c.Z)(function*($e){yield $e._initializationPromise;const ve=pe(),Ie=H.az(br,$e.config.apiKey,$e.name);ve&&ve.setItem(Ie,$e._getPersistence())})).apply(this,arguments)}function pe(){var $e;try{return(null===($e=function Pn(){return typeof window<"u"?window:null}())||void 0===$e?void 0:$e.sessionStorage)||null}catch{return null}}const lt=H.ax;class dt{constructor(){this.browserResolver=H.ay(H.k),this.cordovaResolver=H.ay(class Qt{constructor(){this._redirectPersistence=H.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=H.aB,this._overrideRedirectResult=H.aC}_initialize(ve){var Ie=this;return(0,c.Z)(function*(){const gt=ve._key();let $t=Ie.eventManagers.get(gt);return $t||($t=new Ne(ve),Ie.eventManagers.set(gt,$t),Ie.attachCallbackListeners(ve,$t)),$t})()}_openPopup(ve){(0,H.at)(ve,"operation-not-supported-in-this-environment")}_openRedirect(ve,Ie,gt,$t){var _n=this;return(0,c.Z)(function*(){!function Xe($e){var ve,Ie,gt,$t,_n,Yt,le,de,se,Be;const at=ce();(0,H.ax)("function"==typeof(null===(ve=at?.universalLinks)||void 0===ve?void 0:ve.subscribe),$e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,H.ax)(typeof(null===(Ie=at?.BuildInfo)||void 0===Ie?void 0:Ie.packageName)<"u",$e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,H.ax)("function"==typeof(null===(_n=null===($t=null===(gt=at?.cordova)||void 0===gt?void 0:gt.plugins)||void 0===$t?void 0:$t.browsertab)||void 0===_n?void 0:_n.openUrl),$e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,H.ax)("function"==typeof(null===(de=null===(le=null===(Yt=at?.cordova)||void 0===Yt?void 0:Yt.plugins)||void 0===le?void 0:le.browsertab)||void 0===de?void 0:de.isAvailable),$e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,H.ax)("function"==typeof(null===(Be=null===(se=at?.cordova)||void 0===se?void 0:se.InAppBrowser)||void 0===Be?void 0:Be.open),$e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(ve);const Yt=yield _n._initialize(ve);yield Yt.initialized(),Yt.resetRedirect(),(0,H.aD)(),yield _n._originValidation(ve);const le=function Je($e,ve,Ie=null){return{type:ve,eventId:Ie,urlResponse:null,sessionId:Se(),postBody:null,tenantId:$e.tenantId,error:(0,H.aw)($e,"no-auth-event")}}(ve,gt,$t);yield function xt($e,ve){return ke()._set(je($e),ve)}(ve,le);const de=yield function re($e,ve,Ie){return fe.apply(this,arguments)}(ve,le,Ie),se=yield function ft($e){const{cordova:ve}=ce();return new Promise(Ie=>{ve.plugins.browsertab.isAvailable(gt=>{let $t=null;gt?ve.plugins.browsertab.openUrl($e):$t=ve.InAppBrowser.open($e,(0,H.ap)()?"_blank":"_system","location=yes"),Ie($t)})})}(de);return function tt($e,ve,Ie){return Ht.apply(this,arguments)}(ve,Yt,se)})()}_isIframeWebStorageSupported(ve,Ie){throw new Error("Method not implemented.")}_originValidation(ve){const Ie=ve._key();return this.originValidationPromises[Ie]||(this.originValidationPromises[Ie]=function Oe($e){return yt.apply(this,arguments)}(ve)),this.originValidationPromises[Ie]}attachCallbackListeners(ve,Ie){const{universalLinks:gt,handleOpenURL:$t,BuildInfo:_n}=ce(),Yt=setTimeout((0,c.Z)(function*(){yield Pe(ve),Ie.onEvent(Dt())}),500),le=function(){var Be=(0,c.Z)(function*(at){clearTimeout(Yt);const tn=yield Pe(ve);let Nn=null;tn&&at?.url&&(Nn=function Qe($e,ve){var Ie,gt;const $t=function Ct($e){const ve=Ot($e),Ie=ve.link?decodeURIComponent(ve.link):void 0,gt=Ot(Ie).link,$t=ve.deep_link_id?decodeURIComponent(ve.deep_link_id):void 0;return Ot($t).link||$t||gt||Ie||$e}(ve);if($t.includes("/__/auth/callback")){const _n=Ot($t),Yt=_n.firebaseError?function Ge($e){try{return JSON.parse($e)}catch{return null}}(decodeURIComponent(_n.firebaseError)):null,le=null===(gt=null===(Ie=Yt?.code)||void 0===Ie?void 0:Ie.split("auth/"))||void 0===gt?void 0:gt[1],de=le?(0,H.aw)(le):null;return de?{type:$e.type,eventId:$e.eventId,tenantId:$e.tenantId,error:de,urlResponse:null,sessionId:null,postBody:null}:{type:$e.type,eventId:$e.eventId,tenantId:$e.tenantId,sessionId:$e.sessionId,urlResponse:$t,postBody:null}}return null}(tn,at.url)),Ie.onEvent(Nn||Dt())});return function(tn){return Be.apply(this,arguments)}}();typeof gt<"u"&&"function"==typeof gt.subscribe&&gt.subscribe(null,le);const de=$t,se=`${_n.packageName.toLowerCase()}://`;ce().handleOpenURL=function(){var Be=(0,c.Z)(function*(at){if(at.toLowerCase().startsWith(se)&&le({url:at}),"function"==typeof de)try{de(at)}catch(tn){console.error(tn)}});return function(at){return Be.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=H.a,this._completeRedirectFn=H.aB,this._overrideRedirectResult=H.aC}_initialize(ve){var Ie=this;return(0,c.Z)(function*(){return yield Ie.selectUnderlyingResolver(),Ie.assertedUnderlyingResolver._initialize(ve)})()}_openPopup(ve,Ie,gt,$t){var _n=this;return(0,c.Z)(function*(){return yield _n.selectUnderlyingResolver(),_n.assertedUnderlyingResolver._openPopup(ve,Ie,gt,$t)})()}_openRedirect(ve,Ie,gt,$t){var _n=this;return(0,c.Z)(function*(){return yield _n.selectUnderlyingResolver(),_n.assertedUnderlyingResolver._openRedirect(ve,Ie,gt,$t)})()}_isIframeWebStorageSupported(ve,Ie){this.assertedUnderlyingResolver._isIframeWebStorageSupported(ve,Ie)}_originValidation(ve){return this.assertedUnderlyingResolver._originValidation(ve)}get _shouldInitProactively(){return Nr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return lt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var ve=this;return(0,c.Z)(function*(){if(ve.underlyingResolver)return;const Ie=yield function or(){return Ut.apply(this,arguments)}();ve.underlyingResolver=Ie?ve.cordovaResolver:ve.browserResolver})()}}function fn($e){return $e.unwrap()}function Yn($e){return ar($e)}function ar($e){const{_tokenResponse:ve}=$e instanceof be.ZR?$e.customData:$e;if(!ve)return null;if(!($e instanceof be.ZR)&&"temporaryProof"in ve&&"phoneNumber"in ve)return H.P.credentialFromResult($e);const Ie=ve.providerId;if(!Ie||Ie===H.o.PASSWORD)return null;let gt;switch(Ie){case H.o.GOOGLE:gt=H.Q;break;case H.o.FACEBOOK:gt=H.N;break;case H.o.GITHUB:gt=H.T;break;case H.o.TWITTER:gt=H.W;break;default:const{oauthIdToken:$t,oauthAccessToken:_n,oauthTokenSecret:Yt,pendingToken:le,nonce:de}=ve;return _n||Yt||$t||le?le?Ie.startsWith("saml.")?H.aL._create(Ie,le):H.J._fromParams({providerId:Ie,signInMethod:Ie,pendingToken:le,idToken:$t,accessToken:_n}):new H.U(Ie).credential({idToken:$t,accessToken:_n,rawNonce:de}):null}return $e instanceof be.ZR?gt.credentialFromError($e):gt.credentialFromResult($e)}function Tn($e,ve){return ve.catch(Ie=>{throw Ie instanceof be.ZR&&function zt($e,ve){var Ie,gt;const $t=null===(Ie=ve.customData)||void 0===Ie?void 0:Ie._tokenResponse;if("auth/multi-factor-auth-required"===(null===(gt=ve)||void 0===gt?void 0:gt.code))ve.resolver=new De($e,H.an($e,ve));else if($t){const _n=ar(ve),Yt=ve;_n&&(Yt.credential=_n,Yt.tenantId=$t.tenantId||void 0,Yt.email=$t.email||void 0,Yt.phoneNumber=$t.phoneNumber||void 0)}}($e,Ie),Ie}).then(Ie=>{const $t=Ie.user;return{operationType:Ie.operationType,credential:Yn(Ie),additionalUserInfo:H.al(Ie),user:oe.getOrCreate($t)}})}function kr($e,ve){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,c.Z)(function*($e,ve){const Ie=yield ve;return{verificationId:Ie.verificationId,confirm:gt=>Tn($e,Ie.confirm(gt))}})).apply(this,arguments)}class De{constructor(ve,Ie){this.resolver=Ie,this.auth=function Cn($e){return $e.wrapped()}(ve)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(ve){return Tn(fn(this.auth),this.resolver.resolveSignIn(ve))}}class oe{constructor(ve){this._delegate=ve,this.multiFactor=H.ao(ve)}static getOrCreate(ve){return oe.USER_MAP.has(ve)||oe.USER_MAP.set(ve,new oe(ve)),oe.USER_MAP.get(ve)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(ve){return this._delegate.getIdTokenResult(ve)}getIdToken(ve){return this._delegate.getIdToken(ve)}linkAndRetrieveDataWithCredential(ve){return this.linkWithCredential(ve)}linkWithCredential(ve){var Ie=this;return(0,c.Z)(function*(){return Tn(Ie.auth,H.Z(Ie._delegate,ve))})()}linkWithPhoneNumber(ve,Ie){var gt=this;return(0,c.Z)(function*(){return kr(gt.auth,H.l(gt._delegate,ve,Ie))})()}linkWithPopup(ve){var Ie=this;return(0,c.Z)(function*(){return Tn(Ie.auth,H.d(Ie._delegate,ve,dt))})()}linkWithRedirect(ve){var Ie=this;return(0,c.Z)(function*(){return yield Cr(H.aE(Ie.auth)),H.g(Ie._delegate,ve,dt)})()}reauthenticateAndRetrieveDataWithCredential(ve){return this.reauthenticateWithCredential(ve)}reauthenticateWithCredential(ve){var Ie=this;return(0,c.Z)(function*(){return Tn(Ie.auth,H._(Ie._delegate,ve))})()}reauthenticateWithPhoneNumber(ve,Ie){return kr(this.auth,H.r(this._delegate,ve,Ie))}reauthenticateWithPopup(ve){return Tn(this.auth,H.e(this._delegate,ve,dt))}reauthenticateWithRedirect(ve){var Ie=this;return(0,c.Z)(function*(){return yield Cr(H.aE(Ie.auth)),H.h(Ie._delegate,ve,dt)})()}sendEmailVerification(ve){return H.ab(this._delegate,ve)}unlink(ve){var Ie=this;return(0,c.Z)(function*(){return yield H.ak(Ie._delegate,ve),Ie})()}updateEmail(ve){return H.ag(this._delegate,ve)}updatePassword(ve){return H.ah(this._delegate,ve)}updatePhoneNumber(ve){return H.u(this._delegate,ve)}updateProfile(ve){return H.af(this._delegate,ve)}verifyBeforeUpdateEmail(ve,Ie){return H.ac(this._delegate,ve,Ie)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}oe.USER_MAP=new WeakMap;const ge=H.ax;let Te=(()=>{class $e{constructor(Ie,gt){if(this.app=Ie,gt.isInitialized())return this._delegate=gt.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:$t}=Ie.options;ge($t,"invalid-api-key",{appName:Ie.name}),ge($t,"invalid-api-key",{appName:Ie.name});const _n=typeof window<"u"?dt:void 0;this._delegate=gt.initialize({options:{persistence:$($t,Ie.name),popupRedirectResolver:_n}}),this._delegate._updateErrorMap(H.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?oe.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(Ie){this._delegate.languageCode=Ie}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(Ie){this._delegate.tenantId=Ie}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(Ie,gt){H.G(this._delegate,Ie,gt)}applyActionCode(Ie){return H.a2(this._delegate,Ie)}checkActionCode(Ie){return H.a3(this._delegate,Ie)}confirmPasswordReset(Ie,gt){return H.a1(this._delegate,Ie,gt)}createUserWithEmailAndPassword(Ie,gt){var $t=this;return(0,c.Z)(function*(){return Tn($t._delegate,H.a5($t._delegate,Ie,gt))})()}fetchProvidersForEmail(Ie){return this.fetchSignInMethodsForEmail(Ie)}fetchSignInMethodsForEmail(Ie){return H.aa(this._delegate,Ie)}isSignInWithEmailLink(Ie){return H.a8(this._delegate,Ie)}getRedirectResult(){var Ie=this;return(0,c.Z)(function*(){ge(On(),Ie._delegate,"operation-not-supported-in-this-environment");const gt=yield H.j(Ie._delegate,dt);return gt?Tn(Ie._delegate,Promise.resolve(gt)):{credential:null,user:null}})()}addFrameworkForLogging(Ie){!function un($e,ve){(0,H.aE)($e)._logFramework(ve)}(this._delegate,Ie)}onAuthStateChanged(Ie,gt,$t){const{next:_n,error:Yt,complete:le}=X(Ie,gt,$t);return this._delegate.onAuthStateChanged(_n,Yt,le)}onIdTokenChanged(Ie,gt,$t){const{next:_n,error:Yt,complete:le}=X(Ie,gt,$t);return this._delegate.onIdTokenChanged(_n,Yt,le)}sendSignInLinkToEmail(Ie,gt){return H.a7(this._delegate,Ie,gt)}sendPasswordResetEmail(Ie,gt){return H.a0(this._delegate,Ie,gt||void 0)}setPersistence(Ie){var gt=this;return(0,c.Z)(function*(){let $t;switch(function bi($e,ve){Zn(Object.values(bn).includes(ve),$e,"invalid-persistence-type"),(0,be.b$)()?Zn(ve!==bn.SESSION,$e,"unsupported-persistence-type"):(0,be.UG)()?Zn(ve===bn.NONE,$e,"unsupported-persistence-type"):en()?Zn(ve===bn.NONE||ve===bn.LOCAL&&(0,be.hl)(),$e,"unsupported-persistence-type"):Zn(ve===bn.NONE||hr(),$e,"unsupported-persistence-type")}(gt._delegate,Ie),Ie){case bn.SESSION:$t=H.a;break;case bn.LOCAL:$t=(yield H.ay(H.i)._isAvailable())?H.i:H.b;break;case bn.NONE:$t=H.L;break;default:return H.at("argument-error",{appName:gt._delegate.name})}return gt._delegate.setPersistence($t)})()}signInAndRetrieveDataWithCredential(Ie){return this.signInWithCredential(Ie)}signInAnonymously(){return Tn(this._delegate,H.X(this._delegate))}signInWithCredential(Ie){return Tn(this._delegate,H.Y(this._delegate,Ie))}signInWithCustomToken(Ie){return Tn(this._delegate,H.$(this._delegate,Ie))}signInWithEmailAndPassword(Ie,gt){return Tn(this._delegate,H.a6(this._delegate,Ie,gt))}signInWithEmailLink(Ie,gt){return Tn(this._delegate,H.a9(this._delegate,Ie,gt))}signInWithPhoneNumber(Ie,gt){return kr(this._delegate,H.s(this._delegate,Ie,gt))}signInWithPopup(Ie){var gt=this;return(0,c.Z)(function*(){return ge(On(),gt._delegate,"operation-not-supported-in-this-environment"),Tn(gt._delegate,H.c(gt._delegate,Ie,dt))})()}signInWithRedirect(Ie){var gt=this;return(0,c.Z)(function*(){return ge(On(),gt._delegate,"operation-not-supported-in-this-environment"),yield Cr(gt._delegate),H.f(gt._delegate,Ie,dt)})()}updateCurrentUser(Ie){return this._delegate.updateCurrentUser(Ie)}verifyPasswordResetCode(Ie){return H.a4(this._delegate,Ie)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return $e.Persistence=bn,$e})();function X($e,ve,Ie){let gt=$e;"function"!=typeof $e&&({next:gt,error:ve,complete:Ie}=$e);const $t=gt;return{next:Yt=>$t(Yt&&oe.getOrCreate(Yt)),error:ve,complete:Ie}}function $($e,ve){const Ie=function Ee($e,ve){const Ie=pe();if(!Ie)return[];const gt=H.az(br,$e,ve);switch(Ie.getItem(gt)){case bn.NONE:return[H.L];case bn.LOCAL:return[H.i,H.a];case bn.SESSION:return[H.a];default:return[]}}($e,ve);if(typeof self<"u"&&!Ie.includes(H.i)&&Ie.push(H.i),typeof window<"u")for(const gt of[H.b,H.a])Ie.includes(gt)||Ie.push(gt);return Ie.includes(H.L)||Ie.push(H.L),Ie}class ee{constructor(){this.providerId="phone",this._delegate=new H.P(fn(k.Z.auth()))}static credential(ve,Ie){return H.P.credential(ve,Ie)}verifyPhoneNumber(ve,Ie){return this._delegate.verifyPhoneNumber(ve,Ie)}unwrap(){return this._delegate}}ee.PHONE_SIGN_IN_METHOD=H.P.PHONE_SIGN_IN_METHOD,ee.PROVIDER_ID=H.P.PROVIDER_ID;const Ue=H.ax;class Mt{constructor(ve,Ie,gt=k.Z.app()){var $t;Ue(null===($t=gt.options)||void 0===$t?void 0:$t.apiKey,"invalid-api-key",{appName:gt.name}),this._delegate=new H.R(ve,Ie,gt.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function jn($e){$e.INTERNAL.registerComponent(new xe.wA("auth-compat",ve=>{const Ie=ve.getProvider("app-compat").getImmediate(),gt=ve.getProvider("auth");return new Te(Ie,gt)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:H.A.EMAIL_SIGNIN,PASSWORD_RESET:H.A.PASSWORD_RESET,RECOVER_EMAIL:H.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:H.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:H.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:H.A.VERIFY_EMAIL}},EmailAuthProvider:H.M,FacebookAuthProvider:H.N,GithubAuthProvider:H.T,GoogleAuthProvider:H.Q,OAuthProvider:H.U,SAMLAuthProvider:H.V,PhoneAuthProvider:ee,PhoneMultiFactorGenerator:H.m,RecaptchaVerifier:Mt,TwitterAuthProvider:H.W,Auth:Te,AuthCredential:H.H,Error:be.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),$e.registerVersion("@firebase/auth-compat","0.2.20")}(k.Z)},2731:(nn,it,V)=>{V.d(it,{ET:()=>c.ET,hJ:()=>c.hJ});var c=V(5525)},9751:(nn,it,V)=>{V.d(it,{y:()=>ce});var c=V(2961),k=V(727),H=V(8822),be=V(9635),me=V(2416),Fe=V(576),xe=V(2806);let ce=(()=>{class Oe{constructor(ft){ft&&(this._subscribe=ft)}lift(ft){const tt=new Oe;return tt.source=this,tt.operator=ft,tt}subscribe(ft,tt,Ht){const Xe=function fe(Oe){return Oe&&Oe instanceof c.Lv||function re(Oe){return Oe&&(0,Fe.m)(Oe.next)&&(0,Fe.m)(Oe.error)&&(0,Fe.m)(Oe.complete)}(Oe)&&(0,k.Nn)(Oe)}(ft)?ft:new c.Hp(ft,tt,Ht);return(0,xe.x)(()=>{const{operator:Ye,source:St}=this;Xe.add(Ye?Ye.call(Xe,St):St?this._subscribe(Xe):this._trySubscribe(Xe))}),Xe}_trySubscribe(ft){try{return this._subscribe(ft)}catch(tt){ft.error(tt)}}forEach(ft,tt){return new(tt=We(tt))((Ht,Xe)=>{const Ye=new c.Hp({next:St=>{try{ft(St)}catch(At){Xe(At),Ye.unsubscribe()}},error:Xe,complete:Ht});this.subscribe(Ye)})}_subscribe(ft){var tt;return null===(tt=this.source)||void 0===tt?void 0:tt.subscribe(ft)}[H.L](){return this}pipe(...ft){return(0,be.U)(ft)(this)}toPromise(ft){return new(ft=We(ft))((tt,Ht)=>{let Xe;this.subscribe(Ye=>Xe=Ye,Ye=>Ht(Ye),()=>tt(Xe))})}}return Oe.create=yt=>new Oe(yt),Oe})();function We(Oe){var yt;return null!==(yt=Oe??me.v.Promise)&&void 0!==yt?yt:Promise}},7579:(nn,it,V)=>{V.d(it,{x:()=>xe});var c=V(9751),k=V(727);const be=(0,V(3888).d)(We=>function(){We(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var me=V(8737),Fe=V(2806);let xe=(()=>{class We extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(fe){const Oe=new ce(this,this);return Oe.operator=fe,Oe}_throwIfClosed(){if(this.closed)throw new be}next(fe){(0,Fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Oe of this.currentObservers)Oe.next(fe)}})}error(fe){(0,Fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=fe;const{observers:Oe}=this;for(;Oe.length;)Oe.shift().error(fe)}})}complete(){(0,Fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:fe}=this;for(;fe.length;)fe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var fe;return(null===(fe=this.observers)||void 0===fe?void 0:fe.length)>0}_trySubscribe(fe){return this._throwIfClosed(),super._trySubscribe(fe)}_subscribe(fe){return this._throwIfClosed(),this._checkFinalizedStatuses(fe),this._innerSubscribe(fe)}_innerSubscribe(fe){const{hasError:Oe,isStopped:yt,observers:ft}=this;return Oe||yt?k.Lc:(this.currentObservers=null,ft.push(fe),new k.w0(()=>{this.currentObservers=null,(0,me.P)(ft,fe)}))}_checkFinalizedStatuses(fe){const{hasError:Oe,thrownError:yt,isStopped:ft}=this;Oe?fe.error(yt):ft&&fe.complete()}asObservable(){const fe=new c.y;return fe.source=this,fe}}return We.create=(re,fe)=>new ce(re,fe),We})();class ce extends xe{constructor(re,fe){super(),this.destination=re,this.source=fe}next(re){var fe,Oe;null===(Oe=null===(fe=this.destination)||void 0===fe?void 0:fe.next)||void 0===Oe||Oe.call(fe,re)}error(re){var fe,Oe;null===(Oe=null===(fe=this.destination)||void 0===fe?void 0:fe.error)||void 0===Oe||Oe.call(fe,re)}complete(){var re,fe;null===(fe=null===(re=this.destination)||void 0===re?void 0:re.complete)||void 0===fe||fe.call(re)}_subscribe(re){var fe,Oe;return null!==(Oe=null===(fe=this.source)||void 0===fe?void 0:fe.subscribe(re))&&void 0!==Oe?Oe:k.Lc}}},2961:(nn,it,V)=>{V.d(it,{Hp:()=>Ht,Lv:()=>Oe});var c=V(576),k=V(727),H=V(2416),be=V(7849);function me(){}const Fe=We("C",void 0,void 0);function We(ae,Ne,Je){return{kind:ae,value:Ne,error:Je}}var re=V(3410),fe=V(2806);class Oe extends k.w0{constructor(Ne){super(),this.isStopped=!1,Ne?(this.destination=Ne,(0,k.Nn)(Ne)&&Ne.add(this)):this.destination=At}static create(Ne,Je,xt){return new Ht(Ne,Je,xt)}next(Ne){this.isStopped?St(function ce(ae){return We("N",ae,void 0)}(Ne),this):this._next(Ne)}error(Ne){this.isStopped?St(function xe(ae){return We("E",void 0,ae)}(Ne),this):(this.isStopped=!0,this._error(Ne))}complete(){this.isStopped?St(Fe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ne){this.destination.next(Ne)}_error(Ne){try{this.destination.error(Ne)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const yt=Function.prototype.bind;function ft(ae,Ne){return yt.call(ae,Ne)}class tt{constructor(Ne){this.partialObserver=Ne}next(Ne){const{partialObserver:Je}=this;if(Je.next)try{Je.next(Ne)}catch(xt){Xe(xt)}}error(Ne){const{partialObserver:Je}=this;if(Je.error)try{Je.error(Ne)}catch(xt){Xe(xt)}else Xe(Ne)}complete(){const{partialObserver:Ne}=this;if(Ne.complete)try{Ne.complete()}catch(Je){Xe(Je)}}}class Ht extends Oe{constructor(Ne,Je,xt){let Pe;if(super(),(0,c.m)(Ne)||!Ne)Pe={next:Ne??void 0,error:Je??void 0,complete:xt??void 0};else{let He;this&&H.v.useDeprecatedNextContext?(He=Object.create(Ne),He.unsubscribe=()=>this.unsubscribe(),Pe={next:Ne.next&&ft(Ne.next,He),error:Ne.error&&ft(Ne.error,He),complete:Ne.complete&&ft(Ne.complete,He)}):Pe=Ne}this.destination=new tt(Pe)}}function Xe(ae){H.v.useDeprecatedSynchronousErrorHandling?(0,fe.O)(ae):(0,be.h)(ae)}function St(ae,Ne){const{onStoppedNotification:Je}=H.v;Je&&re.z.setTimeout(()=>Je(ae,Ne))}const At={closed:!0,next:me,error:function Ye(ae){throw ae},complete:me}},727:(nn,it,V)=>{V.d(it,{Lc:()=>Fe,w0:()=>me,Nn:()=>xe});var c=V(576);const H=(0,V(3888).d)(We=>function(fe){We(this),this.message=fe?`${fe.length} errors occurred during unsubscription:\n${fe.map((Oe,yt)=>`${yt+1}) ${Oe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=fe});var be=V(8737);class me{constructor(re){this.initialTeardown=re,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let re;if(!this.closed){this.closed=!0;const{_parentage:fe}=this;if(fe)if(this._parentage=null,Array.isArray(fe))for(const ft of fe)ft.remove(this);else fe.remove(this);const{initialTeardown:Oe}=this;if((0,c.m)(Oe))try{Oe()}catch(ft){re=ft instanceof H?ft.errors:[ft]}const{_finalizers:yt}=this;if(yt){this._finalizers=null;for(const ft of yt)try{ce(ft)}catch(tt){re=re??[],tt instanceof H?re=[...re,...tt.errors]:re.push(tt)}}if(re)throw new H(re)}}add(re){var fe;if(re&&re!==this)if(this.closed)ce(re);else{if(re instanceof me){if(re.closed||re._hasParent(this))return;re._addParent(this)}(this._finalizers=null!==(fe=this._finalizers)&&void 0!==fe?fe:[]).push(re)}}_hasParent(re){const{_parentage:fe}=this;return fe===re||Array.isArray(fe)&&fe.includes(re)}_addParent(re){const{_parentage:fe}=this;this._parentage=Array.isArray(fe)?(fe.push(re),fe):fe?[fe,re]:re}_removeParent(re){const{_parentage:fe}=this;fe===re?this._parentage=null:Array.isArray(fe)&&(0,be.P)(fe,re)}remove(re){const{_finalizers:fe}=this;fe&&(0,be.P)(fe,re),re instanceof me&&re._removeParent(this)}}me.EMPTY=(()=>{const We=new me;return We.closed=!0,We})();const Fe=me.EMPTY;function xe(We){return We instanceof me||We&&"closed"in We&&(0,c.m)(We.remove)&&(0,c.m)(We.add)&&(0,c.m)(We.unsubscribe)}function ce(We){(0,c.m)(We)?We():We.unsubscribe()}},2416:(nn,it,V)=>{V.d(it,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(nn,it,V)=>{V.d(it,{z:()=>me});var c=V(8189),H=V(7669),be=V(8996);function me(...Fe){return function k(){return(0,c.J)(1)}()((0,be.D)(Fe,(0,H.yG)(Fe)))}},515:(nn,it,V)=>{V.d(it,{E:()=>k});const k=new(V(9751).y)(me=>me.complete())},8996:(nn,it,V)=>{V.d(it,{D:()=>Ne});var c=V(8421),k=V(5363),H=V(9468),Fe=V(9751),ce=V(2202),We=V(576),re=V(9672);function Oe(Je,xt){if(!Je)throw new Error("Iterable cannot be null");return new Fe.y(Pe=>{(0,re.f)(Pe,xt,()=>{const He=Je[Symbol.asyncIterator]();(0,re.f)(Pe,xt,()=>{He.next().then(Qe=>{Qe.done?Pe.complete():Pe.next(Qe.value)})},0,!0)})})}var yt=V(3670),ft=V(8239),tt=V(1144),Ht=V(6495),Xe=V(2206),Ye=V(4532),St=V(3260);function Ne(Je,xt){return xt?function ae(Je,xt){if(null!=Je){if((0,yt.c)(Je))return function be(Je,xt){return(0,c.Xf)(Je).pipe((0,H.R)(xt),(0,k.Q)(xt))}(Je,xt);if((0,tt.z)(Je))return function xe(Je,xt){return new Fe.y(Pe=>{let He=0;return xt.schedule(function(){He===Je.length?Pe.complete():(Pe.next(Je[He++]),Pe.closed||this.schedule())})})}(Je,xt);if((0,ft.t)(Je))return function me(Je,xt){return(0,c.Xf)(Je).pipe((0,H.R)(xt),(0,k.Q)(xt))}(Je,xt);if((0,Xe.D)(Je))return Oe(Je,xt);if((0,Ht.T)(Je))return function fe(Je,xt){return new Fe.y(Pe=>{let He;return(0,re.f)(Pe,xt,()=>{He=Je[ce.h](),(0,re.f)(Pe,xt,()=>{let Qe,Se;try{({value:Qe,done:Se}=He.next())}catch(ke){return void Pe.error(ke)}Se?Pe.complete():Pe.next(Qe)},0,!0)}),()=>(0,We.m)(He?.return)&&He.return()})}(Je,xt);if((0,St.L)(Je))return function At(Je,xt){return Oe((0,St.Q)(Je),xt)}(Je,xt)}throw(0,Ye.z)(Je)}(Je,xt):(0,c.Xf)(Je)}},8421:(nn,it,V)=>{V.d(it,{Xf:()=>yt});var c=V(655),k=V(1144),H=V(8239),be=V(9751),me=V(3670),Fe=V(2206),xe=V(4532),ce=V(6495),We=V(3260),re=V(576),fe=V(7849),Oe=V(8822);function yt(ae){if(ae instanceof be.y)return ae;if(null!=ae){if((0,me.c)(ae))return function ft(ae){return new be.y(Ne=>{const Je=ae[Oe.L]();if((0,re.m)(Je.subscribe))return Je.subscribe(Ne);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ae);if((0,k.z)(ae))return function tt(ae){return new be.y(Ne=>{for(let Je=0;Je<ae.length&&!Ne.closed;Je++)Ne.next(ae[Je]);Ne.complete()})}(ae);if((0,H.t)(ae))return function Ht(ae){return new be.y(Ne=>{ae.then(Je=>{Ne.closed||(Ne.next(Je),Ne.complete())},Je=>Ne.error(Je)).then(null,fe.h)})}(ae);if((0,Fe.D)(ae))return Ye(ae);if((0,ce.T)(ae))return function Xe(ae){return new be.y(Ne=>{for(const Je of ae)if(Ne.next(Je),Ne.closed)return;Ne.complete()})}(ae);if((0,We.L)(ae))return function St(ae){return Ye((0,We.Q)(ae))}(ae)}throw(0,xe.z)(ae)}function Ye(ae){return new be.y(Ne=>{(function At(ae,Ne){var Je,xt,Pe,He;return(0,c.mG)(this,void 0,void 0,function*(){try{for(Je=(0,c.KL)(ae);!(xt=yield Je.next()).done;)if(Ne.next(xt.value),Ne.closed)return}catch(Qe){Pe={error:Qe}}finally{try{xt&&!xt.done&&(He=Je.return)&&(yield He.call(Je))}finally{if(Pe)throw Pe.error}}Ne.complete()})})(ae,Ne).catch(Je=>Ne.error(Je))})}},6451:(nn,it,V)=>{V.d(it,{T:()=>Fe});var c=V(8189),k=V(8421),H=V(515),be=V(7669),me=V(8996);function Fe(...xe){const ce=(0,be.yG)(xe),We=(0,be._6)(xe,1/0),re=xe;return re.length?1===re.length?(0,k.Xf)(re[0]):(0,c.J)(We)((0,me.D)(re,ce)):H.E}},9646:(nn,it,V)=>{V.d(it,{of:()=>H});var c=V(7669),k=V(8996);function H(...be){const me=(0,c.yG)(be);return(0,k.D)(be,me)}},5403:(nn,it,V)=>{V.d(it,{x:()=>k});var c=V(2961);function k(be,me,Fe,xe,ce){return new H(be,me,Fe,xe,ce)}class H extends c.Lv{constructor(me,Fe,xe,ce,We,re){super(me),this.onFinalize=We,this.shouldUnsubscribe=re,this._next=Fe?function(fe){try{Fe(fe)}catch(Oe){me.error(Oe)}}:super._next,this._error=ce?function(fe){try{ce(fe)}catch(Oe){me.error(Oe)}finally{this.unsubscribe()}}:super._error,this._complete=xe?function(){try{xe()}catch(fe){me.error(fe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var me;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Fe}=this;super.unsubscribe(),!Fe&&(null===(me=this.onFinalize)||void 0===me||me.call(this))}}}},4351:(nn,it,V)=>{V.d(it,{b:()=>H});var c=V(5577),k=V(576);function H(be,me){return(0,k.m)(me)?(0,c.z)(be,me,1):(0,c.z)(be,1)}},6590:(nn,it,V)=>{V.d(it,{d:()=>H});var c=V(4482),k=V(5403);function H(be){return(0,c.e)((me,Fe)=>{let xe=!1;me.subscribe((0,k.x)(Fe,ce=>{xe=!0,Fe.next(ce)},()=>{xe||Fe.next(be),Fe.complete()}))})}},9300:(nn,it,V)=>{V.d(it,{h:()=>H});var c=V(4482),k=V(5403);function H(be,me){return(0,c.e)((Fe,xe)=>{let ce=0;Fe.subscribe((0,k.x)(xe,We=>be.call(me,We,ce++)&&xe.next(We)))})}},590:(nn,it,V)=>{V.d(it,{P:()=>xe});var c=V(6805),k=V(9300),H=V(5698),be=V(6590),me=V(8068),Fe=V(4671);function xe(ce,We){const re=arguments.length>=2;return fe=>fe.pipe(ce?(0,k.h)((Oe,yt)=>ce(Oe,yt,fe)):Fe.y,(0,H.q)(1),re?(0,be.d)(We):(0,me.T)(()=>new c.K))}},4004:(nn,it,V)=>{V.d(it,{U:()=>H});var c=V(4482),k=V(5403);function H(be,me){return(0,c.e)((Fe,xe)=>{let ce=0;Fe.subscribe((0,k.x)(xe,We=>{xe.next(be.call(me,We,ce++))}))})}},8189:(nn,it,V)=>{V.d(it,{J:()=>H});var c=V(5577),k=V(4671);function H(be=1/0){return(0,c.z)(k.y,be)}},5577:(nn,it,V)=>{V.d(it,{z:()=>ce});var c=V(4004),k=V(8421),H=V(4482),be=V(9672),me=V(5403),xe=V(576);function ce(We,re,fe=1/0){return(0,xe.m)(re)?ce((Oe,yt)=>(0,c.U)((ft,tt)=>re(Oe,ft,yt,tt))((0,k.Xf)(We(Oe,yt))),fe):("number"==typeof re&&(fe=re),(0,H.e)((Oe,yt)=>function Fe(We,re,fe,Oe,yt,ft,tt,Ht){const Xe=[];let Ye=0,St=0,At=!1;const ae=()=>{At&&!Xe.length&&!Ye&&re.complete()},Ne=xt=>Ye<Oe?Je(xt):Xe.push(xt),Je=xt=>{ft&&re.next(xt),Ye++;let Pe=!1;(0,k.Xf)(fe(xt,St++)).subscribe((0,me.x)(re,He=>{yt?.(He),ft?Ne(He):re.next(He)},()=>{Pe=!0},void 0,()=>{if(Pe)try{for(Ye--;Xe.length&&Ye<Oe;){const He=Xe.shift();tt?(0,be.f)(re,tt,()=>Je(He)):Je(He)}ae()}catch(He){re.error(He)}}))};return We.subscribe((0,me.x)(re,Ne,()=>{At=!0,ae()})),()=>{Ht?.()}}(Oe,yt,We,fe)))}},5363:(nn,it,V)=>{V.d(it,{Q:()=>be});var c=V(9672),k=V(4482),H=V(5403);function be(me,Fe=0){return(0,k.e)((xe,ce)=>{xe.subscribe((0,H.x)(ce,We=>(0,c.f)(ce,me,()=>ce.next(We),Fe),()=>(0,c.f)(ce,me,()=>ce.complete(),Fe),We=>(0,c.f)(ce,me,()=>ce.error(We),Fe)))})}},5026:(nn,it,V)=>{V.d(it,{R:()=>be});var c=V(4482),k=V(5403);function H(me,Fe,xe,ce,We){return(re,fe)=>{let Oe=xe,yt=Fe,ft=0;re.subscribe((0,k.x)(fe,tt=>{const Ht=ft++;yt=Oe?me(yt,tt,Ht):(Oe=!0,tt),ce&&fe.next(yt)},We&&(()=>{Oe&&fe.next(yt),fe.complete()})))}}function be(me,Fe){return(0,c.e)(H(me,Fe,arguments.length>=2,!0))}},3099:(nn,it,V)=>{V.d(it,{B:()=>me});var c=V(8421),k=V(7579),H=V(2961),be=V(4482);function me(xe={}){const{connector:ce=(()=>new k.x),resetOnError:We=!0,resetOnComplete:re=!0,resetOnRefCountZero:fe=!0}=xe;return Oe=>{let yt,ft,tt,Ht=0,Xe=!1,Ye=!1;const St=()=>{ft?.unsubscribe(),ft=void 0},At=()=>{St(),yt=tt=void 0,Xe=Ye=!1},ae=()=>{const Ne=yt;At(),Ne?.unsubscribe()};return(0,be.e)((Ne,Je)=>{Ht++,!Ye&&!Xe&&St();const xt=tt=tt??ce();Je.add(()=>{Ht--,0===Ht&&!Ye&&!Xe&&(ft=Fe(ae,fe))}),xt.subscribe(Je),!yt&&Ht>0&&(yt=new H.Hp({next:Pe=>xt.next(Pe),error:Pe=>{Ye=!0,St(),ft=Fe(At,We,Pe),xt.error(Pe)},complete:()=>{Xe=!0,St(),ft=Fe(At,re),xt.complete()}}),(0,c.Xf)(Ne).subscribe(yt))})(Oe)}}function Fe(xe,ce,...We){if(!0===ce)return void xe();if(!1===ce)return;const re=new H.Hp({next:()=>{re.unsubscribe(),xe()}});return ce(...We).subscribe(re)}},8675:(nn,it,V)=>{V.d(it,{O:()=>be});var c=V(7272),k=V(7669),H=V(4482);function be(...me){const Fe=(0,k.yG)(me);return(0,H.e)((xe,ce)=>{(Fe?(0,c.z)(me,xe,Fe):(0,c.z)(me,xe)).subscribe(ce)})}},9468:(nn,it,V)=>{V.d(it,{R:()=>k});var c=V(4482);function k(H,be=0){return(0,c.e)((me,Fe)=>{Fe.add(H.schedule(()=>me.subscribe(Fe),be))})}},3900:(nn,it,V)=>{V.d(it,{w:()=>be});var c=V(8421),k=V(4482),H=V(5403);function be(me,Fe){return(0,k.e)((xe,ce)=>{let We=null,re=0,fe=!1;const Oe=()=>fe&&!We&&ce.complete();xe.subscribe((0,H.x)(ce,yt=>{We?.unsubscribe();let ft=0;const tt=re++;(0,c.Xf)(me(yt,tt)).subscribe(We=(0,H.x)(ce,Ht=>ce.next(Fe?Fe(yt,Ht,tt,ft++):Ht),()=>{We=null,Oe()}))},()=>{fe=!0,Oe()}))})}},5698:(nn,it,V)=>{V.d(it,{q:()=>be});var c=V(515),k=V(4482),H=V(5403);function be(me){return me<=0?()=>c.E:(0,k.e)((Fe,xe)=>{let ce=0;Fe.subscribe((0,H.x)(xe,We=>{++ce<=me&&(xe.next(We),me<=ce&&xe.complete())}))})}},8505:(nn,it,V)=>{V.d(it,{b:()=>me});var c=V(576),k=V(4482),H=V(5403),be=V(4671);function me(Fe,xe,ce){const We=(0,c.m)(Fe)||xe||ce?{next:Fe,error:xe,complete:ce}:Fe;return We?(0,k.e)((re,fe)=>{var Oe;null===(Oe=We.subscribe)||void 0===Oe||Oe.call(We);let yt=!0;re.subscribe((0,H.x)(fe,ft=>{var tt;null===(tt=We.next)||void 0===tt||tt.call(We,ft),fe.next(ft)},()=>{var ft;yt=!1,null===(ft=We.complete)||void 0===ft||ft.call(We),fe.complete()},ft=>{var tt;yt=!1,null===(tt=We.error)||void 0===tt||tt.call(We,ft),fe.error(ft)},()=>{var ft,tt;yt&&(null===(ft=We.unsubscribe)||void 0===ft||ft.call(We)),null===(tt=We.finalize)||void 0===tt||tt.call(We)}))}):be.y}},8068:(nn,it,V)=>{V.d(it,{T:()=>be});var c=V(6805),k=V(4482),H=V(5403);function be(Fe=me){return(0,k.e)((xe,ce)=>{let We=!1;xe.subscribe((0,H.x)(ce,re=>{We=!0,ce.next(re)},()=>We?ce.complete():ce.error(Fe())))})}function me(){return new c.K}},4408:(nn,it,V)=>{V.d(it,{o:()=>me});var c=V(727);class k extends c.w0{constructor(xe,ce){super()}schedule(xe,ce=0){return this}}const H={setInterval(Fe,xe,...ce){const{delegate:We}=H;return We?.setInterval?We.setInterval(Fe,xe,...ce):setInterval(Fe,xe,...ce)},clearInterval(Fe){const{delegate:xe}=H;return(xe?.clearInterval||clearInterval)(Fe)},delegate:void 0};var be=V(8737);class me extends k{constructor(xe,ce){super(xe,ce),this.scheduler=xe,this.work=ce,this.pending=!1}schedule(xe,ce=0){if(this.closed)return this;this.state=xe;const We=this.id,re=this.scheduler;return null!=We&&(this.id=this.recycleAsyncId(re,We,ce)),this.pending=!0,this.delay=ce,this.id=this.id||this.requestAsyncId(re,this.id,ce),this}requestAsyncId(xe,ce,We=0){return H.setInterval(xe.flush.bind(xe,this),We)}recycleAsyncId(xe,ce,We=0){if(null!=We&&this.delay===We&&!1===this.pending)return ce;H.clearInterval(ce)}execute(xe,ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const We=this._execute(xe,ce);if(We)return We;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(xe,ce){let re,We=!1;try{this.work(xe)}catch(fe){We=!0,re=fe||new Error("Scheduled action threw falsy error")}if(We)return this.unsubscribe(),re}unsubscribe(){if(!this.closed){const{id:xe,scheduler:ce}=this,{actions:We}=ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,be.P)(We,this),null!=xe&&(this.id=this.recycleAsyncId(ce,xe,null)),this.delay=null,super.unsubscribe()}}}},7565:(nn,it,V)=>{V.d(it,{v:()=>H});var c=V(6063);class k{constructor(me,Fe=k.now){this.schedulerActionCtor=me,this.now=Fe}schedule(me,Fe=0,xe){return new this.schedulerActionCtor(this,me).schedule(xe,Fe)}}k.now=c.l.now;class H extends k{constructor(me,Fe=k.now){super(me,Fe),this.actions=[],this._active=!1,this._scheduled=void 0}flush(me){const{actions:Fe}=this;if(this._active)return void Fe.push(me);let xe;this._active=!0;do{if(xe=me.execute(me.state,me.delay))break}while(me=Fe.shift());if(this._active=!1,xe){for(;me=Fe.shift();)me.unsubscribe();throw xe}}}},4986:(nn,it,V)=>{V.d(it,{z:()=>H});var c=V(4408);const H=new(V(7565).v)(c.o)},6063:(nn,it,V)=>{V.d(it,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(nn,it,V)=>{V.d(it,{z:()=>c});const c={setTimeout(k,H,...be){const{delegate:me}=c;return me?.setTimeout?me.setTimeout(k,H,...be):setTimeout(k,H,...be)},clearTimeout(k){const{delegate:H}=c;return(H?.clearTimeout||clearTimeout)(k)},delegate:void 0}},2202:(nn,it,V)=>{V.d(it,{h:()=>k});const k=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(nn,it,V)=>{V.d(it,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(nn,it,V)=>{V.d(it,{K:()=>k});const k=(0,V(3888).d)(H=>function(){H(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(nn,it,V)=>{V.d(it,{_6:()=>Fe,jO:()=>be,yG:()=>me});var c=V(576);function H(xe){return xe[xe.length-1]}function be(xe){return(0,c.m)(H(xe))?xe.pop():void 0}function me(xe){return function k(xe){return xe&&(0,c.m)(xe.schedule)}(H(xe))?xe.pop():void 0}function Fe(xe,ce){return"number"==typeof H(xe)?xe.pop():ce}},4742:(nn,it,V)=>{V.d(it,{D:()=>me});const{isArray:c}=Array,{getPrototypeOf:k,prototype:H,keys:be}=Object;function me(xe){if(1===xe.length){const ce=xe[0];if(c(ce))return{args:ce,keys:null};if(function Fe(xe){return xe&&"object"==typeof xe&&k(xe)===H}(ce)){const We=be(ce);return{args:We.map(re=>ce[re]),keys:We}}}return{args:xe,keys:null}}},8737:(nn,it,V)=>{function c(k,H){if(k){const be=k.indexOf(H);0<=be&&k.splice(be,1)}}V.d(it,{P:()=>c})},3888:(nn,it,V)=>{function c(k){const be=k(me=>{Error.call(me),me.stack=(new Error).stack});return be.prototype=Object.create(Error.prototype),be.prototype.constructor=be,be}V.d(it,{d:()=>c})},1810:(nn,it,V)=>{function c(k,H){return k.reduce((be,me,Fe)=>(be[me]=H[Fe],be),{})}V.d(it,{n:()=>c})},2806:(nn,it,V)=>{V.d(it,{O:()=>be,x:()=>H});var c=V(2416);let k=null;function H(me){if(c.v.useDeprecatedSynchronousErrorHandling){const Fe=!k;if(Fe&&(k={errorThrown:!1,error:null}),me(),Fe){const{errorThrown:xe,error:ce}=k;if(k=null,xe)throw ce}}else me()}function be(me){c.v.useDeprecatedSynchronousErrorHandling&&k&&(k.errorThrown=!0,k.error=me)}},9672:(nn,it,V)=>{function c(k,H,be,me=0,Fe=!1){const xe=H.schedule(function(){be(),Fe?k.add(this.schedule(null,me)):this.unsubscribe()},me);if(k.add(xe),!Fe)return xe}V.d(it,{f:()=>c})},4671:(nn,it,V)=>{function c(k){return k}V.d(it,{y:()=>c})},1144:(nn,it,V)=>{V.d(it,{z:()=>c});const c=k=>k&&"number"==typeof k.length&&"function"!=typeof k},2206:(nn,it,V)=>{V.d(it,{D:()=>k});var c=V(576);function k(H){return Symbol.asyncIterator&&(0,c.m)(H?.[Symbol.asyncIterator])}},576:(nn,it,V)=>{function c(k){return"function"==typeof k}V.d(it,{m:()=>c})},3670:(nn,it,V)=>{V.d(it,{c:()=>H});var c=V(8822),k=V(576);function H(be){return(0,k.m)(be[c.L])}},6495:(nn,it,V)=>{V.d(it,{T:()=>H});var c=V(2202),k=V(576);function H(be){return(0,k.m)(be?.[c.h])}},8239:(nn,it,V)=>{V.d(it,{t:()=>k});var c=V(576);function k(H){return(0,c.m)(H?.then)}},3260:(nn,it,V)=>{V.d(it,{L:()=>be,Q:()=>H});var c=V(655),k=V(576);function H(me){return(0,c.FC)(this,arguments,function*(){const xe=me.getReader();try{for(;;){const{value:ce,done:We}=yield(0,c.qq)(xe.read());if(We)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(ce)}}finally{xe.releaseLock()}})}function be(me){return(0,k.m)(me?.getReader)}},4482:(nn,it,V)=>{V.d(it,{A:()=>k,e:()=>H});var c=V(576);function k(be){return(0,c.m)(be?.lift)}function H(be){return me=>{if(k(me))return me.lift(function(Fe){try{return be(Fe,this)}catch(xe){this.error(xe)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(nn,it,V)=>{V.d(it,{Z:()=>be});var c=V(4004);const{isArray:k}=Array;function be(me){return(0,c.U)(Fe=>function H(me,Fe){return k(Fe)?me(...Fe):me(Fe)}(me,Fe))}},9635:(nn,it,V)=>{V.d(it,{U:()=>H,z:()=>k});var c=V(4671);function k(...be){return H(be)}function H(be){return 0===be.length?c.y:1===be.length?be[0]:function(Fe){return be.reduce((xe,ce)=>ce(xe),Fe)}}},7849:(nn,it,V)=>{V.d(it,{h:()=>H});var c=V(2416),k=V(3410);function H(be){k.z.setTimeout(()=>{const{onUnhandledError:me}=c.v;if(!me)throw be;me(be)})}},4532:(nn,it,V)=>{function c(k){return new TypeError(`You provided ${null!==k&&"object"==typeof k?"an invalid object":`'${k}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(it,{z:()=>c})},655:(nn,it,V)=>{function be(Se,ke){var je={};for(var Ge in Se)Object.prototype.hasOwnProperty.call(Se,Ge)&&ke.indexOf(Ge)<0&&(je[Ge]=Se[Ge]);if(null!=Se&&"function"==typeof Object.getOwnPropertySymbols){var Ct=0;for(Ge=Object.getOwnPropertySymbols(Se);Ct<Ge.length;Ct++)ke.indexOf(Ge[Ct])<0&&Object.prototype.propertyIsEnumerable.call(Se,Ge[Ct])&&(je[Ge[Ct]]=Se[Ge[Ct]])}return je}function ce(Se,ke,je,Ge){return new(je||(je=Promise))(function(Ot,Ft){function Qt(un){try{Dt(Ge.next(un))}catch(pn){Ft(pn)}}function ln(un){try{Dt(Ge.throw(un))}catch(pn){Ft(pn)}}function Dt(un){un.done?Ot(un.value):function Ct(Ot){return Ot instanceof je?Ot:new je(function(Ft){Ft(Ot)})}(un.value).then(Qt,ln)}Dt((Ge=Ge.apply(Se,ke||[])).next())})}function Xe(Se){return this instanceof Xe?(this.v=Se,this):new Xe(Se)}function Ye(Se,ke,je){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ct,Ge=je.apply(Se,ke||[]),Ot=[];return Ct={},Ft("next"),Ft("throw"),Ft("return"),Ct[Symbol.asyncIterator]=function(){return this},Ct;function Ft(rt){Ge[rt]&&(Ct[rt]=function(It){return new Promise(function(Me,ze){Ot.push([rt,It,Me,ze])>1||Qt(rt,It)})})}function Qt(rt,It){try{!function ln(rt){rt.value instanceof Xe?Promise.resolve(rt.value.v).then(Dt,un):pn(Ot[0][2],rt)}(Ge[rt](It))}catch(Me){pn(Ot[0][3],Me)}}function Dt(rt){Qt("next",rt)}function un(rt){Qt("throw",rt)}function pn(rt,It){rt(It),Ot.shift(),Ot.length&&Qt(Ot[0][0],Ot[0][1])}}function At(Se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var je,ke=Se[Symbol.asyncIterator];return ke?ke.call(Se):(Se=function Oe(Se){var ke="function"==typeof Symbol&&Symbol.iterator,je=ke&&Se[ke],Ge=0;if(je)return je.call(Se);if(Se&&"number"==typeof Se.length)return{next:function(){return Se&&Ge>=Se.length&&(Se=void 0),{value:Se&&Se[Ge++],done:!Se}}};throw new TypeError(ke?"Object is not iterable.":"Symbol.iterator is not defined.")}(Se),je={},Ge("next"),Ge("throw"),Ge("return"),je[Symbol.asyncIterator]=function(){return this},je);function Ge(Ot){je[Ot]=Se[Ot]&&function(Ft){return new Promise(function(Qt,ln){!function Ct(Ot,Ft,Qt,ln){Promise.resolve(ln).then(function(Dt){Ot({value:Dt,done:Qt})},Ft)}(Qt,ln,(Ft=Se[Ot](Ft)).done,Ft.value)})}}}V.d(it,{FC:()=>Ye,KL:()=>At,_T:()=>be,mG:()=>ce,qq:()=>Xe})},7340:(nn,it,V)=>{V.d(it,{LC:()=>k,SB:()=>We,X$:()=>be,ZE:()=>St,ZN:()=>Ye,_j:()=>c,eR:()=>fe,jt:()=>me,k1:()=>At,l3:()=>H,oB:()=>ce,vP:()=>xe});class c{}class k{}const H="*";function be(ae,Ne){return{type:7,name:ae,definitions:Ne,options:{}}}function me(ae,Ne=null){return{type:4,styles:Ne,timings:ae}}function xe(ae,Ne=null){return{type:2,steps:ae,options:Ne}}function ce(ae){return{type:6,styles:ae,offset:null}}function We(ae,Ne,Je){return{type:0,name:ae,styles:Ne,options:Je}}function fe(ae,Ne,Je=null){return{type:1,expr:ae,animation:Ne,options:Je}}function Xe(ae){Promise.resolve().then(ae)}class Ye{constructor(Ne=0,Je=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Ne+Je}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ne=>Ne()),this._onDoneFns=[])}onStart(Ne){this._originalOnStartFns.push(Ne),this._onStartFns.push(Ne)}onDone(Ne){this._originalOnDoneFns.push(Ne),this._onDoneFns.push(Ne)}onDestroy(Ne){this._onDestroyFns.push(Ne)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Xe(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Ne=>Ne()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Ne=>Ne()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Ne){this._position=this.totalTime?Ne*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Ne){const Je="start"==Ne?this._onStartFns:this._onDoneFns;Je.forEach(xt=>xt()),Je.length=0}}class St{constructor(Ne){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Ne;let Je=0,xt=0,Pe=0;const He=this.players.length;0==He?Xe(()=>this._onFinish()):this.players.forEach(Qe=>{Qe.onDone(()=>{++Je==He&&this._onFinish()}),Qe.onDestroy(()=>{++xt==He&&this._onDestroy()}),Qe.onStart(()=>{++Pe==He&&this._onStart()})}),this.totalTime=this.players.reduce((Qe,Se)=>Math.max(Qe,Se.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ne=>Ne()),this._onDoneFns=[])}init(){this.players.forEach(Ne=>Ne.init())}onStart(Ne){this._onStartFns.push(Ne)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Ne=>Ne()),this._onStartFns=[])}onDone(Ne){this._onDoneFns.push(Ne)}onDestroy(Ne){this._onDestroyFns.push(Ne)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Ne=>Ne.play())}pause(){this.players.forEach(Ne=>Ne.pause())}restart(){this.players.forEach(Ne=>Ne.restart())}finish(){this._onFinish(),this.players.forEach(Ne=>Ne.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Ne=>Ne.destroy()),this._onDestroyFns.forEach(Ne=>Ne()),this._onDestroyFns=[])}reset(){this.players.forEach(Ne=>Ne.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Ne){const Je=Ne*this.totalTime;this.players.forEach(xt=>{const Pe=xt.totalTime?Math.min(1,Je/xt.totalTime):1;xt.setPosition(Pe)})}getPosition(){const Ne=this.players.reduce((Je,xt)=>null===Je||xt.totalTime>Je.totalTime?xt:Je,null);return null!=Ne?Ne.getPosition():0}beforeDestroy(){this.players.forEach(Ne=>{Ne.beforeDestroy&&Ne.beforeDestroy()})}triggerCallback(Ne){const Je="start"==Ne?this._onStartFns:this._onDoneFns;Je.forEach(xt=>xt()),Je.length=0}}const At="!"},6895:(nn,it,V)=>{V.d(it,{Do:()=>At,EM:()=>Co,HT:()=>me,JF:()=>_i,K0:()=>xe,Mx:()=>Is,O5:()=>nt,Ov:()=>Do,PC:()=>Yi,PM:()=>ks,S$:()=>Xe,V_:()=>re,Ye:()=>ae,b0:()=>St,bD:()=>Ci,ez:()=>fo,mk:()=>ur,q:()=>H,sg:()=>zi,w_:()=>Fe});var c=V(4650);let k=null;function H(){return k}function me(S){k||(k=S)}class Fe{}const xe=new c.OlP("DocumentToken");let ce=(()=>{class S{historyGo(R){throw new Error("Not implemented")}}return S.\u0275fac=function(R){return new(R||S)},S.\u0275prov=c.Yz7({token:S,factory:function(){return function We(){return(0,c.LFG)(fe)}()},providedIn:"platform"}),S})();const re=new c.OlP("Location Initialized");let fe=(()=>{class S extends ce{constructor(R){super(),this._doc=R,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return H().getBaseHref(this._doc)}onPopState(R){const Y=H().getGlobalEventTarget(this._doc,"window");return Y.addEventListener("popstate",R,!1),()=>Y.removeEventListener("popstate",R)}onHashChange(R){const Y=H().getGlobalEventTarget(this._doc,"window");return Y.addEventListener("hashchange",R,!1),()=>Y.removeEventListener("hashchange",R)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(R){this.location.pathname=R}pushState(R,Y,we){Oe()?this._history.pushState(R,Y,we):this.location.hash=we}replaceState(R,Y,we){Oe()?this._history.replaceState(R,Y,we):this.location.hash=we}forward(){this._history.forward()}back(){this._history.back()}historyGo(R=0){this._history.go(R)}getState(){return this._history.state}}return S.\u0275fac=function(R){return new(R||S)(c.LFG(xe))},S.\u0275prov=c.Yz7({token:S,factory:function(){return function yt(){return new fe((0,c.LFG)(xe))}()},providedIn:"platform"}),S})();function Oe(){return!!window.history.pushState}function ft(S,G){if(0==S.length)return G;if(0==G.length)return S;let R=0;return S.endsWith("/")&&R++,G.startsWith("/")&&R++,2==R?S+G.substring(1):1==R?S+G:S+"/"+G}function tt(S){const G=S.match(/#|\?|$/),R=G&&G.index||S.length;return S.slice(0,R-("/"===S[R-1]?1:0))+S.slice(R)}function Ht(S){return S&&"?"!==S[0]?"?"+S:S}let Xe=(()=>{class S{historyGo(R){throw new Error("Not implemented")}}return S.\u0275fac=function(R){return new(R||S)},S.\u0275prov=c.Yz7({token:S,factory:function(){return(0,c.f3M)(St)},providedIn:"root"}),S})();const Ye=new c.OlP("appBaseHref");let St=(()=>{class S extends Xe{constructor(R,Y){super(),this._platformLocation=R,this._removeListenerFns=[],this._baseHref=Y??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(xe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(R){this._removeListenerFns.push(this._platformLocation.onPopState(R),this._platformLocation.onHashChange(R))}getBaseHref(){return this._baseHref}prepareExternalUrl(R){return ft(this._baseHref,R)}path(R=!1){const Y=this._platformLocation.pathname+Ht(this._platformLocation.search),we=this._platformLocation.hash;return we&&R?`${Y}${we}`:Y}pushState(R,Y,we,pt){const wt=this.prepareExternalUrl(we+Ht(pt));this._platformLocation.pushState(R,Y,wt)}replaceState(R,Y,we,pt){const wt=this.prepareExternalUrl(we+Ht(pt));this._platformLocation.replaceState(R,Y,wt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(R=0){this._platformLocation.historyGo?.(R)}}return S.\u0275fac=function(R){return new(R||S)(c.LFG(ce),c.LFG(Ye,8))},S.\u0275prov=c.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})(),At=(()=>{class S extends Xe{constructor(R,Y){super(),this._platformLocation=R,this._baseHref="",this._removeListenerFns=[],null!=Y&&(this._baseHref=Y)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(R){this._removeListenerFns.push(this._platformLocation.onPopState(R),this._platformLocation.onHashChange(R))}getBaseHref(){return this._baseHref}path(R=!1){let Y=this._platformLocation.hash;return null==Y&&(Y="#"),Y.length>0?Y.substring(1):Y}prepareExternalUrl(R){const Y=ft(this._baseHref,R);return Y.length>0?"#"+Y:Y}pushState(R,Y,we,pt){let wt=this.prepareExternalUrl(we+Ht(pt));0==wt.length&&(wt=this._platformLocation.pathname),this._platformLocation.pushState(R,Y,wt)}replaceState(R,Y,we,pt){let wt=this.prepareExternalUrl(we+Ht(pt));0==wt.length&&(wt=this._platformLocation.pathname),this._platformLocation.replaceState(R,Y,wt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(R=0){this._platformLocation.historyGo?.(R)}}return S.\u0275fac=function(R){return new(R||S)(c.LFG(ce),c.LFG(Ye,8))},S.\u0275prov=c.Yz7({token:S,factory:S.\u0275fac}),S})(),ae=(()=>{class S{constructor(R){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=R;const Y=this._locationStrategy.getBaseHref();this._baseHref=tt(xt(Y)),this._locationStrategy.onPopState(we=>{this._subject.emit({url:this.path(!0),pop:!0,state:we.state,type:we.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(R=!1){return this.normalize(this._locationStrategy.path(R))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(R,Y=""){return this.path()==this.normalize(R+Ht(Y))}normalize(R){return S.stripTrailingSlash(function Je(S,G){return S&&G.startsWith(S)?G.substring(S.length):G}(this._baseHref,xt(R)))}prepareExternalUrl(R){return R&&"/"!==R[0]&&(R="/"+R),this._locationStrategy.prepareExternalUrl(R)}go(R,Y="",we=null){this._locationStrategy.pushState(we,"",R,Y),this._notifyUrlChangeListeners(this.prepareExternalUrl(R+Ht(Y)),we)}replaceState(R,Y="",we=null){this._locationStrategy.replaceState(we,"",R,Y),this._notifyUrlChangeListeners(this.prepareExternalUrl(R+Ht(Y)),we)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(R=0){this._locationStrategy.historyGo?.(R)}onUrlChange(R){return this._urlChangeListeners.push(R),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Y=>{this._notifyUrlChangeListeners(Y.url,Y.state)})),()=>{const Y=this._urlChangeListeners.indexOf(R);this._urlChangeListeners.splice(Y,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(R="",Y){this._urlChangeListeners.forEach(we=>we(R,Y))}subscribe(R,Y,we){return this._subject.subscribe({next:R,error:Y,complete:we})}}return S.normalizeQueryParams=Ht,S.joinWithSlash=ft,S.stripTrailingSlash=tt,S.\u0275fac=function(R){return new(R||S)(c.LFG(Xe))},S.\u0275prov=c.Yz7({token:S,factory:function(){return function Ne(){return new ae((0,c.LFG)(Xe))}()},providedIn:"root"}),S})();function xt(S){return S.replace(/\/index.html$/,"")}function Is(S,G){G=encodeURIComponent(G);for(const R of S.split(";")){const Y=R.indexOf("="),[we,pt]=-1==Y?[R,""]:[R.slice(0,Y),R.slice(Y+1)];if(we.trim()===G)return decodeURIComponent(pt)}return null}let ur=(()=>{class S{constructor(R,Y,we,pt){this._iterableDiffers=R,this._keyValueDiffers=Y,this._ngEl=we,this._renderer=pt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(R){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof R?R.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(R){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof R?R.split(/\s+/):R,this._rawClass&&((0,c.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const R=this._iterableDiffer.diff(this._rawClass);R&&this._applyIterableChanges(R)}else if(this._keyValueDiffer){const R=this._keyValueDiffer.diff(this._rawClass);R&&this._applyKeyValueChanges(R)}}_applyKeyValueChanges(R){R.forEachAddedItem(Y=>this._toggleClass(Y.key,Y.currentValue)),R.forEachChangedItem(Y=>this._toggleClass(Y.key,Y.currentValue)),R.forEachRemovedItem(Y=>{Y.previousValue&&this._toggleClass(Y.key,!1)})}_applyIterableChanges(R){R.forEachAddedItem(Y=>{if("string"!=typeof Y.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,c.AaK)(Y.item)}`);this._toggleClass(Y.item,!0)}),R.forEachRemovedItem(Y=>this._toggleClass(Y.item,!1))}_applyClasses(R){R&&(Array.isArray(R)||R instanceof Set?R.forEach(Y=>this._toggleClass(Y,!0)):Object.keys(R).forEach(Y=>this._toggleClass(Y,!!R[Y])))}_removeClasses(R){R&&(Array.isArray(R)||R instanceof Set?R.forEach(Y=>this._toggleClass(Y,!1)):Object.keys(R).forEach(Y=>this._toggleClass(Y,!1)))}_toggleClass(R,Y){(R=R.trim())&&R.split(/\s+/g).forEach(we=>{Y?this._renderer.addClass(this._ngEl.nativeElement,we):this._renderer.removeClass(this._ngEl.nativeElement,we)})}}return S.\u0275fac=function(R){return new(R||S)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},S.\u0275dir=c.lG2({type:S,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),S})();class Zi{constructor(G,R,Y,we){this.$implicit=G,this.ngForOf=R,this.index=Y,this.count=we}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let zi=(()=>{class S{constructor(R,Y,we){this._viewContainer=R,this._template=Y,this._differs=we,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(R){this._ngForOf=R,this._ngForOfDirty=!0}set ngForTrackBy(R){this._trackByFn=R}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(R){R&&(this._template=R)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const R=this._ngForOf;!this._differ&&R&&(this._differ=this._differs.find(R).create(this.ngForTrackBy))}if(this._differ){const R=this._differ.diff(this._ngForOf);R&&this._applyChanges(R)}}_applyChanges(R){const Y=this._viewContainer;R.forEachOperation((we,pt,wt)=>{if(null==we.previousIndex)Y.createEmbeddedView(this._template,new Zi(we.item,this._ngForOf,-1,-1),null===wt?void 0:wt);else if(null==wt)Y.remove(null===pt?void 0:pt);else if(null!==pt){const wn=Y.get(pt);Y.move(wn,wt),Ke(wn,we)}});for(let we=0,pt=Y.length;we<pt;we++){const wn=Y.get(we).context;wn.index=we,wn.count=pt,wn.ngForOf=this._ngForOf}R.forEachIdentityChange(we=>{Ke(Y.get(we.currentIndex),we)})}static ngTemplateContextGuard(R,Y){return!0}}return S.\u0275fac=function(R){return new(R||S)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},S.\u0275dir=c.lG2({type:S,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),S})();function Ke(S,G){S.context.$implicit=G.item}let nt=(()=>{class S{constructor(R,Y){this._viewContainer=R,this._context=new Tt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Y}set ngIf(R){this._context.$implicit=this._context.ngIf=R,this._updateView()}set ngIfThen(R){Vt("ngIfThen",R),this._thenTemplateRef=R,this._thenViewRef=null,this._updateView()}set ngIfElse(R){Vt("ngIfElse",R),this._elseTemplateRef=R,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(R,Y){return!0}}return S.\u0275fac=function(R){return new(R||S)(c.Y36(c.s_b),c.Y36(c.Rgc))},S.\u0275dir=c.lG2({type:S,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),S})();class Tt{constructor(){this.$implicit=null,this.ngIf=null}}function Vt(S,G){if(G&&!G.createEmbeddedView)throw new Error(`${S} must be a TemplateRef, but received '${(0,c.AaK)(G)}'.`)}let Yi=(()=>{class S{constructor(R,Y,we){this._ngEl=R,this._differs=Y,this._renderer=we,this._ngStyle=null,this._differ=null}set ngStyle(R){this._ngStyle=R,!this._differ&&R&&(this._differ=this._differs.find(R).create())}ngDoCheck(){if(this._differ){const R=this._differ.diff(this._ngStyle);R&&this._applyChanges(R)}}_setStyle(R,Y){const[we,pt]=R.split("."),wt=-1===we.indexOf("-")?void 0:c.JOm.DashCase;null!=Y?this._renderer.setStyle(this._ngEl.nativeElement,we,pt?`${Y}${pt}`:Y,wt):this._renderer.removeStyle(this._ngEl.nativeElement,we,wt)}_applyChanges(R){R.forEachRemovedItem(Y=>this._setStyle(Y.key,null)),R.forEachAddedItem(Y=>this._setStyle(Y.key,Y.currentValue)),R.forEachChangedItem(Y=>this._setStyle(Y.key,Y.currentValue))}}return S.\u0275fac=function(R){return new(R||S)(c.Y36(c.SBq),c.Y36(c.aQg),c.Y36(c.Qsj))},S.\u0275dir=c.lG2({type:S,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),S})();class Fo{createSubscription(G,R){return G.subscribe({next:R,error:Y=>{throw Y}})}dispose(G){G.unsubscribe()}}class rs{createSubscription(G,R){return G.then(R,Y=>{throw Y})}dispose(G){}}const Qi=new rs,Rs=new Fo;let Do=(()=>{class S{constructor(R){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=R}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(R){return this._obj?R!==this._obj?(this._dispose(),this.transform(R)):this._latestValue:(R&&this._subscribe(R),this._latestValue)}_subscribe(R){this._obj=R,this._strategy=this._selectStrategy(R),this._subscription=this._strategy.createSubscription(R,Y=>this._updateLatestValue(R,Y))}_selectStrategy(R){if((0,c.QGY)(R))return Qi;if((0,c.F4k)(R))return Rs;throw function Ui(S,G){return new c.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(R,Y){R===this._obj&&(this._latestValue=Y,this._ref.markForCheck())}}return S.\u0275fac=function(R){return new(R||S)(c.Y36(c.sBO,16))},S.\u0275pipe=c.Yjl({name:"async",type:S,pure:!1,standalone:!0}),S})(),fo=(()=>{class S{}return S.\u0275fac=function(R){return new(R||S)},S.\u0275mod=c.oAB({type:S}),S.\u0275inj=c.cJS({}),S})();const Ci="browser";function ks(S){return"server"===S}let Co=(()=>{class S{}return S.\u0275prov=(0,c.Yz7)({token:S,providedIn:"root",factory:()=>new Zo((0,c.LFG)(xe),window)}),S})();class Zo{constructor(G,R){this.document=G,this.window=R,this.offset=()=>[0,0]}setOffset(G){this.offset=Array.isArray(G)?()=>G:G}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(G){this.supportsScrolling()&&this.window.scrollTo(G[0],G[1])}scrollToAnchor(G){if(!this.supportsScrolling())return;const R=function ni(S,G){const R=S.getElementById(G)||S.getElementsByName(G)[0];if(R)return R;if("function"==typeof S.createTreeWalker&&S.body&&(S.body.createShadowRoot||S.body.attachShadow)){const Y=S.createTreeWalker(S.body,NodeFilter.SHOW_ELEMENT);let we=Y.currentNode;for(;we;){const pt=we.shadowRoot;if(pt){const wt=pt.getElementById(G)||pt.querySelector(`[name="${G}"]`);if(wt)return wt}we=Y.nextNode()}}return null}(this.document,G);R&&(this.scrollToElement(R),R.focus())}setHistoryScrollRestoration(G){if(this.supportScrollRestoration()){const R=this.window.history;R&&R.scrollRestoration&&(R.scrollRestoration=G)}}scrollToElement(G){const R=G.getBoundingClientRect(),Y=R.left+this.window.pageXOffset,we=R.top+this.window.pageYOffset,pt=this.offset();this.window.scrollTo(Y-pt[0],we-pt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const G=ui(this.window.history)||ui(Object.getPrototypeOf(this.window.history));return!(!G||!G.writable&&!G.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ui(S){return Object.getOwnPropertyDescriptor(S,"scrollRestoration")}class _i{}},529:(nn,it,V)=>{V.d(it,{JF:()=>br,eN:()=>Ot});var c=V(6895),k=V(4650),H=V(9646),be=V(9751),me=V(4351),Fe=V(9300),xe=V(4004);class ce{}class We{}class re{constructor(Ee){this.normalizedNames=new Map,this.lazyUpdate=null,Ee?this.lazyInit="string"==typeof Ee?()=>{this.headers=new Map,Ee.split("\n").forEach(pe=>{const lt=pe.indexOf(":");if(lt>0){const dt=pe.slice(0,lt),fn=dt.toLowerCase(),Cn=pe.slice(lt+1).trim();this.maybeSetNormalizedName(dt,fn),this.headers.has(fn)?this.headers.get(fn).push(Cn):this.headers.set(fn,[Cn])}})}:()=>{this.headers=new Map,Object.keys(Ee).forEach(pe=>{let lt=Ee[pe];const dt=pe.toLowerCase();"string"==typeof lt&&(lt=[lt]),lt.length>0&&(this.headers.set(dt,lt),this.maybeSetNormalizedName(pe,dt))})}:this.headers=new Map}has(Ee){return this.init(),this.headers.has(Ee.toLowerCase())}get(Ee){this.init();const pe=this.headers.get(Ee.toLowerCase());return pe&&pe.length>0?pe[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Ee){return this.init(),this.headers.get(Ee.toLowerCase())||null}append(Ee,pe){return this.clone({name:Ee,value:pe,op:"a"})}set(Ee,pe){return this.clone({name:Ee,value:pe,op:"s"})}delete(Ee,pe){return this.clone({name:Ee,value:pe,op:"d"})}maybeSetNormalizedName(Ee,pe){this.normalizedNames.has(pe)||this.normalizedNames.set(pe,Ee)}init(){this.lazyInit&&(this.lazyInit instanceof re?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Ee=>this.applyUpdate(Ee)),this.lazyUpdate=null))}copyFrom(Ee){Ee.init(),Array.from(Ee.headers.keys()).forEach(pe=>{this.headers.set(pe,Ee.headers.get(pe)),this.normalizedNames.set(pe,Ee.normalizedNames.get(pe))})}clone(Ee){const pe=new re;return pe.lazyInit=this.lazyInit&&this.lazyInit instanceof re?this.lazyInit:this,pe.lazyUpdate=(this.lazyUpdate||[]).concat([Ee]),pe}applyUpdate(Ee){const pe=Ee.name.toLowerCase();switch(Ee.op){case"a":case"s":let lt=Ee.value;if("string"==typeof lt&&(lt=[lt]),0===lt.length)return;this.maybeSetNormalizedName(Ee.name,pe);const dt=("a"===Ee.op?this.headers.get(pe):void 0)||[];dt.push(...lt),this.headers.set(pe,dt);break;case"d":const fn=Ee.value;if(fn){let Cn=this.headers.get(pe);if(!Cn)return;Cn=Cn.filter(Yn=>-1===fn.indexOf(Yn)),0===Cn.length?(this.headers.delete(pe),this.normalizedNames.delete(pe)):this.headers.set(pe,Cn)}else this.headers.delete(pe),this.normalizedNames.delete(pe)}}forEach(Ee){this.init(),Array.from(this.normalizedNames.keys()).forEach(pe=>Ee(this.normalizedNames.get(pe),this.headers.get(pe)))}}class Oe{encodeKey(Ee){return Ht(Ee)}encodeValue(Ee){return Ht(Ee)}decodeKey(Ee){return decodeURIComponent(Ee)}decodeValue(Ee){return decodeURIComponent(Ee)}}const ft=/%(\d[a-f0-9])/gi,tt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ht(ot){return encodeURIComponent(ot).replace(ft,(Ee,pe)=>tt[pe]??Ee)}function Xe(ot){return`${ot}`}class Ye{constructor(Ee={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Ee.encoder||new Oe,Ee.fromString){if(Ee.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function yt(ot,Ee){const pe=new Map;return ot.length>0&&ot.replace(/^\?/,"").split("&").forEach(dt=>{const fn=dt.indexOf("="),[Cn,Yn]=-1==fn?[Ee.decodeKey(dt),""]:[Ee.decodeKey(dt.slice(0,fn)),Ee.decodeValue(dt.slice(fn+1))],zt=pe.get(Cn)||[];zt.push(Yn),pe.set(Cn,zt)}),pe}(Ee.fromString,this.encoder)}else Ee.fromObject?(this.map=new Map,Object.keys(Ee.fromObject).forEach(pe=>{const lt=Ee.fromObject[pe],dt=Array.isArray(lt)?lt.map(Xe):[Xe(lt)];this.map.set(pe,dt)})):this.map=null}has(Ee){return this.init(),this.map.has(Ee)}get(Ee){this.init();const pe=this.map.get(Ee);return pe?pe[0]:null}getAll(Ee){return this.init(),this.map.get(Ee)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Ee,pe){return this.clone({param:Ee,value:pe,op:"a"})}appendAll(Ee){const pe=[];return Object.keys(Ee).forEach(lt=>{const dt=Ee[lt];Array.isArray(dt)?dt.forEach(fn=>{pe.push({param:lt,value:fn,op:"a"})}):pe.push({param:lt,value:dt,op:"a"})}),this.clone(pe)}set(Ee,pe){return this.clone({param:Ee,value:pe,op:"s"})}delete(Ee,pe){return this.clone({param:Ee,value:pe,op:"d"})}toString(){return this.init(),this.keys().map(Ee=>{const pe=this.encoder.encodeKey(Ee);return this.map.get(Ee).map(lt=>pe+"="+this.encoder.encodeValue(lt)).join("&")}).filter(Ee=>""!==Ee).join("&")}clone(Ee){const pe=new Ye({encoder:this.encoder});return pe.cloneFrom=this.cloneFrom||this,pe.updates=(this.updates||[]).concat(Ee),pe}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Ee=>this.map.set(Ee,this.cloneFrom.map.get(Ee))),this.updates.forEach(Ee=>{switch(Ee.op){case"a":case"s":const pe=("a"===Ee.op?this.map.get(Ee.param):void 0)||[];pe.push(Xe(Ee.value)),this.map.set(Ee.param,pe);break;case"d":if(void 0===Ee.value){this.map.delete(Ee.param);break}{let lt=this.map.get(Ee.param)||[];const dt=lt.indexOf(Xe(Ee.value));-1!==dt&&lt.splice(dt,1),lt.length>0?this.map.set(Ee.param,lt):this.map.delete(Ee.param)}}}),this.cloneFrom=this.updates=null)}}class At{constructor(){this.map=new Map}set(Ee,pe){return this.map.set(Ee,pe),this}get(Ee){return this.map.has(Ee)||this.map.set(Ee,Ee.defaultValue()),this.map.get(Ee)}delete(Ee){return this.map.delete(Ee),this}has(Ee){return this.map.has(Ee)}keys(){return this.map.keys()}}function Ne(ot){return typeof ArrayBuffer<"u"&&ot instanceof ArrayBuffer}function Je(ot){return typeof Blob<"u"&&ot instanceof Blob}function xt(ot){return typeof FormData<"u"&&ot instanceof FormData}class He{constructor(Ee,pe,lt,dt){let fn;if(this.url=pe,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Ee.toUpperCase(),function ae(ot){switch(ot){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||dt?(this.body=void 0!==lt?lt:null,fn=dt):fn=lt,fn&&(this.reportProgress=!!fn.reportProgress,this.withCredentials=!!fn.withCredentials,fn.responseType&&(this.responseType=fn.responseType),fn.headers&&(this.headers=fn.headers),fn.context&&(this.context=fn.context),fn.params&&(this.params=fn.params)),this.headers||(this.headers=new re),this.context||(this.context=new At),this.params){const Cn=this.params.toString();if(0===Cn.length)this.urlWithParams=pe;else{const Yn=pe.indexOf("?");this.urlWithParams=pe+(-1===Yn?"?":Yn<pe.length-1?"&":"")+Cn}}else this.params=new Ye,this.urlWithParams=pe}serializeBody(){return null===this.body?null:Ne(this.body)||Je(this.body)||xt(this.body)||function Pe(ot){return typeof URLSearchParams<"u"&&ot instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ye?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||xt(this.body)?null:Je(this.body)?this.body.type||null:Ne(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ye?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Ee={}){const pe=Ee.method||this.method,lt=Ee.url||this.url,dt=Ee.responseType||this.responseType,fn=void 0!==Ee.body?Ee.body:this.body,Cn=void 0!==Ee.withCredentials?Ee.withCredentials:this.withCredentials,Yn=void 0!==Ee.reportProgress?Ee.reportProgress:this.reportProgress;let zt=Ee.headers||this.headers,ar=Ee.params||this.params;const Tn=Ee.context??this.context;return void 0!==Ee.setHeaders&&(zt=Object.keys(Ee.setHeaders).reduce((kr,Sn)=>kr.set(Sn,Ee.setHeaders[Sn]),zt)),Ee.setParams&&(ar=Object.keys(Ee.setParams).reduce((kr,Sn)=>kr.set(Sn,Ee.setParams[Sn]),ar)),new He(pe,lt,fn,{params:ar,headers:zt,context:Tn,reportProgress:Yn,responseType:dt,withCredentials:Cn})}}var Qe=(()=>((Qe=Qe||{})[Qe.Sent=0]="Sent",Qe[Qe.UploadProgress=1]="UploadProgress",Qe[Qe.ResponseHeader=2]="ResponseHeader",Qe[Qe.DownloadProgress=3]="DownloadProgress",Qe[Qe.Response=4]="Response",Qe[Qe.User=5]="User",Qe))();class Se{constructor(Ee,pe=200,lt="OK"){this.headers=Ee.headers||new re,this.status=void 0!==Ee.status?Ee.status:pe,this.statusText=Ee.statusText||lt,this.url=Ee.url||null,this.ok=this.status>=200&&this.status<300}}class ke extends Se{constructor(Ee={}){super(Ee),this.type=Qe.ResponseHeader}clone(Ee={}){return new ke({headers:Ee.headers||this.headers,status:void 0!==Ee.status?Ee.status:this.status,statusText:Ee.statusText||this.statusText,url:Ee.url||this.url||void 0})}}class je extends Se{constructor(Ee={}){super(Ee),this.type=Qe.Response,this.body=void 0!==Ee.body?Ee.body:null}clone(Ee={}){return new je({body:void 0!==Ee.body?Ee.body:this.body,headers:Ee.headers||this.headers,status:void 0!==Ee.status?Ee.status:this.status,statusText:Ee.statusText||this.statusText,url:Ee.url||this.url||void 0})}}class Ge extends Se{constructor(Ee){super(Ee,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Ee.url||"(unknown url)"}`:`Http failure response for ${Ee.url||"(unknown url)"}: ${Ee.status} ${Ee.statusText}`,this.error=Ee.error||null}}function Ct(ot,Ee){return{body:Ee,headers:ot.headers,context:ot.context,observe:ot.observe,params:ot.params,reportProgress:ot.reportProgress,responseType:ot.responseType,withCredentials:ot.withCredentials}}let Ot=(()=>{class ot{constructor(pe){this.handler=pe}request(pe,lt,dt={}){let fn;if(pe instanceof He)fn=pe;else{let zt,ar;zt=dt.headers instanceof re?dt.headers:new re(dt.headers),dt.params&&(ar=dt.params instanceof Ye?dt.params:new Ye({fromObject:dt.params})),fn=new He(pe,lt,void 0!==dt.body?dt.body:null,{headers:zt,context:dt.context,params:ar,reportProgress:dt.reportProgress,responseType:dt.responseType||"json",withCredentials:dt.withCredentials})}const Cn=(0,H.of)(fn).pipe((0,me.b)(zt=>this.handler.handle(zt)));if(pe instanceof He||"events"===dt.observe)return Cn;const Yn=Cn.pipe((0,Fe.h)(zt=>zt instanceof je));switch(dt.observe||"body"){case"body":switch(fn.responseType){case"arraybuffer":return Yn.pipe((0,xe.U)(zt=>{if(null!==zt.body&&!(zt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return zt.body}));case"blob":return Yn.pipe((0,xe.U)(zt=>{if(null!==zt.body&&!(zt.body instanceof Blob))throw new Error("Response is not a Blob.");return zt.body}));case"text":return Yn.pipe((0,xe.U)(zt=>{if(null!==zt.body&&"string"!=typeof zt.body)throw new Error("Response is not a string.");return zt.body}));default:return Yn.pipe((0,xe.U)(zt=>zt.body))}case"response":return Yn;default:throw new Error(`Unreachable: unhandled observe type ${dt.observe}}`)}}delete(pe,lt={}){return this.request("DELETE",pe,lt)}get(pe,lt={}){return this.request("GET",pe,lt)}head(pe,lt={}){return this.request("HEAD",pe,lt)}jsonp(pe,lt){return this.request("JSONP",pe,{params:(new Ye).append(lt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(pe,lt={}){return this.request("OPTIONS",pe,lt)}patch(pe,lt,dt={}){return this.request("PATCH",pe,Ct(dt,lt))}post(pe,lt,dt={}){return this.request("POST",pe,Ct(dt,lt))}put(pe,lt,dt={}){return this.request("PUT",pe,Ct(dt,lt))}}return ot.\u0275fac=function(pe){return new(pe||ot)(k.LFG(ce))},ot.\u0275prov=k.Yz7({token:ot,factory:ot.\u0275fac}),ot})();class Ft{constructor(Ee,pe){this.next=Ee,this.interceptor=pe}handle(Ee){return this.interceptor.intercept(Ee,this.next)}}const Qt=new k.OlP("HTTP_INTERCEPTORS");let ln=(()=>{class ot{intercept(pe,lt){return lt.handle(pe)}}return ot.\u0275fac=function(pe){return new(pe||ot)},ot.\u0275prov=k.Yz7({token:ot,factory:ot.\u0275fac}),ot})();const Jn=/^\)\]\}',?\n/;let dr=(()=>{class ot{constructor(pe){this.xhrFactory=pe}handle(pe){if("JSONP"===pe.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new be.y(lt=>{const dt=this.xhrFactory.build();if(dt.open(pe.method,pe.urlWithParams),pe.withCredentials&&(dt.withCredentials=!0),pe.headers.forEach((De,oe)=>dt.setRequestHeader(De,oe.join(","))),pe.headers.has("Accept")||dt.setRequestHeader("Accept","application/json, text/plain, */*"),!pe.headers.has("Content-Type")){const De=pe.detectContentTypeHeader();null!==De&&dt.setRequestHeader("Content-Type",De)}if(pe.responseType){const De=pe.responseType.toLowerCase();dt.responseType="json"!==De?De:"text"}const fn=pe.serializeBody();let Cn=null;const Yn=()=>{if(null!==Cn)return Cn;const De=dt.statusText||"OK",oe=new re(dt.getAllResponseHeaders()),ge=function Bn(ot){return"responseURL"in ot&&ot.responseURL?ot.responseURL:/^X-Request-URL:/m.test(ot.getAllResponseHeaders())?ot.getResponseHeader("X-Request-URL"):null}(dt)||pe.url;return Cn=new ke({headers:oe,status:dt.status,statusText:De,url:ge}),Cn},zt=()=>{let{headers:De,status:oe,statusText:ge,url:Te}=Yn(),X=null;204!==oe&&(X=typeof dt.response>"u"?dt.responseText:dt.response),0===oe&&(oe=X?200:0);let $=oe>=200&&oe<300;if("json"===pe.responseType&&"string"==typeof X){const ee=X;X=X.replace(Jn,"");try{X=""!==X?JSON.parse(X):null}catch(Ue){X=ee,$&&($=!1,X={error:Ue,text:X})}}$?(lt.next(new je({body:X,headers:De,status:oe,statusText:ge,url:Te||void 0})),lt.complete()):lt.error(new Ge({error:X,headers:De,status:oe,statusText:ge,url:Te||void 0}))},ar=De=>{const{url:oe}=Yn(),ge=new Ge({error:De,status:dt.status||0,statusText:dt.statusText||"Unknown Error",url:oe||void 0});lt.error(ge)};let Tn=!1;const kr=De=>{Tn||(lt.next(Yn()),Tn=!0);let oe={type:Qe.DownloadProgress,loaded:De.loaded};De.lengthComputable&&(oe.total=De.total),"text"===pe.responseType&&!!dt.responseText&&(oe.partialText=dt.responseText),lt.next(oe)},Sn=De=>{let oe={type:Qe.UploadProgress,loaded:De.loaded};De.lengthComputable&&(oe.total=De.total),lt.next(oe)};return dt.addEventListener("load",zt),dt.addEventListener("error",ar),dt.addEventListener("timeout",ar),dt.addEventListener("abort",ar),pe.reportProgress&&(dt.addEventListener("progress",kr),null!==fn&&dt.upload&&dt.upload.addEventListener("progress",Sn)),dt.send(fn),lt.next({type:Qe.Sent}),()=>{dt.removeEventListener("error",ar),dt.removeEventListener("abort",ar),dt.removeEventListener("load",zt),dt.removeEventListener("timeout",ar),pe.reportProgress&&(dt.removeEventListener("progress",kr),null!==fn&&dt.upload&&dt.upload.removeEventListener("progress",Sn)),dt.readyState!==dt.DONE&&dt.abort()}})}}return ot.\u0275fac=function(pe){return new(pe||ot)(k.LFG(c.JF))},ot.\u0275prov=k.Yz7({token:ot,factory:ot.\u0275fac}),ot})();const hr=new k.OlP("XSRF_COOKIE_NAME"),en=new k.OlP("XSRF_HEADER_NAME");class On{}let Nr=(()=>{class ot{constructor(pe,lt,dt){this.doc=pe,this.platform=lt,this.cookieName=dt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const pe=this.doc.cookie||"";return pe!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,c.Mx)(pe,this.cookieName),this.lastCookieString=pe),this.lastToken}}return ot.\u0275fac=function(pe){return new(pe||ot)(k.LFG(c.K0),k.LFG(k.Lbi),k.LFG(hr))},ot.\u0275prov=k.Yz7({token:ot,factory:ot.\u0275fac}),ot})(),or=(()=>{class ot{constructor(pe,lt){this.tokenService=pe,this.headerName=lt}intercept(pe,lt){const dt=pe.url.toLowerCase();if("GET"===pe.method||"HEAD"===pe.method||dt.startsWith("http://")||dt.startsWith("https://"))return lt.handle(pe);const fn=this.tokenService.getToken();return null!==fn&&!pe.headers.has(this.headerName)&&(pe=pe.clone({headers:pe.headers.set(this.headerName,fn)})),lt.handle(pe)}}return ot.\u0275fac=function(pe){return new(pe||ot)(k.LFG(On),k.LFG(en))},ot.\u0275prov=k.Yz7({token:ot,factory:ot.\u0275fac}),ot})(),Ut=(()=>{class ot{constructor(pe,lt){this.backend=pe,this.injector=lt,this.chain=null}handle(pe){if(null===this.chain){const lt=this.injector.get(Qt,[]);this.chain=lt.reduceRight((dt,fn)=>new Ft(dt,fn),this.backend)}return this.chain.handle(pe)}}return ot.\u0275fac=function(pe){return new(pe||ot)(k.LFG(We),k.LFG(k.zs3))},ot.\u0275prov=k.Yz7({token:ot,factory:ot.\u0275fac}),ot})(),Zn=(()=>{class ot{static disable(){return{ngModule:ot,providers:[{provide:or,useClass:ln}]}}static withOptions(pe={}){return{ngModule:ot,providers:[pe.cookieName?{provide:hr,useValue:pe.cookieName}:[],pe.headerName?{provide:en,useValue:pe.headerName}:[]]}}}return ot.\u0275fac=function(pe){return new(pe||ot)},ot.\u0275mod=k.oAB({type:ot}),ot.\u0275inj=k.cJS({providers:[or,{provide:Qt,useExisting:or,multi:!0},{provide:On,useClass:Nr},{provide:hr,useValue:"XSRF-TOKEN"},{provide:en,useValue:"X-XSRF-TOKEN"}]}),ot})(),br=(()=>{class ot{}return ot.\u0275fac=function(pe){return new(pe||ot)},ot.\u0275mod=k.oAB({type:ot}),ot.\u0275inj=k.cJS({providers:[Ot,{provide:ce,useClass:Ut},dr,{provide:We,useExisting:dr}],imports:[Zn.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),ot})()},4650:(nn,it,V)=>{V.d(it,{$8M:()=>Xo,$Z:()=>Ud,AFp:()=>k0,ALo:()=>t0,AaK:()=>ce,AsE:()=>Hs,BQk:()=>rh,CHM:()=>Yo,CRH:()=>d0,CZH:()=>Em,CqO:()=>Xg,D6c:()=>CD,EJc:()=>BI,EiD:()=>od,EpF:()=>$f,F4k:()=>Jg,FYo:()=>_p,FiY:()=>dn,G48:()=>aD,GfV:()=>Ep,Gpc:()=>fe,JOm:()=>Xa,JVY:()=>dh,KtG:()=>po,L6k:()=>qi,LAX:()=>fc,LFG:()=>Ar,LSH:()=>Xu,Lbi:()=>FI,Lck:()=>Nw,MAs:()=>Kc,MMx:()=>Qy,NdJ:()=>Hf,OlP:()=>Br,Oqu:()=>Mi,PXZ:()=>tD,Q6J:()=>nh,QGY:()=>Dl,QP$:()=>$t,QbO:()=>LI,Qsj:()=>Om,R0b:()=>uu,RDi:()=>lc,Rgc:()=>op,SBq:()=>Ic,Sil:()=>$I,Suo:()=>c0,TTD:()=>er,TgZ:()=>Il,Tol:()=>jy,Udp:()=>Qf,VKq:()=>q_,W1O:()=>g0,WLB:()=>Z_,X6Q:()=>oD,XFs:()=>Ut,Xpm:()=>Te,Xts:()=>ph,Y36:()=>dl,YKP:()=>U_,YNc:()=>Yg,Yjl:()=>$e,Yz7:()=>It,Z0I:()=>vn,ZZ4:()=>Iv,_Bn:()=>V_,_UZ:()=>bu,_Vd:()=>Vu,_c5:()=>DD,_uU:()=>si,aQg:()=>Dv,c2e:()=>VI,cJS:()=>ze,cg1:()=>Hy,d8E:()=>$y,dDg:()=>QI,dqk:()=>dt,eBb:()=>Nl,eFA:()=>q0,ekj:()=>Jf,eoX:()=>z0,f3M:()=>x,g9A:()=>L0,h0i:()=>uh,hGG:()=>bD,hij:()=>xi,iGM:()=>l0,ifc:()=>lt,ip1:()=>P0,jDz:()=>j_,kL8:()=>c_,lG2:()=>jn,lcZ:()=>n0,lqb:()=>Lu,lri:()=>H0,mCW:()=>et,n5z:()=>yi,oAB:()=>Ue,oJD:()=>mc,oxw:()=>zf,pB0:()=>I,q3G:()=>$s,q4F:()=>wp,qLn:()=>Ha,qOj:()=>Pf,qZA:()=>su,qzn:()=>wa,rWj:()=>G0,sBO:()=>uD,sIi:()=>Wc,s_b:()=>ym,soG:()=>wm,tb:()=>V0,tp0:()=>xn,uIk:()=>Ff,vHH:()=>tt,vpe:()=>Zu,wAp:()=>sr,xp6:()=>Jh,ynx:()=>ou,z2F:()=>Im,z3N:()=>xa,zSh:()=>_h,zs3:()=>_u});var c=V(7579),k=V(727),H=V(9751),be=V(6451),me=V(3099);function Fe(t){for(let r in t)if(t[r]===Fe)return r;throw Error("Could not find renamed property on target object.")}function xe(t,r){for(const s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=r[s])}function ce(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ce).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function We(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const re=Fe({__forward_ref__:Fe});function fe(t){return t.__forward_ref__=fe,t.toString=function(){return ce(this())},t}function Oe(t){return yt(t)?t():t}function yt(t){return"function"==typeof t&&t.hasOwnProperty(re)&&t.__forward_ref__===fe}class tt extends Error{constructor(r,s){super(function Ht(t,r){return`NG0${Math.abs(t)}${r?": "+r.trim():""}`}(r,s)),this.code=r}}function Xe(t){return"string"==typeof t?t:null==t?"":String(t)}function Ne(t,r){throw new tt(-201,!1)}function ln(t,r){null==t&&function Dt(t,r,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,t,null,"!=")}function It(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ze(t){return{providers:t.providers||[],imports:t.imports||[]}}function Kt(t){return Jn(t,en)||Jn(t,Nr)}function vn(t){return null!==Kt(t)}function Jn(t,r){return t.hasOwnProperty(r)?t[r]:null}function hr(t){return t&&(t.hasOwnProperty(On)||t.hasOwnProperty(or))?t[On]:null}const en=Fe({\u0275prov:Fe}),On=Fe({\u0275inj:Fe}),Nr=Fe({ngInjectableDef:Fe}),or=Fe({ngInjectorDef:Fe});var Ut=(()=>((Ut=Ut||{})[Ut.Default=0]="Default",Ut[Ut.Host=1]="Host",Ut[Ut.Self=2]="Self",Ut[Ut.SkipSelf=4]="SkipSelf",Ut[Ut.Optional=8]="Optional",Ut))();let Pn;function Zn(t){const r=Pn;return Pn=t,r}function br(t,r,s){const a=Kt(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&Ut.Optional?null:void 0!==r?r:void Ne(ce(t))}function Cr(t){return{toString:t}.toString()}var ot=(()=>((ot=ot||{})[ot.OnPush=0]="OnPush",ot[ot.Default=1]="Default",ot))(),lt=(()=>{return(t=lt||(lt={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",lt;var t})();const dt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Yn={},zt=[],ar=Fe({\u0275cmp:Fe}),Tn=Fe({\u0275dir:Fe}),kr=Fe({\u0275pipe:Fe}),Sn=Fe({\u0275mod:Fe}),De=Fe({\u0275fac:Fe}),oe=Fe({__NG_ELEMENT_ID__:Fe});let ge=0;function Te(t){return Cr(()=>{const s=!0===t.standalone,a={},l={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===ot.OnPush,directiveDefs:null,pipeDefs:null,standalone:s,dependencies:s&&t.dependencies||null,getStandaloneInjector:null,selectors:t.selectors||zt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||lt.Emulated,id:"c"+ge++,styles:t.styles||zt,_:null,setInput:null,schemas:t.schemas||null,tView:null},h=t.dependencies,y=t.features;return l.inputs=cn(t.inputs,a),l.outputs=cn(t.outputs),y&&y.forEach(D=>D(l)),l.directiveDefs=h?()=>("function"==typeof h?h():h).map($).filter(ee):null,l.pipeDefs=h?()=>("function"==typeof h?h():h).map(gt).filter(ee):null,l})}function $(t){return ve(t)||Ie(t)}function ee(t){return null!==t}function Ue(t){return Cr(()=>({type:t.type,bootstrap:t.bootstrap||zt,declarations:t.declarations||zt,imports:t.imports||zt,exports:t.exports||zt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function cn(t,r){if(null==t)return Yn;const s={};for(const a in t)if(t.hasOwnProperty(a)){let l=t[a],h=l;Array.isArray(l)&&(h=l[1],l=l[0]),s[l]=a,r&&(r[l]=h)}return s}const jn=Te;function $e(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function ve(t){return t[ar]||null}function Ie(t){return t[Tn]||null}function gt(t){return t[kr]||null}function $t(t){const r=ve(t)||Ie(t)||gt(t);return null!==r&&r.standalone}function _n(t,r){const s=t[Sn]||null;if(!s&&!0===r)throw new Error(`Type ${ce(t)} does not have '\u0275mod' property.`);return s}function Vt(t){return Array.isArray(t)&&"object"==typeof t[1]}function on(t){return Array.isArray(t)&&!0===t[1]}function Qn(t){return 0!=(8&t.flags)}function Hr(t){return 2==(2&t.flags)}function lr(t){return 1==(1&t.flags)}function fr(t){return null!==t.template}function ns(t){return 0!=(256&t[2])}function pi(t,r){return t.hasOwnProperty(De)?t[De]:null}class ds{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function er(){return Ws}function Ws(t){return t.type.prototype.ngOnChanges&&(t.setInput=ss),Ps}function Ps(){const t=os(this),r=t?.current;if(r){const s=t.previous;if(s===Yn)t.previous=r;else for(let a in r)s[a]=r[a];t.current=null,this.ngOnChanges(r)}}function ss(t,r,s,a){const l=os(t)||function fo(t,r){return t[ho]=r}(t,{previous:Yn,current:null}),h=l.current||(l.current={}),y=l.previous,D=this.declaredInputs[s],M=y[D];h[D]=new ds(M&&M.currentValue,r,y===Yn),t[a]=r}er.ngInherit=!0;const ho="__ngSimpleChanges__";function os(t){return t[ho]||null}function Or(t){for(;Array.isArray(t);)t=t[0];return t}function ui(t,r){return Or(r[t])}function ni(t,r){return Or(r[t.index])}function _i(t,r){return t.data[r]}function gi(t,r){return t[r]}function rr(t,r){const s=r[t];return Vt(s)?s:s[0]}function as(t){return 64==(64&t[2])}function Ti(t,r){return null==r?null:t[r]}function Ks(t){t[18]=0}function li(t,r){t[5]+=r;let s=t,a=t[3];for(;null!==a&&(1===r&&1===s[5]||-1===r&&0===s[5]);)a[5]+=r,s=a,a=a[3]}const Rn={lFrame:Mo(null),bindingsEnabled:!0};function Oi(){return Rn.bindingsEnabled}function Lt(){return Rn.lFrame.lView}function tr(){return Rn.lFrame.tView}function Yo(t){return Rn.lFrame.contextLView=t,t[8]}function po(t){return Rn.lFrame.contextLView=null,t}function qr(){let t=fs();for(;null!==t&&64===t.type;)t=t.parent;return t}function fs(){return Rn.lFrame.currentTNode}function wi(t,r){const s=Rn.lFrame;s.currentTNode=t,s.isParent=r}function Zs(){return Rn.lFrame.isParent}function ci(){Rn.lFrame.isParent=!1}function A(){const t=Rn.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function hn(){return Rn.lFrame.bindingIndex++}function yr(t){const r=Rn.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,s}function ri(t,r){const s=Rn.lFrame;s.bindingIndex=s.bindingRootIndex=t,ps(r)}function ps(t){Rn.lFrame.currentDirectiveIndex=t}function Ys(t){const r=Rn.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}function So(){return Rn.lFrame.currentQueryIndex}function oa(t){Rn.lFrame.currentQueryIndex=t}function yo(t){const r=t[1];return 2===r.type?r.declTNode:1===r.type?t[6]:null}function ma(t,r,s){if(s&Ut.SkipSelf){let l=r,h=t;for(;!(l=l.parent,null!==l||s&Ut.Host||(l=yo(h),null===l||(h=h[15],10&l.type))););if(null===l)return!1;r=l,t=h}const a=Rn.lFrame=so();return a.currentTNode=r,a.lView=t,!0}function Ao(t){const r=so(),s=t[1];Rn.lFrame=r,r.currentTNode=s.firstChild,r.lView=t,r.tView=s,r.contextLView=t,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function so(){const t=Rn.lFrame,r=null===t?null:t.child;return null===r?Mo(t):r}function Mo(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function Qo(){const t=Rn.lFrame;return Rn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const S=Qo;function G(){const t=Qo();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function we(){return Rn.lFrame.selectedIndex}function pt(t){Rn.lFrame.selectedIndex=t}function wt(){const t=Rn.lFrame;return _i(t.tView,t.selectedIndex)}function zr(t,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const h=t.data[s].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:D,ngAfterViewInit:M,ngAfterViewChecked:B,ngOnDestroy:J}=h;y&&(t.contentHooks||(t.contentHooks=[])).push(-s,y),D&&((t.contentHooks||(t.contentHooks=[])).push(s,D),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(s,D)),M&&(t.viewHooks||(t.viewHooks=[])).push(-s,M),B&&((t.viewHooks||(t.viewHooks=[])).push(s,B),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(s,B)),null!=J&&(t.destroyHooks||(t.destroyHooks=[])).push(s,J)}}function Ur(t,r,s){Wr(t,r,3,s)}function oo(t,r,s,a){(3&t[2])===s&&Wr(t,r,s,a)}function Vs(t,r){let s=t[2];(3&s)===r&&(s&=2047,s+=1,t[2]=s)}function Wr(t,r,s,a){const h=a??-1,y=r.length-1;let D=0;for(let M=void 0!==a?65535&t[18]:0;M<y;M++)if("number"==typeof r[M+1]){if(D=r[M],null!=a&&D>=a)break}else r[M]<0&&(t[18]+=65536),(D<h||-1==h)&&(Ts(t,s,r,M),t[18]=(4294901760&t[18])+M+2),M++}function Ts(t,r,s,a){const l=s[a]<0,h=s[a+1],D=t[l?-s[a]:s[a]];if(l){if(t[2]>>11<t[18]>>16&&(3&t[2])===r){t[2]+=2048;try{h.call(D)}finally{}}}else try{h.call(D)}finally{}}class Ki{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function rn(t,r,s){let a=0;for(;a<s.length;){const l=s[a];if("number"==typeof l){if(0!==l)break;a++;const h=s[a++],y=s[a++],D=s[a++];t.setAttribute(r,y,D,h)}else{const h=l,y=s[++a];jt(h)?t.setProperty(r,h,y):t.setAttribute(r,h,y),a++}}return a}function _t(t){return 3===t||4===t||6===t}function jt(t){return 64===t.charCodeAt(0)}function xr(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const l=r[a];"number"==typeof l?s=l:0===s||aa(t,s,l,null,-1===s||2===s?r[++a]:null)}}return t}function aa(t,r,s,a,l){let h=0,y=t.length;if(-1===r)y=-1;else for(;h<t.length;){const D=t[h++];if("number"==typeof D){if(D===r){y=-1;break}if(D>r){y=h-1;break}}}for(;h<t.length;){const D=t[h];if("number"==typeof D)break;if(D===s){if(null===a)return void(null!==l&&(t[h+1]=l));if(a===t[h+1])return void(t[h+2]=l)}h++,null!==a&&h++,null!==l&&h++}-1!==y&&(t.splice(y,0,r),h=y+1),t.splice(h++,0,s),null!==a&&t.splice(h++,0,a),null!==l&&t.splice(h++,0,l)}function ua(t){return-1!==t}function Di(t){return 32767&t}function Bo(t,r){let s=function Su(t){return t>>16}(t),a=r;for(;s>0;)a=a[15],s--;return a}let va=!0;function la(t){const r=va;return va=t,r}let _a=0;const Mn={};function Pi(t,r){const s=Ln(t,r);if(-1!==s)return s;const a=r[1];a.firstCreatePass&&(t.injectorIndex=r.length,Lr(a.data,t),Lr(r,null),Lr(a.blueprint,null));const l=Ro(t,r),h=t.injectorIndex;if(ua(l)){const y=Di(l),D=Bo(l,r),M=D[1].data;for(let B=0;B<8;B++)r[h+B]=D[y+B]|M[y+B]}return r[h+8]=l,h}function Lr(t,r){t.push(0,0,0,0,0,0,0,0,r)}function Ln(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function Ro(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,l=r;for(;null!==l;){if(a=gs(l),null===a)return-1;if(s++,l=l[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function pr(t,r,s){!function No(t,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(oe)&&(a=s[oe]),null==a&&(a=s[oe]=_a++);const l=255&a;r.data[t+(l>>5)]|=1<<l}(t,r,s)}function Zr(t,r,s){if(s&Ut.Optional||void 0!==t)return t;Ne()}function Jt(t,r,s,a){if(s&Ut.Optional&&void 0===a&&(a=null),0==(s&(Ut.Self|Ut.Host))){const l=t[9],h=Zn(void 0);try{return l?l.get(r,a,s&Ut.Optional):br(r,a,s&Ut.Optional)}finally{Zn(h)}}return Zr(a,0,s)}function Qs(t,r,s,a=Ut.Default,l){if(null!==t){if(1024&r[2]){const y=function La(t,r,s,a,l){let h=t,y=r;for(;null!==h&&null!==y&&1024&y[2]&&!(256&y[2]);){const D=Aa(h,y,s,a|Ut.Self,Mn);if(D!==Mn)return D;let M=h.parent;if(!M){const B=y[21];if(B){const J=B.get(s,Mn,a);if(J!==Mn)return J}M=gs(y),y=y[15]}h=M}return l}(t,r,s,a,Mn);if(y!==Mn)return y}const h=Aa(t,r,s,a,Mn);if(h!==Mn)return h}return Jt(r,s,a,l)}function Aa(t,r,s,a,l){const h=function lu(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(oe)?t[oe]:void 0;return"number"==typeof r?r>=0?255&r:us:r}(s);if("function"==typeof h){if(!ma(r,t,a))return a&Ut.Host?Zr(l,0,a):Jt(r,s,a,l);try{const y=h(a);if(null!=y||a&Ut.Optional)return y;Ne()}finally{S()}}else if("number"==typeof h){let y=null,D=Ln(t,r),M=-1,B=a&Ut.Host?r[16][6]:null;for((-1===D||a&Ut.SkipSelf)&&(M=-1===D?Ro(t,r):r[D+8],-1!==M&&ca(a,!1)?(y=r[1],D=Di(M),r=Bo(M,r)):D=-1);-1!==D;){const J=r[1];if(_o(h,D,J.data)){const ue=Us(D,r,s,y,a,B);if(ue!==Mn)return ue}M=r[D+8],-1!==M&&ca(a,r[1].data[D+8]===B)&&_o(h,D,r)?(y=J,D=Di(M),r=Bo(M,r)):D=-1}}return l}function Us(t,r,s,a,l,h){const y=r[1],D=y.data[t+8],J=jo(D,y,s,null==a?Hr(D)&&va:a!=y&&0!=(3&D.type),l&Ut.Host&&h===D);return null!==J?Bs(r,y,J,D):Mn}function jo(t,r,s,a,l){const h=t.providerIndexes,y=r.data,D=1048575&h,M=t.directiveStart,J=h>>20,Le=l?D+J:t.directiveEnd;for(let ut=a?D:D+J;ut<Le;ut++){const Pt=y[ut];if(ut<M&&s===Pt||ut>=M&&Pt.type===s)return ut}if(l){const ut=y[M];if(ut&&fr(ut)&&ut.type===s)return M}return null}function Bs(t,r,s,a){let l=t[s];const h=r.data;if(function xo(t){return t instanceof Ki}(l)){const y=l;y.resolving&&function St(t,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new tt(-200,`Circular dependency in DI detected for ${t}${s}`)}(function Ye(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Xe(t)}(h[s]));const D=la(y.canSeeViewProviders);y.resolving=!0;const M=y.injectImpl?Zn(y.injectImpl):null;ma(t,a,Ut.Default);try{l=t[s]=y.factory(void 0,h,t,a),r.firstCreatePass&&s>=a.directiveStart&&function di(t,r,s){const{ngOnChanges:a,ngOnInit:l,ngDoCheck:h}=r.type.prototype;if(a){const y=Ws(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(t,y),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,y)}l&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-t,l),h&&((s.preOrderHooks||(s.preOrderHooks=[])).push(t,h),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,h))}(s,h[s],r)}finally{null!==M&&Zn(M),la(D),y.resolving=!1,S()}}return l}function _o(t,r,s){return!!(s[r+(t>>5)]&1<<t)}function ca(t,r){return!(t&Ut.Self||t&Ut.Host&&r)}class $o{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return Qs(this._tNode,this._lView,r,a,s)}}function us(){return new $o(qr(),Lt())}function yi(t){return Cr(()=>{const r=t.prototype.constructor,s=r[De]||Ho(r),a=Object.prototype;let l=Object.getPrototypeOf(t.prototype).constructor;for(;l&&l!==a;){const h=l[De]||Ho(l);if(h&&h!==s)return h;l=Object.getPrototypeOf(l)}return h=>new h})}function Ho(t){return yt(t)?()=>{const r=Ho(Oe(t));return r&&r()}:pi(t)}function gs(t){const r=t[1],s=r.type;return 2===s?r.declTNode:1===s?t[6]:null}function Xo(t){return function Jo(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const s=t.attrs;if(s){const a=s.length;let l=0;for(;l<a;){const h=s[l];if(_t(h))break;if(0===h)l+=2;else if("number"==typeof h)for(l++;l<a&&"string"==typeof s[l];)l++;else{if(h===r)return s[l+1];l+=2}}}return null}(qr(),t)}const Eo="__parameters__";function ms(t,r,s){return Cr(()=>{const a=function ea(t){return function(...s){if(t){const a=t(...s);for(const l in a)this[l]=a[l]}}}(r);function l(...h){if(this instanceof l)return a.apply(this,h),this;const y=new l(...h);return D.annotation=y,D;function D(M,B,J){const ue=M.hasOwnProperty(Eo)?M[Eo]:Object.defineProperty(M,Eo,{value:[]})[Eo];for(;ue.length<=J;)ue.push(null);return(ue[J]=ue[J]||[]).push(y),M}}return s&&(l.prototype=Object.create(s.prototype)),l.prototype.ngMetadataName=t,l.annotationCls=l,l})}class Br{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=It({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function qe(t,r){void 0===r&&(r=t);for(let s=0;s<t.length;s++){let a=t[s];Array.isArray(a)?(r===t&&(r=t.slice(0,s)),qe(a,r)):r!==t&&r.push(a)}return r}function bt(t,r){t.forEach(s=>Array.isArray(s)?bt(s,r):r(s))}function an(t,r,s){r>=t.length?t.push(s):t.splice(r,0,s)}function Zt(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function Vr(t,r,s){let a=E(t,r);return a>=0?t[1|a]=s:(a=~a,function Wn(t,r,s,a){let l=t.length;if(l==r)t.push(s,a);else if(1===l)t.push(a,t[0]),t[0]=s;else{for(l--,t.push(t[l-1],t[l]);l>r;)t[l]=t[l-2],l--;t[r]=s,t[r+1]=a}}(t,a,r,s)),a}function Si(t,r){const s=E(t,r);if(s>=0)return t[1|s]}function E(t,r){return function m(t,r,s){let a=0,l=t.length>>s;for(;l!==a;){const h=a+(l-a>>1),y=t[h<<s];if(r===y)return h<<s;y>r?l=h:a=h+1}return~(l<<s)}(t,r,1)}const Xt={},Dn="__NG_DI_FLAG__",qn="ngTempTokenPath",vi=/\n/gm,js="__source";let Yr;function Go(t){const r=Yr;return Yr=t,r}function _s(t,r=Ut.Default){if(void 0===Yr)throw new tt(-203,!1);return null===Yr?br(t,void 0,r):Yr.get(t,r&Ut.Optional?null:void 0,r)}function Ar(t,r=Ut.Default){return(function bn(){return Pn}()||_s)(Oe(t),r)}function x(t,r=Ut.Default){return"number"!=typeof r&&(r=0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)),Ar(t,r)}function F(t){const r=[];for(let s=0;s<t.length;s++){const a=Oe(t[s]);if(Array.isArray(a)){if(0===a.length)throw new tt(900,!1);let l,h=Ut.Default;for(let y=0;y<a.length;y++){const D=a[y],M=ye(D);"number"==typeof M?-1===M?l=D.token:h|=M:l=D}r.push(Ar(l,h))}else r.push(Ar(a))}return r}function q(t,r){return t[Dn]=r,t.prototype[Dn]=r,t}function ye(t){return t[Dn]}const dn=q(ms("Optional"),8),xn=q(ms("SkipSelf"),4);let Sl,Qu,fu;function lc(t){Sl=t}function Ru(t){return function Al(){if(void 0===Qu&&(Qu=null,dt.trustedTypes))try{Qu=dt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Qu}()?.createHTML(t)||t}function id(t){return function cc(){if(void 0===fu&&(fu=null,dt.trustedTypes))try{fu=dt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return fu}()?.createHTML(t)||t}class na{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Ml extends na{getTypeName(){return"HTML"}}class pu extends na{getTypeName(){return"Style"}}class hc extends na{getTypeName(){return"Script"}}class Ou extends na{getTypeName(){return"URL"}}class xl extends na{getTypeName(){return"ResourceURL"}}function xa(t){return t instanceof na?t.changingThisBreaksApplicationSecurity:t}function wa(t,r){const s=function sd(t){return t instanceof na&&t.getTypeName()||null}(t);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}function dh(t){return new Ml(t)}function qi(t){return new pu(t)}function Nl(t){return new hc(t)}function fc(t){return new Ou(t)}function I(t){return new xl(t)}class p{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const s=(new window.DOMParser).parseFromString(Ru(r),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(r):(s.removeChild(s.firstChild),s)}catch{return null}}}class C{constructor(r){if(this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const a=this.inertDocument.createElement("body");s.appendChild(a)}}getInertBodyElement(r){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=Ru(r),s;const a=this.inertDocument.createElement("body");return a.innerHTML=Ru(r),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(a),a}stripCustomNsAttrs(r){const s=r.attributes;for(let l=s.length-1;0<l;l--){const y=s.item(l).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&r.removeAttribute(y)}let a=r.firstChild;for(;a;)a.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(a),a=a.nextSibling}}const ie=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function et(t){return(t=String(t)).match(ie)?t:"unsafe:"+t}function Nt(t){const r={};for(const s of t.split(","))r[s]=!0;return r}function mn(...t){const r={};for(const s of t)for(const a in s)s.hasOwnProperty(a)&&(r[a]=!0);return r}const Un=Nt("area,br,col,hr,img,wbr"),gr=Nt("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ai=Nt("rp,rt"),Ju=mn(Un,mn(gr,Nt("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),mn(Ai,Nt("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),mn(Ai,gr)),Pu=Nt("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),uo=mn(Pu,Nt("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Nt("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),pc=Nt("script,style,template");class ku{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let s=r.firstChild,a=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?a=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,a&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let l=this.checkClobberedElement(s,s.nextSibling);if(l){s=l;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(r){const s=r.nodeName.toLowerCase();if(!Ju.hasOwnProperty(s))return this.sanitizedSomething=!0,!pc.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const a=r.attributes;for(let l=0;l<a.length;l++){const h=a.item(l),y=h.name,D=y.toLowerCase();if(!uo.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let M=h.value;Pu[D]&&(M=et(M)),this.buf.push(" ",y,'="',gc(M),'"')}return this.buf.push(">"),!0}endElement(r){const s=r.nodeName.toLowerCase();Ju.hasOwnProperty(s)&&!Un.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(r){this.buf.push(gc(r))}checkClobberedElement(r,s){if(s&&(r.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return s}}const Rl=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ia=/([^\#-~ |!])/g;function gc(t){return t.replace(/&/g,"&amp;").replace(Rl,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(Ia,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Na;function od(t,r){let s=null;try{Na=Na||function f(t){const r=new C(t);return function Z(){try{return!!(new window.DOMParser).parseFromString(Ru(""),"text/html")}catch{return!1}}()?new p(r):r}(t);let a=r?String(r):"";s=Na.getInertBodyElement(a);let l=5,h=a;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,a=h,h=s.innerHTML,s=Na.getInertBodyElement(a)}while(a!==h);return Ru((new ku).sanitizeChildren(fh(s)||s))}finally{if(s){const a=fh(s)||s;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function fh(t){return"content"in t&&function Mr(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var $s=(()=>(($s=$s||{})[$s.NONE=0]="NONE",$s[$s.HTML=1]="HTML",$s[$s.STYLE=2]="STYLE",$s[$s.SCRIPT=3]="SCRIPT",$s[$s.URL=4]="URL",$s[$s.RESOURCE_URL=5]="RESOURCE_URL",$s))();function mc(t){const r=_c();return r?id(r.sanitize($s.HTML,t)||""):wa(t,"HTML")?id(xa(t)):od(function Nu(){return void 0!==Sl?Sl:typeof document<"u"?document:void 0}(),Xe(t))}function Xu(t){const r=_c();return r?r.sanitize($s.URL,t)||"":wa(t,"URL")?xa(t):et(Xe(t))}function _c(){const t=Lt();return t&&t[12]}const ph=new Br("ENVIRONMENT_INITIALIZER"),Ol=new Br("INJECTOR",-1),gh=new Br("INJECTOR_DEF_TYPES");class hp{get(r,s=Xt){if(s===Xt){const a=new Error(`NullInjectorError: No provider for ${ce(r)}!`);throw a.name="NullInjectorError",a}return s}}function wo(...t){return{\u0275providers:ad(0,t)}}function ad(t,...r){const s=[],a=new Set;let l;return bt(r,h=>{const y=h;el(y,s,[],a)&&(l||(l=[]),l.push(y))}),void 0!==l&&mh(l,s),s}function mh(t,r){for(let s=0;s<t.length;s++){const{providers:l}=t[s];bt(l,h=>{r.push(h)})}}function el(t,r,s,a){if(!(t=Oe(t)))return!1;let l=null,h=hr(t);const y=!h&&ve(t);if(h||y){if(y&&!y.standalone)return!1;l=t}else{const M=t.ngModule;if(h=hr(M),!h)return!1;l=M}const D=a.has(l);if(y){if(D)return!1;if(a.add(l),y.dependencies){const M="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const B of M)el(B,r,s,a)}}else{if(!h)return!1;{if(null!=h.imports&&!D){let B;a.add(l);try{bt(h.imports,J=>{el(J,r,s,a)&&(B||(B=[]),B.push(J))})}finally{}void 0!==B&&mh(B,r)}if(!D){const B=pi(l)||(()=>new l);r.push({provide:l,useFactory:B,deps:zt},{provide:gh,useValue:l,multi:!0},{provide:ph,useValue:()=>Ar(l),multi:!0})}const M=h.providers;null==M||D||bt(M,J=>{r.push(J)})}}return l!==t&&void 0!==t.providers}const yh=Fe({provide:String,useValue:Fe});function ud(t){return null!==t&&"object"==typeof t&&yh in t}function Fu(t){return"function"==typeof t}const _h=new Br("Set Injector scope."),ld={},Ec={};let wc;function cd(){return void 0===wc&&(wc=new hp),wc}class Lu{}class Eh extends Lu{constructor(r,s,a,l){super(),this.parent=s,this.source=a,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,wh(r,y=>this.processProvider(y)),this.records.set(Ol,kl(void 0,this)),l.has("environment")&&this.records.set(Lu,kl(void 0,this));const h=this.records.get(_h);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(gh.multi,zt,Ut.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const s=Go(this),a=Zn(void 0);try{return r()}finally{Go(s),Zn(a)}}get(r,s=Xt,a=Ut.Default){this.assertNotDestroyed();const l=Go(this),h=Zn(void 0);try{if(!(a&Ut.SkipSelf)){let D=this.records.get(r);if(void 0===D){const M=function Mm(t){return"function"==typeof t||"object"==typeof t&&t instanceof Br}(r)&&Kt(r);D=M&&this.injectableDefInScope(M)?kl(dd(r),ld):null,this.records.set(r,D)}if(null!=D)return this.hydrate(r,D)}return(a&Ut.Self?cd():this.parent).get(r,s=a&Ut.Optional&&s===Xt?null:s)}catch(y){if("NullInjectorError"===y.name){if((y[qn]=y[qn]||[]).unshift(ce(r)),l)throw y;return function Ze(t,r,s,a){const l=t[qn];throw r[js]&&l.unshift(r[js]),t.message=function vt(t,r,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let l=ce(r);if(Array.isArray(r))l=r.map(ce).join(" -> ");else if("object"==typeof r){let h=[];for(let y in r)if(r.hasOwnProperty(y)){let D=r[y];h.push(y+":"+("string"==typeof D?JSON.stringify(D):ce(D)))}l=`{${h.join(", ")}}`}return`${s}${a?"("+a+")":""}[${l}]: ${t.replace(vi,"\n  ")}`}("\n"+t.message,l,s,a),t.ngTokenPath=l,t[qn]=null,t}(y,r,"R3InjectorError",this.source)}throw y}finally{Zn(h),Go(l)}}resolveInjectorInitializers(){const r=Go(this),s=Zn(void 0);try{const a=this.get(ph.multi,zt,Ut.Self);for(const l of a)l()}finally{Go(r),Zn(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(ce(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new tt(205,!1)}processProvider(r){let s=Fu(r=Oe(r))?r:Oe(r&&r.provide);const a=function pp(t){return ud(t)?kl(void 0,t.useValue):kl(gp(t),ld)}(r);if(Fu(r)||!0!==r.multi)this.records.get(s);else{let l=this.records.get(s);l||(l=kl(void 0,ld,!0),l.factory=()=>F(l.multi),this.records.set(s,l)),s=r,l.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===ld&&(s.value=Ec,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Ll(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=Oe(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function dd(t){const r=Kt(t),s=null!==r?r.factory:pi(t);if(null!==s)return s;if(t instanceof Br)throw new tt(204,!1);if(t instanceof Function)return function Am(t){const r=t.length;if(r>0)throw function zn(t,r){const s=[];for(let a=0;a<t;a++)s.push(r);return s}(r,"?"),new tt(204,!1);const s=function Bn(t){const r=t&&(t[en]||t[Nr]);if(r){const s=function dr(t){if(t.hasOwnProperty("name"))return t.name;const r=(""+t).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new tt(204,!1)}function gp(t,r,s){let a;if(Fu(t)){const l=Oe(t);return pi(l)||dd(l)}if(ud(t))a=()=>Oe(t.useValue);else if(function vh(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...F(t.deps||[]));else if(function Pl(t){return!(!t||!t.useExisting)}(t))a=()=>Ar(Oe(t.useExisting));else{const l=Oe(t&&(t.useClass||t.provide));if(!function Fl(t){return!!t.deps}(t))return pi(l)||dd(l);a=()=>new l(...F(t.deps))}return a}function kl(t,r,s=!1){return{factory:t,value:r,multi:s?[]:void 0}}function xm(t){return!!t.\u0275providers}function wh(t,r){for(const s of t)Array.isArray(s)?wh(s,r):xm(s)?wh(s.\u0275providers,r):r(s)}class zo{}class yp{resolveComponentFactory(r){throw function Nm(t){const r=Error(`No component factory found for ${ce(t)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=t,r}(r)}}let Vu=(()=>{class t{}return t.NULL=new yp,t})();function vp(){return Vl(qr(),Lt())}function Vl(t,r){return new Ic(ni(t,r))}let Ic=(()=>{class t{constructor(s){this.nativeElement=s}}return t.__NG_ELEMENT_ID__=vp,t})();function Rm(t){return t instanceof Ic?t.nativeElement:t}class _p{}let Om=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function Pm(){const t=Lt(),s=rr(qr().index,t);return(Vt(s)?s:t)[11]}(),t})(),km=(()=>{class t{}return t.\u0275prov=It({token:t,providedIn:"root",factory:()=>null}),t})();class Ep{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const wp=new Ep("14.2.2"),Dh={};function vu(t){return t.ngOriginalError}class Ha{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&vu(r);for(;s&&vu(s);)s=vu(s);return s||null}}const md=new Map;let Sp=0;const nl="__ngContext__";function As(t,r){Vt(r)?(t[nl]=r[20],function Cc(t){md.set(t[20],t)}(r)):t[nl]=r}function Ra(t){return t instanceof Function?t():t}var Xa=(()=>((Xa=Xa||{})[Xa.Important=1]="Important",Xa[Xa.DashCase=2]="DashCase",Xa))();function Id(t,r){return undefined(t,r)}function Ac(t){const r=t[3];return on(r)?r[3]:r}function jl(t){return kp(t[13])}function Dd(t){return kp(t[4])}function kp(t){for(;null!==t&&!on(t);)t=t[4];return t}function $l(t,r,s,a,l){if(null!=a){let h,y=!1;on(a)?h=a:Vt(a)&&(y=!0,a=a[0]);const D=Or(a);0===t&&null!==s?null==l?Fh(r,s,D):sl(r,s,D,l||null,!0):1===t&&null!==s?sl(r,s,D,l||null,!0):2===t?function Hh(t,r,s){const a=ol(t,r);a&&function Lh(t,r,s,a){t.removeChild(r,s,a)}(t,a,r,s)}(r,D,y):3===t&&r.destroyNode(D),null!=h&&function Rd(t,r,s,a,l){const h=s[7];h!==Or(s)&&$l(r,t,a,h,l);for(let D=10;D<s.length;D++){const M=s[D];eu(M[1],M,t,r,a,h)}}(r,t,h,s,l)}}function Cd(t,r,s){return t.createElement(r,s)}function lo(t,r){const s=t[9],a=s.indexOf(r),l=r[3];512&r[2]&&(r[2]&=-513,li(l,-1)),s.splice(a,1)}function Ph(t,r){if(t.length<=10)return;const s=10+r,a=t[s];if(a){const l=a[17];null!==l&&l!==t&&lo(l,a),r>0&&(t[s-1][4]=a[4]);const h=Zt(t,10+r);!function Fp(t,r){eu(t,r,r[11],2,null,null),r[0]=null,r[6]=null}(a[1],a);const y=h[19];null!==y&&y.detachView(h[1]),a[3]=null,a[4]=null,a[2]&=-65}return a}function Vp(t,r){if(!(128&r[2])){const s=r[11];s.destroyNode&&eu(t,r,s,3,null,null),function Ym(t){let r=t[13];if(!r)return kh(t[1],t);for(;r;){let s=null;if(Vt(r))s=r[13];else{const a=r[10];a&&(s=a)}if(!s){for(;r&&!r[4]&&r!==t;)Vt(r)&&kh(r[1],r),r=r[3];null===r&&(r=t),Vt(r)&&kh(r[1],r),s=r&&r[4]}r=s}}(r)}}function kh(t,r){if(!(128&r[2])){r[2]&=-65,r[2]|=128,function Up(t,r){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const l=r[s[a]];if(!(l instanceof Ki)){const h=s[a+1];if(Array.isArray(h))for(let y=0;y<h.length;y+=2){const D=l[h[y]],M=h[y+1];try{M.call(D)}finally{}}else try{h.call(l)}finally{}}}}(t,r),function Jm(t,r){const s=t.cleanup,a=r[7];let l=-1;if(null!==s)for(let h=0;h<s.length-1;h+=2)if("string"==typeof s[h]){const y=s[h+1],D="function"==typeof y?y(r):Or(r[y]),M=a[l=s[h+2]],B=s[h+3];"boolean"==typeof B?D.removeEventListener(s[h],M,B):B>=0?a[l=B]():a[l=-B].unsubscribe(),h+=2}else{const y=a[l=s[h+1]];s[h].call(y)}if(null!==a){for(let h=l+1;h<a.length;h++)(0,a[h])();r[7]=null}}(t,r),1===r[1].type&&r[11].destroy();const s=r[17];if(null!==s&&on(r[3])){s!==r[3]&&lo(s,r);const a=r[19];null!==a&&a.detachView(t)}!function $m(t){md.delete(t[20])}(r)}}function Bp(t,r,s){return function xc(t,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[0];if(2&a.flags){const l=t.data[a.directiveStart].encapsulation;if(l===lt.None||l===lt.Emulated)return null}return ni(a,s)}(t,r.parent,s)}function sl(t,r,s,a,l){t.insertBefore(r,s,a,l)}function Fh(t,r,s){t.appendChild(r,s)}function Td(t,r,s,a,l){null!==a?sl(t,r,s,a,l):Fh(t,r,s)}function ol(t,r){return t.parentNode(r)}let jp=function Uh(t,r,s){return 40&t.type?ni(t,s):null};function Hl(t,r,s,a){const l=Bp(t,a,r),h=r[11],D=function Ad(t,r,s){return jp(t,r,s)}(a.parent||r[6],a,r);if(null!=l)if(Array.isArray(s))for(let M=0;M<s.length;M++)Td(h,l,s[M],D,!1);else Td(h,l,s,D,!1)}function xd(t,r){if(null!==r){const s=r.type;if(3&s)return ni(r,t);if(4&s)return $h(-1,t[r.index]);if(8&s){const a=r.child;if(null!==a)return xd(t,a);{const l=t[r.index];return on(l)?$h(-1,l):Or(l)}}if(32&s)return Id(r,t)()||Or(t[r.index]);{const a=jh(t,r);return null!==a?Array.isArray(a)?a[0]:xd(Ac(t[16]),a):xd(t,r.next)}}return null}function jh(t,r){return null!==r?t[16][6].projection[r.projection]:null}function $h(t,r){const s=10+t+1;if(s<r.length){const a=r[s],l=a[1].firstChild;if(null!==l)return xd(a,l)}return r[7]}function Gh(t,r,s,a,l,h,y){for(;null!=s;){const D=a[s.index],M=s.type;if(y&&0===r&&(D&&As(Or(D),a),s.flags|=4),64!=(64&s.flags))if(8&M)Gh(t,r,s.child,a,l,h,!1),$l(r,t,l,D,h);else if(32&M){const B=Id(s,a);let J;for(;J=B();)$l(r,t,l,J,h);$l(r,t,l,D,h)}else 16&M?Nd(t,r,a,s,l,h):$l(r,t,l,D,h);s=y?s.projectionNext:s.next}}function eu(t,r,s,a,l,h){Gh(s,a,t.firstChild,r,l,h,!1)}function Nd(t,r,s,a,l,h){const y=s[16],M=y[6].projection[a.projection];if(Array.isArray(M))for(let B=0;B<M.length;B++)$l(r,t,l,M[B],h);else Gh(t,r,M,y[3],l,h,!0)}function zh(t,r,s){t.setAttribute(r,"style",s)}function Od(t,r,s){""===s?t.removeAttribute(r,"class"):t.setAttribute(r,"class",s)}function Hp(t,r,s){let a=t.length;for(;;){const l=t.indexOf(r,s);if(-1===l)return l;if(0===l||t.charCodeAt(l-1)<=32){const h=r.length;if(l+h===a||t.charCodeAt(l+h)<=32)return l}s=l+1}}const zp="ng-template";function Wh(t,r,s){let a=0;for(;a<t.length;){let l=t[a++];if(s&&"class"===l){if(l=t[a],-1!==Hp(l.toLowerCase(),r,0))return!0}else if(1===l){for(;a<t.length&&"string"==typeof(l=t[a++]);)if(l.toLowerCase()===r)return!0;return!1}}return!1}function Kh(t){return 4===t.type&&t.value!==zp}function Wp(t,r,s){return r===(4!==t.type||s?t.value:zp)}function qh(t,r,s){let a=4;const l=t.attrs||[],h=function Yh(t){for(let r=0;r<t.length;r++)if(_t(t[r]))return r;return t.length}(l);let y=!1;for(let D=0;D<r.length;D++){const M=r[D];if("number"!=typeof M){if(!y)if(4&a){if(a=2|1&a,""!==M&&!Wp(t,M,s)||""===M&&1===r.length){if(fa(a))return!1;y=!0}}else{const B=8&a?M:r[++D];if(8&a&&null!==t.attrs){if(!Wh(t.attrs,B,s)){if(fa(a))return!1;y=!0}continue}const ue=Nc(8&a?"class":M,l,Kh(t),s);if(-1===ue){if(fa(a))return!1;y=!0;continue}if(""!==B){let Le;Le=ue>h?"":l[ue+1].toLowerCase();const ut=8&a?Le:null;if(ut&&-1!==Hp(ut,B,0)||2&a&&B!==Le){if(fa(a))return!1;y=!0}}}}else{if(!y&&!fa(a)&&!fa(M))return!1;if(y&&fa(M))continue;y=!1,a=M|1&a}}return fa(a)||y}function fa(t){return 0==(1&t)}function Nc(t,r,s,a){if(null===r)return-1;let l=0;if(a||!s){let h=!1;for(;l<r.length;){const y=r[l];if(y===t)return l;if(3===y||6===y)h=!0;else{if(1===y||2===y){let D=r[++l];for(;"string"==typeof D;)D=r[++l];continue}if(4===y)break;if(0===y){l+=4;continue}}l+=h?1:2}return-1}return function Qh(t,r){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,t)}function Rc(t,r,s=!1){for(let a=0;a<r.length;a++)if(qh(t,r[a],s))return!0;return!1}function qp(t,r){return t?":not("+r.trim()+")":r}function Zp(t){let r=t[0],s=1,a=2,l="",h=!1;for(;s<t.length;){let y=t[s];if("string"==typeof y)if(2&a){const D=t[++s];l+="["+y+(D.length>0?'="'+D+'"':"")+"]"}else 8&a?l+="."+y:4&a&&(l+=" "+y);else""!==l&&!fa(y)&&(r+=qp(h,l),l=""),a=y,h=h||!fa(a);s++}return""!==l&&(r+=qp(h,l)),r}const wr={};function Jh(t){Oc(tr(),Lt(),we()+t,!1)}function Oc(t,r,s,a){if(!a)if(3==(3&r[2])){const h=t.preOrderCheckHooks;null!==h&&Ur(r,h,s)}else{const h=t.preOrderHooks;null!==h&&oo(r,h,0,s)}pt(s)}function kd(t,r=null,s=null,a){const l=al(t,r,s,a);return l.resolveInjectorInitializers(),l}function al(t,r=null,s=null,a,l=new Set){const h=[s||zt,wo(t)];return a=a||("object"==typeof t?void 0:ce(t)),new Eh(h,r||cd(),a||null,l)}let _u=(()=>{class t{static create(s,a){if(Array.isArray(s))return kd({name:""},a,s,"");{const l=s.name??"";return kd({name:l},s.parent,s.providers,l)}}}return t.THROW_IF_NOT_FOUND=Xt,t.NULL=new hp,t.\u0275prov=It({token:t,providedIn:"any",factory:()=>Ar(Ol)}),t.__NG_ELEMENT_ID__=-1,t})();function dl(t,r=Ut.Default){const s=Lt();return null===s?Ar(t,r):Qs(qr(),s,Oe(t),r)}function Ud(){throw new Error("invalid")}function Kl(t,r){return t<<17|r<<2}function Wo(t){return t>>17&32767}function Gu(t){return 2|t}function pa(t){return(131068&t)>>2}function jd(t,r){return-131069&t|r<<2}function af(t){return 1|t}function Dg(t,r){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const l=s[a],h=s[a+1];if(-1!==h){const y=t.data[h];oa(l),y.contentQueries(2,r[h],h)}}}function Yl(t,r,s,a,l,h,y,D,M,B,J){const ue=r.blueprint.slice();return ue[0]=l,ue[2]=76|a,(null!==J||t&&1024&t[2])&&(ue[2]|=1024),Ks(ue),ue[3]=ue[15]=t,ue[8]=s,ue[10]=y||t&&t[10],ue[11]=D||t&&t[11],ue[12]=M||t&&t[12]||null,ue[9]=B||t&&t[9]||null,ue[6]=h,ue[20]=function yd(){return Sp++}(),ue[21]=J,ue[16]=2==r.type?t[16]:ue,ue}function Ql(t,r,s,a,l){let h=t.data[r];if(null===h)h=function jc(t,r,s,a,l){const h=fs(),y=Zs(),M=t.data[r]=function my(t,r,s,a,l,h){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?h:h&&h.parent,s,r,a,l);return null===t.firstChild&&(t.firstChild=M),null!==h&&(y?null==h.child&&null!==M.parent&&(h.child=M):null===h.next&&(h.next=M)),M}(t,r,s,a,l),function Wi(){return Rn.lFrame.inI18n}()&&(h.flags|=64);else if(64&h.type){h.type=s,h.value=a,h.attrs=l;const y=function qs(){const t=Rn.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();h.injectorIndex=null===y?-1:y.injectorIndex}return wi(h,!0),h}function Jl(t,r,s,a){if(0===s)return-1;const l=r.length;for(let h=0;h<s;h++)r.push(a),t.blueprint.push(a),t.data.push(null);return l}function mf(t,r,s){Ao(r);try{const a=t.viewQuery;null!==a&&xf(1,a,s);const l=t.template;null!==l&&bg(t,r,l,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Dg(t,r),t.staticViewQueries&&xf(2,t.viewQuery,s);const h=t.components;null!==h&&function wu(t,r){for(let s=0;s<r.length;s++)wy(t,r[s])}(r,h)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[2]&=-5,G()}}function Xl(t,r,s,a){const l=r[2];if(128!=(128&l)){Ao(r);try{Ks(r),function ht(t){return Rn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&bg(t,r,s,2,a);const y=3==(3&l);if(y){const B=t.preOrderCheckHooks;null!==B&&Ur(r,B,null)}else{const B=t.preOrderHooks;null!==B&&oo(r,B,0,null),Vs(r,0)}if(function tc(t){for(let r=jl(t);null!==r;r=Dd(r)){if(!r[2])continue;const s=r[9];for(let a=0;a<s.length;a++){const l=s[a],h=l[3];0==(512&l[2])&&li(h,1),l[2]|=512}}}(r),function Tf(t){for(let r=jl(t);null!==r;r=Dd(r))for(let s=10;s<r.length;s++){const a=r[s],l=a[1];as(a)&&Xl(l,a,l.template,a[8])}}(r),null!==t.contentQueries&&Dg(t,r),y){const B=t.contentCheckHooks;null!==B&&Ur(r,B)}else{const B=t.contentHooks;null!==B&&oo(r,B,1),Vs(r,1)}!function pf(t,r){const s=t.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const l=s[a];if(l<0)pt(~l);else{const h=l,y=s[++a],D=s[++a];ri(y,h),D(2,r[h])}}}finally{pt(-1)}}(t,r);const D=t.components;null!==D&&function gf(t,r){for(let s=0;s<r.length;s++)Sf(t,r[s])}(r,D);const M=t.viewQuery;if(null!==M&&xf(2,M,a),y){const B=t.viewCheckHooks;null!==B&&Ur(r,B)}else{const B=t.viewHooks;null!==B&&oo(r,B,2),Vs(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[2]&=-41,512&r[2]&&(r[2]&=-513,li(r[3],-1))}finally{G()}}}function bg(t,r,s,a,l){const h=we(),y=2&a;try{pt(-1),y&&r.length>22&&Oc(t,r,22,!1),s(a,l)}finally{pt(h)}}function Hd(t,r,s){if(Qn(r)){const l=r.directiveEnd;for(let h=r.directiveStart;h<l;h++){const y=t.data[h];y.contentQueries&&y.contentQueries(1,s[h],h)}}}function yf(t,r,s){!Oi()||(function Kd(t,r,s,a){const l=s.directiveStart,h=s.directiveEnd;t.firstCreatePass||Pi(s,r),As(a,r);const y=s.initialInputs;for(let D=l;D<h;D++){const M=t.data[D],B=fr(M);B&&If(r,s,M);const J=Bs(r,t,D,s);As(J,r),null!==y&&Df(0,D-l,J,M,0,y),B&&(rr(s.index,r)[8]=J)}}(t,r,s,ni(s,r)),128==(128&s.flags)&&function _y(t,r,s){const a=s.directiveStart,l=s.directiveEnd,h=s.index,y=function io(){return Rn.lFrame.currentDirectiveIndex}();try{pt(h);for(let D=a;D<l;D++){const M=t.data[D],B=r[D];ps(D),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&Og(M,B)}}finally{pt(-1),ps(y)}}(t,r,s))}function $c(t,r,s=ni){const a=r.localNames;if(null!==a){let l=r.index+1;for(let h=0;h<a.length;h+=2){const y=a[h+1],D=-1===y?s(r,t):t[y];t[l++]=D}}}function Cg(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=Hc(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):r}function Hc(t,r,s,a,l,h,y,D,M,B){const J=22+a,ue=J+l,Le=function Tg(t,r){const s=[];for(let a=0;a<r;a++)s.push(a<t?null:wr);return s}(J,ue),ut="function"==typeof B?B():B;return Le[1]={type:t,blueprint:Le,template:s,queries:null,viewQuery:D,declTNode:r,data:Le.slice().fill(null,J),bindingStartIndex:J,expandoStartIndex:ue,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:M,consts:ut,incompleteFirstPass:!1}}function Mg(t,r,s,a){const l=Lg(r);null===s?l.push(a):(l.push(s),t.firstCreatePass&&Nf(t).push(a,l.length-1))}function Gd(t,r,s){for(let a in t)if(t.hasOwnProperty(a)){const l=t[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(r,l):s[a]=[r,l]}return s}function xg(t,r){const a=r.directiveEnd,l=t.data,h=r.attrs,y=[];let D=null,M=null;for(let B=r.directiveStart;B<a;B++){const J=l[B],ue=J.inputs,Le=null===h||Kh(r)?null:Fg(ue,h);y.push(Le),D=Gd(ue,B,D),M=Gd(J.outputs,B,M)}null!==D&&(D.hasOwnProperty("class")&&(r.flags|=16),D.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=y,r.inputs=D,r.outputs=M}function ia(t,r,s,a,l,h,y,D){const M=ni(r,s);let J,B=r.inputs;!D&&null!=B&&(J=B[a])?(Yd(t,s,J,a,l),Hr(r)&&zd(s,r.index)):3&r.type&&(a=function vf(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),l=null!=y?y(l,r.value||"",a):l,h.setProperty(M,a,l))}function zd(t,r){const s=rr(r,t);16&s[2]||(s[2]|=32)}function _f(t,r,s,a){let l=!1;if(Oi()){const h=function Ey(t,r,s){const a=t.directiveRegistry;let l=null;if(a)for(let h=0;h<a.length;h++){const y=a[h];Rc(s,y.selectors,!1)&&(l||(l=[]),pr(Pi(s,r),t,y.type),fr(y)?(Pg(t,s),l.unshift(y)):l.push(y))}return l}(t,r,s),y=null===a?null:{"":-1};if(null!==h){l=!0,wf(s,t.data.length,h.length);for(let J=0;J<h.length;J++){const ue=h[J];ue.providersResolver&&ue.providersResolver(ue)}let D=!1,M=!1,B=Jl(t,r,h.length,null);for(let J=0;J<h.length;J++){const ue=h[J];s.mergedAttrs=xr(s.mergedAttrs,ue.hostAttrs),qd(t,s,r,B,ue),Ef(B,ue,y),null!==ue.contentQueries&&(s.flags|=8),(null!==ue.hostBindings||null!==ue.hostAttrs||0!==ue.hostVars)&&(s.flags|=128);const Le=ue.type.prototype;!D&&(Le.ngOnChanges||Le.ngOnInit||Le.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(s.index),D=!0),!M&&(Le.ngOnChanges||Le.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(s.index),M=!0),B++}xg(t,s)}y&&function kg(t,r,s){if(r){const a=t.localNames=[];for(let l=0;l<r.length;l+=2){const h=s[r[l+1]];if(null==h)throw new tt(-301,!1);a.push(r[l],h)}}}(s,a,y)}return s.mergedAttrs=xr(s.mergedAttrs,s.attrs),l}function Wd(t,r,s,a,l,h){const y=h.hostBindings;if(y){let D=t.hostBindingOpCodes;null===D&&(D=t.hostBindingOpCodes=[]);const M=~r.index;(function Rg(t){let r=t.length;for(;r>0;){const s=t[--r];if("number"==typeof s&&s<0)return s}return 0})(D)!=M&&D.push(M),D.push(a,l,y)}}function Og(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function Pg(t,r){r.flags|=2,(t.components||(t.components=[])).push(r.index)}function Ef(t,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=t;fr(r)&&(s[""]=t)}}function wf(t,r,s){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+s,t.providerIndexes=r}function qd(t,r,s,a,l){t.data[a]=l;const h=l.factory||(l.factory=pi(l.type)),y=new Ki(h,fr(l),dl);t.blueprint[a]=y,s[a]=y,Wd(t,r,0,a,Jl(t,s,l.hostVars,wr),l)}function If(t,r,s){const a=ni(r,t),l=Cg(s),h=t[10],y=Gc(t,Yl(t,l,null,s.onPush?32:16,a,r,h,h.createRenderer(a,s),null,null,null));t[r.index]=y}function Oa(t,r,s,a,l,h){const y=ni(t,r);!function ec(t,r,s,a,l,h,y){if(null==h)t.removeAttribute(r,l,s);else{const D=null==y?Xe(h):y(h,a||"",l);t.setAttribute(r,l,D,s)}}(r[11],y,h,t.value,s,a,l)}function Df(t,r,s,a,l,h){const y=h[r];if(null!==y){const D=a.setInput;for(let M=0;M<y.length;){const B=y[M++],J=y[M++],ue=y[M++];null!==D?a.setInput(s,ue,B,J):s[J]=ue}}}function Fg(t,r){let s=null,a=0;for(;a<r.length;){const l=r[a];if(0!==l)if(5!==l){if("number"==typeof l)break;t.hasOwnProperty(l)&&(null===s&&(s=[]),s.push(l,t[l],r[a+1])),a+=2}else a+=2;else a+=4}return s}function Cf(t,r,s,a){return new Array(t,!0,!1,r,null,0,a,s,null,null)}function Sf(t,r){const s=rr(r,t);if(as(s)){const a=s[1];48&s[2]?Xl(a,s,a.template,s[8]):s[5]>0&&Af(s)}}function Af(t){for(let a=jl(t);null!==a;a=Dd(a))for(let l=10;l<a.length;l++){const h=a[l];if(as(h))if(512&h[2]){const y=h[1];Xl(y,h,y.template,h[8])}else h[5]>0&&Af(h)}const s=t[1].components;if(null!==s)for(let a=0;a<s.length;a++){const l=rr(s[a],t);as(l)&&l[5]>0&&Af(l)}}function wy(t,r){const s=rr(r,t),a=s[1];(function Iy(t,r){for(let s=r.length;s<t.blueprint.length;s++)r.push(t.blueprint[s])})(a,s),mf(a,s,s[8])}function Gc(t,r){return t[13]?t[14][4]=r:t[13]=r,t[14]=r,r}function Mf(t){for(;t;){t[2]|=32;const r=Ac(t);if(ns(t)&&!r)return t;t=r}return null}function zc(t,r,s,a=!0){const l=r[10];l.begin&&l.begin();try{Xl(t,r,t.template,s)}catch(y){throw a&&Rf(r,y),y}finally{l.end&&l.end()}}function xf(t,r,s){oa(0),r(t,s)}function Lg(t){return t[7]||(t[7]=[])}function Nf(t){return t.cleanup||(t.cleanup=[])}function Rf(t,r){const s=t[9],a=s?s.get(Ha,null):null;a&&a.handleError(r)}function Yd(t,r,s,a,l){for(let h=0;h<s.length;){const y=s[h++],D=s[h++],M=r[y],B=t.data[y];null!==B.setInput?B.setInput(M,l,a,D):M[D]=l}}function ru(t,r,s){const a=ui(r,t);!function $u(t,r,s){t.setValue(r,s)}(t[11],a,s)}function pl(t,r,s){let a=s?t.styles:null,l=s?t.classes:null,h=0;if(null!==r)for(let y=0;y<r.length;y++){const D=r[y];"number"==typeof D?h=D:1==h?l=We(l,D):2==h&&(a=We(a,D+": "+r[++y]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=l:t.classesWithoutHost=l}function $r(t,r,s,a,l=!1){for(;null!==s;){const h=r[s.index];if(null!==h&&a.push(Or(h)),on(h))for(let D=10;D<h.length;D++){const M=h[D],B=M[1].firstChild;null!==B&&$r(M[1],M,B,a)}const y=s.type;if(8&y)$r(t,r,s.child,a);else if(32&y){const D=Id(s,r);let M;for(;M=D();)a.push(M)}else if(16&y){const D=jh(r,s);if(Array.isArray(D))a.push(...D);else{const M=Ac(r[16]);$r(M[1],M,D,a,!0)}}s=l?s.projectionNext:s.next}return a}class nc{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return $r(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(on(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(Ph(r,a),Zt(s,a))}this._attachedToViewContainer=!1}Vp(this._lView[1],this._lView)}onDestroy(r){Mg(this._lView[1],this._lView,null,r)}markForCheck(){Mf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){zc(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new tt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Lp(t,r){eu(t,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new tt(902,!1);this._appRef=r}}class Vg extends nc{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;zc(r[1],r,r[8],!1)}checkNoChanges(){}get context(){return null}}class gl extends Vu{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=ve(r);return new ga(s,this.ngModule)}}function Ug(t){const r=[];for(let s in t)t.hasOwnProperty(s)&&r.push({propName:t[s],templateName:s});return r}class Ko{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){const l=this.injector.get(r,Dh,a);return l!==Dh||s===Dh?l:this.parentInjector.get(r,s,a)}}class ga extends zo{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function Xm(t){return t.map(Zp).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return Ug(this.componentDef.inputs)}get outputs(){return Ug(this.componentDef.outputs)}create(r,s,a,l){let h=(l=l||this.ngModule)instanceof Lu?l:l?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const y=h?new Ko(r,h):r,D=y.get(_p,null);if(null===D)throw new tt(407,!1);const M=y.get(km,null),B=D.createRenderer(null,this.componentDef),J=this.componentDef.selectors[0][0]||"div",ue=a?function Ag(t,r,s){return t.selectRootElement(r,s===lt.ShadowDom)}(B,a,this.componentDef.encapsulation):Cd(D.createRenderer(null,this.componentDef),J,function Ms(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(J)),Le=this.componentDef.onPush?288:272,ut=Hc(0,null,null,1,0,null,null,null,null,null),Pt=Yl(null,ut,null,Le,null,null,D,B,M,y,null);let sn,yn;Ao(Pt);try{const Fn=function jg(t,r,s,a,l,h){const y=s[1];s[22]=t;const M=Ql(y,22,2,"#host",null),B=M.mergedAttrs=r.hostAttrs;null!==B&&(pl(M,B,!0),null!==t&&(rn(l,t,B),null!==M.classes&&Od(l,t,M.classes),null!==M.styles&&zh(l,t,M.styles)));const J=a.createRenderer(t,r),ue=Yl(s,Cg(r),null,r.onPush?32:16,s[22],M,a,J,h||null,null,null);return y.firstCreatePass&&(pr(Pi(M,s),y,r.type),Pg(y,M),wf(M,s.length,1)),Gc(s,ue),s[22]=ue}(ue,this.componentDef,Pt,D,B);if(ue)if(a)rn(B,ue,["ng-version",wp.full]);else{const{attrs:Xn,classes:Gt}=function ey(t){const r=[],s=[];let a=1,l=2;for(;a<t.length;){let h=t[a];if("string"==typeof h)2===l?""!==h&&r.push(h,t[++a]):8===l&&s.push(h);else{if(!fa(l))break;l=h}a++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);Xn&&rn(B,ue,Xn),Gt&&Gt.length>0&&Od(B,ue,Gt.join(" "))}if(yn=_i(ut,22),void 0!==s){const Xn=yn.projection=[];for(let Gt=0;Gt<this.ngContentSelectors.length;Gt++){const mr=s[Gt];Xn.push(null!=mr?Array.from(mr):null)}}sn=function by(t,r,s,a){const l=s[1],h=function Ng(t,r,s){const a=qr();t.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),qd(t,a,r,Jl(t,r,1,null),s),xg(t,a));const l=Bs(r,t,a.directiveStart,a);As(l,r);const h=ni(a,r);return h&&As(h,r),l}(l,s,r);if(t[8]=s[8]=h,null!==a)for(const D of a)D(h,r);if(r.contentQueries){const D=qr();r.contentQueries(1,h,D.directiveStart)}const y=qr();return!l.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(pt(y.index),Wd(s[1],y,0,y.directiveStart,y.directiveEnd,r),Og(r,h)),h}(Fn,this.componentDef,Pt,[Of]),mf(ut,Pt,null)}finally{G()}return new Bg(this.componentType,sn,Vl(yn,Pt),Pt,yn)}}class Bg extends class mp{}{constructor(r,s,a,l,h){super(),this.location=a,this._rootLView=l,this._tNode=h,this.instance=s,this.hostView=this.changeDetectorRef=new Vg(l),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let l;if(null!==a&&(l=a[r])){const h=this._rootLView;Yd(h[1],h,l,r,s),zd(h,this._tNode.index)}}get injector(){return new $o(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function Of(){const t=qr();zr(Lt()[1],t)}function Pf(t){let r=function $g(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;r;){let l;if(fr(t))l=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new tt(903,!1);l=r.\u0275dir}if(l){if(s){a.push(l);const y=t;y.inputs=Hg(t.inputs),y.declaredInputs=Hg(t.declaredInputs),y.outputs=Hg(t.outputs);const D=l.hostBindings;D&&Gg(t,D);const M=l.viewQuery,B=l.contentQueries;if(M&&Kv(t,M),B&&Xs(t,B),xe(t.inputs,l.inputs),xe(t.declaredInputs,l.declaredInputs),xe(t.outputs,l.outputs),fr(l)&&l.data.animation){const J=t.data;J.animation=(J.animation||[]).concat(l.data.animation)}}const h=l.features;if(h)for(let y=0;y<h.length;y++){const D=h[y];D&&D.ngInherit&&D(t),D===Pf&&(s=!1)}}r=Object.getPrototypeOf(r)}!function cs(t){let r=0,s=null;for(let a=t.length-1;a>=0;a--){const l=t[a];l.hostVars=r+=l.hostVars,l.hostAttrs=xr(l.hostAttrs,s=xr(s,l.hostAttrs))}}(a)}function Hg(t){return t===Yn?{}:t===zt?[]:t}function Kv(t,r){const s=t.viewQuery;t.viewQuery=s?(a,l)=>{r(a,l),s(a,l)}:r}function Xs(t,r){const s=t.contentQueries;t.contentQueries=s?(a,l,h)=>{r(a,l,h),s(a,l,h)}:r}function Gg(t,r){const s=t.hostBindings;t.hostBindings=s?(a,l)=>{r(a,l),s(a,l)}:r}let Qd=null;function ml(){if(!Qd){const t=dt.Symbol;if(t&&t.iterator)Qd=t.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const a=r[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(Qd=a)}}}return Qd}function Wc(t){return!!kf(t)&&(Array.isArray(t)||!(t instanceof Map)&&ml()in t)}function kf(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ko(t,r,s){return t[r]=s}function Es(t,r,s){return!Object.is(t[r],s)&&(t[r]=s,!0)}function Da(t,r,s,a){const l=Es(t,r,s);return Es(t,r+1,a)||l}function Ff(t,r,s,a){const l=Lt();return Es(l,hn(),r)&&(tr(),Oa(wt(),l,t,r,s,a)),Ff}function Iu(t,r,s,a,l,h){const D=Da(t,function Q(){return Rn.lFrame.bindingIndex}(),s,l);return yr(2),D?r+Xe(s)+a+Xe(l)+h:wr}function Yg(t,r,s,a,l,h,y,D){const M=Lt(),B=tr(),J=t+22,ue=B.firstCreatePass?function jf(t,r,s,a,l,h,y,D,M){const B=r.consts,J=Ql(r,t,4,y||null,Ti(B,D));_f(r,s,J,Ti(B,M)),zr(r,J);const ue=J.tViews=Hc(2,J,a,l,h,r.directiveRegistry,r.pipeRegistry,null,r.schemas,B);return null!==r.queries&&(r.queries.template(r,J),ue.queries=r.queries.embeddedTView(J)),J}(J,B,M,r,s,a,l,h,y):B.data[J];wi(ue,!1);const Le=M[11].createComment("");Hl(B,M,Le,ue),As(Le,M),Gc(M,M[J]=Cf(Le,M,Le,ue)),lr(ue)&&yf(B,M,ue),null!=y&&$c(M,ue,D)}function Kc(t){return gi(function mo(){return Rn.lFrame.contextLView}(),22+t)}function nh(t,r,s){const a=Lt();return Es(a,hn(),r)&&ia(tr(),wt(),a,t,r,a[11],s,!1),nh}function wl(t,r,s,a,l){const y=l?"class":"style";Yd(t,s,r.inputs[y],y,a)}function Il(t,r,s,a){const l=Lt(),h=tr(),y=22+t,D=l[11],M=l[y]=Cd(D,r,function cr(){return Rn.lFrame.currentNamespace}()),B=h.firstCreatePass?function Ay(t,r,s,a,l,h,y){const D=r.consts,B=Ql(r,t,2,l,Ti(D,h));return _f(r,s,B,Ti(D,y)),null!==B.attrs&&pl(B,B.attrs,!1),null!==B.mergedAttrs&&pl(B,B.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,B),B}(y,h,l,0,r,s,a):h.data[y];wi(B,!0);const J=B.mergedAttrs;null!==J&&rn(D,M,J);const ue=B.classes;null!==ue&&Od(D,M,ue);const Le=B.styles;return null!==Le&&zh(D,M,Le),64!=(64&B.flags)&&Hl(h,l,M,B),0===function ro(){return Rn.lFrame.elementDepthCount}()&&As(M,l),function Ei(){Rn.lFrame.elementDepthCount++}(),lr(B)&&(yf(h,l,B),Hd(h,B,l)),null!==a&&$c(l,B),Il}function su(){let t=qr();Zs()?ci():(t=t.parent,wi(t,!1));const r=t;!function ii(){Rn.lFrame.elementDepthCount--}();const s=tr();return s.firstCreatePass&&(zr(s,t),Qn(t)&&s.queries.elementEnd(t)),null!=r.classesWithoutHost&&function ya(t){return 0!=(16&t.flags)}(r)&&wl(s,r,Lt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function In(t){return 0!=(32&t.flags)}(r)&&wl(s,r,Lt(),r.stylesWithoutHost,!1),su}function bu(t,r,s,a){return Il(t,r,s,a),su(),bu}function ou(t,r,s){const a=Lt(),l=tr(),h=t+22,y=l.firstCreatePass?function qc(t,r,s,a,l){const h=r.consts,y=Ti(h,a),D=Ql(r,t,8,"ng-container",y);return null!==y&&pl(D,y,!0),_f(r,s,D,Ti(h,l)),null!==r.queries&&r.queries.elementStart(r,D),D}(h,l,a,r,s):l.data[h];wi(y,!0);const D=a[h]=a[11].createComment("");return Hl(l,a,D,y),As(D,a),lr(y)&&(yf(l,a,y),Hd(l,y,a)),null!=s&&$c(a,y),ou}function rh(){let t=qr();const r=tr();return Zs()?ci():(t=t.parent,wi(t,!1)),r.firstCreatePass&&(zr(r,t),Qn(t)&&r.queries.elementEnd(t)),rh}function $f(){return Lt()}function Dl(t){return!!t&&"function"==typeof t.then}function Jg(t){return!!t&&"function"==typeof t.subscribe}const Xg=Jg;function Hf(t,r,s,a){const l=Lt(),h=tr(),y=qr();return function Gf(t,r,s,a,l,h,y,D){const M=lr(a),J=t.firstCreatePass&&Nf(t),ue=r[8],Le=Lg(r);let ut=!0;if(3&a.type||D){const yn=ni(a,r),Fn=D?D(yn):yn,Xn=Le.length,Gt=D?Ri=>D(Or(Ri[a.index])):a.index;let mr=null;if(!D&&M&&(mr=function My(t,r,s,a){const l=t.cleanup;if(null!=l)for(let h=0;h<l.length-1;h+=2){const y=l[h];if(y===s&&l[h+1]===a){const D=r[7],M=l[h+2];return D.length>M?D[M]:null}"string"==typeof y&&(h+=2)}return null}(t,r,l,a.index)),null!==mr)(mr.__ngLastListenerFn__||mr).__ngNextListenerFn__=h,mr.__ngLastListenerFn__=h,ut=!1;else{h=nm(a,r,ue,h,!1);const Ri=s.listen(Fn,l,h);Le.push(h,Ri),J&&J.push(l,Gt,Xn,Xn+1)}}else h=nm(a,r,ue,h,!1);const Pt=a.outputs;let sn;if(ut&&null!==Pt&&(sn=Pt[l])){const yn=sn.length;if(yn)for(let Fn=0;Fn<yn;Fn+=2){const xs=r[sn[Fn]][sn[Fn+1]].subscribe(h),Jc=Le.length;Le.push(h,xs),J&&J.push(l,a.index,Jc,-(Jc+1))}}}(h,l,l[11],y,t,r,0,a),Hf}function tm(t,r,s,a){try{return!1!==s(a)}catch(l){return Rf(t,l),!1}}function nm(t,r,s,a,l){return function h(y){if(y===Function)return a;Mf(2&t.flags?rr(t.index,r):r);let M=tm(r,0,a,y),B=h.__ngNextListenerFn__;for(;B;)M=tm(r,0,B,y)&&M,B=B.__ngNextListenerFn__;return l&&!1===M&&(y.preventDefault(),y.returnValue=!1),M}}function zf(t=1){return function R(t){return(Rn.lFrame.contextLView=function Y(t,r){for(;t>0;)r=r[15],t--;return r}(t,Rn.lFrame.contextLView))[8]}(t)}function qu(t,r,s,a,l){const h=t[s+1],y=null===r;let D=a?Wo(h):pa(h),M=!1;for(;0!==D&&(!1===M||y);){const J=t[D+1];Py(t[D],r)&&(M=!0,t[D+1]=a?af(J):Gu(J)),D=a?Wo(J):pa(J)}M&&(t[s+1]=a?Gu(h):af(h))}function Py(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&E(t,r)>=0}const co={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function am(t){return t.substring(co.key,co.keyEnd)}function um(t,r){const s=co.textEnd;return s===r?-1:(r=co.keyEnd=function Vy(t,r,s){for(;r<s&&t.charCodeAt(r)>32;)r++;return r}(t,co.key=r,s),ic(t,r,s))}function ic(t,r,s){for(;r<s&&t.charCodeAt(r)<=32;)r++;return r}function Qf(t,r,s){return Fa(t,r,s,!1),Qf}function Jf(t,r){return Fa(t,r,null,!0),Jf}function jy(t){!function i(t,r,s,a){const l=tr(),h=yr(2);l.firstUpdatePass&&n(l,null,h,a);const y=Lt();if(s!==wr&&Es(y,h,s)){const D=l.data[we()];if(kn(D,a)&&!e(l,h)){let M=a?D.classesWithoutHost:D.stylesWithoutHost;null!==M&&(s=We(M,s||"")),wl(l,D,y,s,a)}else!function Ae(t,r,s,a,l,h,y,D){l===wr&&(l=zt);let M=0,B=0,J=0<l.length?l[0]:null,ue=0<h.length?h[0]:null;for(;null!==J||null!==ue;){const Le=M<l.length?l[M+1]:void 0,ut=B<h.length?h[B+1]:void 0;let sn,Pt=null;J===ue?(M+=2,B+=2,Le!==ut&&(Pt=ue,sn=ut)):null===ue||null!==J&&J<ue?(M+=2,Pt=J):(B+=2,Pt=ue,sn=ut),null!==Pt&&ct(t,r,s,a,Pt,sn,y,D),J=M<l.length?l[M]:null,ue=B<h.length?h[B]:null}}(l,D,y,y[11],y[h+1],y[h+1]=function z(t,r,s){if(null==s||""===s)return zt;const a=[],l=xa(s);if(Array.isArray(l))for(let h=0;h<l.length;h++)t(a,l[h],!0);else if("object"==typeof l)for(const h in l)l.hasOwnProperty(h)&&t(a,h,l[h]);else"string"==typeof l&&r(a,l);return a}(t,r,s),a,h)}}(Vr,Cu,t,!0)}function Cu(t,r){for(let s=function Fy(t){return function cm(t){co.key=0,co.keyEnd=0,co.value=0,co.valueEnd=0,co.textEnd=t.length}(t),um(t,ic(t,0,co.textEnd))}(r);s>=0;s=um(r,s))Vr(t,am(r),!0)}function Fa(t,r,s,a){const l=Lt(),h=tr(),y=yr(2);h.firstUpdatePass&&n(h,t,y,a),r!==wr&&Es(l,y,r)&&ct(h,h.data[we()],l,l[11],t,l[y+1]=function En(t,r){return null==t||("string"==typeof r?t+=r:"object"==typeof t&&(t=ce(xa(t)))),t}(r,s),a,y)}function e(t,r){return r>=t.expandoStartIndex}function n(t,r,s,a){const l=t.data;if(null===l[s+1]){const h=l[we()],y=e(t,s);kn(h,a)&&null===r&&!y&&(r=!1),r=function o(t,r,s,a){const l=Ys(t);let h=a?r.residualClasses:r.residualStyles;if(null===l)0===(a?r.classBindings:r.styleBindings)&&(s=U(s=b(null,t,r,s,a),r.attrs,a),h=null);else{const y=r.directiveStylingLast;if(-1===y||t[y]!==l)if(s=b(l,t,r,s,a),null===h){let M=function u(t,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==pa(a))return t[Wo(a)]}(t,r,a);void 0!==M&&Array.isArray(M)&&(M=b(null,t,r,M[1],a),M=U(M,r.attrs,a),function d(t,r,s,a){t[Wo(s?r.classBindings:r.styleBindings)]=a}(t,r,a,M))}else h=function g(t,r,s){let a;const l=r.directiveEnd;for(let h=1+r.directiveStylingLast;h<l;h++)a=U(a,t[h].hostAttrs,s);return U(a,r.attrs,s)}(t,r,a)}return void 0!==h&&(a?r.residualClasses=h:r.residualStyles=h),s}(l,h,r,a),function Ku(t,r,s,a,l,h){let y=h?r.classBindings:r.styleBindings,D=Wo(y),M=pa(y);t[a]=s;let J,B=!1;if(Array.isArray(s)){const ue=s;J=ue[1],(null===J||E(ue,J)>0)&&(B=!0)}else J=s;if(l)if(0!==M){const Le=Wo(t[D+1]);t[a+1]=Kl(Le,D),0!==Le&&(t[Le+1]=jd(t[Le+1],a)),t[D+1]=function sf(t,r){return 131071&t|r<<17}(t[D+1],a)}else t[a+1]=Kl(D,0),0!==D&&(t[D+1]=jd(t[D+1],a)),D=a;else t[a+1]=Kl(M,0),0===D?D=a:t[M+1]=jd(t[M+1],a),M=a;B&&(t[a+1]=Gu(t[a+1])),qu(t,J,a,!0),qu(t,J,a,!1),function Oy(t,r,s,a,l){const h=l?t.residualClasses:t.residualStyles;null!=h&&"string"==typeof r&&E(h,r)>=0&&(s[a+1]=af(s[a+1]))}(r,J,t,a,h),y=Kl(D,M),h?r.classBindings=y:r.styleBindings=y}(l,h,r,s,y,a)}}function b(t,r,s,a,l){let h=null;const y=s.directiveEnd;let D=s.directiveStylingLast;for(-1===D?D=s.directiveStart:D++;D<y&&(h=r[D],a=U(a,h.hostAttrs,l),h!==t);)D++;return null!==t&&(s.directiveStylingLast=D),a}function U(t,r,s){const a=s?1:2;let l=-1;if(null!==r)for(let h=0;h<r.length;h++){const y=r[h];"number"==typeof y?l=y:l===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Vr(t,y,!!s||r[++h]))}return void 0===t?null:t}function ct(t,r,s,a,l,h,y,D){if(!(3&r.type))return;const M=t.data,B=M[D+1];kt(function hl(t){return 1==(1&t)}(B)?Rt(M,r,s,l,pa(B),y):void 0)||(kt(h)||function Eu(t){return 2==(2&t)}(B)&&(h=Rt(M,null,s,l,D,y)),function $p(t,r,s,a,l){if(r)l?t.addClass(s,a):t.removeClass(s,a);else{let h=-1===a.indexOf("-")?void 0:Xa.DashCase;null==l?t.removeStyle(s,a,h):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),h|=Xa.Important),t.setStyle(s,a,l,h))}}(a,y,ui(we(),s),l,h))}function Rt(t,r,s,a,l,h){const y=null===r;let D;for(;l>0;){const M=t[l],B=Array.isArray(M),J=B?M[1]:M,ue=null===J;let Le=s[l+1];Le===wr&&(Le=ue?zt:void 0);let ut=ue?Si(Le,a):J===a?Le:void 0;if(B&&!kt(ut)&&(ut=Si(M,a)),kt(ut)&&(D=ut,y))return D;const Pt=t[l+1];l=y?Wo(Pt):pa(Pt)}if(null!==r){let M=h?r.residualClasses:r.residualStyles;null!=M&&(D=Si(M,a))}return D}function kt(t){return void 0!==t}function kn(t,r){return 0!=(t.flags&(r?16:32))}function si(t,r=""){const s=Lt(),a=tr(),l=t+22,h=a.firstCreatePass?Ql(a,l,1,r,null):a.data[l],y=s[l]=function bd(t,r){return t.createText(r)}(s[11],r);Hl(a,s,y,h),wi(h,!1)}function Mi(t){return xi("",t,""),Mi}function xi(t,r,s){const a=Lt(),l=function _l(t,r,s,a){return Es(t,hn(),s)?r+Xe(s)+a:wr}(a,t,r,s);return l!==wr&&ru(a,we(),l),xi}function Hs(t,r,s,a,l){const h=Lt(),y=Iu(h,t,r,s,a,l);return y!==wr&&ru(h,we(),y),Hs}function $y(t,r,s){const a=Lt();if(Es(a,hn(),r)){const h=tr(),y=wt();ia(h,y,a,t,r,function Zd(t,r,s){return(null===t||fr(t))&&(s=function Co(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(s[r.index])),s[11]}(Ys(h.data),y,a),s,!0)}return $y}const Yc=void 0;var RE=["en",[["a","p"],["AM","PM"],Yc],[["AM","PM"],Yc,Yc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Yc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Yc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Yc,"{1} 'at' {0}",Yc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function NE(t){const s=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let oh={};function Hy(t){const r=function OE(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=d_(r);if(s)return s;const a=r.split("-")[0];if(s=d_(a),s)return s;if("en"===a)return RE;throw new tt(701,!1)}function c_(t){return Hy(t)[sr.PluralCase]}function d_(t){return t in oh||(oh[t]=dt.ng&&dt.ng.common&&dt.ng.common.locales&&dt.ng.common.locales[t]),oh[t]}var sr=(()=>((sr=sr||{})[sr.LocaleId=0]="LocaleId",sr[sr.DayPeriodsFormat=1]="DayPeriodsFormat",sr[sr.DayPeriodsStandalone=2]="DayPeriodsStandalone",sr[sr.DaysFormat=3]="DaysFormat",sr[sr.DaysStandalone=4]="DaysStandalone",sr[sr.MonthsFormat=5]="MonthsFormat",sr[sr.MonthsStandalone=6]="MonthsStandalone",sr[sr.Eras=7]="Eras",sr[sr.FirstDayOfWeek=8]="FirstDayOfWeek",sr[sr.WeekendRange=9]="WeekendRange",sr[sr.DateFormat=10]="DateFormat",sr[sr.TimeFormat=11]="TimeFormat",sr[sr.DateTimeFormat=12]="DateTimeFormat",sr[sr.NumberSymbols=13]="NumberSymbols",sr[sr.NumberFormats=14]="NumberFormats",sr[sr.CurrencyCode=15]="CurrencyCode",sr[sr.CurrencySymbol=16]="CurrencySymbol",sr[sr.CurrencyName=17]="CurrencyName",sr[sr.Currencies=18]="Currencies",sr[sr.Directionality=19]="Directionality",sr[sr.PluralCase=20]="PluralCase",sr[sr.ExtraData=21]="ExtraData",sr))();const ah="en-US";let h_=ah;function Wy(t,r,s,a,l){if(t=Oe(t),Array.isArray(t))for(let h=0;h<t.length;h++)Wy(t[h],r,s,a,l);else{const h=tr(),y=Lt();let D=Fu(t)?t:Oe(t.provide),M=gp(t);const B=qr(),J=1048575&B.providerIndexes,ue=B.directiveStart,Le=B.providerIndexes>>20;if(Fu(t)||!t.multi){const ut=new Ki(M,l,dl),Pt=qy(D,r,l?J:J+Le,ue);-1===Pt?(pr(Pi(B,y),h,D),Ky(h,t,r.length),r.push(D),B.directiveStart++,B.directiveEnd++,l&&(B.providerIndexes+=1048576),s.push(ut),y.push(ut)):(s[Pt]=ut,y[Pt]=ut)}else{const ut=qy(D,r,J+Le,ue),Pt=qy(D,r,J,J+Le),sn=ut>=0&&s[ut],yn=Pt>=0&&s[Pt];if(l&&!yn||!l&&!sn){pr(Pi(B,y),h,D);const Fn=function xw(t,r,s,a,l){const h=new Ki(t,s,dl);return h.multi=[],h.index=r,h.componentProviders=0,L_(h,l,a&&!s),h}(l?Mw:Aw,s.length,l,a,M);!l&&yn&&(s[Pt].providerFactory=Fn),Ky(h,t,r.length,0),r.push(D),B.directiveStart++,B.directiveEnd++,l&&(B.providerIndexes+=1048576),s.push(Fn),y.push(Fn)}else Ky(h,t,ut>-1?ut:Pt,L_(s[l?Pt:ut],M,!l&&a));!l&&a&&yn&&s[Pt].componentProviders++}}}function Ky(t,r,s,a){const l=Fu(r),h=function fp(t){return!!t.useClass}(r);if(l||h){const M=(h?Oe(r.useClass):r).prototype.ngOnDestroy;if(M){const B=t.destroyHooks||(t.destroyHooks=[]);if(!l&&r.multi){const J=B.indexOf(s);-1===J?B.push(s,[a,M]):B[J+1].push(a,M)}else B.push(s,M)}}}function L_(t,r,s){return s&&t.componentProviders++,t.multi.push(r)-1}function qy(t,r,s,a){for(let l=s;l<a;l++)if(r[l]===t)return l;return-1}function Aw(t,r,s,a){return Zy(this.multi,[])}function Mw(t,r,s,a){const l=this.multi;let h;if(this.providerFactory){const y=this.providerFactory.componentProviders,D=Bs(s,s[1],this.providerFactory.index,a);h=D.slice(0,y),Zy(l,h);for(let M=y;M<D.length;M++)h.push(D[M])}else h=[],Zy(l,h);return h}function Zy(t,r){for(let s=0;s<t.length;s++)r.push((0,t[s])());return r}function V_(t,r=[]){return s=>{s.providersResolver=(a,l)=>function Sw(t,r,s){const a=tr();if(a.firstCreatePass){const l=fr(t);Wy(s,a.data,a.blueprint,l,!0),Wy(r,a.data,a.blueprint,l,!1)}}(a,l?l(t):t,r)}}class uh{}class U_{}function Nw(t,r){return new B_(t,r??null)}class B_ extends uh{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new gl(this);const a=_n(r);this._bootstrapComponents=Ra(a.bootstrap),this._r3Injector=al(r,s,[{provide:uh,useValue:this},{provide:Vu,useValue:this.componentFactoryResolver}],ce(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class Yy extends U_{constructor(r){super(),this.moduleType=r}create(r){return new B_(this.moduleType,r)}}class Rw extends uh{constructor(r,s,a){super(),this.componentFactoryResolver=new gl(this),this.instance=null;const l=new Eh([...r,{provide:uh,useValue:this},{provide:Vu,useValue:this.componentFactoryResolver}],s||cd(),a,new Set(["environment"]));this.injector=l,l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function Qy(t,r,s=null){return new Rw(t,r,s).injector}let Ow=(()=>{class t{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s.id)){const a=ad(0,s.type),l=a.length>0?Qy([a],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s.id,l)}return this.cachedInjectors.get(s.id)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=It({token:t,providedIn:"environment",factory:()=>new t(Ar(Lu))}),t})();function j_(t){t.getStandaloneInjector=r=>r.get(Ow).getOrCreateStandaloneInjector(t)}function q_(t,r,s,a){return Y_(Lt(),A(),t,r,s,a)}function Z_(t,r,s,a,l){return function Q_(t,r,s,a,l,h,y){const D=r+s;return Da(t,D,l,h)?ko(t,D+2,y?a.call(y,l,h):a(l,h)):ip(t,D+2)}(Lt(),A(),t,r,s,a,l)}function ip(t,r){const s=t[r];return s===wr?void 0:s}function Y_(t,r,s,a,l,h){const y=r+s;return Es(t,y,l)?ko(t,y+1,h?a.call(h,l):a(l)):ip(t,y+1)}function t0(t,r){const s=tr();let a;const l=t+22;s.firstCreatePass?(a=function Yw(t,r){if(r)for(let s=r.length-1;s>=0;s--){const a=r[s];if(t===a.name)return a}}(r,s.pipeRegistry),s.data[l]=a,a.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(l,a.onDestroy)):a=s.data[l];const h=a.factory||(a.factory=pi(a.type)),y=Zn(dl);try{const D=la(!1),M=h();return la(D),function th(t,r,s,a){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),r[s]=a}(s,Lt(),l,M),M}finally{Zn(y)}}function n0(t,r,s){const a=t+22,l=Lt(),h=gi(l,a);return function sp(t,r){return t[1].data[r].pure}(l,a)?Y_(l,A(),r,h.transform,s,h):h.transform(s)}function Xy(t){return r=>{setTimeout(t,void 0,r)}}const Zu=class tI extends c.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){let l=r,h=s||(()=>null),y=a;if(r&&"object"==typeof r){const M=r;l=M.next?.bind(M),h=M.error?.bind(M),y=M.complete?.bind(M)}this.__isAsync&&(h=Xy(h),l&&(l=Xy(l)),y&&(y=Xy(y)));const D=super.subscribe({next:l,error:h,complete:y});return r instanceof k.w0&&r.add(D),D}};function nI(){return this._results[ml()]()}class ev{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=ml(),a=ev.prototype;a[s]||(a[s]=nI)}get changes(){return this._changes||(this._changes=new Zu)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const l=qe(r);(this._changesDetected=!function Re(t,r,s){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let l=t[a],h=r[a];if(s&&(l=s(l),h=s(h)),h!==l)return!1}return!0}(a._results,l,s))&&(a._results=l,a.length=l.length,a.last=l[this.length-1],a.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let op=(()=>{class t{}return t.__NG_ELEMENT_ID__=sI,t})();const rI=op,iI=class extends rI{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(r,s){const a=this._declarationTContainer.tViews,l=Yl(this._declarationLView,a,r,16,null,a.declTNode,null,null,null,null,s||null);l[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(l[19]=y.createEmbeddedView(a)),mf(a,l,r),new nc(l)}};function sI(){return mm(qr(),Lt())}function mm(t,r){return 4&t.type?new iI(r,t,Vl(t,r)):null}let ym=(()=>{class t{}return t.__NG_ELEMENT_ID__=oI,t})();function oI(){return o0(qr(),Lt())}const aI=ym,r0=class extends aI{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return Vl(this._hostTNode,this._hostLView)}get injector(){return new $o(this._hostTNode,this._hostLView)}get parentInjector(){const r=Ro(this._hostTNode,this._hostLView);if(ua(r)){const s=Bo(r,this._hostLView),a=Di(r);return new $o(s[1].data[a+8],s)}return new $o(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=s0(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,a){let l,h;"number"==typeof a?l=a:null!=a&&(l=a.index,h=a.injector);const y=r.createEmbeddedView(s||{},h);return this.insert(y,l),y}createComponent(r,s,a,l,h){const y=r&&!function te(t){return"function"==typeof t}(r);let D;if(y)D=s;else{const ue=s||{};D=ue.index,a=ue.injector,l=ue.projectableNodes,h=ue.environmentInjector||ue.ngModuleRef}const M=y?r:new ga(ve(r)),B=a||this.parentInjector;if(!h&&null==M.ngModule){const Le=(y?B:this.parentInjector).get(Lu,null);Le&&(h=Le)}const J=M.create(B,l,void 0,h);return this.insert(J.hostView,D),J}insert(r,s){const a=r._lView,l=a[1];if(function To(t){return on(t[3])}(a)){const J=this.indexOf(r);if(-1!==J)this.detach(J);else{const ue=a[3],Le=new r0(ue,ue[6],ue[3]);Le.detach(Le.indexOf(r))}}const h=this._adjustIndex(s),y=this._lContainer;!function Qm(t,r,s,a){const l=10+a,h=s.length;a>0&&(s[l-1][4]=r),a<h-10?(r[4]=s[l],an(s,10+a,r)):(s.push(r),r[4]=null),r[3]=s;const y=r[17];null!==y&&s!==y&&function Oh(t,r){const s=t[9];r[16]!==r[3][3][16]&&(t[2]=!0),null===s?t[9]=[r]:s.push(r)}(y,r);const D=r[19];null!==D&&D.insertView(t),r[2]|=64}(l,a,y,h);const D=$h(h,y),M=a[11],B=ol(M,y[7]);return null!==B&&function Zm(t,r,s,a,l,h){a[0]=l,a[6]=r,eu(t,a,s,1,l,h)}(l,y[6],M,a,B,D),r.attachToViewContainerRef(),an(tv(y),h,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=s0(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=Ph(this._lContainer,s);a&&(Zt(tv(this._lContainer),s),Vp(a[1],a))}detach(r){const s=this._adjustIndex(r,-1),a=Ph(this._lContainer,s);return a&&null!=Zt(tv(this._lContainer),s)?new nc(a):null}_adjustIndex(r,s=0){return r??this.length+s}};function s0(t){return t[8]}function tv(t){return t[8]||(t[8]=[])}function o0(t,r){let s;const a=r[t.index];if(on(a))s=a;else{let l;if(8&t.type)l=Or(a);else{const h=r[11];l=h.createComment("");const y=ni(t,r);sl(h,ol(h,y),l,function Vh(t,r){return t.nextSibling(r)}(h,y),!1)}r[t.index]=s=Cf(a,r,l,t),Gc(r,s)}return new r0(s,t,r)}class nv{constructor(r){this.queryList=r,this.matches=null}clone(){return new nv(this.queryList)}setDirty(){this.queryList.setDirty()}}class rv{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,l=[];for(let h=0;h<a;h++){const y=s.getByIndex(h);l.push(this.queries[y.indexInDeclarationView].clone())}return new rv(l)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==p0(r,s).matches&&this.queries[s].setDirty()}}class a0{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class iv{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const l=null!==s?s.length:0,h=this.getByIndex(a).embeddedTView(r,l);h&&(h.indexInDeclarationView=a,null!==s?s.push(h):s=[h])}return null!==s?new iv(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class sv{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new sv(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let l=0;l<a.length;l++){const h=a[l];this.matchTNodeWithReadOption(r,s,cI(s,h)),this.matchTNodeWithReadOption(r,s,jo(s,r,h,!1,!1))}else a===op?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,jo(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const l=this.metadata.read;if(null!==l)if(l===Ic||l===ym||l===op&&4&s.type)this.addMatch(s.index,-2);else{const h=jo(s,r,l,!1,!1);null!==h&&this.addMatch(s.index,h)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function cI(t,r){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function hI(t,r,s,a){return-1===s?function dI(t,r){return 11&t.type?Vl(t,r):4&t.type?mm(t,r):null}(r,t):-2===s?function fI(t,r,s){return s===Ic?Vl(r,t):s===op?mm(r,t):s===ym?o0(r,t):void 0}(t,r,a):Bs(t,t[1],s,r)}function u0(t,r,s,a){const l=r[19].queries[a];if(null===l.matches){const h=t.data,y=s.matches,D=[];for(let M=0;M<y.length;M+=2){const B=y[M];D.push(B<0?null:hI(r,h[B],y[M+1],s.metadata.read))}l.matches=D}return l.matches}function ov(t,r,s,a){const l=t.queries.getByIndex(s),h=l.matches;if(null!==h){const y=u0(t,r,l,s);for(let D=0;D<h.length;D+=2){const M=h[D];if(M>0)a.push(y[D/2]);else{const B=h[D+1],J=r[-M];for(let ue=10;ue<J.length;ue++){const Le=J[ue];Le[17]===Le[3]&&ov(Le[1],Le,B,a)}if(null!==J[9]){const ue=J[9];for(let Le=0;Le<ue.length;Le++){const ut=ue[Le];ov(ut[1],ut,B,a)}}}}}return a}function l0(t){const r=Lt(),s=tr(),a=So();oa(a+1);const l=p0(s,a);if(t.dirty&&function no(t){return 4==(4&t[2])}(r)===(2==(2&l.metadata.flags))){if(null===l.matches)t.reset([]);else{const h=l.crossesNgTemplate?ov(s,r,a,[]):u0(s,r,l,a);t.reset(h,Rm),t.notifyOnChanges()}return!0}return!1}function c0(t,r,s,a){const l=tr();if(l.firstCreatePass){const h=qr();(function f0(t,r,s){null===t.queries&&(t.queries=new iv),t.queries.track(new sv(r,s))})(l,new a0(r,s,a),h.index),function mI(t,r){const s=t.contentQueries||(t.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,r)}(l,t),2==(2&s)&&(l.staticContentQueries=!0)}!function h0(t,r,s){const a=new ev(4==(4&s));Mg(t,r,a,a.destroy),null===r[19]&&(r[19]=new rv),r[19].queries.push(new nv(a))}(l,Lt(),s)}function d0(){return function gI(t,r){return t[19].queries[r].queryList}(Lt(),So())}function p0(t,r){return t.queries.getByIndex(r)}function g0(t,r){return mm(t,r)}function _m(...t){}const P0=new Br("Application Initializer");let Em=(()=>{class t{constructor(s){this.appInits=s,this.resolve=_m,this.reject=_m,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,l)=>{this.resolve=a,this.reject=l})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const h=this.appInits[l]();if(Dl(h))s.push(h);else if(Xg(h)){const y=new Promise((D,M)=>{h.subscribe({complete:D,error:M})});s.push(y)}}Promise.all(s).then(()=>{a()}).catch(l=>{this.reject(l)}),0===s.length&&a(),this.initialized=!0}}return t.\u0275fac=function(s){return new(s||t)(Ar(P0,8))},t.\u0275prov=It({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const k0=new Br("AppId",{providedIn:"root",factory:function F0(){return`${dv()}${dv()}${dv()}`}});function dv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const L0=new Br("Platform Initializer"),FI=new Br("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),V0=new Br("appBootstrapListener"),LI=new Br("AnimationModuleType");let VI=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=It({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const wm=new Br("LocaleId",{providedIn:"root",factory:()=>x(wm,Ut.Optional|Ut.SkipSelf)||function UI(){return typeof $localize<"u"&&$localize.locale||ah}()}),BI=new Br("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class jI{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let $I=(()=>{class t{compileModuleSync(s){return new Yy(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),h=Ra(_n(s).declarations).reduce((y,D)=>{const M=ve(D);return M&&y.push(new ga(M)),y},[]);return new jI(a,h)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=It({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const zI=(()=>Promise.resolve(0))();function hv(t){typeof Zone>"u"?zI.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class uu{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Zu(!1),this.onMicrotaskEmpty=new Zu(!1),this.onStable=new Zu(!1),this.onError=new Zu(!1),typeof Zone>"u")throw new tt(908,!1);Zone.assertZonePatched();const l=this;if(l._nesting=0,l._outer=l._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const h=Zone.AsyncStackTaggingZoneSpec;l._inner=l._inner.fork(new h("Angular"))}Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!a&&s,l.shouldCoalesceRunChangeDetection=a,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function WI(){let t=dt.requestAnimationFrame,r=dt.cancelAnimationFrame;if(typeof Zone<"u"&&t&&r){const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function ZI(t){const r=()=>{!function qI(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(dt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,pv(t),t.isCheckStableRunning=!0,fv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),pv(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,l,h,y,D)=>{try{return j0(t),s.invokeTask(l,h,y,D)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||t.shouldCoalesceRunChangeDetection)&&r(),$0(t)}},onInvoke:(s,a,l,h,y,D,M)=>{try{return j0(t),s.invoke(l,h,y,D,M)}finally{t.shouldCoalesceRunChangeDetection&&r(),$0(t)}},onHasTask:(s,a,l,h)=>{s.hasTask(l,h),a===l&&("microTask"==h.change?(t._hasPendingMicrotasks=h.microTask,pv(t),fv(t)):"macroTask"==h.change&&(t.hasPendingMacrotasks=h.macroTask))},onHandleError:(s,a,l,h)=>(s.handleError(l,h),t.runOutsideAngular(()=>t.onError.emit(h)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!uu.isInAngularZone())throw new tt(909,!1)}static assertNotInAngularZone(){if(uu.isInAngularZone())throw new tt(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,l){const h=this._inner,y=h.scheduleEventTask("NgZoneEvent: "+l,r,KI,_m,_m);try{return h.runTask(y,s,a)}finally{h.cancelTask(y)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const KI={};function fv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function pv(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function j0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function $0(t){t._nesting--,fv(t)}class YI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Zu,this.onMicrotaskEmpty=new Zu,this.onStable=new Zu,this.onError=new Zu}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,l){return r.apply(s,a)}}const H0=new Br(""),G0=new Br("");let gv,QI=(()=>{class t{constructor(s,a,l){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,gv||(function JI(t){gv=t}(l),l.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{uu.assertNotInAngularZone(),hv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())hv(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,l){let h=-1;a&&a>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==h),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:h,updateCb:l})}whenStable(s,a,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,l){return[]}}return t.\u0275fac=function(s){return new(s||t)(Ar(uu),Ar(z0),Ar(G0))},t.\u0275prov=It({token:t,factory:t.\u0275fac}),t})(),z0=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return gv?.findTestabilityInTree(this,s,a)??null}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=It({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),ac=null;const W0=new Br("AllowMultipleToken"),mv=new Br("PlatformDestroyListeners");class tD{constructor(r,s){this.name=r,this.token=s}}function q0(t,r,s=[]){const a=`Platform: ${r}`,l=new Br(a);return(h=[])=>{let y=yv();if(!y||y.injector.get(W0,!1)){const D=[...s,...h,{provide:l,useValue:!0}];t?t(D):function nD(t){if(ac&&!ac.get(W0,!1))throw new tt(400,!1);ac=t;const r=t.get(Y0);(function K0(t){const r=t.get(L0,null);r&&r.forEach(s=>s())})(t)}(function Z0(t=[],r){return _u.create({name:r,providers:[{provide:_h,useValue:"platform"},{provide:mv,useValue:new Set([()=>ac=null])},...t]})}(D,a))}return function iD(t){const r=yv();if(!r)throw new tt(401,!1);return r}()}}function yv(){return ac?.get(Y0)??null}let Y0=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const l=function J0(t,r){let s;return s="noop"===t?new YI:("zone.js"===t?void 0:t)||new uu(r),s}(a?.ngZone,function Q0(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(a)),h=[{provide:uu,useValue:l}];return l.run(()=>{const y=_u.create({providers:h,parent:this.injector,name:s.moduleType.name}),D=s.create(y),M=D.injector.get(Ha,null);if(!M)throw new tt(402,!1);return l.runOutsideAngular(()=>{const B=l.onError.subscribe({next:J=>{M.handleError(J)}});D.onDestroy(()=>{Dm(this._modules,D),B.unsubscribe()})}),function X0(t,r,s){try{const a=s();return Dl(a)?a.catch(l=>{throw r.runOutsideAngular(()=>t.handleError(l)),l}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(M,l,()=>{const B=D.injector.get(Em);return B.runInitializers(),B.donePromise.then(()=>(function f_(t){ln(t,"Expected localeId to be defined"),"string"==typeof t&&(h_=t.toLowerCase().replace(/_/g,"-"))}(D.injector.get(wm,ah)||ah),this._moduleDoBootstrap(D),D))})})}bootstrapModule(s,a=[]){const l=eE({},a);return function XI(t,r,s){const a=new Yy(s);return Promise.resolve(a)}(0,0,s).then(h=>this.bootstrapModuleFactory(h,l))}_moduleDoBootstrap(s){const a=s.injector.get(Im);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(l=>a.bootstrap(l));else{if(!s.instance.ngDoBootstrap)throw new tt(403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new tt(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(mv,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(s){return new(s||t)(Ar(_u))},t.\u0275prov=It({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function eE(t,r){return Array.isArray(r)?r.reduce(eE,t):{...t,...r}}let Im=(()=>{class t{constructor(s,a,l){this._zone=s,this._injector=a,this._exceptionHandler=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new H.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),y=new H.y(D=>{let M;this._zone.runOutsideAngular(()=>{M=this._zone.onStable.subscribe(()=>{uu.assertNotInAngularZone(),hv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const B=this._zone.onUnstable.subscribe(()=>{uu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{M.unsubscribe(),B.unsubscribe()}});this.isStable=(0,be.T)(h,y.pipe((0,me.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,a){const l=s instanceof zo;if(!this._injector.get(Em).done)throw!l&&$t(s),new tt(405,false);let y;y=l?s:this._injector.get(Vu).resolveComponentFactory(s),this.componentTypes.push(y.componentType);const D=function eD(t){return t.isBoundToModule}(y)?void 0:this._injector.get(uh),B=y.create(_u.NULL,[],a||y.selector,D),J=B.location.nativeElement,ue=B.injector.get(H0,null);return ue?.registerApplication(J),B.onDestroy(()=>{this.detachView(B.hostView),Dm(this.components,B),ue?.unregisterApplication(J)}),this._loadComponent(B),B}tick(){if(this._runningTick)throw new tt(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;Dm(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(V0,[]).concat(this._bootstrapListeners).forEach(l=>l(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>Dm(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new tt(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(s){return new(s||t)(Ar(uu),Ar(Lu),Ar(Ha))},t.\u0275prov=It({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Dm(t,r){const s=t.indexOf(r);s>-1&&t.splice(s,1)}let nE=!0,rE=!1;function oD(){return rE=!0,nE}function aD(){if(rE)throw new Error("Cannot enable prod mode after platform setup.");nE=!1}let uD=(()=>{class t{}return t.__NG_ELEMENT_ID__=lD,t})();function lD(t){return function cD(t,r,s){if(Hr(t)&&!s){const a=rr(t.index,r);return new nc(a,a)}return 47&t.type?new nc(r[16],r):null}(qr(),Lt(),16==(16&t))}class aE{constructor(){}supports(r){return Wc(r)}create(r){return new mD(r)}}const gD=(t,r)=>r;class mD{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||gD}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,l=0,h=null;for(;s||a;){const y=!a||s&&s.currentIndex<lE(a,l,h)?s:a,D=lE(y,l,h),M=y.currentIndex;if(y===a)l--,a=a._nextRemoved;else if(s=s._next,null==y.previousIndex)l++;else{h||(h=[]);const B=D-l,J=M-l;if(B!=J){for(let Le=0;Le<B;Le++){const ut=Le<h.length?h[Le]:h[Le]=0,Pt=ut+Le;J<=Pt&&Pt<B&&(h[Le]=ut+1)}h[y.previousIndex]=J-B}}D!==M&&r(y,D,M)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!Wc(r))throw new tt(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let l,h,y,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let D=0;D<this.length;D++)h=r[D],y=this._trackByFn(D,h),null!==s&&Object.is(s.trackById,y)?(a&&(s=this._verifyReinsertion(s,h,y,D)),Object.is(s.item,h)||this._addIdentityChange(s,h)):(s=this._mismatch(s,h,y,D),a=!0),s=s._next}else l=0,function Sy(t,r){if(Array.isArray(t))for(let s=0;s<t.length;s++)r(t[s]);else{const s=t[ml()]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,D=>{y=this._trackByFn(l,D),null!==s&&Object.is(s.trackById,y)?(a&&(s=this._verifyReinsertion(s,D,y,l)),Object.is(s.item,D)||this._addIdentityChange(s,D)):(s=this._mismatch(s,D,y,l),a=!0),s=s._next,l++}),this.length=l;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,l){let h;return null===r?h=this._itTail:(h=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,h,l)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,l))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,h,l)):r=this._addAfter(new yD(s,a),h,l),r}_verifyReinsertion(r,s,a,l){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==h?r=this._reinsertAfter(h,r._prev,l):r.currentIndex!=l&&(r.currentIndex=l,this._addToMoves(r,l)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const l=r._prevRemoved,h=r._nextRemoved;return null===l?this._removalsHead=h:l._nextRemoved=h,null===h?this._removalsTail=l:h._prevRemoved=l,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const l=null===s?this._itHead:s._next;return r._next=l,r._prev=s,null===l?this._itTail=r:l._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new uE),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new uE),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class yD{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class vD{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class uE{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new vD,this.map.set(s,a)),a.add(r)}get(r,s){const l=this.map.get(r);return l?l.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function lE(t,r,s){const a=t.previousIndex;if(null===a)return a;let l=0;return s&&a<s.length&&(l=s[a]),a+r+l}class cE{constructor(){}supports(r){return r instanceof Map||kf(r)}create(){return new _D}}class _D{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||kf(r)))throw new tt(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,l)=>{if(s&&s.key===l)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const h=this._getOrCreateRecordForKey(l,a);s=this._insertBeforeOrAppend(s,h)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const l=this._records.get(r);this._maybeAddToChanges(l,s);const h=l._prev,y=l._next;return h&&(h._next=y),y&&(y._prev=h),l._next=null,l._prev=null,l}const a=new ED(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class ED{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function dE(){return new Iv([new aE])}let Iv=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(null!=a){const l=a.factories.slice();s=s.concat(l)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||dE()),deps:[[t,new xn,new dn]]}}find(s){const a=this.factories.find(l=>l.supports(s));if(null!=a)return a;throw new tt(901,!1)}}return t.\u0275prov=It({token:t,providedIn:"root",factory:dE}),t})();function hE(){return new Dv([new cE])}let Dv=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(a){const l=a.factories.slice();s=s.concat(l)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||hE()),deps:[[t,new xn,new dn]]}}find(s){const a=this.factories.find(l=>l.supports(s));if(a)return a;throw new tt(901,!1)}}return t.\u0275prov=It({token:t,providedIn:"root",factory:hE}),t})();const DD=q0(null,"core",[]);let bD=(()=>{class t{constructor(s){}}return t.\u0275fac=function(s){return new(s||t)(Ar(Im))},t.\u0275mod=Ue({type:t}),t.\u0275inj=ze({}),t})();function CD(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}},433:(nn,it,V)=>{V.d(it,{Fj:()=>ae,qu:()=>Zs,u:()=>fo,sg:()=>ds,u5:()=>Yo,JJ:()=>ot,JL:()=>Ee,On:()=>Rs,UX:()=>po,kI:()=>Se,_Y:()=>Do});var c=V(4650),k=V(6895),H=V(8996),be=V(9751),me=V(4742),Fe=V(8421),xe=V(7669),ce=V(5403),We=V(3268),re=V(1810),Oe=V(4004);let yt=(()=>{class L{constructor(A,Q){this._renderer=A,this._elementRef=Q,this.onChange=ht=>{},this.onTouched=()=>{}}setProperty(A,Q){this._renderer.setProperty(this._elementRef.nativeElement,A,Q)}registerOnTouched(A){this.onTouched=A}registerOnChange(A){this.onChange=A}setDisabledState(A){this.setProperty("disabled",A)}}return L.\u0275fac=function(A){return new(A||L)(c.Y36(c.Qsj),c.Y36(c.SBq))},L.\u0275dir=c.lG2({type:L}),L})(),ft=(()=>{class L extends yt{}return L.\u0275fac=function(){let O;return function(Q){return(O||(O=c.n5z(L)))(Q||L)}}(),L.\u0275dir=c.lG2({type:L,features:[c.qOj]}),L})();const tt=new c.OlP("NgValueAccessor"),Ye={provide:tt,useExisting:(0,c.Gpc)(()=>ae),multi:!0},At=new c.OlP("CompositionEventMode");let ae=(()=>{class L extends yt{constructor(A,Q,ht){super(A,Q),this._compositionMode=ht,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function St(){const L=(0,k.q)()?(0,k.q)().getUserAgent():"";return/android (\d+)/.test(L.toLowerCase())}())}writeValue(A){this.setProperty("value",A??"")}_handleInput(A){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(A)}_compositionStart(){this._composing=!0}_compositionEnd(A){this._composing=!1,this._compositionMode&&this.onChange(A)}}return L.\u0275fac=function(A){return new(A||L)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(At,8))},L.\u0275dir=c.lG2({type:L,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(A,Q){1&A&&c.NdJ("input",function(hn){return Q._handleInput(hn.target.value)})("blur",function(){return Q.onTouched()})("compositionstart",function(){return Q._compositionStart()})("compositionend",function(hn){return Q._compositionEnd(hn.target.value)})},features:[c._Bn([Ye]),c.qOj]}),L})();function Je(L){return null==L||("string"==typeof L||Array.isArray(L))&&0===L.length}function xt(L){return null!=L&&"number"==typeof L.length}const Pe=new c.OlP("NgValidators"),He=new c.OlP("NgAsyncValidators"),Qe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Se{static min(O){return function ke(L){return O=>{if(Je(O.value)||Je(L))return null;const A=parseFloat(O.value);return!isNaN(A)&&A<L?{min:{min:L,actual:O.value}}:null}}(O)}static max(O){return function je(L){return O=>{if(Je(O.value)||Je(L))return null;const A=parseFloat(O.value);return!isNaN(A)&&A>L?{max:{max:L,actual:O.value}}:null}}(O)}static required(O){return function Ge(L){return Je(L.value)?{required:!0}:null}(O)}static requiredTrue(O){return function Ct(L){return!0===L.value?null:{required:!0}}(O)}static email(O){return function Ot(L){return Je(L.value)||Qe.test(L.value)?null:{email:!0}}(O)}static minLength(O){return function Ft(L){return O=>Je(O.value)||!xt(O.value)?null:O.value.length<L?{minlength:{requiredLength:L,actualLength:O.value.length}}:null}(O)}static maxLength(O){return function Qt(L){return O=>xt(O.value)&&O.value.length>L?{maxlength:{requiredLength:L,actualLength:O.value.length}}:null}(O)}static pattern(O){return function ln(L){if(!L)return Dt;let O,A;return"string"==typeof L?(A="","^"!==L.charAt(0)&&(A+="^"),A+=L,"$"!==L.charAt(L.length-1)&&(A+="$"),O=new RegExp(A)):(A=L.toString(),O=L),Q=>{if(Je(Q.value))return null;const ht=Q.value;return O.test(ht)?null:{pattern:{requiredPattern:A,actualValue:ht}}}}(O)}static nullValidator(O){return null}static compose(O){return Kt(O)}static composeAsync(O){return Jn(O)}}function Dt(L){return null}function un(L){return null!=L}function pn(L){return(0,c.QGY)(L)?(0,H.D)(L):L}function rt(L){let O={};return L.forEach(A=>{O=null!=A?{...O,...A}:O}),0===Object.keys(O).length?null:O}function It(L,O){return O.map(A=>A(L))}function ze(L){return L.map(O=>function Me(L){return!L.validate}(O)?O:A=>O.validate(A))}function Kt(L){if(!L)return null;const O=L.filter(un);return 0==O.length?null:function(A){return rt(It(A,O))}}function vn(L){return null!=L?Kt(ze(L)):null}function Jn(L){if(!L)return null;const O=L.filter(un);return 0==O.length?null:function(A){return function fe(...L){const O=(0,xe.jO)(L),{args:A,keys:Q}=(0,me.D)(L),ht=new be.y(hn=>{const{length:yr}=A;if(!yr)return void hn.complete();const Wi=new Array(yr);let es=yr,ri=yr;for(let io=0;io<yr;io++){let ps=!1;(0,Fe.Xf)(A[io]).subscribe((0,ce.x)(hn,Ys=>{ps||(ps=!0,ri--),Wi[io]=Ys},()=>es--,void 0,()=>{(!es||!ps)&&(ri||hn.next(Q?(0,re.n)(Q,Wi):Wi),hn.complete())}))}});return O?ht.pipe((0,We.Z)(O)):ht}(It(A,O).map(pn)).pipe((0,Oe.U)(rt))}}function Bn(L){return null!=L?Jn(ze(L)):null}function dr(L,O){return null===L?[O]:Array.isArray(L)?[...L,O]:[L,O]}function hr(L){return L._rawValidators}function en(L){return L._rawAsyncValidators}function On(L){return L?Array.isArray(L)?L:[L]:[]}function Nr(L,O){return Array.isArray(L)?L.includes(O):L===O}function or(L,O){const A=On(O);return On(L).forEach(ht=>{Nr(A,ht)||A.push(ht)}),A}function Ut(L,O){return On(O).filter(A=>!Nr(L,A))}class Pn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(O){this._rawValidators=O||[],this._composedValidatorFn=vn(this._rawValidators)}_setAsyncValidators(O){this._rawAsyncValidators=O||[],this._composedAsyncValidatorFn=Bn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(O){this._onDestroyCallbacks.push(O)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(O=>O()),this._onDestroyCallbacks=[]}reset(O){this.control&&this.control.reset(O)}hasError(O,A){return!!this.control&&this.control.hasError(O,A)}getError(O,A){return this.control?this.control.getError(O,A):null}}class bn extends Pn{get formDirective(){return null}get path(){return null}}class Zn extends Pn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class br{constructor(O){this._cd=O}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let ot=(()=>{class L extends br{constructor(A){super(A)}}return L.\u0275fac=function(A){return new(A||L)(c.Y36(Zn,2))},L.\u0275dir=c.lG2({type:L,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(A,Q){2&A&&c.ekj("ng-untouched",Q.isUntouched)("ng-touched",Q.isTouched)("ng-pristine",Q.isPristine)("ng-dirty",Q.isDirty)("ng-valid",Q.isValid)("ng-invalid",Q.isInvalid)("ng-pending",Q.isPending)},features:[c.qOj]}),L})(),Ee=(()=>{class L extends br{constructor(A){super(A)}}return L.\u0275fac=function(A){return new(A||L)(c.Y36(bn,10))},L.\u0275dir=c.lG2({type:L,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(A,Q){2&A&&c.ekj("ng-untouched",Q.isUntouched)("ng-touched",Q.isTouched)("ng-pristine",Q.isPristine)("ng-dirty",Q.isDirty)("ng-valid",Q.isValid)("ng-invalid",Q.isInvalid)("ng-pending",Q.isPending)("ng-submitted",Q.isSubmitted)},features:[c.qOj]}),L})();const Ue="VALID",Mt="INVALID",cn="PENDING",jn="DISABLED";function $e(L){return($t(L)?L.validators:L)||null}function ve(L){return Array.isArray(L)?vn(L):L||null}function Ie(L,O){return($t(O)?O.asyncValidators:L)||null}function gt(L){return Array.isArray(L)?Bn(L):L||null}function $t(L){return null!=L&&!Array.isArray(L)&&"object"==typeof L}function _n(L,O,A){const Q=L.controls;if(!(O?Object.keys(Q):Q).length)throw new c.vHH(1e3,"");if(!Q[A])throw new c.vHH(1001,"")}function Yt(L,O,A){L._forEachChild((Q,ht)=>{if(void 0===A[ht])throw new c.vHH(1002,"")})}class le{constructor(O,A){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=O,this._rawAsyncValidators=A,this._composedValidatorFn=ve(this._rawValidators),this._composedAsyncValidatorFn=gt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(O){this._rawValidators=this._composedValidatorFn=O}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(O){this._rawAsyncValidators=this._composedAsyncValidatorFn=O}get parent(){return this._parent}get valid(){return this.status===Ue}get invalid(){return this.status===Mt}get pending(){return this.status==cn}get disabled(){return this.status===jn}get enabled(){return this.status!==jn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(O){this._rawValidators=O,this._composedValidatorFn=ve(O)}setAsyncValidators(O){this._rawAsyncValidators=O,this._composedAsyncValidatorFn=gt(O)}addValidators(O){this.setValidators(or(O,this._rawValidators))}addAsyncValidators(O){this.setAsyncValidators(or(O,this._rawAsyncValidators))}removeValidators(O){this.setValidators(Ut(O,this._rawValidators))}removeAsyncValidators(O){this.setAsyncValidators(Ut(O,this._rawAsyncValidators))}hasValidator(O){return Nr(this._rawValidators,O)}hasAsyncValidator(O){return Nr(this._rawAsyncValidators,O)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(O={}){this.touched=!0,this._parent&&!O.onlySelf&&this._parent.markAsTouched(O)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(O=>O.markAllAsTouched())}markAsUntouched(O={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(A=>{A.markAsUntouched({onlySelf:!0})}),this._parent&&!O.onlySelf&&this._parent._updateTouched(O)}markAsDirty(O={}){this.pristine=!1,this._parent&&!O.onlySelf&&this._parent.markAsDirty(O)}markAsPristine(O={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(A=>{A.markAsPristine({onlySelf:!0})}),this._parent&&!O.onlySelf&&this._parent._updatePristine(O)}markAsPending(O={}){this.status=cn,!1!==O.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!O.onlySelf&&this._parent.markAsPending(O)}disable(O={}){const A=this._parentMarkedDirty(O.onlySelf);this.status=jn,this.errors=null,this._forEachChild(Q=>{Q.disable({...O,onlySelf:!0})}),this._updateValue(),!1!==O.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...O,skipPristineCheck:A}),this._onDisabledChange.forEach(Q=>Q(!0))}enable(O={}){const A=this._parentMarkedDirty(O.onlySelf);this.status=Ue,this._forEachChild(Q=>{Q.enable({...O,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:O.emitEvent}),this._updateAncestors({...O,skipPristineCheck:A}),this._onDisabledChange.forEach(Q=>Q(!1))}_updateAncestors(O){this._parent&&!O.onlySelf&&(this._parent.updateValueAndValidity(O),O.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(O){this._parent=O}getRawValue(){return this.value}updateValueAndValidity(O={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ue||this.status===cn)&&this._runAsyncValidator(O.emitEvent)),!1!==O.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!O.onlySelf&&this._parent.updateValueAndValidity(O)}_updateTreeValidity(O={emitEvent:!0}){this._forEachChild(A=>A._updateTreeValidity(O)),this.updateValueAndValidity({onlySelf:!0,emitEvent:O.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?jn:Ue}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(O){if(this.asyncValidator){this.status=cn,this._hasOwnPendingAsyncValidator=!0;const A=pn(this.asyncValidator(this));this._asyncValidationSubscription=A.subscribe(Q=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Q,{emitEvent:O})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(O,A={}){this.errors=O,this._updateControlsErrors(!1!==A.emitEvent)}get(O){let A=O;return null==A||(Array.isArray(A)||(A=A.split(".")),0===A.length)?null:A.reduce((Q,ht)=>Q&&Q._find(ht),this)}getError(O,A){const Q=A?this.get(A):this;return Q&&Q.errors?Q.errors[O]:null}hasError(O,A){return!!this.getError(O,A)}get root(){let O=this;for(;O._parent;)O=O._parent;return O}_updateControlsErrors(O){this.status=this._calculateStatus(),O&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(O)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?jn:this.errors?Mt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(cn)?cn:this._anyControlsHaveStatus(Mt)?Mt:Ue}_anyControlsHaveStatus(O){return this._anyControls(A=>A.status===O)}_anyControlsDirty(){return this._anyControls(O=>O.dirty)}_anyControlsTouched(){return this._anyControls(O=>O.touched)}_updatePristine(O={}){this.pristine=!this._anyControlsDirty(),this._parent&&!O.onlySelf&&this._parent._updatePristine(O)}_updateTouched(O={}){this.touched=this._anyControlsTouched(),this._parent&&!O.onlySelf&&this._parent._updateTouched(O)}_registerOnCollectionChange(O){this._onCollectionChange=O}_setUpdateStrategy(O){$t(O)&&null!=O.updateOn&&(this._updateOn=O.updateOn)}_parentMarkedDirty(O){return!O&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(O){return null}}class de extends le{constructor(O,A,Q){super($e(A),Ie(Q,A)),this.controls=O,this._initObservables(),this._setUpdateStrategy(A),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(O,A){return this.controls[O]?this.controls[O]:(this.controls[O]=A,A.setParent(this),A._registerOnCollectionChange(this._onCollectionChange),A)}addControl(O,A,Q={}){this.registerControl(O,A),this.updateValueAndValidity({emitEvent:Q.emitEvent}),this._onCollectionChange()}removeControl(O,A={}){this.controls[O]&&this.controls[O]._registerOnCollectionChange(()=>{}),delete this.controls[O],this.updateValueAndValidity({emitEvent:A.emitEvent}),this._onCollectionChange()}setControl(O,A,Q={}){this.controls[O]&&this.controls[O]._registerOnCollectionChange(()=>{}),delete this.controls[O],A&&this.registerControl(O,A),this.updateValueAndValidity({emitEvent:Q.emitEvent}),this._onCollectionChange()}contains(O){return this.controls.hasOwnProperty(O)&&this.controls[O].enabled}setValue(O,A={}){Yt(this,0,O),Object.keys(O).forEach(Q=>{_n(this,!0,Q),this.controls[Q].setValue(O[Q],{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A)}patchValue(O,A={}){null!=O&&(Object.keys(O).forEach(Q=>{const ht=this.controls[Q];ht&&ht.patchValue(O[Q],{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A))}reset(O={},A={}){this._forEachChild((Q,ht)=>{Q.reset(O[ht],{onlySelf:!0,emitEvent:A.emitEvent})}),this._updatePristine(A),this._updateTouched(A),this.updateValueAndValidity(A)}getRawValue(){return this._reduceChildren({},(O,A,Q)=>(O[Q]=A.getRawValue(),O))}_syncPendingControls(){let O=this._reduceChildren(!1,(A,Q)=>!!Q._syncPendingControls()||A);return O&&this.updateValueAndValidity({onlySelf:!0}),O}_forEachChild(O){Object.keys(this.controls).forEach(A=>{const Q=this.controls[A];Q&&O(Q,A)})}_setUpControls(){this._forEachChild(O=>{O.setParent(this),O._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(O){for(const[A,Q]of Object.entries(this.controls))if(this.contains(A)&&O(Q))return!0;return!1}_reduceValue(){return this._reduceChildren({},(A,Q,ht)=>((Q.enabled||this.disabled)&&(A[ht]=Q.value),A))}_reduceChildren(O,A){let Q=O;return this._forEachChild((ht,hn)=>{Q=A(Q,ht,hn)}),Q}_allControlsDisabled(){for(const O of Object.keys(this.controls))if(this.controls[O].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(O){return this.controls.hasOwnProperty(O)?this.controls[O]:null}}class at extends de{}function Nn(L,O){return[...O.path,L]}function An(L,O){Li(L,O),O.valueAccessor.writeValue(L.value),L.disabled&&O.valueAccessor.setDisabledState?.(!0),function ws(L,O){O.valueAccessor.registerOnChange(A=>{L._pendingValue=A,L._pendingChange=!0,L._pendingDirty=!0,"change"===L.updateOn&&Qr(L,O)})}(L,O),function Gs(L,O){const A=(Q,ht)=>{O.valueAccessor.writeValue(Q),ht&&O.viewToModelUpdate(Q)};L.registerOnChange(A),O._registerOnDestroy(()=>{L._unregisterOnChange(A)})}(L,O),function Gi(L,O){O.valueAccessor.registerOnTouched(()=>{L._pendingTouched=!0,"blur"===L.updateOn&&L._pendingChange&&Qr(L,O),"submit"!==L.updateOn&&L.markAsTouched()})}(L,O),function gn(L,O){if(O.valueAccessor.setDisabledState){const A=Q=>{O.valueAccessor.setDisabledState(Q)};L.registerOnDisabledChange(A),O._registerOnDestroy(()=>{L._unregisterOnDisabledChange(A)})}}(L,O)}function Rr(L,O,A=!0){const Q=()=>{};O.valueAccessor&&(O.valueAccessor.registerOnChange(Q),O.valueAccessor.registerOnTouched(Q)),Vi(L,O),L&&(O._invokeOnDestroyCallbacks(),L._registerOnCollectionChange(()=>{}))}function oi(L,O){L.forEach(A=>{A.registerOnValidatorChange&&A.registerOnValidatorChange(O)})}function Li(L,O){const A=hr(L);null!==O.validator?L.setValidators(dr(A,O.validator)):"function"==typeof A&&L.setValidators([A]);const Q=en(L);null!==O.asyncValidator?L.setAsyncValidators(dr(Q,O.asyncValidator)):"function"==typeof Q&&L.setAsyncValidators([Q]);const ht=()=>L.updateValueAndValidity();oi(O._rawValidators,ht),oi(O._rawAsyncValidators,ht)}function Vi(L,O){let A=!1;if(null!==L){if(null!==O.validator){const ht=hr(L);if(Array.isArray(ht)&&ht.length>0){const hn=ht.filter(yr=>yr!==O.validator);hn.length!==ht.length&&(A=!0,L.setValidators(hn))}}if(null!==O.asyncValidator){const ht=en(L);if(Array.isArray(ht)&&ht.length>0){const hn=ht.filter(yr=>yr!==O.asyncValidator);hn.length!==ht.length&&(A=!0,L.setAsyncValidators(hn))}}}const Q=()=>{};return oi(O._rawValidators,Q),oi(O._rawAsyncValidators,Q),A}function Qr(L,O){L._pendingDirty&&L.markAsDirty(),L.setValue(L._pendingValue,{emitModelToViewChange:!1}),O.viewToModelUpdate(L._pendingValue),L._pendingChange=!1}function Jr(L,O){if(!L.hasOwnProperty("model"))return!1;const A=L.model;return!!A.isFirstChange()||!Object.is(O,A.currentValue)}function zi(L,O){if(!O)return null;let A,Q,ht;return Array.isArray(O),O.forEach(hn=>{hn.constructor===ae?A=hn:function ts(L){return Object.getPrototypeOf(L.constructor)===ft}(hn)?Q=hn:ht=hn}),ht||Q||A||null}function on(L,O){const A=L.indexOf(O);A>-1&&L.splice(A,1)}function Qn(L){return"object"==typeof L&&null!==L&&2===Object.keys(L).length&&"value"in L&&"disabled"in L}const Hr=class extends le{constructor(O=null,A,Q){super($e(A),Ie(Q,A)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(O),this._setUpdateStrategy(A),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),$t(A)&&(A.nonNullable||A.initialValueIsDefault)&&(this.defaultValue=Qn(O)?O.value:O)}setValue(O,A={}){this.value=this._pendingValue=O,this._onChange.length&&!1!==A.emitModelToViewChange&&this._onChange.forEach(Q=>Q(this.value,!1!==A.emitViewToModelChange)),this.updateValueAndValidity(A)}patchValue(O,A={}){this.setValue(O,A)}reset(O=this.defaultValue,A={}){this._applyFormState(O),this.markAsPristine(A),this.markAsUntouched(A),this.setValue(this.value,A),this._pendingChange=!1}_updateValue(){}_anyControls(O){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(O){this._onChange.push(O)}_unregisterOnChange(O){on(this._onChange,O)}registerOnDisabledChange(O){this._onDisabledChange.push(O)}_unregisterOnDisabledChange(O){on(this._onDisabledChange,O)}_forEachChild(O){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(O){Qn(O)?(this.value=this._pendingValue=O.value,O.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=O}},rs={provide:Zn,useExisting:(0,c.Gpc)(()=>Rs)},Qi=(()=>Promise.resolve())();let Rs=(()=>{class L extends Zn{constructor(A,Q,ht,hn,yr){super(),this._changeDetectorRef=yr,this.control=new Hr,this._registered=!1,this.update=new c.vpe,this._parent=A,this._setValidators(Q),this._setAsyncValidators(ht),this.valueAccessor=zi(0,hn)}ngOnChanges(A){if(this._checkForErrors(),!this._registered||"name"in A){if(this._registered&&(this._checkName(),this.formDirective)){const Q=A.name.previousValue;this.formDirective.removeControl({name:Q,path:this._getPath(Q)})}this._setUpControl()}"isDisabled"in A&&this._updateDisabled(A),Jr(A,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(A){this.viewModel=A,this.update.emit(A)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){An(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(A){Qi.then(()=>{this.control.setValue(A,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(A){const Q=A.isDisabled.currentValue,ht=0!==Q&&(0,c.D6c)(Q);Qi.then(()=>{ht&&!this.control.disabled?this.control.disable():!ht&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(A){return this._parent?Nn(A,this._parent):[A]}}return L.\u0275fac=function(A){return new(A||L)(c.Y36(bn,9),c.Y36(Pe,10),c.Y36(He,10),c.Y36(tt,10),c.Y36(c.sBO,8))},L.\u0275dir=c.lG2({type:L,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([rs]),c.qOj,c.TTD]}),L})(),Do=(()=>{class L{}return L.\u0275fac=function(A){return new(A||L)},L.\u0275dir=c.lG2({type:L,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),L})(),sa=(()=>{class L{}return L.\u0275fac=function(A){return new(A||L)},L.\u0275mod=c.oAB({type:L}),L.\u0275inj=c.cJS({}),L})();const ti=new c.OlP("NgModelWithFormControlWarning"),pi={provide:bn,useExisting:(0,c.Gpc)(()=>ds)};let ds=(()=>{class L extends bn{constructor(A,Q){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(A),this._setAsyncValidators(Q)}ngOnChanges(A){this._checkFormPresent(),A.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Vi(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(A){const Q=this.form.get(A.path);return An(Q,A),Q.updateValueAndValidity({emitEvent:!1}),this.directives.push(A),Q}getControl(A){return this.form.get(A.path)}removeControl(A){Rr(A.control||null,A,!1),function Ke(L,O){const A=L.indexOf(O);A>-1&&L.splice(A,1)}(this.directives,A)}addFormGroup(A){this._setUpFormContainer(A)}removeFormGroup(A){this._cleanUpFormContainer(A)}getFormGroup(A){return this.form.get(A.path)}addFormArray(A){this._setUpFormContainer(A)}removeFormArray(A){this._cleanUpFormContainer(A)}getFormArray(A){return this.form.get(A.path)}updateModel(A,Q){this.form.get(A.path).setValue(Q)}onSubmit(A){return this.submitted=!0,function Zi(L,O){L._syncPendingControls(),O.forEach(A=>{const Q=A.control;"submit"===Q.updateOn&&Q._pendingChange&&(A.viewToModelUpdate(Q._pendingValue),Q._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(A),"dialog"===A?.target?.method}onReset(){this.resetForm()}resetForm(A){this.form.reset(A),this.submitted=!1}_updateDomValue(){this.directives.forEach(A=>{const Q=A.control,ht=this.form.get(A.path);Q!==ht&&(Rr(Q||null,A),(L=>L instanceof Hr)(ht)&&(An(ht,A),A.control=ht))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(A){const Q=this.form.get(A.path);(function Xr(L,O){Li(L,O)})(Q,A),Q.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(A){if(this.form){const Q=this.form.get(A.path);Q&&function fi(L,O){return Vi(L,O)}(Q,A)&&Q.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Li(this.form,this),this._oldForm&&Vi(this._oldForm,this)}_checkFormPresent(){}}return L.\u0275fac=function(A){return new(A||L)(c.Y36(Pe,10),c.Y36(He,10))},L.\u0275dir=c.lG2({type:L,selectors:[["","formGroup",""]],hostBindings:function(A,Q){1&A&&c.NdJ("submit",function(hn){return Q.onSubmit(hn)})("reset",function(){return Q.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([pi]),c.qOj,c.TTD]}),L})();const os={provide:Zn,useExisting:(0,c.Gpc)(()=>fo)};let fo=(()=>{class L extends Zn{constructor(A,Q,ht,hn,yr){super(),this._ngModelWarningConfig=yr,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=A,this._setValidators(Q),this._setAsyncValidators(ht),this.valueAccessor=zi(0,hn)}set isDisabled(A){}ngOnChanges(A){this._added||this._setUpControl(),Jr(A,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(A){this.viewModel=A,this.update.emit(A)}get path(){return Nn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return L._ngModelWarningSentOnce=!1,L.\u0275fac=function(A){return new(A||L)(c.Y36(bn,13),c.Y36(Pe,10),c.Y36(He,10),c.Y36(tt,10),c.Y36(ti,8))},L.\u0275dir=c.lG2({type:L,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([os]),c.qOj,c.TTD]}),L})(),tr=(()=>{class L{}return L.\u0275fac=function(A){return new(A||L)},L.\u0275mod=c.oAB({type:L}),L.\u0275inj=c.cJS({imports:[sa]}),L})(),Yo=(()=>{class L{}return L.\u0275fac=function(A){return new(A||L)},L.\u0275mod=c.oAB({type:L}),L.\u0275inj=c.cJS({imports:[tr]}),L})(),po=(()=>{class L{static withConfig(A){return{ngModule:L,providers:[{provide:ti,useValue:A.warnOnNgModelWithFormControl}]}}}return L.\u0275fac=function(A){return new(A||L)},L.\u0275mod=c.oAB({type:L}),L.\u0275inj=c.cJS({imports:[tr]}),L})();class qr extends le{constructor(O,A,Q){super($e(A),Ie(Q,A)),this.controls=O,this._initObservables(),this._setUpdateStrategy(A),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(O){return this.controls[this._adjustIndex(O)]}push(O,A={}){this.controls.push(O),this._registerControl(O),this.updateValueAndValidity({emitEvent:A.emitEvent}),this._onCollectionChange()}insert(O,A,Q={}){this.controls.splice(O,0,A),this._registerControl(A),this.updateValueAndValidity({emitEvent:Q.emitEvent})}removeAt(O,A={}){let Q=this._adjustIndex(O);Q<0&&(Q=0),this.controls[Q]&&this.controls[Q]._registerOnCollectionChange(()=>{}),this.controls.splice(Q,1),this.updateValueAndValidity({emitEvent:A.emitEvent})}setControl(O,A,Q={}){let ht=this._adjustIndex(O);ht<0&&(ht=0),this.controls[ht]&&this.controls[ht]._registerOnCollectionChange(()=>{}),this.controls.splice(ht,1),A&&(this.controls.splice(ht,0,A),this._registerControl(A)),this.updateValueAndValidity({emitEvent:Q.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(O,A={}){Yt(this,0,O),O.forEach((Q,ht)=>{_n(this,!1,ht),this.at(ht).setValue(Q,{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A)}patchValue(O,A={}){null!=O&&(O.forEach((Q,ht)=>{this.at(ht)&&this.at(ht).patchValue(Q,{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A))}reset(O=[],A={}){this._forEachChild((Q,ht)=>{Q.reset(O[ht],{onlySelf:!0,emitEvent:A.emitEvent})}),this._updatePristine(A),this._updateTouched(A),this.updateValueAndValidity(A)}getRawValue(){return this.controls.map(O=>O.getRawValue())}clear(O={}){this.controls.length<1||(this._forEachChild(A=>A._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:O.emitEvent}))}_adjustIndex(O){return O<0?O+this.length:O}_syncPendingControls(){let O=this.controls.reduce((A,Q)=>!!Q._syncPendingControls()||A,!1);return O&&this.updateValueAndValidity({onlySelf:!0}),O}_forEachChild(O){this.controls.forEach((A,Q)=>{O(A,Q)})}_updateValue(){this.value=this.controls.filter(O=>O.enabled||this.disabled).map(O=>O.value)}_anyControls(O){return this.controls.some(A=>A.enabled&&O(A))}_setUpControls(){this._forEachChild(O=>this._registerControl(O))}_allControlsDisabled(){for(const O of this.controls)if(O.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(O){O.setParent(this),O._registerOnCollectionChange(this._onCollectionChange)}_find(O){return this.at(O)??null}}function wi(L){return!!L&&(void 0!==L.asyncValidators||void 0!==L.validators||void 0!==L.updateOn)}let Zs=(()=>{class L{constructor(){this.useNonNullable=!1}get nonNullable(){const A=new L;return A.useNonNullable=!0,A}group(A,Q=null){const ht=this._reduceControls(A);let hn={};return wi(Q)?hn=Q:null!==Q&&(hn.validators=Q.validator,hn.asyncValidators=Q.asyncValidator),new de(ht,hn)}record(A,Q=null){const ht=this._reduceControls(A);return new at(ht,Q)}control(A,Q,ht){let hn={};return this.useNonNullable?(wi(Q)?hn=Q:(hn.validators=Q,hn.asyncValidators=ht),new Hr(A,{...hn,nonNullable:!0})):new Hr(A,Q,ht)}array(A,Q,ht){const hn=A.map(yr=>this._createControl(yr));return new qr(hn,Q,ht)}_reduceControls(A){const Q={};return Object.keys(A).forEach(ht=>{Q[ht]=this._createControl(A[ht])}),Q}_createControl(A){return A instanceof Hr||A instanceof le?A:Array.isArray(A)?this.control(A[0],A.length>1?A[1]:null,A.length>2?A[2]:null):this.control(A)}}return L.\u0275fac=function(A){return new(A||L)},L.\u0275prov=c.Yz7({token:L,factory:L.\u0275fac,providedIn:po}),L})()},1481:(nn,it,V)=>{V.d(it,{Dx:()=>ot,H7:()=>gt,b2:()=>bn,q6:()=>Nr,se:()=>Ge});var c=V(6895),k=V(4650);class H extends c.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class be extends H{static makeCurrent(){(0,c.HT)(new be)}onAndCancel(de,se,Be){return de.addEventListener(se,Be,!1),()=>{de.removeEventListener(se,Be,!1)}}dispatchEvent(de,se){de.dispatchEvent(se)}remove(de){de.parentNode&&de.parentNode.removeChild(de)}createElement(de,se){return(se=se||this.getDefaultDocument()).createElement(de)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(de){return de.nodeType===Node.ELEMENT_NODE}isShadowRoot(de){return de instanceof DocumentFragment}getGlobalEventTarget(de,se){return"window"===se?window:"document"===se?de:"body"===se?de.body:null}getBaseHref(de){const se=function Fe(){return me=me||document.querySelector("base"),me?me.getAttribute("href"):null}();return null==se?null:function ce(le){xe=xe||document.createElement("a"),xe.setAttribute("href",le);const de=xe.pathname;return"/"===de.charAt(0)?de:`/${de}`}(se)}resetBaseElement(){me=null}getUserAgent(){return window.navigator.userAgent}getCookie(de){return(0,c.Mx)(document.cookie,de)}}let xe,me=null;const We=new k.OlP("TRANSITION_ID"),fe=[{provide:k.ip1,useFactory:function re(le,de,se){return()=>{se.get(k.CZH).donePromise.then(()=>{const Be=(0,c.q)(),at=de.querySelectorAll(`style[ng-transition="${le}"]`);for(let tn=0;tn<at.length;tn++)Be.remove(at[tn])})}},deps:[We,c.K0,k.zs3],multi:!0}];let yt=(()=>{class le{build(){return new XMLHttpRequest}}return le.\u0275fac=function(se){return new(se||le)},le.\u0275prov=k.Yz7({token:le,factory:le.\u0275fac}),le})();const ft=new k.OlP("EventManagerPlugins");let tt=(()=>{class le{constructor(se,Be){this._zone=Be,this._eventNameToPlugin=new Map,se.forEach(at=>at.manager=this),this._plugins=se.slice().reverse()}addEventListener(se,Be,at){return this._findPluginFor(Be).addEventListener(se,Be,at)}addGlobalEventListener(se,Be,at){return this._findPluginFor(Be).addGlobalEventListener(se,Be,at)}getZone(){return this._zone}_findPluginFor(se){const Be=this._eventNameToPlugin.get(se);if(Be)return Be;const at=this._plugins;for(let tn=0;tn<at.length;tn++){const Nn=at[tn];if(Nn.supports(se))return this._eventNameToPlugin.set(se,Nn),Nn}throw new Error(`No event manager plugin found for event ${se}`)}}return le.\u0275fac=function(se){return new(se||le)(k.LFG(ft),k.LFG(k.R0b))},le.\u0275prov=k.Yz7({token:le,factory:le.\u0275fac}),le})();class Ht{constructor(de){this._doc=de}addGlobalEventListener(de,se,Be){const at=(0,c.q)().getGlobalEventTarget(this._doc,de);if(!at)throw new Error(`Unsupported event target ${at} for event ${se}`);return this.addEventListener(at,se,Be)}}let Xe=(()=>{class le{constructor(){this._stylesSet=new Set}addStyles(se){const Be=new Set;se.forEach(at=>{this._stylesSet.has(at)||(this._stylesSet.add(at),Be.add(at))}),this.onStylesAdded(Be)}onStylesAdded(se){}getAllStyles(){return Array.from(this._stylesSet)}}return le.\u0275fac=function(se){return new(se||le)},le.\u0275prov=k.Yz7({token:le,factory:le.\u0275fac}),le})(),Ye=(()=>{class le extends Xe{constructor(se){super(),this._doc=se,this._hostNodes=new Map,this._hostNodes.set(se.head,[])}_addStylesToHost(se,Be,at){se.forEach(tn=>{const Nn=this._doc.createElement("style");Nn.textContent=tn,at.push(Be.appendChild(Nn))})}addHost(se){const Be=[];this._addStylesToHost(this._stylesSet,se,Be),this._hostNodes.set(se,Be)}removeHost(se){const Be=this._hostNodes.get(se);Be&&Be.forEach(St),this._hostNodes.delete(se)}onStylesAdded(se){this._hostNodes.forEach((Be,at)=>{this._addStylesToHost(se,at,Be)})}ngOnDestroy(){this._hostNodes.forEach(se=>se.forEach(St))}}return le.\u0275fac=function(se){return new(se||le)(k.LFG(c.K0))},le.\u0275prov=k.Yz7({token:le,factory:le.\u0275fac}),le})();function St(le){(0,c.q)().remove(le)}const At={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ae=/%COMP%/g;function Se(le,de,se){for(let Be=0;Be<de.length;Be++){let at=de[Be];Array.isArray(at)?Se(le,at,se):(at=at.replace(ae,le),se.push(at))}return se}function ke(le){return de=>{if("__ngUnwrap__"===de)return le;!1===le(de)&&(de.preventDefault(),de.returnValue=!1)}}let Ge=(()=>{class le{constructor(se,Be,at){this.eventManager=se,this.sharedStylesHost=Be,this.appId=at,this.rendererByCompId=new Map,this.defaultRenderer=new Ct(se)}createRenderer(se,Be){if(!se||!Be)return this.defaultRenderer;switch(Be.encapsulation){case k.ifc.Emulated:{let at=this.rendererByCompId.get(Be.id);return at||(at=new ln(this.eventManager,this.sharedStylesHost,Be,this.appId),this.rendererByCompId.set(Be.id,at)),at.applyToHost(se),at}case 1:case k.ifc.ShadowDom:return new Dt(this.eventManager,this.sharedStylesHost,se,Be);default:if(!this.rendererByCompId.has(Be.id)){const at=Se(Be.id,Be.styles,[]);this.sharedStylesHost.addStyles(at),this.rendererByCompId.set(Be.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return le.\u0275fac=function(se){return new(se||le)(k.LFG(tt),k.LFG(Ye),k.LFG(k.AFp))},le.\u0275prov=k.Yz7({token:le,factory:le.\u0275fac}),le})();class Ct{constructor(de){this.eventManager=de,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(de,se){return se?document.createElementNS(At[se]||se,de):document.createElement(de)}createComment(de){return document.createComment(de)}createText(de){return document.createTextNode(de)}appendChild(de,se){(Qt(de)?de.content:de).appendChild(se)}insertBefore(de,se,Be){de&&(Qt(de)?de.content:de).insertBefore(se,Be)}removeChild(de,se){de&&de.removeChild(se)}selectRootElement(de,se){let Be="string"==typeof de?document.querySelector(de):de;if(!Be)throw new Error(`The selector "${de}" did not match any elements`);return se||(Be.textContent=""),Be}parentNode(de){return de.parentNode}nextSibling(de){return de.nextSibling}setAttribute(de,se,Be,at){if(at){se=at+":"+se;const tn=At[at];tn?de.setAttributeNS(tn,se,Be):de.setAttribute(se,Be)}else de.setAttribute(se,Be)}removeAttribute(de,se,Be){if(Be){const at=At[Be];at?de.removeAttributeNS(at,se):de.removeAttribute(`${Be}:${se}`)}else de.removeAttribute(se)}addClass(de,se){de.classList.add(se)}removeClass(de,se){de.classList.remove(se)}setStyle(de,se,Be,at){at&(k.JOm.DashCase|k.JOm.Important)?de.style.setProperty(se,Be,at&k.JOm.Important?"important":""):de.style[se]=Be}removeStyle(de,se,Be){Be&k.JOm.DashCase?de.style.removeProperty(se):de.style[se]=""}setProperty(de,se,Be){de[se]=Be}setValue(de,se){de.nodeValue=se}listen(de,se,Be){return"string"==typeof de?this.eventManager.addGlobalEventListener(de,se,ke(Be)):this.eventManager.addEventListener(de,se,ke(Be))}}function Qt(le){return"TEMPLATE"===le.tagName&&void 0!==le.content}class ln extends Ct{constructor(de,se,Be,at){super(de),this.component=Be;const tn=Se(at+"-"+Be.id,Be.styles,[]);se.addStyles(tn),this.contentAttr=function He(le){return"_ngcontent-%COMP%".replace(ae,le)}(at+"-"+Be.id),this.hostAttr=function Qe(le){return"_nghost-%COMP%".replace(ae,le)}(at+"-"+Be.id)}applyToHost(de){super.setAttribute(de,this.hostAttr,"")}createElement(de,se){const Be=super.createElement(de,se);return super.setAttribute(Be,this.contentAttr,""),Be}}class Dt extends Ct{constructor(de,se,Be,at){super(de),this.sharedStylesHost=se,this.hostEl=Be,this.shadowRoot=Be.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const tn=Se(at.id,at.styles,[]);for(let Nn=0;Nn<tn.length;Nn++){const An=document.createElement("style");An.textContent=tn[Nn],this.shadowRoot.appendChild(An)}}nodeOrShadowRoot(de){return de===this.hostEl?this.shadowRoot:de}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(de,se){return super.appendChild(this.nodeOrShadowRoot(de),se)}insertBefore(de,se,Be){return super.insertBefore(this.nodeOrShadowRoot(de),se,Be)}removeChild(de,se){return super.removeChild(this.nodeOrShadowRoot(de),se)}parentNode(de){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(de)))}}let un=(()=>{class le extends Ht{constructor(se){super(se)}supports(se){return!0}addEventListener(se,Be,at){return se.addEventListener(Be,at,!1),()=>this.removeEventListener(se,Be,at)}removeEventListener(se,Be,at){return se.removeEventListener(Be,at)}}return le.\u0275fac=function(se){return new(se||le)(k.LFG(c.K0))},le.\u0275prov=k.Yz7({token:le,factory:le.\u0275fac}),le})();const pn=["alt","control","meta","shift"],rt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},It={alt:le=>le.altKey,control:le=>le.ctrlKey,meta:le=>le.metaKey,shift:le=>le.shiftKey};let Me=(()=>{class le extends Ht{constructor(se){super(se)}supports(se){return null!=le.parseEventName(se)}addEventListener(se,Be,at){const tn=le.parseEventName(Be),Nn=le.eventCallback(tn.fullKey,at,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,c.q)().onAndCancel(se,tn.domEventName,Nn))}static parseEventName(se){const Be=se.toLowerCase().split("."),at=Be.shift();if(0===Be.length||"keydown"!==at&&"keyup"!==at)return null;const tn=le._normalizeKey(Be.pop());let Nn="",An=Be.indexOf("code");if(An>-1&&(Be.splice(An,1),Nn="code."),pn.forEach(oi=>{const gn=Be.indexOf(oi);gn>-1&&(Be.splice(gn,1),Nn+=oi+".")}),Nn+=tn,0!=Be.length||0===tn.length)return null;const Rr={};return Rr.domEventName=at,Rr.fullKey=Nn,Rr}static matchEventFullKeyCode(se,Be){let at=rt[se.key]||se.key,tn="";return Be.indexOf("code.")>-1&&(at=se.code,tn="code."),!(null==at||!at)&&(at=at.toLowerCase()," "===at?at="space":"."===at&&(at="dot"),pn.forEach(Nn=>{Nn!==at&&(0,It[Nn])(se)&&(tn+=Nn+".")}),tn+=at,tn===Be)}static eventCallback(se,Be,at){return tn=>{le.matchEventFullKeyCode(tn,se)&&at.runGuarded(()=>Be(tn))}}static _normalizeKey(se){return"esc"===se?"escape":se}}return le.\u0275fac=function(se){return new(se||le)(k.LFG(c.K0))},le.\u0275prov=k.Yz7({token:le,factory:le.\u0275fac}),le})();const Nr=(0,k.eFA)(k._c5,"browser",[{provide:k.Lbi,useValue:c.bD},{provide:k.g9A,useValue:function dr(){be.makeCurrent()},multi:!0},{provide:c.K0,useFactory:function en(){return(0,k.RDi)(document),document},deps:[]}]),or=new k.OlP(""),Ut=[{provide:k.rWj,useClass:class Oe{addToWindow(de){k.dqk.getAngularTestability=(Be,at=!0)=>{const tn=de.findTestabilityInTree(Be,at);if(null==tn)throw new Error("Could not find testability for element.");return tn},k.dqk.getAllAngularTestabilities=()=>de.getAllTestabilities(),k.dqk.getAllAngularRootElements=()=>de.getAllRootElements(),k.dqk.frameworkStabilizers||(k.dqk.frameworkStabilizers=[]),k.dqk.frameworkStabilizers.push(Be=>{const at=k.dqk.getAllAngularTestabilities();let tn=at.length,Nn=!1;const An=function(Rr){Nn=Nn||Rr,tn--,0==tn&&Be(Nn)};at.forEach(function(Rr){Rr.whenStable(An)})})}findTestabilityInTree(de,se,Be){return null==se?null:de.getTestability(se)??(Be?(0,c.q)().isShadowRoot(se)?this.findTestabilityInTree(de,se.host,!0):this.findTestabilityInTree(de,se.parentElement,!0):null)}},deps:[]},{provide:k.lri,useClass:k.dDg,deps:[k.R0b,k.eoX,k.rWj]},{provide:k.dDg,useClass:k.dDg,deps:[k.R0b,k.eoX,k.rWj]}],Pn=[{provide:k.zSh,useValue:"root"},{provide:k.qLn,useFactory:function hr(){return new k.qLn},deps:[]},{provide:ft,useClass:un,multi:!0,deps:[c.K0,k.R0b,k.Lbi]},{provide:ft,useClass:Me,multi:!0,deps:[c.K0]},{provide:Ge,useClass:Ge,deps:[tt,Ye,k.AFp]},{provide:k.FYo,useExisting:Ge},{provide:Xe,useExisting:Ye},{provide:Ye,useClass:Ye,deps:[c.K0]},{provide:tt,useClass:tt,deps:[ft,k.R0b]},{provide:c.JF,useClass:yt,deps:[]},[]];let bn=(()=>{class le{constructor(se){}static withServerTransition(se){return{ngModule:le,providers:[{provide:k.AFp,useValue:se.appId},{provide:We,useExisting:k.AFp},fe]}}}return le.\u0275fac=function(se){return new(se||le)(k.LFG(or,12))},le.\u0275mod=k.oAB({type:le}),le.\u0275inj=k.cJS({providers:[...Pn,...Ut],imports:[c.ez,k.hGG]}),le})(),ot=(()=>{class le{constructor(se){this._doc=se}getTitle(){return this._doc.title}setTitle(se){this._doc.title=se||""}}return le.\u0275fac=function(se){return new(se||le)(k.LFG(c.K0))},le.\u0275prov=k.Yz7({token:le,factory:function(se){let Be=null;return Be=se?new se:function Cr(){return new ot((0,k.LFG)(c.K0))}(),Be},providedIn:"root"}),le})();typeof window<"u"&&window;let gt=(()=>{class le{}return le.\u0275fac=function(se){return new(se||le)},le.\u0275prov=k.Yz7({token:le,factory:function(se){let Be=null;return Be=se?new(se||le):k.LFG(_n),Be},providedIn:"root"}),le})(),_n=(()=>{class le extends gt{constructor(se){super(),this._doc=se}sanitize(se,Be){if(null==Be)return null;switch(se){case k.q3G.NONE:return Be;case k.q3G.HTML:return(0,k.qzn)(Be,"HTML")?(0,k.z3N)(Be):(0,k.EiD)(this._doc,String(Be)).toString();case k.q3G.STYLE:return(0,k.qzn)(Be,"Style")?(0,k.z3N)(Be):Be;case k.q3G.SCRIPT:if((0,k.qzn)(Be,"Script"))return(0,k.z3N)(Be);throw new Error("unsafe value used in a script context");case k.q3G.URL:return(0,k.qzn)(Be,"URL")?(0,k.z3N)(Be):(0,k.mCW)(String(Be));case k.q3G.RESOURCE_URL:if((0,k.qzn)(Be,"ResourceURL"))return(0,k.z3N)(Be);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${se} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(se){return(0,k.JVY)(se)}bypassSecurityTrustStyle(se){return(0,k.L6k)(se)}bypassSecurityTrustScript(se){return(0,k.eBb)(se)}bypassSecurityTrustUrl(se){return(0,k.LAX)(se)}bypassSecurityTrustResourceUrl(se){return(0,k.pB0)(se)}}return le.\u0275fac=function(se){return new(se||le)(k.LFG(c.K0))},le.\u0275prov=k.Yz7({token:le,factory:function(se){let Be=null;return Be=se?new se:function $t(le){return new _n(le.get(c.K0))}(k.LFG(k.zs3)),Be},providedIn:"root"}),le})()},7001:(nn,it,V)=>{V.d(it,{F0:()=>yi,rH:()=>gs,Bz:()=>zn,lC:()=>_i});var c=V(4650),k=V(8996),H=V(9646),be=V(7579);class me extends be.x{constructor(w){super(),this._value=w}get value(){return this.getValue()}_subscribe(w){const m=super._subscribe(w);return!m.closed&&w.next(this._value),m}getValue(){const{hasError:w,thrownError:m,_value:T}=this;if(w)throw m;return this._throwIfClosed(),T}next(w){super.next(this._value=w)}}var Fe=V(6805),xe=V(9751),ce=V(4742),We=V(4671),re=V(3268),fe=V(7669),Oe=V(1810),yt=V(5403),ft=V(9672);function tt(...E){const w=(0,fe.yG)(E),m=(0,fe.jO)(E),{args:T,keys:P}=(0,ce.D)(E);if(0===T.length)return(0,k.D)([],w);const K=new xe.y(function Ht(E,w,m=We.y){return T=>{Xe(w,()=>{const{length:P}=E,K=new Array(P);let he=P,_e=P;for(let mt=0;mt<P;mt++)Xe(w,()=>{const qt=(0,k.D)(E[mt],w);let Kn=!1;qt.subscribe((0,yt.x)(T,Et=>{K[mt]=Et,Kn||(Kn=!0,_e--),_e||T.next(m(K.slice()))},()=>{--he||T.complete()}))},T)},T)}}(T,w,P?he=>(0,Oe.n)(P,he):We.y));return m?K.pipe((0,re.Z)(m)):K}function Xe(E,w,m){E?(0,ft.f)(m,E,w):w()}var Ye=V(7272),St=V(8421);function At(E){return new xe.y(w=>{(0,St.Xf)(E()).subscribe(w)})}var ae=V(9635),Ne=V(576);function Je(E,w){const m=(0,Ne.m)(E)?E:()=>E,T=P=>P.error(m());return new xe.y(w?P=>w.schedule(T,0,P):T)}var xt=V(515),Pe=V(727),He=V(4482);function Qe(){return(0,He.e)((E,w)=>{let m=null;E._refCount++;const T=(0,yt.x)(w,void 0,void 0,void 0,()=>{if(!E||E._refCount<=0||0<--E._refCount)return void(m=null);const P=E._connection,K=m;m=null,P&&(!K||P===K)&&P.unsubscribe(),w.unsubscribe()});E.subscribe(T),T.closed||(m=E.connect())})}class Se extends xe.y{constructor(w,m){super(),this.source=w,this.subjectFactory=m,this._subject=null,this._refCount=0,this._connection=null,(0,He.A)(w)&&(this.lift=w.lift)}_subscribe(w){return this.getSubject().subscribe(w)}getSubject(){const w=this._subject;return(!w||w.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:w}=this;this._subject=this._connection=null,w?.unsubscribe()}connect(){let w=this._connection;if(!w){w=this._connection=new Pe.w0;const m=this.getSubject();w.add(this.source.subscribe((0,yt.x)(m,void 0,()=>{this._teardown(),m.complete()},T=>{this._teardown(),m.error(T)},()=>this._teardown()))),w.closed&&(this._connection=null,w=Pe.w0.EMPTY)}return w}refCount(){return Qe()(this)}}var ke=V(6895),je=V(4004),Ge=V(3900),Ct=V(5698),Ot=V(8675),Ft=V(9300),Qt=V(5577),ln=V(590),Dt=V(4351),un=V(8505);function pn(E){return(0,He.e)((w,m)=>{let K,T=null,P=!1;T=w.subscribe((0,yt.x)(m,void 0,void 0,he=>{K=(0,St.Xf)(E(he,pn(E)(w))),T?(T.unsubscribe(),T=null,K.subscribe(m)):P=!0})),P&&(T.unsubscribe(),T=null,K.subscribe(m))})}var rt=V(5026);function It(E){return E<=0?()=>xt.E:(0,He.e)((w,m)=>{let T=[];w.subscribe((0,yt.x)(m,P=>{T.push(P),E<T.length&&T.shift()},()=>{for(const P of T)m.next(P);m.complete()},void 0,()=>{T=null}))})}var Me=V(8068),ze=V(6590);function Kt(E,w){const m=arguments.length>=2;return T=>T.pipe(E?(0,Ft.h)((P,K)=>E(P,K,T)):We.y,It(1),m?(0,ze.d)(w):(0,Me.T)(()=>new Fe.K))}function Bn(E){return(0,He.e)((w,m)=>{try{w.subscribe(m)}finally{m.add(E)}})}var dr=V(8189),hr=V(1481);const en="primary",On=Symbol("RouteTitle");class Nr{constructor(w){this.params=w||{}}has(w){return Object.prototype.hasOwnProperty.call(this.params,w)}get(w){if(this.has(w)){const m=this.params[w];return Array.isArray(m)?m[0]:m}return null}getAll(w){if(this.has(w)){const m=this.params[w];return Array.isArray(m)?m:[m]}return[]}get keys(){return Object.keys(this.params)}}function or(E){return new Nr(E)}function Ut(E,w,m){const T=m.path.split("/");if(T.length>E.length||"full"===m.pathMatch&&(w.hasChildren()||T.length<E.length))return null;const P={};for(let K=0;K<T.length;K++){const he=T[K],_e=E[K];if(he.startsWith(":"))P[he.substring(1)]=_e;else if(he!==_e.path)return null}return{consumed:E.slice(0,T.length),posParams:P}}function bn(E,w){const m=E?Object.keys(E):void 0,T=w?Object.keys(w):void 0;if(!m||!T||m.length!=T.length)return!1;let P;for(let K=0;K<m.length;K++)if(P=m[K],!Zn(E[P],w[P]))return!1;return!0}function Zn(E,w){if(Array.isArray(E)&&Array.isArray(w)){if(E.length!==w.length)return!1;const m=[...E].sort(),T=[...w].sort();return m.every((P,K)=>T[K]===P)}return E===w}function br(E){return Array.prototype.concat.apply([],E)}function bi(E){return E.length>0?E[E.length-1]:null}function ot(E,w){for(const m in E)E.hasOwnProperty(m)&&w(E[m],m)}function Ee(E){return(0,c.CqO)(E)?E:(0,c.QGY)(E)?(0,k.D)(Promise.resolve(E)):(0,H.of)(E)}const dt={exact:function zt(E,w,m){if(!X(E.segments,w.segments)||!Sn(E.segments,w.segments,m)||E.numberOfChildren!==w.numberOfChildren)return!1;for(const T in w.children)if(!E.children[T]||!zt(E.children[T],w.children[T],m))return!1;return!0},subset:Tn},fn={exact:function Yn(E,w){return bn(E,w)},subset:function ar(E,w){return Object.keys(w).length<=Object.keys(E).length&&Object.keys(w).every(m=>Zn(E[m],w[m]))},ignored:()=>!0};function Cn(E,w,m){return dt[m.paths](E.root,w.root,m.matrixParams)&&fn[m.queryParams](E.queryParams,w.queryParams)&&!("exact"===m.fragment&&E.fragment!==w.fragment)}function Tn(E,w,m){return kr(E,w,w.segments,m)}function kr(E,w,m,T){if(E.segments.length>m.length){const P=E.segments.slice(0,m.length);return!(!X(P,m)||w.hasChildren()||!Sn(P,m,T))}if(E.segments.length===m.length){if(!X(E.segments,m)||!Sn(E.segments,m,T))return!1;for(const P in w.children)if(!E.children[P]||!Tn(E.children[P],w.children[P],T))return!1;return!0}{const P=m.slice(0,E.segments.length),K=m.slice(E.segments.length);return!!(X(E.segments,P)&&Sn(E.segments,P,T)&&E.children[en])&&kr(E.children[en],w,K,T)}}function Sn(E,w,m){return w.every((T,P)=>fn[m](E[P].parameters,T.parameters))}class De{constructor(w,m,T){this.root=w,this.queryParams=m,this.fragment=T}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=or(this.queryParams)),this._queryParamMap}toString(){return Mt.serialize(this)}}class oe{constructor(w,m){this.segments=w,this.children=m,this.parent=null,ot(m,(T,P)=>T.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cn(this)}}class ge{constructor(w,m){this.path=w,this.parameters=m}get parameterMap(){return this._parameterMap||(this._parameterMap=or(this.parameters)),this._parameterMap}toString(){return Yt(this)}}function X(E,w){return E.length===w.length&&E.every((m,T)=>m.path===w[T].path)}let ee=(()=>{class E{}return E.\u0275fac=function(m){return new(m||E)},E.\u0275prov=c.Yz7({token:E,factory:function(){return new Ue},providedIn:"root"}),E})();class Ue{parse(w){const m=new Rr(w);return new De(m.parseRootSegment(),m.parseQueryParams(),m.parseFragment())}serialize(w){const m=`/${jn(w.root,!0)}`,T=function de(E){const w=Object.keys(E).map(m=>{const T=E[m];return Array.isArray(T)?T.map(P=>`${ve(m)}=${ve(P)}`).join("&"):`${ve(m)}=${ve(T)}`}).filter(m=>!!m);return w.length?`?${w.join("&")}`:""}(w.queryParams);return`${m}${T}${"string"==typeof w.fragment?`#${function Ie(E){return encodeURI(E)}(w.fragment)}`:""}`}}const Mt=new Ue;function cn(E){return E.segments.map(w=>Yt(w)).join("/")}function jn(E,w){if(!E.hasChildren())return cn(E);if(w){const m=E.children[en]?jn(E.children[en],!1):"",T=[];return ot(E.children,(P,K)=>{K!==en&&T.push(`${K}:${jn(P,!1)}`)}),T.length>0?`${m}(${T.join("//")})`:m}{const m=function $(E,w){let m=[];return ot(E.children,(T,P)=>{P===en&&(m=m.concat(w(T,P)))}),ot(E.children,(T,P)=>{P!==en&&(m=m.concat(w(T,P)))}),m}(E,(T,P)=>P===en?[jn(E.children[en],!1)]:[`${P}:${jn(T,!1)}`]);return 1===Object.keys(E.children).length&&null!=E.children[en]?`${cn(E)}/${m[0]}`:`${cn(E)}/(${m.join("//")})`}}function $e(E){return encodeURIComponent(E).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ve(E){return $e(E).replace(/%3B/gi,";")}function gt(E){return $e(E).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $t(E){return decodeURIComponent(E)}function _n(E){return $t(E.replace(/\+/g,"%20"))}function Yt(E){return`${gt(E.path)}${function le(E){return Object.keys(E).map(w=>`;${gt(w)}=${gt(E[w])}`).join("")}(E.parameters)}`}const se=/^[^\/()?;=#]+/;function Be(E){const w=E.match(se);return w?w[0]:""}const at=/^[^=?&#]+/,Nn=/^[^&#]+/;class Rr{constructor(w){this.url=w,this.remaining=w}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new oe([],{}):new oe([],this.parseChildren())}parseQueryParams(){const w={};if(this.consumeOptional("?"))do{this.parseQueryParam(w)}while(this.consumeOptional("&"));return w}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const w=[];for(this.peekStartsWith("(")||w.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),w.push(this.parseSegment());let m={};this.peekStartsWith("/(")&&(this.capture("/"),m=this.parseParens(!0));let T={};return this.peekStartsWith("(")&&(T=this.parseParens(!1)),(w.length>0||Object.keys(m).length>0)&&(T[en]=new oe(w,m)),T}parseSegment(){const w=Be(this.remaining);if(""===w&&this.peekStartsWith(";"))throw new c.vHH(4009,!1);return this.capture(w),new ge($t(w),this.parseMatrixParams())}parseMatrixParams(){const w={};for(;this.consumeOptional(";");)this.parseParam(w);return w}parseParam(w){const m=Be(this.remaining);if(!m)return;this.capture(m);let T="";if(this.consumeOptional("=")){const P=Be(this.remaining);P&&(T=P,this.capture(T))}w[$t(m)]=$t(T)}parseQueryParam(w){const m=function tn(E){const w=E.match(at);return w?w[0]:""}(this.remaining);if(!m)return;this.capture(m);let T="";if(this.consumeOptional("=")){const he=function An(E){const w=E.match(Nn);return w?w[0]:""}(this.remaining);he&&(T=he,this.capture(T))}const P=_n(m),K=_n(T);if(w.hasOwnProperty(P)){let he=w[P];Array.isArray(he)||(he=[he],w[P]=he),he.push(K)}else w[P]=K}parseParens(w){const m={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const T=Be(this.remaining),P=this.remaining[T.length];if("/"!==P&&")"!==P&&";"!==P)throw new c.vHH(4010,!1);let K;T.indexOf(":")>-1?(K=T.slice(0,T.indexOf(":")),this.capture(K),this.capture(":")):w&&(K=en);const he=this.parseChildren();m[K]=1===Object.keys(he).length?he[en]:new oe([],he),this.consumeOptional("//")}return m}peekStartsWith(w){return this.remaining.startsWith(w)}consumeOptional(w){return!!this.peekStartsWith(w)&&(this.remaining=this.remaining.substring(w.length),!0)}capture(w){if(!this.consumeOptional(w))throw new c.vHH(4011,!1)}}function oi(E){return E.segments.length>0?new oe([],{[en]:E}):E}function gn(E){const w={};for(const T of Object.keys(E.children)){const K=gn(E.children[T]);(K.segments.length>0||K.hasChildren())&&(w[T]=K)}return function Li(E){if(1===E.numberOfChildren&&E.children[en]){const w=E.children[en];return new oe(E.segments.concat(w.segments),w.children)}return E}(new oe(E.segments,w))}function Vi(E){return E instanceof De}function Xr(E,w,m,T,P){if(0===m.length)return Is(w.root,w.root,w.root,T,P);const K=function Jr(E){if("string"==typeof E[0]&&1===E.length&&"/"===E[0])return new qo(!0,0,E);let w=0,m=!1;const T=E.reduce((P,K,he)=>{if("object"==typeof K&&null!=K){if(K.outlets){const _e={};return ot(K.outlets,(mt,qt)=>{_e[qt]="string"==typeof mt?mt.split("/"):mt}),[...P,{outlets:_e}]}if(K.segmentPath)return[...P,K.segmentPath]}return"string"!=typeof K?[...P,K]:0===he?(K.split("/").forEach((_e,mt)=>{0==mt&&"."===_e||(0==mt&&""===_e?m=!0:".."===_e?w++:""!=_e&&P.push(_e))}),P):[...P,K]},[]);return new qo(m,w,T)}(m);return K.toRoot()?Is(w.root,w.root,new oe([],{}),T,P):function he(mt){const qt=function zi(E,w,m,T){if(E.isAbsolute)return new ts(w.root,!0,0);if(-1===T)return new ts(m,m===w.root,0);return function Ke(E,w,m){let T=E,P=w,K=m;for(;K>P;){if(K-=P,T=T.parent,!T)throw new c.vHH(4005,!1);P=T.segments.length}return new ts(T,!1,P-K)}(m,T+(fi(E.commands[0])?0:1),E.numberOfDoubleDots)}(K,w,E.snapshot?._urlSegment,mt),Kn=qt.processChildren?Tt(qt.segmentGroup,qt.index,K.commands):nt(qt.segmentGroup,qt.index,K.commands);return Is(w.root,qt.segmentGroup,Kn,T,P)}(E.snapshot?._lastPathIndex)}function fi(E){return"object"==typeof E&&null!=E&&!E.outlets&&!E.segmentPath}function Fr(E){return"object"==typeof E&&null!=E&&E.outlets}function Is(E,w,m,T,P){let he,K={};T&&ot(T,(mt,qt)=>{K[qt]=Array.isArray(mt)?mt.map(Kn=>`${Kn}`):`${mt}`}),he=E===w?m:ur(E,w,m);const _e=oi(gn(he));return new De(_e,K,P)}function ur(E,w,m){const T={};return ot(E.children,(P,K)=>{T[K]=P===w?m:ur(P,w,m)}),new oe(E.segments,T)}class qo{constructor(w,m,T){if(this.isAbsolute=w,this.numberOfDoubleDots=m,this.commands=T,w&&T.length>0&&fi(T[0]))throw new c.vHH(4003,!1);const P=T.find(Fr);if(P&&P!==bi(T))throw new c.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ts{constructor(w,m,T){this.segmentGroup=w,this.processChildren=m,this.index=T}}function nt(E,w,m){if(E||(E=new oe([],{})),0===E.segments.length&&E.hasChildren())return Tt(E,w,m);const T=function Vt(E,w,m){let T=0,P=w;const K={match:!1,pathIndex:0,commandIndex:0};for(;P<E.segments.length;){if(T>=m.length)return K;const he=E.segments[P],_e=m[T];if(Fr(_e))break;const mt=`${_e}`,qt=T<m.length-1?m[T+1]:null;if(P>0&&void 0===mt)break;if(mt&&qt&&"object"==typeof qt&&void 0===qt.outlets){if(!lr(mt,qt,he))return K;T+=2}else{if(!lr(mt,{},he))return K;T++}P++}return{match:!0,pathIndex:P,commandIndex:T}}(E,w,m),P=m.slice(T.commandIndex);if(T.match&&T.pathIndex<E.segments.length){const K=new oe(E.segments.slice(0,T.pathIndex),{});return K.children[en]=new oe(E.segments.slice(T.pathIndex),E.children),Tt(K,0,P)}return T.match&&0===P.length?new oe(E.segments,{}):T.match&&!E.hasChildren()?on(E,w,m):T.match?Tt(E,0,P):on(E,w,m)}function Tt(E,w,m){if(0===m.length)return new oe(E.segments,{});{const T=function Ve(E){return Fr(E[0])?E[0].outlets:{[en]:E}}(m),P={};return ot(T,(K,he)=>{"string"==typeof K&&(K=[K]),null!==K&&(P[he]=nt(E.children[he],w,K))}),ot(E.children,(K,he)=>{void 0===T[he]&&(P[he]=K)}),new oe(E.segments,P)}}function on(E,w,m){const T=E.segments.slice(0,w);let P=0;for(;P<m.length;){const K=m[P];if(Fr(K)){const mt=Qn(K.outlets);return new oe(T,mt)}if(0===P&&fi(m[0])){T.push(new ge(E.segments[w].path,Hr(m[0]))),P++;continue}const he=Fr(K)?K.outlets[en]:`${K}`,_e=P<m.length-1?m[P+1]:null;he&&_e&&fi(_e)?(T.push(new ge(he,Hr(_e))),P+=2):(T.push(new ge(he,{})),P++)}return new oe(T,{})}function Qn(E){const w={};return ot(E,(m,T)=>{"string"==typeof m&&(m=[m]),null!==m&&(w[T]=on(new oe([],{}),0,m))}),w}function Hr(E){const w={};return ot(E,(m,T)=>w[T]=`${m}`),w}function lr(E,w,m){return E==m.path&&bn(w,m.parameters)}class fr{constructor(w,m){this.id=w,this.url=m}}class ns extends fr{constructor(w,m,T="imperative",P=null){super(w,m),this.type=0,this.navigationTrigger=T,this.restoredState=P}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class to extends fr{constructor(w,m,T){super(w,m),this.urlAfterRedirects=T,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Yi extends fr{constructor(w,m,T,P){super(w,m),this.reason=T,this.code=P,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ei extends fr{constructor(w,m,T,P){super(w,m),this.error=T,this.target=P,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ns extends fr{constructor(w,m,T,P){super(w,m),this.urlAfterRedirects=T,this.state=P,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ui extends fr{constructor(w,m,T,P){super(w,m),this.urlAfterRedirects=T,this.state=P,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fo extends fr{constructor(w,m,T,P,K){super(w,m),this.urlAfterRedirects=T,this.state=P,this.shouldActivate=K,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class rs extends fr{constructor(w,m,T,P){super(w,m),this.urlAfterRedirects=T,this.state=P,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qi extends fr{constructor(w,m,T,P){super(w,m),this.urlAfterRedirects=T,this.state=P,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rs{constructor(w){this.route=w,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Do{constructor(w){this.route=w,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Os{constructor(w){this.snapshot=w,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class is{constructor(w){this.snapshot=w,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ds{constructor(w){this.snapshot=w,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ca{constructor(w){this.snapshot=w,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sa{constructor(w,m,T){this.routerEvent=w,this.position=m,this.anchor=T,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class bs{constructor(w){this._root=w}get root(){return this._root.value}parent(w){const m=this.pathFromRoot(w);return m.length>1?m[m.length-2]:null}children(w){const m=bo(w,this._root);return m?m.children.map(T=>T.value):[]}firstChild(w){const m=bo(w,this._root);return m&&m.children.length>0?m.children[0].value:null}siblings(w){const m=Lo(w,this._root);return m.length<2?[]:m[m.length-2].children.map(P=>P.value).filter(P=>P!==w)}pathFromRoot(w){return Lo(w,this._root).map(m=>m.value)}}function bo(E,w){if(E===w.value)return w;for(const m of w.children){const T=bo(E,m);if(T)return T}return null}function Lo(E,w){if(E===w.value)return[w];for(const m of w.children){const T=Lo(E,m);if(T.length)return T.unshift(w),T}return[]}class ti{constructor(w,m){this.value=w,this.children=m}toString(){return`TreeNode(${this.value})`}}function Ji(E){const w={};return E&&E.children.forEach(m=>w[m.value.outlet]=m),w}class Cs extends bs{constructor(w,m){super(w),this.snapshot=m,os(this,w)}toString(){return this.snapshot.toString()}}function pi(E,w){const m=function ds(E,w){const he=new ss([],{},{},"",{},en,w,null,E.root,-1,{});return new ho("",new ti(he,[]))}(E,w),T=new me([new ge("",{})]),P=new me({}),K=new me({}),he=new me({}),_e=new me(""),mt=new er(T,P,he,_e,K,en,w,m.root);return mt.snapshot=m.root,new Cs(new ti(mt,[]),m)}class er{constructor(w,m,T,P,K,he,_e,mt){this.url=w,this.params=m,this.queryParams=T,this.fragment=P,this.data=K,this.outlet=he,this.component=_e,this.title=this.data?.pipe((0,je.U)(qt=>qt[On]))??(0,H.of)(void 0),this._futureSnapshot=mt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,je.U)(w=>or(w)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,je.U)(w=>or(w)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ws(E,w="emptyOnly"){const m=E.pathFromRoot;let T=0;if("always"!==w)for(T=m.length-1;T>=1;){const P=m[T],K=m[T-1];if(P.routeConfig&&""===P.routeConfig.path)T--;else{if(K.component)break;T--}}return function Ps(E){return E.reduce((w,m)=>({params:{...w.params,...m.params},data:{...w.data,...m.data},resolve:{...m.data,...w.resolve,...m.routeConfig?.data,...m._resolvedData}}),{params:{},data:{},resolve:{}})}(m.slice(T))}class ss{constructor(w,m,T,P,K,he,_e,mt,qt,Kn,Et,Xt){this.url=w,this.params=m,this.queryParams=T,this.fragment=P,this.data=K,this.outlet=he,this.component=_e,this.title=this.data?.[On],this.routeConfig=mt,this._urlSegment=qt,this._lastPathIndex=Kn,this._correctedLastPathIndex=Xt??Kn,this._resolve=Et}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=or(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=or(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(T=>T.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ho extends bs{constructor(w,m){super(m),this.url=w,os(this,m)}toString(){return fo(this._root)}}function os(E,w){w.value._routerState=E,w.children.forEach(m=>os(E,m))}function fo(E){const w=E.children.length>0?` { ${E.children.map(fo).join(", ")} } `:"";return`${E.value}${w}`}function Ci(E){if(E.snapshot){const w=E.snapshot,m=E._futureSnapshot;E.snapshot=m,bn(w.queryParams,m.queryParams)||E.queryParams.next(m.queryParams),w.fragment!==m.fragment&&E.fragment.next(m.fragment),bn(w.params,m.params)||E.params.next(m.params),function Pn(E,w){if(E.length!==w.length)return!1;for(let m=0;m<E.length;++m)if(!bn(E[m],w[m]))return!1;return!0}(w.url,m.url)||E.url.next(m.url),bn(w.data,m.data)||E.data.next(m.data)}else E.snapshot=E._futureSnapshot,E.data.next(E._futureSnapshot.data)}function Xi(E,w){const m=bn(E.params,w.params)&&function Te(E,w){return X(E,w)&&E.every((m,T)=>bn(m.parameters,w[T].parameters))}(E.url,w.url);return m&&!(!E.parent!=!w.parent)&&(!E.parent||Xi(E.parent,w.parent))}function Gr(E,w,m){if(m&&E.shouldReuseRoute(w.value,m.value.snapshot)){const T=m.value;T._futureSnapshot=w.value;const P=function ai(E,w,m){return w.children.map(T=>{for(const P of m.children)if(E.shouldReuseRoute(T.value,P.value.snapshot))return Gr(E,T,P);return Gr(E,T)})}(E,w,m);return new ti(T,P)}{if(E.shouldAttach(w.value)){const K=E.retrieve(w.value);if(null!==K){const he=K.route;return he.value._futureSnapshot=w.value,he.children=w.children.map(_e=>Gr(E,_e)),he}}const T=function ks(E){return new er(new me(E.url),new me(E.params),new me(E.queryParams),new me(E.fragment),new me(E.data),E.outlet,E.component,E)}(w.value),P=w.children.map(K=>Gr(E,K));return new ti(T,P)}}const Vo="ngNavigationCancelingError";function Fs(E,w){const{redirectTo:m,navigationBehaviorOptions:T}=Vi(w)?{redirectTo:w,navigationBehaviorOptions:void 0}:w,P=Or(!1,0,w);return P.url=m,P.navigationBehaviorOptions=T,P}function Or(E,w,m){const T=new Error("NavigationCancelingError: "+(E||""));return T[Vo]=!0,T.cancellationCode=w,m&&(T.url=m),T}function Co(E){return Zo(E)&&Vi(E.url)}function Zo(E){return E&&E[Vo]}class ui{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new ni,this.attachRef=null}}let ni=(()=>{class E{constructor(){this.contexts=new Map}onChildOutletCreated(m,T){const P=this.getOrCreateContext(m);P.outlet=T,this.contexts.set(m,P)}onChildOutletDestroyed(m){const T=this.getContext(m);T&&(T.outlet=null,T.attachRef=null)}onOutletDeactivated(){const m=this.contexts;return this.contexts=new Map,m}onOutletReAttached(m){this.contexts=m}getOrCreateContext(m){let T=this.getContext(m);return T||(T=new ui,this.contexts.set(m,T)),T}getContext(m){return this.contexts.get(m)||null}}return E.\u0275fac=function(m){return new(m||E)},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const ji=!1;let _i=(()=>{class E{constructor(m,T,P,K,he){this.parentContexts=m,this.location=T,this.changeDetector=K,this.environmentInjector=he,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=P||en,m.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const m=this.parentContexts.getContext(this.name);m&&m.route&&(m.attachRef?this.attach(m.attachRef,m.route):this.activateWith(m.route,m.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,ji);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,ji);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,ji);this.location.detach();const m=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(m.instance),m}attach(m,T){this.activated=m,this._activatedRoute=T,this.location.insert(m.hostView),this.attachEvents.emit(m.instance)}deactivate(){if(this.activated){const m=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(m)}}activateWith(m,T){if(this.isActivated)throw new c.vHH(4013,ji);this._activatedRoute=m;const P=this.location,he=m._futureSnapshot.component,_e=this.parentContexts.getOrCreateContext(this.name).children,mt=new gi(m,_e,P.injector);if(T&&function rr(E){return!!E.resolveComponentFactory}(T)){const qt=T.resolveComponentFactory(he);this.activated=P.createComponent(qt,P.length,mt)}else this.activated=P.createComponent(he,{index:P.length,injector:mt,environmentInjector:T??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return E.\u0275fac=function(m){return new(m||E)(c.Y36(ni),c.Y36(c.s_b),c.$8M("name"),c.Y36(c.sBO),c.Y36(c.lqb))},E.\u0275dir=c.lG2({type:E,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),E})();class gi{constructor(w,m,T){this.route=w,this.childContexts=m,this.parent=T}get(w,m){return w===er?this.route:w===ni?this.childContexts:this.parent.get(w,m)}}let no=(()=>{class E{}return E.\u0275fac=function(m){return new(m||E)},E.\u0275cmp=c.Xpm({type:E,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(m,T){1&m&&c._UZ(0,"router-outlet")},dependencies:[_i],encapsulation:2}),E})();function as(E,w){return E.providers&&!E._injector&&(E._injector=(0,c.MMx)(E.providers,w,`Route: ${E.path}`)),E._injector??w}function Ei(E){const w=E.children&&E.children.map(Ei),m=w?{...E,children:w}:{...E};return!m.component&&!m.loadComponent&&(w||m.loadChildren)&&m.outlet&&m.outlet!==en&&(m.component=no),m}function ii(E){return E.outlet||en}function Oi(E,w){const m=E.filter(T=>ii(T)===w);return m.push(...E.filter(T=>ii(T)!==w)),m}function hs(E){if(!E)return null;if(E.routeConfig?._injector)return E.routeConfig._injector;for(let w=E.parent;w;w=w.parent){const m=w.routeConfig;if(m?._loadedInjector)return m._loadedInjector;if(m?._injector)return m._injector}return null}class Lt{constructor(w,m,T,P){this.routeReuseStrategy=w,this.futureState=m,this.currState=T,this.forwardEvent=P}activate(w){const m=this.futureState._root,T=this.currState?this.currState._root:null;this.deactivateChildRoutes(m,T,w),Ci(this.futureState.root),this.activateChildRoutes(m,T,w)}deactivateChildRoutes(w,m,T){const P=Ji(m);w.children.forEach(K=>{const he=K.value.outlet;this.deactivateRoutes(K,P[he],T),delete P[he]}),ot(P,(K,he)=>{this.deactivateRouteAndItsChildren(K,T)})}deactivateRoutes(w,m,T){const P=w.value,K=m?m.value:null;if(P===K)if(P.component){const he=T.getContext(P.outlet);he&&this.deactivateChildRoutes(w,m,he.children)}else this.deactivateChildRoutes(w,m,T);else K&&this.deactivateRouteAndItsChildren(m,T)}deactivateRouteAndItsChildren(w,m){w.value.component&&this.routeReuseStrategy.shouldDetach(w.value.snapshot)?this.detachAndStoreRouteSubtree(w,m):this.deactivateRouteAndOutlet(w,m)}detachAndStoreRouteSubtree(w,m){const T=m.getContext(w.value.outlet),P=T&&w.value.component?T.children:m,K=Ji(w);for(const he of Object.keys(K))this.deactivateRouteAndItsChildren(K[he],P);if(T&&T.outlet){const he=T.outlet.detach(),_e=T.children.onOutletDeactivated();this.routeReuseStrategy.store(w.value.snapshot,{componentRef:he,route:w,contexts:_e})}}deactivateRouteAndOutlet(w,m){const T=m.getContext(w.value.outlet),P=T&&w.value.component?T.children:m,K=Ji(w);for(const he of Object.keys(K))this.deactivateRouteAndItsChildren(K[he],P);T&&T.outlet&&(T.outlet.deactivate(),T.children.onOutletDeactivated(),T.attachRef=null,T.resolver=null,T.route=null)}activateChildRoutes(w,m,T){const P=Ji(m);w.children.forEach(K=>{this.activateRoutes(K,P[K.value.outlet],T),this.forwardEvent(new Ca(K.value.snapshot))}),w.children.length&&this.forwardEvent(new is(w.value.snapshot))}activateRoutes(w,m,T){const P=w.value,K=m?m.value:null;if(Ci(P),P===K)if(P.component){const he=T.getOrCreateContext(P.outlet);this.activateChildRoutes(w,m,he.children)}else this.activateChildRoutes(w,m,T);else if(P.component){const he=T.getOrCreateContext(P.outlet);if(this.routeReuseStrategy.shouldAttach(P.snapshot)){const _e=this.routeReuseStrategy.retrieve(P.snapshot);this.routeReuseStrategy.store(P.snapshot,null),he.children.onOutletReAttached(_e.contexts),he.attachRef=_e.componentRef,he.route=_e.route.value,he.outlet&&he.outlet.attach(_e.componentRef,_e.route.value),Ci(_e.route.value),this.activateChildRoutes(w,null,he.children)}else{const _e=hs(P.snapshot),mt=_e?.get(c._Vd)??null;he.attachRef=null,he.route=P,he.resolver=mt,he.injector=_e,he.outlet&&he.outlet.activateWith(P,he.injector),this.activateChildRoutes(w,null,he.children)}}else this.activateChildRoutes(w,null,T)}}class tr{constructor(w){this.path=w,this.route=this.path[this.path.length-1]}}class Yo{constructor(w,m){this.component=w,this.route=m}}function po(E,w,m){const T=E._root;return qs(T,w?w._root:null,m,[T.value])}function fs(E,w){const m=Symbol(),T=w.get(E,m);return T===m?"function"!=typeof E||(0,c.Z0I)(E)?w.get(E):E:T}function qs(E,w,m,T,P={canDeactivateChecks:[],canActivateChecks:[]}){const K=Ji(w);return E.children.forEach(he=>{(function wi(E,w,m,T,P={canDeactivateChecks:[],canActivateChecks:[]}){const K=E.value,he=w?w.value:null,_e=m?m.getContext(E.value.outlet):null;if(he&&K.routeConfig===he.routeConfig){const mt=function Zs(E,w,m){if("function"==typeof m)return m(E,w);switch(m){case"pathParamsChange":return!X(E.url,w.url);case"pathParamsOrQueryParamsChange":return!X(E.url,w.url)||!bn(E.queryParams,w.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Xi(E,w)||!bn(E.queryParams,w.queryParams);default:return!Xi(E,w)}}(he,K,K.routeConfig.runGuardsAndResolvers);mt?P.canActivateChecks.push(new tr(T)):(K.data=he.data,K._resolvedData=he._resolvedData),qs(E,w,K.component?_e?_e.children:null:m,T,P),mt&&_e&&_e.outlet&&_e.outlet.isActivated&&P.canDeactivateChecks.push(new Yo(_e.outlet.component,he))}else he&&ci(w,_e,P),P.canActivateChecks.push(new tr(T)),qs(E,null,K.component?_e?_e.children:null:m,T,P)})(he,K[he.value.outlet],m,T.concat([he.value]),P),delete K[he.value.outlet]}),ot(K,(he,_e)=>ci(he,m.getContext(_e),P)),P}function ci(E,w,m){const T=Ji(E),P=E.value;ot(T,(K,he)=>{ci(K,P.component?w?w.children.getContext(he):null:w,m)}),m.canDeactivateChecks.push(new Yo(P.component&&w&&w.outlet&&w.outlet.isActivated?w.outlet.component:null,P))}function go(E){return"function"==typeof E}function Wi(E){return E instanceof Fe.K||"EmptyError"===E?.name}const es=Symbol("INITIAL_VALUE");function ri(){return(0,Ge.w)(E=>tt(E.map(w=>w.pipe((0,Ct.q)(1),(0,Ot.O)(es)))).pipe((0,je.U)(w=>{for(const m of w)if(!0!==m){if(m===es)return es;if(!1===m||m instanceof De)return m}return!0}),(0,Ft.h)(w=>w!==es),(0,Ct.q)(1)))}function Mo(E){return(0,ae.z)((0,un.b)(w=>{if(Vi(w))throw Fs(0,w)}),(0,je.U)(w=>!0===w))}const S={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function G(E,w,m,T,P){const K=R(E,w,m);return K.matched?function Qo(E,w,m,T){const P=w.canMatch;if(!P||0===P.length)return(0,H.of)(!0);const K=P.map(he=>{const _e=fs(he,E);return Ee(function ht(E){return E&&go(E.canMatch)}(_e)?_e.canMatch(w,m):E.runInContext(()=>_e(w,m)))});return(0,H.of)(K).pipe(ri(),Mo())}(T=as(w,T),w,m).pipe((0,je.U)(he=>!0===he?K:{...S})):(0,H.of)(K)}function R(E,w,m){if(""===w.path)return"full"===w.pathMatch&&(E.hasChildren()||m.length>0)?{...S}:{matched:!0,consumedSegments:[],remainingSegments:m,parameters:{},positionalParamSegments:{}};const P=(w.matcher||Ut)(m,E,w);if(!P)return{...S};const K={};ot(P.posParams,(_e,mt)=>{K[mt]=_e.path});const he=P.consumed.length>0?{...K,...P.consumed[P.consumed.length-1].parameters}:K;return{matched:!0,consumedSegments:P.consumed,remainingSegments:m.slice(P.consumed.length),parameters:he,positionalParamSegments:P.posParams??{}}}function Y(E,w,m,T,P="corrected"){if(m.length>0&&function wt(E,w,m){return m.some(T=>vr(E,w,T)&&ii(T)!==en)}(E,m,T)){const he=new oe(w,function pt(E,w,m,T){const P={};P[en]=T,T._sourceSegment=E,T._segmentIndexShift=w.length;for(const K of m)if(""===K.path&&ii(K)!==en){const he=new oe([],{});he._sourceSegment=E,he._segmentIndexShift=w.length,P[ii(K)]=he}return P}(E,w,T,new oe(m,E.children)));return he._sourceSegment=E,he._segmentIndexShift=w.length,{segmentGroup:he,slicedSegments:[]}}if(0===m.length&&function wn(E,w,m){return m.some(T=>vr(E,w,T))}(E,m,T)){const he=new oe(E.segments,function we(E,w,m,T,P,K){const he={};for(const _e of T)if(vr(E,m,_e)&&!P[ii(_e)]){const mt=new oe([],{});mt._sourceSegment=E,mt._segmentIndexShift="legacy"===K?E.segments.length:w.length,he[ii(_e)]=mt}return{...P,...he}}(E,w,m,T,E.children,P));return he._sourceSegment=E,he._segmentIndexShift=w.length,{segmentGroup:he,slicedSegments:m}}const K=new oe(E.segments,E.children);return K._sourceSegment=E,K._segmentIndexShift=w.length,{segmentGroup:K,slicedSegments:m}}function vr(E,w,m){return(!(E.hasChildren()||w.length>0)||"full"!==m.pathMatch)&&""===m.path}function Ir(E,w,m,T){return!!(ii(E)===T||T!==en&&vr(w,m,E))&&("**"===E.path||R(w,E,m).matched)}function Dr(E,w,m){return 0===w.length&&!E.children[m]}const cr=!1;class di{constructor(w){this.segmentGroup=w||null}}class zr{constructor(w){this.urlTree=w}}function Ur(E){return Je(new di(E))}function oo(E){return Je(new zr(E))}class Ii{constructor(w,m,T,P,K){this.injector=w,this.configLoader=m,this.urlSerializer=T,this.urlTree=P,this.config=K,this.allowRedirects=!0}apply(){const w=Y(this.urlTree.root,[],[],this.config).segmentGroup,m=new oe(w.segments,w.children);return this.expandSegmentGroup(this.injector,this.config,m,en).pipe((0,je.U)(K=>this.createUrlTree(gn(K),this.urlTree.queryParams,this.urlTree.fragment))).pipe(pn(K=>{if(K instanceof zr)return this.allowRedirects=!1,this.match(K.urlTree);throw K instanceof di?this.noMatchError(K):K}))}match(w){return this.expandSegmentGroup(this.injector,this.config,w.root,en).pipe((0,je.U)(P=>this.createUrlTree(gn(P),w.queryParams,w.fragment))).pipe(pn(P=>{throw P instanceof di?this.noMatchError(P):P}))}noMatchError(w){return new c.vHH(4002,cr)}createUrlTree(w,m,T){const P=oi(w);return new De(P,m,T)}expandSegmentGroup(w,m,T,P){return 0===T.segments.length&&T.hasChildren()?this.expandChildren(w,m,T).pipe((0,je.U)(K=>new oe([],K))):this.expandSegment(w,T,m,T.segments,P,!0)}expandChildren(w,m,T){const P=[];for(const K of Object.keys(T.children))"primary"===K?P.unshift(K):P.push(K);return(0,k.D)(P).pipe((0,Dt.b)(K=>{const he=T.children[K],_e=Oi(m,K);return this.expandSegmentGroup(w,_e,he,K).pipe((0,je.U)(mt=>({segment:mt,outlet:K})))}),(0,rt.R)((K,he)=>(K[he.outlet]=he.segment,K),{}),Kt())}expandSegment(w,m,T,P,K,he){return(0,k.D)(T).pipe((0,Dt.b)(_e=>this.expandSegmentAgainstRoute(w,m,T,_e,P,K,he).pipe(pn(qt=>{if(qt instanceof di)return(0,H.of)(null);throw qt}))),(0,ln.P)(_e=>!!_e),pn((_e,mt)=>{if(Wi(_e))return Dr(m,P,K)?(0,H.of)(new oe([],{})):Ur(m);throw _e}))}expandSegmentAgainstRoute(w,m,T,P,K,he,_e){return Ir(P,m,K,he)?void 0===P.redirectTo?this.matchSegmentAgainstRoute(w,m,P,K,he):_e&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(w,m,T,P,K,he):Ur(m):Ur(m)}expandSegmentAgainstRouteUsingRedirect(w,m,T,P,K,he){return"**"===P.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(w,T,P,he):this.expandRegularSegmentAgainstRouteUsingRedirect(w,m,T,P,K,he)}expandWildCardWithParamsAgainstRouteUsingRedirect(w,m,T,P){const K=this.applyRedirectCommands([],T.redirectTo,{});return T.redirectTo.startsWith("/")?oo(K):this.lineralizeSegments(T,K).pipe((0,Qt.z)(he=>{const _e=new oe(he,{});return this.expandSegment(w,_e,m,he,P,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(w,m,T,P,K,he){const{matched:_e,consumedSegments:mt,remainingSegments:qt,positionalParamSegments:Kn}=R(m,P,K);if(!_e)return Ur(m);const Et=this.applyRedirectCommands(mt,P.redirectTo,Kn);return P.redirectTo.startsWith("/")?oo(Et):this.lineralizeSegments(P,Et).pipe((0,Qt.z)(Xt=>this.expandSegment(w,m,T,Xt.concat(qt),he,!1)))}matchSegmentAgainstRoute(w,m,T,P,K){return"**"===T.path?(w=as(T,w),T.loadChildren?(T._loadedRoutes?(0,H.of)({routes:T._loadedRoutes,injector:T._loadedInjector}):this.configLoader.loadChildren(w,T)).pipe((0,je.U)(_e=>(T._loadedRoutes=_e.routes,T._loadedInjector=_e.injector,new oe(P,{})))):(0,H.of)(new oe(P,{}))):G(m,T,P,w).pipe((0,Ge.w)(({matched:he,consumedSegments:_e,remainingSegments:mt})=>he?this.getChildConfig(w=T._injector??w,T,P).pipe((0,Qt.z)(Kn=>{const Et=Kn.injector??w,Xt=Kn.routes,{segmentGroup:Dn,slicedSegments:qn}=Y(m,_e,mt,Xt),_r=new oe(Dn.segments,Dn.children);if(0===qn.length&&_r.hasChildren())return this.expandChildren(Et,Xt,_r).pipe((0,je.U)(Yr=>new oe(_e,Yr)));if(0===Xt.length&&0===qn.length)return(0,H.of)(new oe(_e,{}));const vi=ii(T)===K;return this.expandSegment(Et,_r,Xt,qn,vi?en:K,!0).pipe((0,je.U)(js=>new oe(_e.concat(js.segments),js.children)))})):Ur(m)))}getChildConfig(w,m,T){return m.children?(0,H.of)({routes:m.children,injector:w}):m.loadChildren?void 0!==m._loadedRoutes?(0,H.of)({routes:m._loadedRoutes,injector:m._loadedInjector}):function so(E,w,m,T){const P=w.canLoad;if(void 0===P||0===P.length)return(0,H.of)(!0);const K=P.map(he=>{const _e=fs(he,E);return Ee(function L(E){return E&&go(E.canLoad)}(_e)?_e.canLoad(w,m):E.runInContext(()=>_e(w,m)))});return(0,H.of)(K).pipe(ri(),Mo())}(w,m,T).pipe((0,Qt.z)(P=>P?this.configLoader.loadChildren(w,m).pipe((0,un.b)(K=>{m._loadedRoutes=K.routes,m._loadedInjector=K.injector})):function Wr(E){return Je(Or(cr,3))}())):(0,H.of)({routes:[],injector:w})}lineralizeSegments(w,m){let T=[],P=m.root;for(;;){if(T=T.concat(P.segments),0===P.numberOfChildren)return(0,H.of)(T);if(P.numberOfChildren>1||!P.children[en])return Je(new c.vHH(4e3,cr));P=P.children[en]}}applyRedirectCommands(w,m,T){return this.applyRedirectCreateUrlTree(m,this.urlSerializer.parse(m),w,T)}applyRedirectCreateUrlTree(w,m,T,P){const K=this.createSegmentGroup(w,m.root,T,P);return new De(K,this.createQueryParams(m.queryParams,this.urlTree.queryParams),m.fragment)}createQueryParams(w,m){const T={};return ot(w,(P,K)=>{if("string"==typeof P&&P.startsWith(":")){const _e=P.substring(1);T[K]=m[_e]}else T[K]=P}),T}createSegmentGroup(w,m,T,P){const K=this.createSegments(w,m.segments,T,P);let he={};return ot(m.children,(_e,mt)=>{he[mt]=this.createSegmentGroup(w,_e,T,P)}),new oe(K,he)}createSegments(w,m,T,P){return m.map(K=>K.path.startsWith(":")?this.findPosParam(w,K,P):this.findOrReturn(K,T))}findPosParam(w,m,T){const P=T[m.path.substring(1)];if(!P)throw new c.vHH(4001,cr);return P}findOrReturn(w,m){let T=0;for(const P of m){if(P.path===w.path)return m.splice(T),P;T++}return w}}class Wt{}class ya{constructor(w,m,T,P,K,he,_e,mt){this.injector=w,this.rootComponentType=m,this.config=T,this.urlTree=P,this.url=K,this.paramsInheritanceStrategy=he,this.relativeLinkResolution=_e,this.urlSerializer=mt}recognize(){const w=Y(this.urlTree.root,[],[],this.config.filter(m=>void 0===m.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,w,en).pipe((0,je.U)(m=>{if(null===m)return null;const T=new ss([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},en,this.rootComponentType,null,this.urlTree.root,-1,{}),P=new ti(T,m),K=new ho(this.url,P);return this.inheritParamsAndData(K._root),K}))}inheritParamsAndData(w){const m=w.value,T=Ws(m,this.paramsInheritanceStrategy);m.params=Object.freeze(T.params),m.data=Object.freeze(T.data),w.children.forEach(P=>this.inheritParamsAndData(P))}processSegmentGroup(w,m,T,P){return 0===T.segments.length&&T.hasChildren()?this.processChildren(w,m,T):this.processSegment(w,m,T,T.segments,P)}processChildren(w,m,T){return(0,k.D)(Object.keys(T.children)).pipe((0,Dt.b)(P=>{const K=T.children[P],he=Oi(m,P);return this.processSegmentGroup(w,he,K,P)}),(0,rt.R)((P,K)=>P&&K?(P.push(...K),P):null),function vn(E,w=!1){return(0,He.e)((m,T)=>{let P=0;m.subscribe((0,yt.x)(T,K=>{const he=E(K,P++);(he||w)&&T.next(K),!he&&T.complete()}))})}(P=>null!==P),(0,ze.d)(null),Kt(),(0,je.U)(P=>{if(null===P)return null;const K=rn(P);return function In(E){E.sort((w,m)=>w.value.outlet===en?-1:m.value.outlet===en?1:w.value.outlet.localeCompare(m.value.outlet))}(K),K}))}processSegment(w,m,T,P,K){return(0,k.D)(m).pipe((0,Dt.b)(he=>this.processSegmentAgainstRoute(he._injector??w,he,T,P,K)),(0,ln.P)(he=>!!he),pn(he=>{if(Wi(he))return Dr(T,P,K)?(0,H.of)([]):(0,H.of)(null);throw he}))}processSegmentAgainstRoute(w,m,T,P,K){if(m.redirectTo||!Ir(m,T,P,K))return(0,H.of)(null);let he;if("**"===m.path){const _e=P.length>0?bi(P).parameters:{},mt=xr(T)+P.length,qt=new ss(P,_e,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ua(m),ii(m),m.component??m._loadedComponent??null,m,jt(T),mt,Di(m),mt);he=(0,H.of)({snapshot:qt,consumedSegments:[],remainingSegments:[]})}else he=G(T,m,P,w).pipe((0,je.U)(({matched:_e,consumedSegments:mt,remainingSegments:qt,parameters:Kn})=>{if(!_e)return null;const Et=xr(T)+mt.length;return{snapshot:new ss(mt,Kn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ua(m),ii(m),m.component??m._loadedComponent??null,m,jt(T),Et,Di(m),Et),consumedSegments:mt,remainingSegments:qt}}));return he.pipe((0,Ge.w)(_e=>{if(null===_e)return(0,H.of)(null);const{snapshot:mt,consumedSegments:qt,remainingSegments:Kn}=_e;w=m._injector??w;const Et=m._loadedInjector??w,Xt=function Gn(E){return E.children?E.children:E.loadChildren?E._loadedRoutes:[]}(m),{segmentGroup:Dn,slicedSegments:qn}=Y(T,qt,Kn,Xt.filter(vi=>void 0===vi.redirectTo),this.relativeLinkResolution);if(0===qn.length&&Dn.hasChildren())return this.processChildren(Et,Xt,Dn).pipe((0,je.U)(vi=>null===vi?null:[new ti(mt,vi)]));if(0===Xt.length&&0===qn.length)return(0,H.of)([new ti(mt,[])]);const _r=ii(m)===K;return this.processSegment(Et,Xt,Dn,qn,_r?en:K).pipe((0,je.U)(vi=>null===vi?null:[new ti(mt,vi)]))}))}}function za(E){const w=E.value.routeConfig;return w&&""===w.path&&void 0===w.redirectTo}function rn(E){const w=[],m=new Set;for(const T of E){if(!za(T)){w.push(T);continue}const P=w.find(K=>T.value.routeConfig===K.value.routeConfig);void 0!==P?(P.children.push(...T.children),m.add(P)):w.push(T)}for(const T of m){const P=rn(T.children);w.push(new ti(T.value,P))}return w.filter(T=>!m.has(T))}function jt(E){let w=E;for(;w._sourceSegment;)w=w._sourceSegment;return w}function xr(E){let w=E,m=w._segmentIndexShift??0;for(;w._sourceSegment;)w=w._sourceSegment,m+=w._segmentIndexShift??0;return m-1}function ua(E){return E.data||{}}function Di(E){return E.resolve||{}}function mi(E){return"string"==typeof E.title||null===E.title}function _a(E){return(0,Ge.w)(w=>{const m=E(w);return m?(0,k.D)(m).pipe((0,je.U)(()=>w)):(0,H.of)(w)})}let Mn=(()=>{class E{buildTitle(m){let T,P=m.root;for(;void 0!==P;)T=this.getResolvedTitleForRoute(P)??T,P=P.children.find(K=>K.outlet===en);return T}getResolvedTitleForRoute(m){return m.data[On]}}return E.\u0275fac=function(m){return new(m||E)},E.\u0275prov=c.Yz7({token:E,factory:function(){return(0,c.f3M)(No)},providedIn:"root"}),E})(),No=(()=>{class E extends Mn{constructor(m){super(),this.title=m}updateTitle(m){const T=this.buildTitle(m);void 0!==T&&this.title.setTitle(T)}}return E.\u0275fac=function(m){return new(m||E)(c.LFG(hr.Dx))},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();class Lr{}class Ro extends class Ln{shouldDetach(w){return!1}store(w,m){}shouldAttach(w){return!1}retrieve(w){return null}shouldReuseRoute(w,m){return w.routeConfig===m.routeConfig}}{}const Jo=new c.OlP("",{providedIn:"root",factory:()=>({})}),Jt=new c.OlP("ROUTES");let Qs=(()=>{class E{constructor(m,T){this.injector=m,this.compiler=T,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(m){if(this.componentLoaders.get(m))return this.componentLoaders.get(m);if(m._loadedComponent)return(0,H.of)(m._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(m);const T=Ee(m.loadComponent()).pipe((0,un.b)(K=>{this.onLoadEndListener&&this.onLoadEndListener(m),m._loadedComponent=K}),Bn(()=>{this.componentLoaders.delete(m)})),P=new Se(T,()=>new be.x).pipe(Qe());return this.componentLoaders.set(m,P),P}loadChildren(m,T){if(this.childrenLoaders.get(T))return this.childrenLoaders.get(T);if(T._loadedRoutes)return(0,H.of)({routes:T._loadedRoutes,injector:T._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(T);const K=this.loadModuleFactoryOrRoutes(T.loadChildren).pipe((0,je.U)(_e=>{this.onLoadEndListener&&this.onLoadEndListener(T);let mt,qt,Kn=!1;Array.isArray(_e)?qt=_e:(mt=_e.create(m).injector,qt=br(mt.get(Jt,[],c.XFs.Self|c.XFs.Optional)));return{routes:qt.map(Ei),injector:mt}}),Bn(()=>{this.childrenLoaders.delete(T)})),he=new Se(K,()=>new be.x).pipe(Qe());return this.childrenLoaders.set(T,he),he}loadModuleFactoryOrRoutes(m){return Ee(m()).pipe((0,Qt.z)(T=>T instanceof c.YKP||Array.isArray(T)?(0,H.of)(T):(0,k.D)(this.compiler.compileModuleAsync(T))))}}return E.\u0275fac=function(m){return new(m||E)(c.LFG(c.zs3),c.LFG(c.Sil))},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();class Aa{}class Us{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,m){return w}}function Bs(E){throw E}function lu(E,w,m){return w.parse("/")}const _o={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ca={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function us(){const E=(0,c.f3M)(ee),w=(0,c.f3M)(ni),m=(0,c.f3M)(ke.Ye),T=(0,c.f3M)(c.zs3),P=(0,c.f3M)(c.Sil),K=(0,c.f3M)(Jt,{optional:!0})??[],he=(0,c.f3M)(Jo,{optional:!0})??{},_e=(0,c.f3M)(No),mt=(0,c.f3M)(Mn,{optional:!0}),qt=(0,c.f3M)(Aa,{optional:!0}),Kn=(0,c.f3M)(Lr,{optional:!0}),Et=new yi(null,E,w,m,T,P,br(K));return qt&&(Et.urlHandlingStrategy=qt),Kn&&(Et.routeReuseStrategy=Kn),Et.titleStrategy=mt??_e,function $o(E,w){E.errorHandler&&(w.errorHandler=E.errorHandler),E.malformedUriErrorHandler&&(w.malformedUriErrorHandler=E.malformedUriErrorHandler),E.onSameUrlNavigation&&(w.onSameUrlNavigation=E.onSameUrlNavigation),E.paramsInheritanceStrategy&&(w.paramsInheritanceStrategy=E.paramsInheritanceStrategy),E.relativeLinkResolution&&(w.relativeLinkResolution=E.relativeLinkResolution),E.urlUpdateStrategy&&(w.urlUpdateStrategy=E.urlUpdateStrategy),E.canceledNavigationResolution&&(w.canceledNavigationResolution=E.canceledNavigationResolution)}(he,Et),Et}let yi=(()=>{class E{constructor(m,T,P,K,he,_e,mt){this.rootComponentType=m,this.urlSerializer=T,this.rootContexts=P,this.location=K,this.config=mt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new be.x,this.errorHandler=Bs,this.malformedUriErrorHandler=lu,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,H.of)(void 0),this.urlHandlingStrategy=new Us,this.routeReuseStrategy=new Ro,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=he.get(Qs),this.configLoader.onLoadEndListener=Xt=>this.triggerEvent(new Do(Xt)),this.configLoader.onLoadStartListener=Xt=>this.triggerEvent(new Rs(Xt)),this.ngModule=he.get(c.h0i),this.console=he.get(c.c2e);const Et=he.get(c.R0b);this.isNgZoneEnabled=Et instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(mt),this.currentUrlTree=function lt(){return new De(new oe([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=pi(this.currentUrlTree,this.rootComponentType),this.transitions=new me({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(m){const T=this.events;return m.pipe((0,Ft.h)(P=>0!==P.id),(0,je.U)(P=>({...P,extractedUrl:this.urlHandlingStrategy.extract(P.rawUrl)})),(0,Ge.w)(P=>{let K=!1,he=!1;return(0,H.of)(P).pipe((0,un.b)(_e=>{this.currentNavigation={id:_e.id,initialUrl:_e.rawUrl,extractedUrl:_e.extractedUrl,trigger:_e.source,extras:_e.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ge.w)(_e=>{const mt=this.browserUrlTree.toString(),qt=!this.navigated||_e.extractedUrl.toString()!==mt||mt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||qt)&&this.urlHandlingStrategy.shouldProcessUrl(_e.rawUrl))return La(_e.source)&&(this.browserUrlTree=_e.extractedUrl),(0,H.of)(_e).pipe((0,Ge.w)(Et=>{const Xt=this.transitions.getValue();return T.next(new ns(Et.id,this.serializeUrl(Et.extractedUrl),Et.source,Et.restoredState)),Xt!==this.transitions.getValue()?xt.E:Promise.resolve(Et)}),function Ki(E,w,m,T){return(0,Ge.w)(P=>function Ts(E,w,m,T,P){return new Ii(E,w,m,T,P).apply()}(E,w,m,P.extractedUrl,T).pipe((0,je.U)(K=>({...P,urlAfterRedirects:K}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,un.b)(Et=>{this.currentNavigation={...this.currentNavigation,finalUrl:Et.urlAfterRedirects},P.urlAfterRedirects=Et.urlAfterRedirects}),function Su(E,w,m,T,P,K){return(0,Qt.z)(he=>function vo(E,w,m,T,P,K,he="emptyOnly",_e="legacy"){return new ya(E,w,m,T,P,he,_e,K).recognize().pipe((0,Ge.w)(mt=>null===mt?function ir(E){return new xe.y(w=>w.error(E))}(new Wt):(0,H.of)(mt)))}(E,w,m,he.urlAfterRedirects,T.serialize(he.urlAfterRedirects),T,P,K).pipe((0,je.U)(_e=>({...he,targetSnapshot:_e}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,un.b)(Et=>{if(P.targetSnapshot=Et.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!Et.extras.skipLocationChange){const Dn=this.urlHandlingStrategy.merge(Et.urlAfterRedirects,Et.rawUrl);this.setBrowserUrl(Dn,Et)}this.browserUrlTree=Et.urlAfterRedirects}const Xt=new Ns(Et.id,this.serializeUrl(Et.extractedUrl),this.serializeUrl(Et.urlAfterRedirects),Et.targetSnapshot);T.next(Xt)}));if(qt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Xt,extractedUrl:Dn,source:qn,restoredState:_r,extras:vi}=_e,ki=new ns(Xt,this.serializeUrl(Dn),qn,_r);T.next(ki);const js=pi(Dn,this.rootComponentType).snapshot;return P={..._e,targetSnapshot:js,urlAfterRedirects:Dn,extras:{...vi,skipLocationChange:!1,replaceUrl:!1}},(0,H.of)(P)}return this.rawUrlTree=_e.rawUrl,_e.resolve(null),xt.E}),(0,un.b)(_e=>{const mt=new Ui(_e.id,this.serializeUrl(_e.extractedUrl),this.serializeUrl(_e.urlAfterRedirects),_e.targetSnapshot);this.triggerEvent(mt)}),(0,je.U)(_e=>P={..._e,guards:po(_e.targetSnapshot,_e.currentSnapshot,this.rootContexts)}),function io(E,w){return(0,Qt.z)(m=>{const{targetSnapshot:T,currentSnapshot:P,guards:{canActivateChecks:K,canDeactivateChecks:he}}=m;return 0===he.length&&0===K.length?(0,H.of)({...m,guardsResult:!0}):function ps(E,w,m,T){return(0,k.D)(E).pipe((0,Qt.z)(P=>function Ao(E,w,m,T,P){const K=w&&w.routeConfig?w.routeConfig.canDeactivate:null;if(!K||0===K.length)return(0,H.of)(!0);const he=K.map(_e=>{const mt=hs(w)??P,qt=fs(_e,mt);return Ee(function Q(E){return E&&go(E.canDeactivate)}(qt)?qt.canDeactivate(E,w,m,T):mt.runInContext(()=>qt(E,w,m,T))).pipe((0,ln.P)())});return(0,H.of)(he).pipe(ri())}(P.component,P.route,m,w,T)),(0,ln.P)(P=>!0!==P,!0))}(he,T,P,E).pipe((0,Qt.z)(_e=>_e&&function mo(E){return"boolean"==typeof E}(_e)?function Ys(E,w,m,T){return(0,k.D)(w).pipe((0,Dt.b)(P=>(0,Ye.z)(function oa(E,w){return null!==E&&w&&w(new Os(E)),(0,H.of)(!0)}(P.route.parent,T),function So(E,w){return null!==E&&w&&w(new Ds(E)),(0,H.of)(!0)}(P.route,T),function ma(E,w,m){const T=w[w.length-1],K=w.slice(0,w.length-1).reverse().map(he=>function qr(E){const w=E.routeConfig?E.routeConfig.canActivateChild:null;return w&&0!==w.length?{node:E,guards:w}:null}(he)).filter(he=>null!==he).map(he=>At(()=>{const _e=he.guards.map(mt=>{const qt=hs(he.node)??m,Kn=fs(mt,qt);return Ee(function A(E){return E&&go(E.canActivateChild)}(Kn)?Kn.canActivateChild(T,E):qt.runInContext(()=>Kn(T,E))).pipe((0,ln.P)())});return(0,H.of)(_e).pipe(ri())}));return(0,H.of)(K).pipe(ri())}(E,P.path,m),function yo(E,w,m){const T=w.routeConfig?w.routeConfig.canActivate:null;if(!T||0===T.length)return(0,H.of)(!0);const P=T.map(K=>At(()=>{const he=hs(w)??m,_e=fs(K,he);return Ee(function O(E){return E&&go(E.canActivate)}(_e)?_e.canActivate(w,E):he.runInContext(()=>_e(w,E))).pipe((0,ln.P)())}));return(0,H.of)(P).pipe(ri())}(E,P.route,m))),(0,ln.P)(P=>!0!==P,!0))}(T,K,E,w):(0,H.of)(_e)),(0,je.U)(_e=>({...m,guardsResult:_e})))})}(this.ngModule.injector,_e=>this.triggerEvent(_e)),(0,un.b)(_e=>{if(P.guardsResult=_e.guardsResult,Vi(_e.guardsResult))throw Fs(0,_e.guardsResult);const mt=new Fo(_e.id,this.serializeUrl(_e.extractedUrl),this.serializeUrl(_e.urlAfterRedirects),_e.targetSnapshot,!!_e.guardsResult);this.triggerEvent(mt)}),(0,Ft.h)(_e=>!!_e.guardsResult||(this.restoreHistory(_e),this.cancelNavigationTransition(_e,"",3),!1)),_a(_e=>{if(_e.guards.canActivateChecks.length)return(0,H.of)(_e).pipe((0,un.b)(mt=>{const qt=new rs(mt.id,this.serializeUrl(mt.extractedUrl),this.serializeUrl(mt.urlAfterRedirects),mt.targetSnapshot);this.triggerEvent(qt)}),(0,Ge.w)(mt=>{let qt=!1;return(0,H.of)(mt).pipe(function Bo(E,w){return(0,Qt.z)(m=>{const{targetSnapshot:T,guards:{canActivateChecks:P}}=m;if(!P.length)return(0,H.of)(m);let K=0;return(0,k.D)(P).pipe((0,Dt.b)(he=>function va(E,w,m,T){const P=E.routeConfig,K=E._resolve;return void 0!==P?.title&&!mi(P)&&(K[On]=P.title),function la(E,w,m,T){const P=function Ta(E){return[...Object.keys(E),...Object.getOwnPropertySymbols(E)]}(E);if(0===P.length)return(0,H.of)({});const K={};return(0,k.D)(P).pipe((0,Qt.z)(he=>function Sa(E,w,m,T){const P=hs(w)??T,K=fs(E,P);return Ee(K.resolve?K.resolve(w,m):P.runInContext(()=>K(w,m)))}(E[he],w,m,T).pipe((0,ln.P)(),(0,un.b)(_e=>{K[he]=_e}))),It(1),function Jn(E){return(0,je.U)(()=>E)}(K),pn(he=>Wi(he)?xt.E:Je(he)))}(K,E,w,T).pipe((0,je.U)(he=>(E._resolvedData=he,E.data=Ws(E,m).resolve,P&&mi(P)&&(E.data[On]=P.title),null)))}(he.route,T,E,w)),(0,un.b)(()=>K++),It(1),(0,Qt.z)(he=>K===P.length?(0,H.of)(m):xt.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,un.b)({next:()=>qt=!0,complete:()=>{qt||(this.restoreHistory(mt),this.cancelNavigationTransition(mt,"",2))}}))}),(0,un.b)(mt=>{const qt=new Qi(mt.id,this.serializeUrl(mt.extractedUrl),this.serializeUrl(mt.urlAfterRedirects),mt.targetSnapshot);this.triggerEvent(qt)}))}),_a(_e=>{const mt=qt=>{const Kn=[];qt.routeConfig?.loadComponent&&!qt.routeConfig._loadedComponent&&Kn.push(this.configLoader.loadComponent(qt.routeConfig).pipe((0,un.b)(Et=>{qt.component=Et}),(0,je.U)(()=>{})));for(const Et of qt.children)Kn.push(...mt(Et));return Kn};return tt(mt(_e.targetSnapshot.root)).pipe((0,ze.d)(),(0,Ct.q)(1))}),_a(()=>this.afterPreactivation()),(0,je.U)(_e=>{const mt=function Bi(E,w,m){const T=Gr(E,w._root,m?m._root:void 0);return new Cs(T,w)}(this.routeReuseStrategy,_e.targetSnapshot,_e.currentRouterState);return P={..._e,targetRouterState:mt}}),(0,un.b)(_e=>{this.currentUrlTree=_e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(_e.urlAfterRedirects,_e.rawUrl),this.routerState=_e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(_e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,_e),this.browserUrlTree=_e.urlAfterRedirects)}),((E,w,m)=>(0,je.U)(T=>(new Lt(w,T.targetRouterState,T.currentRouterState,m).activate(E),T)))(this.rootContexts,this.routeReuseStrategy,_e=>this.triggerEvent(_e)),(0,un.b)({next(){K=!0},complete(){K=!0}}),Bn(()=>{K||he||this.cancelNavigationTransition(P,"",1),this.currentNavigation?.id===P.id&&(this.currentNavigation=null)}),pn(_e=>{if(he=!0,Zo(_e)){Co(_e)||(this.navigated=!0,this.restoreHistory(P,!0));const mt=new Yi(P.id,this.serializeUrl(P.extractedUrl),_e.message,_e.cancellationCode);if(T.next(mt),Co(_e)){const qt=this.urlHandlingStrategy.merge(_e.url,this.rawUrlTree),Kn={skipLocationChange:P.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||La(P.source)};this.scheduleNavigation(qt,"imperative",null,Kn,{resolve:P.resolve,reject:P.reject,promise:P.promise})}else P.resolve(!1)}else{this.restoreHistory(P,!0);const mt=new ei(P.id,this.serializeUrl(P.extractedUrl),_e,P.targetSnapshot??void 0);T.next(mt);try{P.resolve(this.errorHandler(_e))}catch(qt){P.reject(qt)}}return xt.E}))}))}resetRootComponentType(m){this.rootComponentType=m,this.routerState.root.component=this.rootComponentType}setTransition(m){this.transitions.next({...this.transitions.value,...m})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(m=>{const T="popstate"===m.type?"popstate":"hashchange";"popstate"===T&&setTimeout(()=>{const P={replaceUrl:!0},K=m.state?.navigationId?m.state:null;if(K){const _e={...K};delete _e.navigationId,delete _e.\u0275routerPageId,0!==Object.keys(_e).length&&(P.state=_e)}const he=this.parseUrl(m.url);this.scheduleNavigation(he,T,K,P)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(m){this.events.next(m)}resetConfig(m){this.config=m.map(Ei),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(m,T={}){const{relativeTo:P,queryParams:K,fragment:he,queryParamsHandling:_e,preserveFragment:mt}=T,qt=P||this.routerState.root,Kn=mt?this.currentUrlTree.fragment:he;let Et=null;switch(_e){case"merge":Et={...this.currentUrlTree.queryParams,...K};break;case"preserve":Et=this.currentUrlTree.queryParams;break;default:Et=K||null}return null!==Et&&(Et=this.removeEmptyProps(Et)),Xr(qt,this.currentUrlTree,m,Et,Kn??null)}navigateByUrl(m,T={skipLocationChange:!1}){const P=Vi(m)?m:this.parseUrl(m),K=this.urlHandlingStrategy.merge(P,this.rawUrlTree);return this.scheduleNavigation(K,"imperative",null,T)}navigate(m,T={skipLocationChange:!1}){return function Ho(E){for(let w=0;w<E.length;w++){if(null==E[w])throw new c.vHH(4008,false)}}(m),this.navigateByUrl(this.createUrlTree(m,T),T)}serializeUrl(m){return this.urlSerializer.serialize(m)}parseUrl(m){let T;try{T=this.urlSerializer.parse(m)}catch(P){T=this.malformedUriErrorHandler(P,this.urlSerializer,m)}return T}isActive(m,T){let P;if(P=!0===T?{..._o}:!1===T?{...ca}:T,Vi(m))return Cn(this.currentUrlTree,m,P);const K=this.parseUrl(m);return Cn(this.currentUrlTree,K,P)}removeEmptyProps(m){return Object.keys(m).reduce((T,P)=>{const K=m[P];return null!=K&&(T[P]=K),T},{})}processNavigations(){this.navigations.subscribe(m=>{this.navigated=!0,this.lastSuccessfulId=m.id,this.currentPageId=m.targetPageId,this.events.next(new to(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),m.resolve(!0)},m=>{this.console.warn(`Unhandled Navigation Error: ${m}`)})}scheduleNavigation(m,T,P,K,he){if(this.disposed)return Promise.resolve(!1);let _e,mt,qt;he?(_e=he.resolve,mt=he.reject,qt=he.promise):qt=new Promise((Xt,Dn)=>{_e=Xt,mt=Dn});const Kn=++this.navigationId;let Et;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(P=this.location.getState()),Et=P&&P.\u0275routerPageId?P.\u0275routerPageId:K.replaceUrl||K.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):Et=0,this.setTransition({id:Kn,targetPageId:Et,source:T,restoredState:P,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:m,extras:K,resolve:_e,reject:mt,promise:qt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),qt.catch(Xt=>Promise.reject(Xt))}setBrowserUrl(m,T){const P=this.urlSerializer.serialize(m),K={...T.extras.state,...this.generateNgRouterState(T.id,T.targetPageId)};this.location.isCurrentPathEqualTo(P)||T.extras.replaceUrl?this.location.replaceState(P,"",K):this.location.go(P,"",K)}restoreHistory(m,T=!1){if("computed"===this.canceledNavigationResolution){const P=this.currentPageId-m.targetPageId;"popstate"!==m.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===P?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===P&&(this.resetState(m),this.browserUrlTree=m.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(P)}else"replace"===this.canceledNavigationResolution&&(T&&this.resetState(m),this.resetUrlToCurrentUrlTree())}resetState(m){this.routerState=m.currentRouterState,this.currentUrlTree=m.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,m.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(m,T,P){const K=new Yi(m.id,this.serializeUrl(m.extractedUrl),T,P);this.triggerEvent(K),m.resolve(!1)}generateNgRouterState(m,T){return"computed"===this.canceledNavigationResolution?{navigationId:m,\u0275routerPageId:T}:{navigationId:m}}}return E.\u0275fac=function(m){c.$Z()},E.\u0275prov=c.Yz7({token:E,factory:function(){return us()},providedIn:"root"}),E})();function La(E){return"imperative"!==E}let gs=(()=>{class E{constructor(m,T,P,K,he){this.router=m,this.route=T,this.tabIndexAttribute=P,this.renderer=K,this.el=he,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new be.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(m){this._preserveFragment=(0,c.D6c)(m)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(m){this._skipLocationChange=(0,c.D6c)(m)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(m){this._replaceUrl=(0,c.D6c)(m)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(m){if(null!=this.tabIndexAttribute)return;const T=this.renderer,P=this.el.nativeElement;null!==m?T.setAttribute(P,"tabindex",m):T.removeAttribute(P,"tabindex")}ngOnChanges(m){this.onChanges.next(this)}set routerLink(m){null!=m?(this.commands=Array.isArray(m)?m:[m],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return E.\u0275fac=function(m){return new(m||E)(c.Y36(yi),c.Y36(er),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq))},E.\u0275dir=c.lG2({type:E,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(m,T){1&m&&c.NdJ("click",function(){return T.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[c.TTD]}),E})();class $i{}let ms=(()=>{class E{constructor(m,T,P,K,he){this.router=m,this.injector=P,this.preloadingStrategy=K,this.loader=he}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ft.h)(m=>m instanceof to),(0,Dt.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(m,T){const P=[];for(const K of T){K.providers&&!K._injector&&(K._injector=(0,c.MMx)(K.providers,m,`Route: ${K.path}`));const he=K._injector??m,_e=K._loadedInjector??he;K.loadChildren&&!K._loadedRoutes&&void 0===K.canLoad||K.loadComponent&&!K._loadedComponent?P.push(this.preloadConfig(he,K)):(K.children||K._loadedRoutes)&&P.push(this.processRoutes(_e,K.children??K._loadedRoutes))}return(0,k.D)(P).pipe((0,dr.J)())}preloadConfig(m,T){return this.preloadingStrategy.preload(T,()=>{let P;P=T.loadChildren&&void 0===T.canLoad?this.loader.loadChildren(m,T):(0,H.of)(null);const K=P.pipe((0,Qt.z)(he=>null===he?(0,H.of)(void 0):(T._loadedRoutes=he.routes,T._loadedInjector=he.injector,this.processRoutes(he.injector??m,he.routes))));if(T.loadComponent&&!T._loadedComponent){const he=this.loader.loadComponent(T);return(0,k.D)([K,he]).pipe((0,dr.J)())}return K})}}return E.\u0275fac=function(m){return new(m||E)(c.LFG(yi),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG($i),c.LFG(Qs))},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const ys=new c.OlP("");let ao=(()=>{class E{constructor(m,T,P={}){this.router=m,this.viewportScroller=T,this.options=P,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},P.scrollPositionRestoration=P.scrollPositionRestoration||"disabled",P.anchorScrolling=P.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(m=>{m instanceof ns?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=m.navigationTrigger,this.restoredId=m.restoredState?m.restoredState.navigationId:0):m instanceof to&&(this.lastId=m.id,this.scheduleScrollEvent(m,this.router.parseUrl(m.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(m=>{m instanceof sa&&(m.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(m.position):m.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(m.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(m,T){this.router.triggerEvent(new sa(m,"popstate"===this.lastSource?this.store[this.restoredId]:null,T))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return E.\u0275fac=function(m){c.$Z()},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac}),E})();function Va(E,w){return{\u0275kind:E,\u0275providers:w}}function vs(E){return[{provide:Jt,multi:!0,useValue:E}]}function Oo(){const E=(0,c.f3M)(c.zs3);return w=>{const m=E.get(c.z2F);if(w!==m.components[0])return;const T=E.get(yi),P=E.get(xu);1===E.get(j)&&T.initialNavigation(),E.get(W,null,c.XFs.Optional)?.setUpPreloading(),E.get(ys,null,c.XFs.Optional)?.init(),T.resetRootComponentType(m.componentTypes[0]),P.next(),P.complete()}}const xu=new c.OlP("",{factory:()=>new be.x}),j=new c.OlP("",{providedIn:"root",factory:()=>1});const W=new c.OlP("");function te(E){return Va(0,[{provide:W,useExisting:ms},{provide:$i,useExisting:E}])}const bt=new c.OlP("ROUTER_FORROOT_GUARD"),an=[ke.Ye,{provide:ee,useClass:Ue},{provide:yi,useFactory:us},ni,{provide:er,useFactory:function Wa(E){return E.routerState.root},deps:[yi]},Qs];function Zt(){return new c.PXZ("Router",yi)}let zn=(()=>{class E{constructor(m){}static forRoot(m,T){return{ngModule:E,providers:[an,[],vs(m),{provide:bt,useFactory:Tr,deps:[[yi,new c.FiY,new c.tp0]]},{provide:Jo,useValue:T||{}},T?.useHash?{provide:ke.S$,useClass:ke.Do}:{provide:ke.S$,useClass:ke.b0},{provide:ys,useFactory:()=>{const E=(0,c.f3M)(yi),w=(0,c.f3M)(ke.EM),m=(0,c.f3M)(Jo);return m.scrollOffset&&w.setOffset(m.scrollOffset),new ao(E,w,m)}},T?.preloadingStrategy?te(T.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:Zt},T?.initialNavigation?Sr(T):[],[{provide:hi,useFactory:Oo},{provide:c.tb,multi:!0,useExisting:hi}]]}}static forChild(m){return{ngModule:E,providers:[vs(m)]}}}return E.\u0275fac=function(m){return new(m||E)(c.LFG(bt,8))},E.\u0275mod=c.oAB({type:E}),E.\u0275inj=c.cJS({imports:[no]}),E})();function Tr(E){return"guarded"}function Sr(E){return["disabled"===E.initialNavigation?Va(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const w=(0,c.f3M)(yi);return()=>{w.setUpLocationChangeListener()}}},{provide:j,useValue:2}]).\u0275providers:[],"enabledBlocking"===E.initialNavigation?Va(2,[{provide:j,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:w=>{const m=w.get(ke.V_,Promise.resolve());let T=!1;return()=>m.then(()=>new Promise(K=>{const he=w.get(yi),_e=w.get(xu);(function P(K){w.get(yi).events.pipe((0,Ft.h)(_e=>_e instanceof to||_e instanceof Yi||_e instanceof ei),(0,je.U)(_e=>_e instanceof to||_e instanceof Yi&&(0===_e.code||1===_e.code)&&null),(0,Ft.h)(_e=>null!==_e),(0,Ct.q)(1)).subscribe(()=>{K()})})(()=>{K(!0),T=!0}),he.afterPreactivation=()=>(K(!0),T||_e.closed?(0,H.of)(void 0):_e),he.initialNavigation()}))}}]).\u0275providers:[]]}const hi=new c.OlP("")},3942:(nn,it,V)=>{V.d(it,{Z:()=>tt});var c=V(2090),k=V(4859),H=V(9681),be=V(1877);class me{constructor(Xe,Ye){this._delegate=Xe,this.firebase=Ye,(0,H._addComponent)(Xe,new k.wA("app-compat",()=>this,"PUBLIC")),this.container=Xe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Xe){this._delegate.automaticDataCollectionEnabled=Xe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Xe=>{this._delegate.checkDestroyed(),Xe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,H.deleteApp)(this._delegate)))}_getService(Xe,Ye=H._DEFAULT_ENTRY_NAME){var St;this._delegate.checkDestroyed();const At=this._delegate.container.getProvider(Xe);return!At.isInitialized()&&"EXPLICIT"===(null===(St=At.getComponent())||void 0===St?void 0:St.instantiationMode)&&At.initialize(),At.getImmediate({identifier:Ye})}_removeServiceInstance(Xe,Ye=H._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Xe).clearInstance(Ye)}_addComponent(Xe){(0,H._addComponent)(this._delegate,Xe)}_addOrOverwriteComponent(Xe){(0,H._addOrOverwriteComponent)(this._delegate,Xe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const xe=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),re=function We(){const Ht=function ce(Ht){const Xe={},Ye={__esModule:!0,initializeApp:function ae(Pe,He={}){const Qe=H.initializeApp(Pe,He);if((0,c.r3)(Xe,Qe.name))return Xe[Qe.name];const Se=new Ht(Qe,Ye);return Xe[Qe.name]=Se,Se},app:At,registerVersion:H.registerVersion,setLogLevel:H.setLogLevel,onLog:H.onLog,apps:null,SDK_VERSION:H.SDK_VERSION,INTERNAL:{registerComponent:function Je(Pe){const He=Pe.name,Qe=He.replace("-compat","");if(H._registerComponent(Pe)&&"PUBLIC"===Pe.type){const Se=(ke=At())=>{if("function"!=typeof ke[Qe])throw xe.create("invalid-app-argument",{appName:He});return ke[Qe]()};void 0!==Pe.serviceProps&&(0,c.ZB)(Se,Pe.serviceProps),Ye[Qe]=Se,Ht.prototype[Qe]=function(...ke){return this._getService.bind(this,He).apply(this,Pe.multipleInstances?ke:[])}}return"PUBLIC"===Pe.type?Ye[Qe]:null},removeApp:function St(Pe){delete Xe[Pe]},useAsService:function xt(Pe,He){return"serverAuth"===He?null:He},modularAPIs:H}};function At(Pe){if(!(0,c.r3)(Xe,Pe=Pe||H._DEFAULT_ENTRY_NAME))throw xe.create("no-app",{appName:Pe});return Xe[Pe]}return Ye.default=Ye,Object.defineProperty(Ye,"apps",{get:function Ne(){return Object.keys(Xe).map(Pe=>Xe[Pe])}}),At.App=Ht,Ye}(me);return Ht.INTERNAL=Object.assign(Object.assign({},Ht.INTERNAL),{createFirebaseNamespace:We,extendNamespace:function Xe(Ye){(0,c.ZB)(Ht,Ye)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),Ht}(),fe=new be.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){fe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ht=self.firebase.SDK_VERSION;Ht&&Ht.indexOf("LITE")>=0&&fe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const tt=re;!function ft(Ht){(0,H.registerVersion)("@firebase/app-compat","0.1.34",Ht)}()},9681:(nn,it,V)=>{V.r(it),V.d(it,{FirebaseError:()=>be.ZR,SDK_VERSION:()=>hr,_DEFAULT_ENTRY_NAME:()=>ln,_addComponent:()=>rt,_addOrOverwriteComponent:()=>It,_apps:()=>un,_clearComponents:()=>vn,_components:()=>pn,_getProvider:()=>ze,_registerComponent:()=>Me,_removeServiceInstance:()=>Kt,deleteApp:()=>or,getApp:()=>On,getApps:()=>Nr,initializeApp:()=>en,onLog:()=>bn,registerVersion:()=>Pn,setLogLevel:()=>Zn});var c=V(5861),k=V(4859),H=V(1877),be=V(2090),me=V(8766);class Fe{constructor(Te){this.container=Te}getPlatformInfoString(){return this.container.getProviders().map(X=>{if(function xe(ge){return"VERSION"===ge.getComponent()?.type}(X)){const $=X.getImmediate();return`${$.library}/${$.version}`}return null}).filter(X=>X).join(" ")}}const ce="@firebase/app",re=new H.Yd("@firebase/app"),ln="[DEFAULT]",Dt={[ce]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},un=new Map,pn=new Map;function rt(ge,Te){try{ge.container.addComponent(Te)}catch(X){re.debug(`Component ${Te.name} failed to register with FirebaseApp ${ge.name}`,X)}}function It(ge,Te){ge.container.addOrOverwriteComponent(Te)}function Me(ge){const Te=ge.name;if(pn.has(Te))return re.debug(`There were multiple attempts to register component ${Te}.`),!1;pn.set(Te,ge);for(const X of un.values())rt(X,ge);return!0}function ze(ge,Te){const X=ge.container.getProvider("heartbeat").getImmediate({optional:!0});return X&&X.triggerHeartbeat(),ge.container.getProvider(Te)}function Kt(ge,Te,X=ln){ze(ge,Te).clearInstance(X)}function vn(){pn.clear()}const Bn=new be.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class dr{constructor(Te,X,$){this._isDeleted=!1,this._options=Object.assign({},Te),this._config=Object.assign({},X),this._name=X.name,this._automaticDataCollectionEnabled=X.automaticDataCollectionEnabled,this._container=$,this.container.addComponent(new k.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Te){this.checkDestroyed(),this._automaticDataCollectionEnabled=Te}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Te){this._isDeleted=Te}checkDestroyed(){if(this.isDeleted)throw Bn.create("app-deleted",{appName:this._name})}}const hr="9.10.0";function en(ge,Te={}){"object"!=typeof Te&&(Te={name:Te});const X=Object.assign({name:ln,automaticDataCollectionEnabled:!1},Te),$=X.name;if("string"!=typeof $||!$)throw Bn.create("bad-app-name",{appName:String($)});const ee=un.get($);if(ee){if((0,be.vZ)(ge,ee.options)&&(0,be.vZ)(X,ee.config))return ee;throw Bn.create("duplicate-app",{appName:$})}const Ue=new k.H0($);for(const cn of pn.values())Ue.addComponent(cn);const Mt=new dr(ge,X,Ue);return un.set($,Mt),Mt}function On(ge=ln){const Te=un.get(ge);if(!Te)throw Bn.create("no-app",{appName:ge});return Te}function Nr(){return Array.from(un.values())}function or(ge){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,c.Z)(function*(ge){const Te=ge.name;un.has(Te)&&(un.delete(Te),yield Promise.all(ge.container.getProviders().map(X=>X.delete())),ge.isDeleted=!0)})).apply(this,arguments)}function Pn(ge,Te,X){var $;let ee=null!==($=Dt[ge])&&void 0!==$?$:ge;X&&(ee+=`-${X}`);const Ue=ee.match(/\s|\//),Mt=Te.match(/\s|\//);if(Ue||Mt){const cn=[`Unable to register library "${ee}" with version "${Te}":`];return Ue&&cn.push(`library name "${ee}" contains illegal characters (whitespace or "/")`),Ue&&Mt&&cn.push("and"),Mt&&cn.push(`version name "${Te}" contains illegal characters (whitespace or "/")`),void re.warn(cn.join(" "))}Me(new k.wA(`${ee}-version`,()=>({library:ee,version:Te}),"VERSION"))}function bn(ge,Te){if(null!==ge&&"function"!=typeof ge)throw Bn.create("invalid-log-argument");(0,H.Am)(ge,Te)}function Zn(ge){(0,H.Ub)(ge)}const Cr="firebase-heartbeat-store";let ot=null;function Ee(){return ot||(ot=(0,me.X3)("firebase-heartbeat-database",1,{upgrade:(ge,Te)=>{0===Te&&ge.createObjectStore(Cr)}}).catch(ge=>{throw Bn.create("idb-open",{originalErrorMessage:ge.message})})),ot}function lt(){return(lt=(0,c.Z)(function*(ge){var Te;try{return(yield Ee()).transaction(Cr).objectStore(Cr).get(Cn(ge))}catch(X){if(X instanceof be.ZR)re.warn(X.message);else{const $=Bn.create("idb-get",{originalErrorMessage:null===(Te=X)||void 0===Te?void 0:Te.message});re.warn($.message)}}})).apply(this,arguments)}function dt(ge,Te){return fn.apply(this,arguments)}function fn(){return(fn=(0,c.Z)(function*(ge,Te){var X;try{const ee=(yield Ee()).transaction(Cr,"readwrite");return yield ee.objectStore(Cr).put(Te,Cn(ge)),ee.done}catch($){if($ instanceof be.ZR)re.warn($.message);else{const ee=Bn.create("idb-set",{originalErrorMessage:null===(X=$)||void 0===X?void 0:X.message});re.warn(ee.message)}}})).apply(this,arguments)}function Cn(ge){return`${ge.name}!${ge.options.appId}`}class ar{constructor(Te){this.container=Te,this._heartbeatsCache=null;const X=this.container.getProvider("app").getImmediate();this._storage=new Sn(X),this._heartbeatsCachePromise=this._storage.read().then($=>(this._heartbeatsCache=$,$))}triggerHeartbeat(){var Te=this;return(0,c.Z)(function*(){const $=Te.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ee=Tn();if(null===Te._heartbeatsCache&&(Te._heartbeatsCache=yield Te._heartbeatsCachePromise),Te._heartbeatsCache.lastSentHeartbeatDate!==ee&&!Te._heartbeatsCache.heartbeats.some(Ue=>Ue.date===ee))return Te._heartbeatsCache.heartbeats.push({date:ee,agent:$}),Te._heartbeatsCache.heartbeats=Te._heartbeatsCache.heartbeats.filter(Ue=>{const Mt=new Date(Ue.date).valueOf();return Date.now()-Mt<=2592e6}),Te._storage.overwrite(Te._heartbeatsCache)})()}getHeartbeatsHeader(){var Te=this;return(0,c.Z)(function*(){if(null===Te._heartbeatsCache&&(yield Te._heartbeatsCachePromise),null===Te._heartbeatsCache||0===Te._heartbeatsCache.heartbeats.length)return"";const X=Tn(),{heartbeatsToSend:$,unsentEntries:ee}=function kr(ge,Te=1024){const X=[];let $=ge.slice();for(const ee of ge){const Ue=X.find(Mt=>Mt.agent===ee.agent);if(Ue){if(Ue.dates.push(ee.date),De(X)>Te){Ue.dates.pop();break}}else if(X.push({agent:ee.agent,dates:[ee.date]}),De(X)>Te){X.pop();break}$=$.slice(1)}return{heartbeatsToSend:X,unsentEntries:$}}(Te._heartbeatsCache.heartbeats),Ue=(0,be.L)(JSON.stringify({version:2,heartbeats:$}));return Te._heartbeatsCache.lastSentHeartbeatDate=X,ee.length>0?(Te._heartbeatsCache.heartbeats=ee,yield Te._storage.overwrite(Te._heartbeatsCache)):(Te._heartbeatsCache.heartbeats=[],Te._storage.overwrite(Te._heartbeatsCache)),Ue})()}}function Tn(){return(new Date).toISOString().substring(0,10)}class Sn{constructor(Te){this.app=Te,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,be.hl)()&&(0,be.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Te=this;return(0,c.Z)(function*(){return(yield Te._canUseIndexedDBPromise)&&(yield function pe(ge){return lt.apply(this,arguments)}(Te.app))||{heartbeats:[]}})()}overwrite(Te){var X=this;return(0,c.Z)(function*(){var $;if(yield X._canUseIndexedDBPromise){const Ue=yield X.read();return dt(X.app,{lastSentHeartbeatDate:null!==($=Te.lastSentHeartbeatDate)&&void 0!==$?$:Ue.lastSentHeartbeatDate,heartbeats:Te.heartbeats})}})()}add(Te){var X=this;return(0,c.Z)(function*(){var $;if(yield X._canUseIndexedDBPromise){const Ue=yield X.read();return dt(X.app,{lastSentHeartbeatDate:null!==($=Te.lastSentHeartbeatDate)&&void 0!==$?$:Ue.lastSentHeartbeatDate,heartbeats:[...Ue.heartbeats,...Te.heartbeats]})}})()}}function De(ge){return(0,be.L)(JSON.stringify({version:2,heartbeats:ge})).length}!function oe(ge){Me(new k.wA("platform-logger",Te=>new Fe(Te),"PRIVATE")),Me(new k.wA("heartbeat",Te=>new ar(Te),"PRIVATE")),Pn(ce,"0.7.33",ge),Pn(ce,"0.7.33","esm2017"),Pn("fire-js","")}("")},4859:(nn,it,V)=>{V.d(it,{H0:()=>ce,wA:()=>H});var c=V(5861),k=V(2090);class H{constructor(re,fe,Oe){this.name=re,this.instanceFactory=fe,this.type=Oe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(re){return this.instantiationMode=re,this}setMultipleInstances(re){return this.multipleInstances=re,this}setServiceProps(re){return this.serviceProps=re,this}setInstanceCreatedCallback(re){return this.onInstanceCreated=re,this}}const be="[DEFAULT]";class me{constructor(re,fe){this.name=re,this.container=fe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(re){const fe=this.normalizeInstanceIdentifier(re);if(!this.instancesDeferred.has(fe)){const Oe=new k.BH;if(this.instancesDeferred.set(fe,Oe),this.isInitialized(fe)||this.shouldAutoInitialize())try{const yt=this.getOrInitializeService({instanceIdentifier:fe});yt&&Oe.resolve(yt)}catch{}}return this.instancesDeferred.get(fe).promise}getImmediate(re){var fe;const Oe=this.normalizeInstanceIdentifier(re?.identifier),yt=null!==(fe=re?.optional)&&void 0!==fe&&fe;if(!this.isInitialized(Oe)&&!this.shouldAutoInitialize()){if(yt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Oe})}catch(ft){if(yt)return null;throw ft}}getComponent(){return this.component}setComponent(re){if(re.name!==this.name)throw Error(`Mismatching Component ${re.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=re,this.shouldAutoInitialize()){if(function xe(We){return"EAGER"===We.instantiationMode}(re))try{this.getOrInitializeService({instanceIdentifier:be})}catch{}for(const[fe,Oe]of this.instancesDeferred.entries()){const yt=this.normalizeInstanceIdentifier(fe);try{const ft=this.getOrInitializeService({instanceIdentifier:yt});Oe.resolve(ft)}catch{}}}}clearInstance(re=be){this.instancesDeferred.delete(re),this.instancesOptions.delete(re),this.instances.delete(re)}delete(){var re=this;return(0,c.Z)(function*(){const fe=Array.from(re.instances.values());yield Promise.all([...fe.filter(Oe=>"INTERNAL"in Oe).map(Oe=>Oe.INTERNAL.delete()),...fe.filter(Oe=>"_delete"in Oe).map(Oe=>Oe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(re=be){return this.instances.has(re)}getOptions(re=be){return this.instancesOptions.get(re)||{}}initialize(re={}){const{options:fe={}}=re,Oe=this.normalizeInstanceIdentifier(re.instanceIdentifier);if(this.isInitialized(Oe))throw Error(`${this.name}(${Oe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const yt=this.getOrInitializeService({instanceIdentifier:Oe,options:fe});for(const[ft,tt]of this.instancesDeferred.entries())Oe===this.normalizeInstanceIdentifier(ft)&&tt.resolve(yt);return yt}onInit(re,fe){var Oe;const yt=this.normalizeInstanceIdentifier(fe),ft=null!==(Oe=this.onInitCallbacks.get(yt))&&void 0!==Oe?Oe:new Set;ft.add(re),this.onInitCallbacks.set(yt,ft);const tt=this.instances.get(yt);return tt&&re(tt,yt),()=>{ft.delete(re)}}invokeOnInitCallbacks(re,fe){const Oe=this.onInitCallbacks.get(fe);if(Oe)for(const yt of Oe)try{yt(re,fe)}catch{}}getOrInitializeService({instanceIdentifier:re,options:fe={}}){let Oe=this.instances.get(re);if(!Oe&&this.component&&(Oe=this.component.instanceFactory(this.container,{instanceIdentifier:(We=re,We===be?void 0:We),options:fe}),this.instances.set(re,Oe),this.instancesOptions.set(re,fe),this.invokeOnInitCallbacks(Oe,re),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,re,Oe)}catch{}var We;return Oe||null}normalizeInstanceIdentifier(re=be){return this.component?this.component.multipleInstances?re:be:re}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ce{constructor(re){this.name=re,this.providers=new Map}addComponent(re){const fe=this.getProvider(re.name);if(fe.isComponentSet())throw new Error(`Component ${re.name} has already been registered with ${this.name}`);fe.setComponent(re)}addOrOverwriteComponent(re){this.getProvider(re.name).isComponentSet()&&this.providers.delete(re.name),this.addComponent(re)}getProvider(re){if(this.providers.has(re))return this.providers.get(re);const fe=new me(re,this);return this.providers.set(re,fe),fe}getProviders(){return Array.from(this.providers.values())}}},1877:(nn,it,V)=>{V.d(it,{Am:()=>We,Ub:()=>ce,Yd:()=>xe,in:()=>k});const c=[];var k=(()=>{return(re=k||(k={}))[re.DEBUG=0]="DEBUG",re[re.VERBOSE=1]="VERBOSE",re[re.INFO=2]="INFO",re[re.WARN=3]="WARN",re[re.ERROR=4]="ERROR",re[re.SILENT=5]="SILENT",k;var re})();const H={debug:k.DEBUG,verbose:k.VERBOSE,info:k.INFO,warn:k.WARN,error:k.ERROR,silent:k.SILENT},be=k.INFO,me={[k.DEBUG]:"log",[k.VERBOSE]:"log",[k.INFO]:"info",[k.WARN]:"warn",[k.ERROR]:"error"},Fe=(re,fe,...Oe)=>{if(fe<re.logLevel)return;const yt=(new Date).toISOString(),ft=me[fe];if(!ft)throw new Error(`Attempted to log a message with an invalid logType (value: ${fe})`);console[ft](`[${yt}]  ${re.name}:`,...Oe)};class xe{constructor(fe){this.name=fe,this._logLevel=be,this._logHandler=Fe,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(fe){if(!(fe in k))throw new TypeError(`Invalid value "${fe}" assigned to \`logLevel\``);this._logLevel=fe}setLogLevel(fe){this._logLevel="string"==typeof fe?H[fe]:fe}get logHandler(){return this._logHandler}set logHandler(fe){if("function"!=typeof fe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=fe}get userLogHandler(){return this._userLogHandler}set userLogHandler(fe){this._userLogHandler=fe}debug(...fe){this._userLogHandler&&this._userLogHandler(this,k.DEBUG,...fe),this._logHandler(this,k.DEBUG,...fe)}log(...fe){this._userLogHandler&&this._userLogHandler(this,k.VERBOSE,...fe),this._logHandler(this,k.VERBOSE,...fe)}info(...fe){this._userLogHandler&&this._userLogHandler(this,k.INFO,...fe),this._logHandler(this,k.INFO,...fe)}warn(...fe){this._userLogHandler&&this._userLogHandler(this,k.WARN,...fe),this._logHandler(this,k.WARN,...fe)}error(...fe){this._userLogHandler&&this._userLogHandler(this,k.ERROR,...fe),this._logHandler(this,k.ERROR,...fe)}}function ce(re){c.forEach(fe=>{fe.setLogLevel(re)})}function We(re,fe){for(const Oe of c){let yt=null;fe&&fe.level&&(yt=H[fe.level]),Oe.userLogHandler=null===re?null:(ft,tt,...Ht)=>{const Xe=Ht.map(Ye=>{if(null==Ye)return null;if("string"==typeof Ye)return Ye;if("number"==typeof Ye||"boolean"==typeof Ye)return Ye.toString();if(Ye instanceof Error)return Ye.message;try{return JSON.stringify(Ye)}catch{return null}}).filter(Ye=>Ye).join(" ");tt>=(yt??ft.logLevel)&&re({level:k[tt].toLowerCase(),message:Xe,args:Ht,type:ft.name})}}}},8766:(nn,it,V)=>{V.d(it,{Lj:()=>ae,X3:()=>At});var c=V(5861);let H,be;const xe=new WeakMap,ce=new WeakMap,We=new WeakMap,re=new WeakMap,fe=new WeakMap;let ft={get(He,Qe,Se){if(He instanceof IDBTransaction){if("done"===Qe)return ce.get(He);if("objectStoreNames"===Qe)return He.objectStoreNames||We.get(He);if("store"===Qe)return Se.objectStoreNames[1]?void 0:Se.objectStore(Se.objectStoreNames[0])}return Ye(He[Qe])},set:(He,Qe,Se)=>(He[Qe]=Se,!0),has:(He,Qe)=>He instanceof IDBTransaction&&("done"===Qe||"store"===Qe)||Qe in He};function Xe(He){return"function"==typeof He?function Ht(He){return He!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Fe(){return be||(be=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(He)?function(...Qe){return He.apply(St(this),Qe),Ye(xe.get(this))}:function(...Qe){return Ye(He.apply(St(this),Qe))}:function(Qe,...Se){const ke=He.call(St(this),Qe,...Se);return We.set(ke,Qe.sort?Qe.sort():[Qe]),Ye(ke)}}(He):(He instanceof IDBTransaction&&function yt(He){if(ce.has(He))return;const Qe=new Promise((Se,ke)=>{const je=()=>{He.removeEventListener("complete",Ge),He.removeEventListener("error",Ct),He.removeEventListener("abort",Ct)},Ge=()=>{Se(),je()},Ct=()=>{ke(He.error||new DOMException("AbortError","AbortError")),je()};He.addEventListener("complete",Ge),He.addEventListener("error",Ct),He.addEventListener("abort",Ct)});ce.set(He,Qe)}(He),((He,Qe)=>Qe.some(Se=>He instanceof Se))(He,function me(){return H||(H=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(He,ft):He)}function Ye(He){if(He instanceof IDBRequest)return function Oe(He){const Qe=new Promise((Se,ke)=>{const je=()=>{He.removeEventListener("success",Ge),He.removeEventListener("error",Ct)},Ge=()=>{Se(Ye(He.result)),je()},Ct=()=>{ke(He.error),je()};He.addEventListener("success",Ge),He.addEventListener("error",Ct)});return Qe.then(Se=>{Se instanceof IDBCursor&&xe.set(Se,He)}).catch(()=>{}),fe.set(Qe,He),Qe}(He);if(re.has(He))return re.get(He);const Qe=Xe(He);return Qe!==He&&(re.set(He,Qe),fe.set(Qe,He)),Qe}const St=He=>fe.get(He);function At(He,Qe,{blocked:Se,upgrade:ke,blocking:je,terminated:Ge}={}){const Ct=indexedDB.open(He,Qe),Ot=Ye(Ct);return ke&&Ct.addEventListener("upgradeneeded",Ft=>{ke(Ye(Ct.result),Ft.oldVersion,Ft.newVersion,Ye(Ct.transaction))}),Se&&Ct.addEventListener("blocked",()=>Se()),Ot.then(Ft=>{Ge&&Ft.addEventListener("close",()=>Ge()),je&&Ft.addEventListener("versionchange",()=>je())}).catch(()=>{}),Ot}function ae(He,{blocked:Qe}={}){const Se=indexedDB.deleteDatabase(He);return Qe&&Se.addEventListener("blocked",()=>Qe()),Ye(Se).then(()=>{})}const Ne=["get","getKey","getAll","getAllKeys","count"],Je=["put","add","delete","clear"],xt=new Map;function Pe(He,Qe){if(!(He instanceof IDBDatabase)||Qe in He||"string"!=typeof Qe)return;if(xt.get(Qe))return xt.get(Qe);const Se=Qe.replace(/FromIndex$/,""),ke=Qe!==Se,je=Je.includes(Se);if(!(Se in(ke?IDBIndex:IDBObjectStore).prototype)||!je&&!Ne.includes(Se))return;const Ge=function(){var Ct=(0,c.Z)(function*(Ot,...Ft){const Qt=this.transaction(Ot,je?"readwrite":"readonly");let ln=Qt.store;return ke&&(ln=ln.index(Ft.shift())),(yield Promise.all([ln[Se](...Ft),je&&Qt.done]))[0]});return function(Ft){return Ct.apply(this,arguments)}}();return xt.set(Qe,Ge),Ge}!function tt(He){ft=He(ft)}(He=>({...He,get:(Qe,Se,ke)=>Pe(Qe,Se)||He.get(Qe,Se,ke),has:(Qe,Se)=>!!Pe(Qe,Se)||He.has(Qe,Se)}))},7185:(nn,it,V)=>{V.d(it,{Rh:()=>Qt,_W:()=>Ct});var c=V(4650),k=V(7340),H=V(7579),be=V(6895),me=V(1481);const Fe=["toast-component",""];function xe(rt,It){if(1&rt){const Me=c.EpF();c.TgZ(0,"button",5),c.NdJ("click",function(){c.CHM(Me);const Kt=c.oxw();return c.KtG(Kt.remove())}),c.TgZ(1,"span",6),c._uU(2,"\xd7"),c.qZA()()}}function ce(rt,It){if(1&rt&&(c.ynx(0),c._uU(1),c.BQk()),2&rt){const Me=c.oxw(2);c.xp6(1),c.hij("[",Me.duplicatesCount+1,"]")}}function We(rt,It){if(1&rt&&(c.TgZ(0,"div"),c._uU(1),c.YNc(2,ce,2,1,"ng-container",4),c.qZA()),2&rt){const Me=c.oxw();c.Tol(Me.options.titleClass),c.uIk("aria-label",Me.title),c.xp6(1),c.hij(" ",Me.title," "),c.xp6(1),c.Q6J("ngIf",Me.duplicatesCount)}}function re(rt,It){if(1&rt&&c._UZ(0,"div",7),2&rt){const Me=c.oxw();c.Tol(Me.options.messageClass),c.Q6J("innerHTML",Me.message,c.oJD)}}function fe(rt,It){if(1&rt&&(c.TgZ(0,"div",8),c._uU(1),c.qZA()),2&rt){const Me=c.oxw();c.Tol(Me.options.messageClass),c.uIk("aria-label",Me.message),c.xp6(1),c.hij(" ",Me.message," ")}}function Oe(rt,It){if(1&rt&&(c.TgZ(0,"div"),c._UZ(1,"div",9),c.qZA()),2&rt){const Me=c.oxw();c.xp6(1),c.Udp("width",Me.width+"%")}}class ae{constructor(It,Me){this.component=It,this.injector=Me}attach(It,Me){return this._attachedHost=It,It.attach(this,Me)}detach(){const It=this._attachedHost;if(It)return this._attachedHost=void 0,It.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(It){this._attachedHost=It}}class Je{constructor(It,Me,ze,Kt,vn,Jn){this.toastId=It,this.config=Me,this.message=ze,this.title=Kt,this.toastType=vn,this.toastRef=Jn,this._onTap=new H.x,this._onAction=new H.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(It){this._onAction.next(It)}onAction(){return this._onAction.asObservable()}}const Pe=new c.OlP("ToastConfig");class He{constructor(It){this._overlayRef=It,this.duplicatesCount=0,this._afterClosed=new H.x,this._activate=new H.x,this._manualClose=new H.x,this._resetTimeout=new H.x,this._countDuplicate=new H.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(It,Me){It&&this._resetTimeout.next(),Me&&this._countDuplicate.next(++this.duplicatesCount)}}class Qe{constructor(It,Me){this._toastPackage=It,this._parentInjector=Me}get(It,Me,ze){return It===Je?this._toastPackage:this._parentInjector.get(It,Me,ze)}}class Se extends class Ne{attach(It,Me){return this._attachedPortal=It,this.attachComponentPortal(It,Me)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(It){this._disposeFn=It}}{constructor(It,Me,ze){super(),this._hostDomElement=It,this._componentFactoryResolver=Me,this._appRef=ze}attachComponentPortal(It,Me){const ze=this._componentFactoryResolver.resolveComponentFactory(It.component);let Kt;return Kt=ze.create(It.injector),this._appRef.attachView(Kt.hostView),this.setDisposeFn(()=>{this._appRef.detachView(Kt.hostView),Kt.destroy()}),Me?this._hostDomElement.insertBefore(this._getComponentRootNode(Kt),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(Kt)),Kt}_getComponentRootNode(It){return It.hostView.rootNodes[0]}}class ke{constructor(It){this._portalHost=It}attach(It,Me=!0){return this._portalHost.attach(It,Me)}detach(){return this._portalHost.detach()}}let je=(()=>{class rt{constructor(Me){this._document=Me}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Me=this._document.createElement("div");Me.classList.add("overlay-container"),Me.setAttribute("aria-live","polite"),this._document.body.appendChild(Me),this._containerElement=Me}}return rt.\u0275fac=function(Me){return new(Me||rt)(c.LFG(be.K0))},rt.\u0275prov=c.Yz7({token:rt,factory:rt.\u0275fac,providedIn:"root"}),rt})(),Ge=(()=>{class rt{constructor(Me,ze,Kt,vn){this._overlayContainer=Me,this._componentFactoryResolver=ze,this._appRef=Kt,this._document=vn,this._paneElements=new Map}create(Me,ze){return this._createOverlayRef(this.getPaneElement(Me,ze))}getPaneElement(Me="",ze){return this._paneElements.get(ze)||this._paneElements.set(ze,{}),this._paneElements.get(ze)[Me]||(this._paneElements.get(ze)[Me]=this._createPaneElement(Me,ze)),this._paneElements.get(ze)[Me]}_createPaneElement(Me,ze){const Kt=this._document.createElement("div");return Kt.id="toast-container",Kt.classList.add(Me),Kt.classList.add("toast-container"),ze?ze.getContainerElement().appendChild(Kt):this._overlayContainer.getContainerElement().appendChild(Kt),Kt}_createPortalHost(Me){return new Se(Me,this._componentFactoryResolver,this._appRef)}_createOverlayRef(Me){return new ke(this._createPortalHost(Me))}}return rt.\u0275fac=function(Me){return new(Me||rt)(c.LFG(je),c.LFG(c._Vd),c.LFG(c.z2F),c.LFG(be.K0))},rt.\u0275prov=c.Yz7({token:rt,factory:rt.\u0275fac,providedIn:"root"}),rt})(),Ct=(()=>{class rt{constructor(Me,ze,Kt,vn,Jn){this.overlay=ze,this._injector=Kt,this.sanitizer=vn,this.ngZone=Jn,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...Me.default,...Me.config},Me.config.iconClasses&&(this.toastrConfig.iconClasses={...Me.default.iconClasses,...Me.config.iconClasses})}show(Me,ze,Kt={},vn=""){return this._preBuildNotification(vn,Me,ze,this.applyConfig(Kt))}success(Me,ze,Kt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",Me,ze,this.applyConfig(Kt))}error(Me,ze,Kt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",Me,ze,this.applyConfig(Kt))}info(Me,ze,Kt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",Me,ze,this.applyConfig(Kt))}warning(Me,ze,Kt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",Me,ze,this.applyConfig(Kt))}clear(Me){for(const ze of this.toasts)if(void 0!==Me){if(ze.toastId===Me)return void ze.toastRef.manualClose()}else ze.toastRef.manualClose()}remove(Me){const ze=this._findToast(Me);if(!ze||(ze.activeToast.toastRef.close(),this.toasts.splice(ze.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const Kt=this.toasts[this.currentlyActive].toastRef;Kt.isInactive()||(this.currentlyActive=this.currentlyActive+1,Kt.activate())}return!0}findDuplicate(Me="",ze="",Kt,vn){const{includeTitleDuplicates:Jn}=this.toastrConfig;for(const Bn of this.toasts){const dr=Jn&&Bn.title===Me;if((!Jn||dr)&&Bn.message===ze)return Bn.toastRef.onDuplicate(Kt,vn),Bn}return null}applyConfig(Me={}){return{...this.toastrConfig,...Me}}_findToast(Me){for(let ze=0;ze<this.toasts.length;ze++)if(this.toasts[ze].toastId===Me)return{index:ze,activeToast:this.toasts[ze]};return null}_preBuildNotification(Me,ze,Kt,vn){return vn.onActivateTick?this.ngZone.run(()=>this._buildNotification(Me,ze,Kt,vn)):this._buildNotification(Me,ze,Kt,vn)}_buildNotification(Me,ze,Kt,vn){if(!vn.toastComponent)throw new Error("toastComponent required");const Jn=this.findDuplicate(Kt,ze,this.toastrConfig.resetTimeoutOnDuplicate&&vn.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&Kt||ze)&&this.toastrConfig.preventDuplicates&&null!==Jn)return Jn;this.previousToastMessage=ze;let Bn=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(Bn=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const dr=this.overlay.create(vn.positionClass,this.overlayContainer);this.index=this.index+1;let hr=ze;ze&&vn.enableHtml&&(hr=this.sanitizer.sanitize(c.q3G.HTML,ze));const en=new He(dr),On=new Je(this.index,vn,hr,Kt,Me,en),Nr=new Qe(On,this._injector),or=new ae(vn.toastComponent,Nr),Ut=dr.attach(or,this.toastrConfig.newestOnTop);en.componentInstance=Ut.instance;const Pn={toastId:this.index,title:Kt||"",message:ze||"",toastRef:en,onShown:en.afterActivate(),onHidden:en.afterClosed(),onTap:On.onTap(),onAction:On.onAction(),portal:Ut};return Bn||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{Pn.toastRef.activate()})),this.toasts.push(Pn),Pn}}return rt.\u0275fac=function(Me){return new(Me||rt)(c.LFG(Pe),c.LFG(Ge),c.LFG(c.zs3),c.LFG(me.H7),c.LFG(c.R0b))},rt.\u0275prov=c.Yz7({token:rt,factory:rt.\u0275fac,providedIn:"root"}),rt})();const Ft={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class rt{constructor(Me,ze,Kt){this.toastrService=Me,this.toastPackage=ze,this.ngZone=Kt,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=ze.message,this.title=ze.title,this.options=ze.config,this.originalTimeout=ze.config.timeOut,this.toastClasses=`${ze.toastType} ${ze.config.toastClass}`,this.sub=ze.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=ze.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=ze.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=ze.toastRef.countDuplicate().subscribe(vn=>{this.duplicatesCount=vn})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const Me=(new Date).getTime();this.width=(this.hideTime-Me)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(Me,ze){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(Me),ze)):this.timeout=setTimeout(()=>Me(),ze)}outsideInterval(Me,ze){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(Me),ze)):this.intervalId=setInterval(()=>Me(),ze)}runInsideAngular(Me){this.ngZone?this.ngZone.run(()=>Me()):Me()}}return rt.\u0275fac=function(Me){return new(Me||rt)(c.Y36(Ct),c.Y36(Je),c.Y36(c.R0b))},rt.\u0275cmp=c.Xpm({type:rt,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(Me,ze){1&Me&&c.NdJ("click",function(){return ze.tapToast()})("mouseenter",function(){return ze.stickAround()})("mouseleave",function(){return ze.delayedHideToast()}),2&Me&&(c.d8E("@flyInOut",ze.state),c.Tol(ze.toastClasses),c.Udp("display",ze.displayStyle))},attrs:Fe,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(Me,ze){1&Me&&(c.YNc(0,xe,3,0,"button",0),c.YNc(1,We,3,5,"div",1),c.YNc(2,re,1,3,"div",2),c.YNc(3,fe,2,4,"div",3),c.YNc(4,Oe,2,2,"div",4)),2&Me&&(c.Q6J("ngIf",ze.options.closeButton),c.xp6(1),c.Q6J("ngIf",ze.title),c.xp6(1),c.Q6J("ngIf",ze.message&&ze.options.enableHtml),c.xp6(1),c.Q6J("ngIf",ze.message&&!ze.options.enableHtml),c.xp6(1),c.Q6J("ngIf",ze.options.progressBar))},dependencies:[be.O5],encapsulation:2,data:{animation:[(0,k.X$)("flyInOut",[(0,k.SB)("inactive",(0,k.oB)({opacity:0})),(0,k.SB)("active",(0,k.oB)({opacity:1})),(0,k.SB)("removed",(0,k.oB)({opacity:0})),(0,k.eR)("inactive => active",(0,k.jt)("{{ easeTime }}ms {{ easing }}")),(0,k.eR)("active => removed",(0,k.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),rt})()};let Qt=(()=>{class rt{static forRoot(Me={}){return{ngModule:rt,providers:[{provide:Pe,useValue:{default:Ft,config:Me}}]}}}return rt.\u0275fac=function(Me){return new(Me||rt)},rt.\u0275mod=c.oAB({type:rt}),rt.\u0275inj=c.cJS({imports:[be.ez]}),rt})()},5861:(nn,it,V)=>{function c(H,be,me,Fe,xe,ce,We){try{var re=H[ce](We),fe=re.value}catch(Oe){return void me(Oe)}re.done?be(fe):Promise.resolve(fe).then(Fe,xe)}function k(H){return function(){var be=this,me=arguments;return new Promise(function(Fe,xe){var ce=H.apply(be,me);function We(fe){c(ce,Fe,xe,We,re,"next",fe)}function re(fe){c(ce,Fe,xe,We,re,"throw",fe)}We(void 0)})}}V.d(it,{Z:()=>k})}},nn=>{nn(nn.s=3991)}]);