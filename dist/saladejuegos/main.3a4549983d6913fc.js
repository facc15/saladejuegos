"use strict";(self.webpackChunksaladejuegos=self.webpackChunksaladejuegos||[]).push([[179],{7128:(Jt,tt,U)=>{U.d(tt,{nm:()=>Li});var c=U(5813),ve=(U(4650),U(3692),U(5867),U(5861)),Pe=U(9681),Me=U(4859),he=U(2090),Ge=U(1877);const se=new Map,fe={activated:!1,tokenObservers:[]},xe={initialized:!1,enabled:!1};function ft(He){return se.get(He)||fe}function ct(He,Fe){se.set(He,Fe)}function Je(){return xe}class Ae{constructor(Fe,Qe,Et,Rt,Qt){if(this.operation=Fe,this.retryPolicy=Qe,this.getWaitDuration=Et,this.lowerBound=Rt,this.upperBound=Qt,this.pending=null,this.nextErrorWaitInterval=Rt,Rt>Qt)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Fe){var Qe=this;return(0,ve.Z)(function*(){Qe.stop();try{Qe.pending=new he.BH,yield function Ke(He){return new Promise(Fe=>{setTimeout(Fe,He)})}(Qe.getNextRun(Fe)),Qe.pending.resolve(),yield Qe.pending.promise,Qe.pending=new he.BH,yield Qe.operation(),Qe.pending.resolve(),yield Qe.pending.promise,Qe.process(!0).catch(()=>{})}catch(Et){Qe.retryPolicy(Et)?Qe.process(!1).catch(()=>{}):Qe.stop()}})()}getNextRun(Fe){if(Fe)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Qe=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Qe}}}const Re=new he.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function st(He){if(!ft(He).activated)throw Re.create("use-before-activation",{appName:He.name})}function Be(He,Fe){return $e.apply(this,arguments)}function $e(){return($e=(0,ve.Z)(function*({url:He,body:Fe},Qe){var Et,Rt;const Qt={"Content-Type":"application/json"},Wn=Qe.getImmediate({optional:!0});if(Wn){const Jr=yield Wn.getHeartbeatsHeader();Jr&&(Qt["X-Firebase-Client"]=Jr)}const Ur={method:"POST",body:JSON.stringify(Fe),headers:Qt};let rr,sr;try{rr=yield fetch(He,Ur)}catch(Jr){throw Re.create("fetch-network-error",{originalErrorMessage:null===(Et=Jr)||void 0===Et?void 0:Et.message})}if(200!==rr.status)throw Re.create("fetch-status-error",{httpStatus:rr.status});try{sr=yield rr.json()}catch(Jr){throw Re.create("fetch-parse-error",{originalErrorMessage:null===(Rt=Jr)||void 0===Rt?void 0:Rt.message})}const ts=sr.ttl.match(/^([\d.]+)(s)$/);if(!ts||!ts[2]||isNaN(Number(ts[1])))throw Re.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${sr.ttl}`});const eo=1e3*Number(ts[1]),ns=Date.now();return{token:sr.token,expireTimeMillis:ns+eo,issuedAtTimeMillis:ns}})).apply(this,arguments)}function Ot(He,Fe){const{projectId:Qe,appId:Et,apiKey:Rt}=He.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${Qe}/apps/${Et}:exchangeDebugToken?key=${Rt}`,body:{debug_token:Fe}}}const _t="firebase-app-check-store";let ln=null;function Xe(){return ln||(ln=new Promise((He,Fe)=>{var Qe;try{const Et=indexedDB.open("firebase-app-check-database",1);Et.onsuccess=Rt=>{He(Rt.target.result)},Et.onerror=Rt=>{var Qt;Fe(Re.create("storage-open",{originalErrorMessage:null===(Qt=Rt.target.error)||void 0===Qt?void 0:Qt.message}))},Et.onupgradeneeded=Rt=>{0===Rt.oldVersion&&Rt.target.result.createObjectStore(_t,{keyPath:"compositeKey"})}}catch(Et){Fe(Re.create("storage-open",{originalErrorMessage:null===(Qe=Et)||void 0===Qe?void 0:Qe.message}))}}),ln)}function Yn(){return(Yn=(0,ve.Z)(function*(He,Fe){const Et=(yield Xe()).transaction(_t,"readwrite"),Qt=Et.objectStore(_t).put({compositeKey:He,value:Fe});return new Promise((Wn,Ur)=>{Qt.onsuccess=rr=>{Wn()},Et.onerror=rr=>{var sr;Ur(Re.create("storage-set",{originalErrorMessage:null===(sr=rr.target.error)||void 0===sr?void 0:sr.message}))}})})).apply(this,arguments)}const Xt=new Ge.Yd("@firebase/app-check");function dr(He,Fe){return(0,he.hl)()?function Se(He,Fe){return function mn(He,Fe){return Yn.apply(this,arguments)}(function gr(He){return`${He.options.appId}-${He.name}`}(He),Fe)}(He,Fe).catch(Qe=>{Xt.warn(`Failed to write token to IndexedDB. Error: ${Qe}`)}):Promise.resolve()}function wn(){return Je().enabled}function qn(){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,ve.Z)(function*(){const He=Je();if(He.enabled&&He.token)return He.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Ir={error:"UNKNOWN_ERROR"};function xn(He){return he.US.encodeString(JSON.stringify(He),!1)}function Bn(He){return on.apply(this,arguments)}function on(){return(on=(0,ve.Z)(function*(He,Fe=!1){const Qe=He.app;st(Qe);const Et=ft(Qe);let Qt,Rt=Et.token;if(!Rt){const rr=yield Et.cachedTokenPromise;rr&&En(rr)&&(Rt=rr)}if(!Fe&&Rt&&En(Rt))return{token:Rt.token};let Ur,Wn=!1;if(wn()){Et.exchangeTokenPromise||(Et.exchangeTokenPromise=Be(Ot(Qe,yield qn()),He.heartbeatServiceProvider).then(sr=>(Et.exchangeTokenPromise=void 0,sr)),Wn=!0);const rr=yield Et.exchangeTokenPromise;return yield dr(Qe,rr),ct(Qe,Object.assign(Object.assign({},Et),{token:rr})),{token:rr.token}}try{Et.exchangeTokenPromise||(Et.exchangeTokenPromise=Et.provider.getToken().then(rr=>(Et.exchangeTokenPromise=void 0,rr)),Wn=!0),Rt=yield Et.exchangeTokenPromise}catch(rr){"appCheck/throttled"===rr.code?Xt.warn(rr.message):Xt.error(rr),Qt=rr}return Rt?(Ur={token:Rt.token},ct(Qe,Object.assign(Object.assign({},Et),{token:Rt})),yield dr(Qe,Rt)):Ur=ii(Qt),Wn&&qr(Qe,Ur),Ur})).apply(this,arguments)}function bn(He,Fe){const Qe=ft(He),Et=Qe.tokenObservers.filter(Rt=>Rt.next!==Fe);0===Et.length&&Qe.tokenRefresher&&Qe.tokenRefresher.isRunning()&&Qe.tokenRefresher.stop(),ct(He,Object.assign(Object.assign({},Qe),{tokenObservers:Et}))}function Or(He){const{app:Fe}=He,Qe=ft(Fe);let Et=Qe.tokenRefresher;Et||(Et=function hr(He){const{app:Fe}=He;return new Ae((0,ve.Z)(function*(){let Et;if(Et=ft(Fe).token?yield Bn(He,!0):yield Bn(He),Et.error)throw Et.error}),()=>!0,()=>{const Qe=ft(Fe);if(Qe.token){let Et=Qe.token.issuedAtTimeMillis+.5*(Qe.token.expireTimeMillis-Qe.token.issuedAtTimeMillis)+3e5;return Et=Math.min(Et,Qe.token.expireTimeMillis-3e5),Math.max(0,Et-Date.now())}return 0},3e4,96e4)}(He),ct(Fe,Object.assign(Object.assign({},Qe),{tokenRefresher:Et}))),!Et.isRunning()&&Qe.isTokenAutoRefreshEnabled&&Et.start()}function qr(He,Fe){const Qe=ft(He).tokenObservers;for(const Et of Qe)try{"EXTERNAL"===Et.type&&null!=Fe.error?Et.error(Fe.error):Et.next(Fe)}catch{}}function En(He){return He.expireTimeMillis-Date.now()>0}function ii(He){return{token:xn(Ir),error:He}}class Mn{constructor(Fe,Qe){this.app=Fe,this.heartbeatServiceProvider=Qe}_delete(){const{tokenObservers:Fe}=ft(this.app);for(const Qe of Fe)bn(this.app,Qe.next);return Promise.resolve()}}const In="app-check-internal";!function Sr(){(0,Pe._registerComponent)(new Me.wA("app-check",He=>function pi(He,Fe){return new Mn(He,Fe)}(He.getProvider("app").getImmediate(),He.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((He,Fe,Qe)=>{He.getProvider(In).initialize()})),(0,Pe._registerComponent)(new Me.wA(In,He=>function Hn(He){return{getToken:Fe=>Bn(He,Fe),addTokenListener:Fe=>function cn(He,Fe,Qe,Et){const{app:Rt}=He,Qt=ft(Rt),Wn={next:Qe,error:Et,type:Fe};if(ct(Rt,Object.assign(Object.assign({},Qt),{tokenObservers:[...Qt.tokenObservers,Wn]})),Qt.token&&En(Qt.token)){const Ur=Qt.token;Promise.resolve().then(()=>{Qe({token:Ur.token}),Or(He)}).catch(()=>{})}Qt.cachedTokenPromise.then(()=>Or(He))}(He,"INTERNAL",Fe),removeTokenListener:Fe=>bn(He.app,Fe)}}(He.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Pe.registerVersion)("@firebase/app-check","0.5.12")}();class Li{constructor(){return(0,c.vb)("app-check")}}typeof window<"u"&&window},3692:(Jt,tt,U)=>{U.d(tt,{Ot:()=>H}),U(5867),U(4650);class H{constructor(oe){return oe}}},1205:(Jt,tt,U)=>{U.d(tt,{zQ:()=>wt,rT:()=>Te,f7:()=>Be,L6:()=>ze,_Q:()=>st,lh:()=>Oe,Qv:()=>Re,nw:()=>$e});var c=U(4650),F=U(7579),H=U(9646),we=U(9751),ve=U(8996),Pe=U(6451),Me=U(5363),he=U(3900),Ge=U(4004),se=U(6063);class fe extends F.x{constructor(Wt=1/0,sn=1/0,_t=se.l){super(),this._bufferSize=Wt,this._windowTime=sn,this._timestampProvider=_t,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=sn===1/0,this._bufferSize=Math.max(1,Wt),this._windowTime=Math.max(1,sn)}next(Wt){const{isStopped:sn,_buffer:_t,_infiniteTimeWindow:tn,_timestampProvider:ln,_windowTime:Xe}=this;sn||(_t.push(Wt),!tn&&_t.push(ln.now()+Xe)),this._trimBuffer(),super.next(Wt)}_subscribe(Wt){this._throwIfClosed(),this._trimBuffer();const sn=this._innerSubscribe(Wt),{_infiniteTimeWindow:_t,_buffer:tn}=this,ln=tn.slice();for(let Xe=0;Xe<ln.length&&!Wt.closed;Xe+=_t?1:2)Wt.next(ln[Xe]);return this._checkFinalizedStatuses(Wt),sn}_trimBuffer(){const{_bufferSize:Wt,_timestampProvider:sn,_buffer:_t,_infiniteTimeWindow:tn}=this,ln=(tn?1:2)*Wt;if(Wt<1/0&&ln<_t.length&&_t.splice(0,_t.length-ln),!tn){const Xe=sn.now();let vt=0;for(let Se=1;Se<_t.length&&_t[Se]<=Xe;Se+=2)vt=Se;vt&&_t.splice(0,vt+1)}}}var xe=U(3099);function ft(Ot,Wt,sn){let _t,tn=!1;return Ot&&"object"==typeof Ot?({bufferSize:_t=1/0,windowTime:Wt=1/0,refCount:tn=!1,scheduler:sn}=Ot):_t=Ot??1/0,(0,xe.B)({connector:()=>new fe(_t,Wt,sn),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:tn})}var ct=U(590),Je=U(576);function jt(Ot,Wt){return(0,Je.m)(Wt)?(0,he.w)(()=>Ot,Wt):(0,he.w)(()=>Ot)}var Ye=U(9468),Ze=U(9300),Dt=U(5813),Ct=U(2011),oe=U(6895),Ae=U(7128);U(127);const Re=new c.OlP("angularfire2.auth.use-emulator"),ze=new c.OlP("angularfire2.auth.settings"),st=new c.OlP("angularfire2.auth.tenant-id"),Te=new c.OlP("angularfire2.auth.langugage-code"),Oe=new c.OlP("angularfire2.auth.use-device-language"),Be=new c.OlP("angularfire.auth.persistence"),$e=(Ot,Wt,sn,_t,tn,ln,Xe,vt)=>(0,Ct.cc)(`${Ot.name}.auth`,"AngularFireAuth",Ot.name,()=>{const Se=Wt.runOutsideAngular(()=>Ot.auth());if(sn&&Se.useEmulator(...sn),_t&&(Se.tenantId=_t),Se.languageCode=tn,ln&&Se.useDeviceLanguage(),Xe)for(const[je,$t]of Object.entries(Xe))Se.settings[je]=$t;return vt&&Se.setPersistence(vt),Se},[sn,_t,tn,ln,Xe,vt]);let wt=(()=>{class Ot{constructor(sn,_t,tn,ln,Xe,vt,Se,je,$t,mn,Yn,$n){const cr=new F.x,gr=(0,H.of)(void 0).pipe((0,Me.Q)(Xe.outsideAngular),(0,he.w)(()=>ln.runOutsideAngular(()=>Promise.resolve().then(U.bind(U,5881)))),(0,Ge.U)(()=>(0,Ct.on)(sn,ln,_t)),(0,Ge.U)(Xt=>$e(Xt,ln,vt,je,$t,mn,Se,Yn)),ft({bufferSize:1,refCount:!1}));if((0,oe.PM)(tn))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,H.of)(null);else{gr.pipe((0,ct.P)()).subscribe();const On=gr.pipe((0,he.w)(Ft=>Ft.getRedirectResult().then(An=>An,()=>null)),Dt.iC,ft({bufferSize:1,refCount:!1})),Rr=gr.pipe((0,he.w)(Ft=>new we.y(An=>({unsubscribe:ln.runOutsideAngular(()=>Ft.onAuthStateChanged(wn=>An.next(wn),wn=>An.error(wn),()=>An.complete()))})))),dr=gr.pipe((0,he.w)(Ft=>new we.y(An=>({unsubscribe:ln.runOutsideAngular(()=>Ft.onIdTokenChanged(wn=>An.next(wn),wn=>An.error(wn),()=>An.complete()))}))));this.authState=On.pipe(jt(Rr),(0,Ye.R)(Xe.outsideAngular),(0,Me.Q)(Xe.insideAngular)),this.user=On.pipe(jt(dr),(0,Ye.R)(Xe.outsideAngular),(0,Me.Q)(Xe.insideAngular)),this.idToken=this.user.pipe((0,he.w)(Ft=>Ft?(0,ve.D)(Ft.getIdToken()):(0,H.of)(null))),this.idTokenResult=this.user.pipe((0,he.w)(Ft=>Ft?(0,ve.D)(Ft.getIdTokenResult()):(0,H.of)(null))),this.credential=(0,Pe.T)(On,cr,this.authState.pipe((0,Ze.h)(Ft=>!Ft))).pipe((0,Ge.U)(Ft=>Ft?.user?Ft:null),(0,Ye.R)(Xe.outsideAngular),(0,Me.Q)(Xe.insideAngular))}return(0,Ct.pX)(this,gr,ln,{spy:{apply:(Xt,On,Rr)=>{(Xt.startsWith("signIn")||Xt.startsWith("createUser"))&&Rr.then(dr=>cr.next(dr))}}})}}return Ot.\u0275fac=function(sn){return new(sn||Ot)(c.LFG(Ct.Dh),c.LFG(Ct.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Dt.HU),c.LFG(Re,8),c.LFG(ze,8),c.LFG(st,8),c.LFG(Te,8),c.LFG(Oe,8),c.LFG(Be,8),c.LFG(Ae.nm,8))},Ot.\u0275prov=c.Yz7({token:Ot,factory:Ot.\u0275fac,providedIn:"any"}),Ot})()},1894:(Jt,tt,U)=>{U.d(tt,{ST:()=>pe,yb:()=>Ie});var c=U(4650),F=U(4986),H=U(9751),we=U(8996),ve=U(9646),Pe=U(5813),Me=U(8675),he=U(4482),Ge=U(5403);function se(){return(0,he.e)((ee,j)=>{let X,Ve=!1;ee.subscribe((0,Ge.x)(j,It=>{const nn=X;X=It,Ve&&j.next([nn,It]),Ve=!0}))})}var fe=U(4004),xe=U(5026),ft=U(4671);function Je(ee,j){return ee===j}var jt=U(9300),Ye=U(2011),Ze=U(6895),Ct=(U(5881),U(3942)),oe=U(5525),Ae=U(2090),Ke=U(4859);function ze(ee,j){if(void 0===j)return{merge:!1};if(void 0!==j.mergeFields&&void 0!==j.merge)throw new oe.WA("invalid-argument",`Invalid options passed to function ${ee}(): You cannot specify both "merge" and "mergeFields".`);return j}function st(){if(typeof Uint8Array>"u")throw new oe.WA("unimplemented","Uint8Arrays are not available in this environment.")}function Te(){if(!(0,oe.Me)())throw new oe.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Oe{constructor(j){this._delegate=j}static fromBase64String(j){return Te(),new Oe(oe.Jj.fromBase64String(j))}static fromUint8Array(j){return st(),new Oe(oe.Jj.fromUint8Array(j))}toBase64(){return Te(),this._delegate.toBase64()}toUint8Array(){return st(),this._delegate.toUint8Array()}isEqual(j){return this._delegate.isEqual(j._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Be(ee){return function $e(ee,j){if("object"!=typeof ee||null===ee)return!1;const X=ee;for(const Ve of j)if(Ve in X&&"function"==typeof X[Ve])return!0;return!1}(ee,["next","error","complete"])}class wt{enableIndexedDbPersistence(j,X){return(0,oe.ST)(j._delegate,{forceOwnership:X})}enableMultiTabIndexedDbPersistence(j){return(0,oe.fH)(j._delegate)}clearIndexedDbPersistence(j){return(0,oe.Fc)(j._delegate)}}class xt{constructor(j,X,Ve){this._delegate=X,this._persistenceProvider=Ve,this.INTERNAL={delete:()=>this.terminate()},j instanceof oe.l7||(this._appCompat=j)}get _databaseId(){return this._delegate._databaseId}settings(j){const X=this._delegate._getSettings();!j.merge&&X.host!==j.host&&(0,oe.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),j.merge&&delete(j=Object.assign(Object.assign({},X),j)).merge,this._delegate._setSettings(j)}useEmulator(j,X,Ve={}){(0,oe.at)(this._delegate,j,X,Ve)}enableNetwork(){return(0,oe.Ix)(this._delegate)}disableNetwork(){return(0,oe.TF)(this._delegate)}enablePersistence(j){let X=!1,Ve=!1;return j&&(X=!!j.synchronizeTabs,Ve=!!j.experimentalForceOwningTab,(0,oe.Wi)("synchronizeTabs",X,"experimentalForceOwningTab",Ve)),X?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,Ve)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,oe.Mx)(this._delegate)}onSnapshotsInSync(j){return(0,oe.sc)(this._delegate,j)}get app(){if(!this._appCompat)throw new oe.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(j){try{return new cr(this,(0,oe.hJ)(this._delegate,j))}catch(X){throw Xe(X,"collection()","Firestore.collection()")}}doc(j){try{return new ln(this,(0,oe.JU)(this._delegate,j))}catch(X){throw Xe(X,"doc()","Firestore.doc()")}}collectionGroup(j){try{return new mn(this,(0,oe.B$)(this._delegate,j))}catch(X){throw Xe(X,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(j){return(0,oe.i3)(this._delegate,X=>j(new sn(this,X)))}batch(){return(0,oe.qY)(this._delegate),new _t(new oe.PU(this._delegate,j=>(0,oe.GL)(this._delegate,j)))}loadBundle(j){return(0,oe.Pb)(this._delegate,j)}namedQuery(j){return(0,oe.L$)(this._delegate,j).then(X=>X?new mn(this,X):null)}}class Ot extends oe.u7{constructor(j){super(),this.firestore=j}convertBytes(j){return new Oe(new oe.Jj(j))}convertReference(j){const X=this.convertDocumentKey(j,this.firestore._databaseId);return ln.forKey(X,this.firestore,null)}}class sn{constructor(j,X){this._firestore=j,this._delegate=X,this._userDataWriter=new Ot(j)}get(j){const X=gr(j);return this._delegate.get(X).then(Ve=>new je(this._firestore,new oe.xU(this._firestore._delegate,this._userDataWriter,Ve._key,Ve._document,Ve.metadata,X.converter)))}set(j,X,Ve){const It=gr(j);return Ve?(ze("Transaction.set",Ve),this._delegate.set(It,X,Ve)):this._delegate.set(It,X),this}update(j,X,Ve,...It){const nn=gr(j);return 2===arguments.length?this._delegate.update(nn,X):this._delegate.update(nn,X,Ve,...It),this}delete(j){const X=gr(j);return this._delegate.delete(X),this}}class _t{constructor(j){this._delegate=j}set(j,X,Ve){const It=gr(j);return Ve?(ze("WriteBatch.set",Ve),this._delegate.set(It,X,Ve)):this._delegate.set(It,X),this}update(j,X,Ve,...It){const nn=gr(j);return 2===arguments.length?this._delegate.update(nn,X):this._delegate.update(nn,X,Ve,...It),this}delete(j){const X=gr(j);return this._delegate.delete(X),this}commit(){return this._delegate.commit()}}class tn{constructor(j,X,Ve){this._firestore=j,this._userDataWriter=X,this._delegate=Ve}fromFirestore(j,X){const Ve=new oe.$q(this._firestore._delegate,this._userDataWriter,j._key,j._document,j.metadata,null);return this._delegate.fromFirestore(new $t(this._firestore,Ve),X??{})}toFirestore(j,X){return X?this._delegate.toFirestore(j,X):this._delegate.toFirestore(j)}static getInstance(j,X){const Ve=tn.INSTANCES;let It=Ve.get(j);It||(It=new WeakMap,Ve.set(j,It));let nn=It.get(X);return nn||(nn=new tn(j,new Ot(j),X),It.set(X,nn)),nn}}tn.INSTANCES=new WeakMap;class ln{constructor(j,X){this.firestore=j,this._delegate=X,this._userDataWriter=new Ot(j)}static forPath(j,X,Ve){if(j.length%2!=0)throw new oe.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${j.canonicalString()} has ${j.length}`);return new ln(X,new oe.my(X._delegate,Ve,new oe.Ky(j)))}static forKey(j,X,Ve){return new ln(X,new oe.my(X._delegate,Ve,j))}get id(){return this._delegate.id}get parent(){return new cr(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(j){try{return new cr(this.firestore,(0,oe.hJ)(this._delegate,j))}catch(X){throw Xe(X,"collection()","DocumentReference.collection()")}}isEqual(j){return(j=(0,Ae.m9)(j))instanceof oe.my&&(0,oe.Eo)(this._delegate,j)}set(j,X){X=ze("DocumentReference.set",X);try{return X?(0,oe.pl)(this._delegate,j,X):(0,oe.pl)(this._delegate,j)}catch(Ve){throw Xe(Ve,"setDoc()","DocumentReference.set()")}}update(j,X,...Ve){try{return 1===arguments.length?(0,oe.r7)(this._delegate,j):(0,oe.r7)(this._delegate,j,X,...Ve)}catch(It){throw Xe(It,"updateDoc()","DocumentReference.update()")}}delete(){return(0,oe.oe)(this._delegate)}onSnapshot(...j){const X=vt(j),Ve=Se(j,It=>new je(this.firestore,new oe.xU(this.firestore._delegate,this._userDataWriter,It._key,It._document,It.metadata,this._delegate.converter)));return(0,oe.cf)(this._delegate,X,Ve)}get(j){let X;return X="cache"===j?.source?(0,oe.kl)(this._delegate):"server"===j?.source?(0,oe.Xk)(this._delegate):(0,oe.QT)(this._delegate),X.then(Ve=>new je(this.firestore,new oe.xU(this.firestore._delegate,this._userDataWriter,Ve._key,Ve._document,Ve.metadata,this._delegate.converter)))}withConverter(j){return new ln(this.firestore,this._delegate.withConverter(j?tn.getInstance(this.firestore,j):null))}}function Xe(ee,j,X){return ee.message=ee.message.replace(j,X),ee}function vt(ee){for(const j of ee)if("object"==typeof j&&!Be(j))return j;return{}}function Se(ee,j){var X,Ve;let It;return It=Be(ee[0])?ee[0]:Be(ee[1])?ee[1]:"function"==typeof ee[0]?{next:ee[0],error:ee[1],complete:ee[2]}:{next:ee[1],error:ee[2],complete:ee[3]},{next:nn=>{It.next&&It.next(j(nn))},error:null===(X=It.error)||void 0===X?void 0:X.bind(It),complete:null===(Ve=It.complete)||void 0===Ve?void 0:Ve.bind(It)}}class je{constructor(j,X){this._firestore=j,this._delegate=X}get ref(){return new ln(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(j){return this._delegate.data(j)}get(j,X){return this._delegate.get(j,X)}isEqual(j){return(0,oe.qK)(this._delegate,j._delegate)}}class $t extends je{data(j){const X=this._delegate.data(j);return(0,oe.K9)(void 0!==X,"Document in a QueryDocumentSnapshot should exist"),X}}class mn{constructor(j,X){this.firestore=j,this._delegate=X,this._userDataWriter=new Ot(j)}where(j,X,Ve){try{return new mn(this.firestore,(0,oe.IO)(this._delegate,(0,oe.ar)(j,X,Ve)))}catch(It){throw Xe(It,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(j,X){try{return new mn(this.firestore,(0,oe.IO)(this._delegate,(0,oe.Xo)(j,X)))}catch(Ve){throw Xe(Ve,/(orderBy|where)\(\)/,"Query.$1()")}}limit(j){try{return new mn(this.firestore,(0,oe.IO)(this._delegate,(0,oe.b9)(j)))}catch(X){throw Xe(X,"limit()","Query.limit()")}}limitToLast(j){try{return new mn(this.firestore,(0,oe.IO)(this._delegate,(0,oe.vh)(j)))}catch(X){throw Xe(X,"limitToLast()","Query.limitToLast()")}}startAt(...j){try{return new mn(this.firestore,(0,oe.IO)(this._delegate,(0,oe.e0)(...j)))}catch(X){throw Xe(X,"startAt()","Query.startAt()")}}startAfter(...j){try{return new mn(this.firestore,(0,oe.IO)(this._delegate,(0,oe.TQ)(...j)))}catch(X){throw Xe(X,"startAfter()","Query.startAfter()")}}endBefore(...j){try{return new mn(this.firestore,(0,oe.IO)(this._delegate,(0,oe.Lx)(...j)))}catch(X){throw Xe(X,"endBefore()","Query.endBefore()")}}endAt(...j){try{return new mn(this.firestore,(0,oe.IO)(this._delegate,(0,oe.Wu)(...j)))}catch(X){throw Xe(X,"endAt()","Query.endAt()")}}isEqual(j){return(0,oe.iE)(this._delegate,j._delegate)}get(j){let X;return X="cache"===j?.source?(0,oe.UQ)(this._delegate):"server"===j?.source?(0,oe.zN)(this._delegate):(0,oe.PL)(this._delegate),X.then(Ve=>new $n(this.firestore,new oe.W(this.firestore._delegate,this._userDataWriter,this._delegate,Ve._snapshot)))}onSnapshot(...j){const X=vt(j),Ve=Se(j,It=>new $n(this.firestore,new oe.W(this.firestore._delegate,this._userDataWriter,this._delegate,It._snapshot)));return(0,oe.cf)(this._delegate,X,Ve)}withConverter(j){return new mn(this.firestore,this._delegate.withConverter(j?tn.getInstance(this.firestore,j):null))}}class Yn{constructor(j,X){this._firestore=j,this._delegate=X}get type(){return this._delegate.type}get doc(){return new $t(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class $n{constructor(j,X){this._firestore=j,this._delegate=X}get query(){return new mn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(j=>new $t(this._firestore,j))}docChanges(j){return this._delegate.docChanges(j).map(X=>new Yn(this._firestore,X))}forEach(j,X){this._delegate.forEach(Ve=>{j.call(X,new $t(this._firestore,Ve))})}isEqual(j){return(0,oe.qK)(this._delegate,j._delegate)}}class cr extends mn{constructor(j,X){super(j,X),this.firestore=j,this._delegate=X}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const j=this._delegate.parent;return j?new ln(this.firestore,j):null}doc(j){try{return new ln(this.firestore,void 0===j?(0,oe.JU)(this._delegate):(0,oe.JU)(this._delegate,j))}catch(X){throw Xe(X,"doc()","CollectionReference.doc()")}}add(j){return(0,oe.ET)(this._delegate,j).then(X=>new ln(this.firestore,X))}isEqual(j){return(0,oe.Eo)(this._delegate,j._delegate)}withConverter(j){return new cr(this.firestore,this._delegate.withConverter(j?tn.getInstance(this.firestore,j):null))}}function gr(ee){return(0,oe.Cf)(ee,oe.my)}class Xt{constructor(...j){this._delegate=new oe.Lz(...j)}static documentId(){return new Xt(oe.Xb.keyField().canonicalString())}isEqual(j){return(j=(0,Ae.m9)(j))instanceof oe.Lz&&this._delegate._internalPath.isEqual(j._internalPath)}}class On{constructor(j){this._delegate=j}static serverTimestamp(){const j=(0,oe.Bt)();return j._methodName="FieldValue.serverTimestamp",new On(j)}static delete(){const j=(0,oe.AK)();return j._methodName="FieldValue.delete",new On(j)}static arrayUnion(...j){const X=(0,oe.vr)(...j);return X._methodName="FieldValue.arrayUnion",new On(X)}static arrayRemove(...j){const X=(0,oe.Ab)(...j);return X._methodName="FieldValue.arrayRemove",new On(X)}static increment(j){const X=(0,oe.nP)(j);return X._methodName="FieldValue.increment",new On(X)}isEqual(j){return this._delegate.isEqual(j._delegate)}}const Rr={Firestore:xt,GeoPoint:oe.F8,Timestamp:oe.EK,Blob:Oe,Transaction:sn,WriteBatch:_t,DocumentReference:ln,DocumentSnapshot:je,Query:mn,QueryDocumentSnapshot:$t,QuerySnapshot:$n,CollectionReference:cr,FieldPath:Xt,FieldValue:On,setLogLevel:function Wt(ee){(0,oe.Ub)(ee)},CACHE_SIZE_UNLIMITED:oe.IX};!function Ft(ee){(function dr(ee,j){ee.INTERNAL.registerComponent(new Ke.wA("firestore-compat",X=>{const Ve=X.getProvider("app-compat").getImmediate(),It=X.getProvider("firestore").getImmediate();return j(Ve,It)},"PUBLIC").setServiceProps(Object.assign({},Rr)))})(ee,(j,X)=>new xt(j,X,new wt)),ee.registerVersion("@firebase/firestore-compat","0.1.25")}(Ct.Z);var An=U(1205),wn=U(7128),qn=U(127);function Oi(ee,j){return function Tr(ee,j=F.z){return new H.y(X=>{let Ve;return null!=j?j.schedule(()=>{Ve=ee.onSnapshot({includeMetadataChanges:!0},X)}):Ve=ee.onSnapshot({includeMetadataChanges:!0},X),()=>{Ve?.()}})}(ee,j)}function xn(ee,j){return Oi(ee,j).pipe((0,fe.U)(X=>({payload:X,type:"query"})))}function Bn(ee,j){return xn(ee,j).pipe((0,Me.O)(void 0),se(),(0,fe.U)(([X,Ve])=>{const It=Ve.payload.docChanges(),nn=It.map(Vn=>({type:Vn.type,payload:Vn}));return X&&JSON.stringify(X.payload.metadata)!==JSON.stringify(Ve.payload.metadata)&&Ve.payload.docs.forEach((Vn,Ue)=>{const me=It.find(dt=>dt.doc.ref.isEqual(Vn.ref)),Ee=X?.payload.docs.find(dt=>dt.ref.isEqual(Vn.ref));me&&JSON.stringify(me.doc.metadata)===JSON.stringify(Vn.metadata)||!me&&Ee&&JSON.stringify(Ee.metadata)===JSON.stringify(Vn.metadata)||nn.push({type:"modified",payload:{oldIndex:Ue,newIndex:Ue,type:"modified",doc:Vn}})}),nn}))}function on(ee,j,X){return Bn(ee,X).pipe((0,xe.R)((Ve,It)=>function cn(ee,j,X){return j.forEach(Ve=>{X.indexOf(Ve.type)>-1&&(ee=function Or(ee,j){switch(j.type){case"added":if(!ee[j.newIndex]||!ee[j.newIndex].doc.ref.isEqual(j.doc.ref))return bn(ee,j.newIndex,0,j);break;case"modified":if(null==ee[j.oldIndex]||ee[j.oldIndex].doc.ref.isEqual(j.doc.ref)){if(j.oldIndex!==j.newIndex){const X=ee.slice();return X.splice(j.oldIndex,1),X.splice(j.newIndex,0,j),X}return bn(ee,j.newIndex,1,j)}break;case"removed":if(ee[j.oldIndex]&&ee[j.oldIndex].doc.ref.isEqual(j.doc.ref))return bn(ee,j.oldIndex,1)}return ee}(ee,Ve))}),ee}(Ve,It.map(nn=>nn.payload),j),[]),function ct(ee,j=ft.y){return ee=ee??Je,(0,he.e)((X,Ve)=>{let It,nn=!0;X.subscribe((0,Ge.x)(Ve,Vn=>{const Ue=j(Vn);(nn||!ee(It,Ue))&&(nn=!1,It=Ue,Ve.next(Vn))}))})}(),(0,fe.U)(Ve=>Ve.map(It=>({type:It.type,payload:It}))))}function bn(ee,j,X,...Ve){const It=ee.slice();return It.splice(j,X,...Ve),It}function hr(ee){return(!ee||0===ee.length)&&(ee=["added","removed","modified"]),ee}class qr{constructor(j,X,Ve){this.ref=j,this.query=X,this.afs=Ve}stateChanges(j){let X=Bn(this.query,this.afs.schedulers.outsideAngular);return j&&j.length>0&&(X=X.pipe((0,fe.U)(Ve=>Ve.filter(It=>j.indexOf(It.type)>-1)))),X.pipe((0,Me.O)(void 0),se(),(0,jt.h)(([Ve,It])=>It.length>0||!Ve),(0,fe.U)(([Ve,It])=>It),Pe.iC)}auditTrail(j){return this.stateChanges(j).pipe((0,xe.R)((X,Ve)=>[...X,...Ve],[]))}snapshotChanges(j){const X=hr(j);return on(this.query,X,this.afs.schedulers.outsideAngular).pipe(Pe.iC)}valueChanges(j={}){return xn(this.query,this.afs.schedulers.outsideAngular).pipe((0,fe.U)(X=>X.payload.docs.map(Ve=>j.idField?Object.assign(Object.assign({},Ve.data()),{[j.idField]:Ve.id}):Ve.data())),Pe.iC)}get(j){return(0,we.D)(this.query.get(j)).pipe(Pe.iC)}add(j){return this.ref.add(j)}doc(j){return new En(this.ref.doc(j),this.afs)}}class En{constructor(j,X){this.ref=j,this.afs=X}set(j,X){return this.ref.set(j,X)}update(j){return this.ref.update(j)}delete(){return this.ref.delete()}collection(j,X){const Ve=this.ref.collection(j),{ref:It,query:nn}=ce(Ve,X);return new qr(It,nn,this.afs)}snapshotChanges(){return function Ir(ee,j){return Oi(ee,j).pipe((0,Me.O)(void 0),se(),(0,fe.U)(([X,Ve])=>Ve.exists?X?.exists?{payload:Ve,type:"modified"}:{payload:Ve,type:"added"}:{payload:Ve,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Pe.iC)}valueChanges(j={}){return this.snapshotChanges().pipe((0,fe.U)(({payload:X})=>j.idField?Object.assign(Object.assign({},X.data()),{[j.idField]:X.id}):X.data()))}get(j){return(0,we.D)(this.ref.get(j)).pipe(Pe.iC)}}class ii{constructor(j,X){this.query=j,this.afs=X}stateChanges(j){return j&&0!==j.length?Bn(this.query,this.afs.schedulers.outsideAngular).pipe((0,fe.U)(X=>X.filter(Ve=>j.indexOf(Ve.type)>-1)),(0,jt.h)(X=>X.length>0),Pe.iC):Bn(this.query,this.afs.schedulers.outsideAngular).pipe(Pe.iC)}auditTrail(j){return this.stateChanges(j).pipe((0,xe.R)((X,Ve)=>[...X,...Ve],[]))}snapshotChanges(j){const X=hr(j);return on(this.query,X,this.afs.schedulers.outsideAngular).pipe(Pe.iC)}valueChanges(j={}){return xn(this.query,this.afs.schedulers.outsideAngular).pipe((0,fe.U)(Ve=>Ve.payload.docs.map(It=>j.idField?Object.assign({[j.idField]:It.id},It.data()):It.data())),Pe.iC)}get(j){return(0,we.D)(this.query.get(j)).pipe(Pe.iC)}}const Mn=new c.OlP("angularfire2.enableFirestorePersistence"),pi=new c.OlP("angularfire2.firestore.persistenceSettings"),Hn=new c.OlP("angularfire2.firestore.settings"),Ne=new c.OlP("angularfire2.firestore.use-emulator");function ce(ee,j=(X=>X)){return{query:j(ee),ref:ee}}let pe=(()=>{class ee{constructor(X,Ve,It,nn,Vn,Ue,me,Ee,dt,Vt,pn,Gt,ue,de,ie,Le,rt){this.schedulers=me;const Kt=(0,Ye.on)(X,Ue,Ve),Tn=dt;Vt&&(0,An.nw)(Kt,Ue,pn,ue,de,ie,Gt,Le),[this.firestore,this.persistenceEnabled$]=(0,Ye.cc)(`${Kt.name}.firestore`,"AngularFirestore",Kt.name,()=>{const In=Ue.runOutsideAngular(()=>Kt.firestore());if(nn&&In.settings(nn),Tn&&In.useEmulator(...Tn),It&&!(0,Ze.PM)(Vn)){const Sr=()=>{try{return(0,we.D)(In.enablePersistence(Ee||void 0).then(()=>!0,()=>!1))}catch(ui){return typeof console<"u"&&console.warn(ui),(0,ve.of)(!1)}};return[In,Ue.runOutsideAngular(Sr)]}return[In,(0,ve.of)(!1)]},[nn,Tn,It])}collection(X,Ve){let It;It="string"==typeof X?this.firestore.collection(X):X;const{ref:nn,query:Vn}=ce(It,Ve),Ue=this.schedulers.ngZone.run(()=>nn);return new qr(Ue,Vn,this)}collectionGroup(X,Ve){const It=Ve||(Vn=>Vn),nn=this.firestore.collectionGroup(X);return new ii(It(nn),this)}doc(X){let Ve;Ve="string"==typeof X?this.firestore.doc(X):X;const It=this.schedulers.ngZone.run(()=>Ve);return new En(It,this)}createId(){return this.firestore.collection("_").doc().id}}return ee.\u0275fac=function(X){return new(X||ee)(c.LFG(Ye.Dh),c.LFG(Ye.xv,8),c.LFG(Mn,8),c.LFG(Hn,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Pe.HU),c.LFG(pi,8),c.LFG(Ne,8),c.LFG(An.zQ,8),c.LFG(An.Qv,8),c.LFG(An.L6,8),c.LFG(An._Q,8),c.LFG(An.rT,8),c.LFG(An.lh,8),c.LFG(An.f7,8),c.LFG(wn.nm,8))},ee.\u0275prov=c.Yz7({token:ee,factory:ee.\u0275fac,providedIn:"any"}),ee})(),Ie=(()=>{class ee{constructor(){qn.Z.registerVersion("angularfire",Pe.q4.full,"fst-compat")}static enablePersistence(X){return{ngModule:ee,providers:[{provide:Mn,useValue:!0},{provide:pi,useValue:X}]}}}return ee.\u0275fac=function(X){return new(X||ee)},ee.\u0275mod=c.oAB({type:ee}),ee.\u0275inj=c.cJS({providers:[pe]}),ee})()},2011:(Jt,tt,U)=>{U.d(tt,{Dh:()=>he,GT:()=>Pe,cc:()=>ct,hO:()=>ft,on:()=>se,pX:()=>ve,xv:()=>Ge});var c=U(4650),F=U(127),H=U(5813);Jt=U.hmd(Jt);const we=["ngOnDestroy"],ve=(Ze,Dt,Ct,oe={})=>new Proxy(Ze,{get:(Ae,Ke)=>Ct.runOutsideAngular(()=>{var St;if(Ze[Ke])return!(null===(St=oe?.spy)||void 0===St)&&St.get&&oe.spy.get(Ke,Ze[Ke]),Ze[Ke];if(we.indexOf(Ke)>-1)return()=>{};const Re=Dt.toPromise().then(ze=>{const st=ze&&ze[Ke];return"function"==typeof st?st.bind(ze):st&&st.then?st.then(Te=>Ct.run(()=>Te)):Ct.run(()=>st)});return new Proxy(()=>{},{get:(ze,st)=>Re[st],apply:(ze,st,Te)=>Re.then(Oe=>{var Be;const $e=Oe&&Oe(...Te);return!(null===(Be=oe?.spy)||void 0===Be)&&Be.apply&&oe.spy.apply(Ke,Te,$e),$e})})})}),Pe=(Ze,Dt)=>{Dt.forEach(Ct=>{Object.getOwnPropertyNames(Ct.prototype||Ct).forEach(oe=>{Object.defineProperty(Ze.prototype,oe,Object.getOwnPropertyDescriptor(Ct.prototype||Ct,oe))})})};class Me{constructor(Dt){return Dt}}const he=new c.OlP("angularfire2.app.options"),Ge=new c.OlP("angularfire2.app.name");function se(Ze,Dt,Ct){const Ae="object"==typeof Ct&&Ct||{};Ae.name=Ae.name||"string"==typeof Ct&&Ct||"[DEFAULT]";const St=F.Z.apps.filter(Re=>Re&&Re.name===Ae.name)[0]||Dt.runOutsideAngular(()=>F.Z.initializeApp(Ze,Ae));try{JSON.stringify(Ze)!==JSON.stringify(St.options)&&fe("error",`${St.name} Firebase App already initialized with different options${Jt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Me(St)}const fe=(Ze,...Dt)=>{(0,c.X6Q)()&&typeof console<"u"&&console[Ze](...Dt)},xe={provide:Me,useFactory:se,deps:[he,c.R0b,[new c.FiY,Ge]]};let ft=(()=>{class Ze{constructor(Ct){F.Z.registerVersion("angularfire",H.q4.full,"core"),F.Z.registerVersion("angularfire",H.q4.full,"app-compat"),F.Z.registerVersion("angular",c.q4F.full,Ct.toString())}static initializeApp(Ct,oe){return{ngModule:Ze,providers:[{provide:he,useValue:Ct},{provide:Ge,useValue:oe}]}}}return Ze.\u0275fac=function(Ct){return new(Ct||Ze)(c.LFG(c.Lbi))},Ze.\u0275mod=c.oAB({type:Ze}),Ze.\u0275inj=c.cJS({providers:[xe]}),Ze})();function ct(Ze,Dt,Ct,oe,Ae){const[,Ke,St]=globalThis.\u0275AngularfireInstanceCache.find(Re=>Re[0]===Ze)||[];if(Ke)return function Je(Ze,Dt){try{return Ze.toString()===Dt.toString()}catch{return Ze===Dt}}(Ae,St)||(Ye("error",`${Dt} was already initialized on the ${Ct} Firebase App with different settings.${jt?" You may need to reload as Firebase is not HMR aware.":""}`),Ye("warn",{is:Ae,was:St})),Ke;{const Re=oe();return globalThis.\u0275AngularfireInstanceCache.push([Ze,Re,Ae]),Re}}const jt=!!Jt.hot,Ye=(Ze,...Dt)=>{(0,c.X6Q)()&&typeof console<"u"&&console[Ze](...Dt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Jt,tt,U)=>{U.d(tt,{q4:()=>br,iC:()=>ta,HU:()=>Er,vb:()=>Pt,JM:()=>Ht});var c=U(4650),F=U(5867),H=U(5861),we=U(9681),ve=U(2090),Pe=U(4859),Me=U(1877),he=U(8766);const Ge="@firebase/installations",se="0.5.12",xe=`w:${se}`,ft="FIS_v2",Dt=new ve.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ct(x){return x instanceof ve.ZR&&x.code.includes("request-failed")}function oe({projectId:x}){return`https://firebaseinstallations.googleapis.com/v1/projects/${x}/installations`}function Ae(x){return{token:x.token,requestStatus:2,expiresIn:Oe(x.expiresIn),creationTime:Date.now()}}function Ke(x,k){return St.apply(this,arguments)}function St(){return(St=(0,H.Z)(function*(x,k){const ge=(yield k.json()).error;return Dt.create("request-failed",{requestName:x,serverCode:ge.code,serverMessage:ge.message,serverStatus:ge.status})})).apply(this,arguments)}function Re({apiKey:x}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x})}function ze(x,{refreshToken:k}){const Z=Re(x);return Z.append("Authorization",function Be(x){return`${ft} ${x}`}(k)),Z}function st(x){return Te.apply(this,arguments)}function Te(){return(Te=(0,H.Z)(function*(x){const k=yield x();return k.status>=500&&k.status<600?x():k})).apply(this,arguments)}function Oe(x){return Number(x.replace("s","000"))}function $e(x,k){return wt.apply(this,arguments)}function wt(){return(wt=(0,H.Z)(function*({appConfig:x,heartbeatServiceProvider:k},{fid:Z}){const ge=oe(x),We=Re(x),ht=k.getImmediate({optional:!0});if(ht){const Cn=yield ht.getHeartbeatsHeader();Cn&&We.append("x-firebase-client",Cn)}const rn={method:"POST",headers:We,body:JSON.stringify({fid:Z,authVersion:ft,appId:x.appId,sdkVersion:xe})},Un=yield st(()=>fetch(ge,rn));if(Un.ok){const Cn=yield Un.json();return{fid:Cn.fid||Z,registrationStatus:2,refreshToken:Cn.refreshToken,authToken:Ae(Cn.authToken)}}throw yield Ke("Create Installation",Un)})).apply(this,arguments)}function xt(x){return new Promise(k=>{setTimeout(k,x)})}const Wt=/^[cdef][\w-]{21}$/;function _t(){try{const x=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(x),x[0]=112+x[0]%16;const Z=function tn(x){return function Ot(x){return btoa(String.fromCharCode(...x)).replace(/\+/g,"-").replace(/\//g,"_")}(x).substr(0,22)}(x);return Wt.test(Z)?Z:""}catch{return""}}function ln(x){return`${x.appName}!${x.appId}`}const Xe=new Map;function vt(x,k){const Z=ln(x);$t(Z,k),function mn(x,k){const Z=function $n(){return!Yn&&"BroadcastChannel"in self&&(Yn=new BroadcastChannel("[Firebase] FID Change"),Yn.onmessage=x=>{$t(x.data.key,x.data.fid)}),Yn}();Z&&Z.postMessage({key:x,fid:k}),function cr(){0===Xe.size&&Yn&&(Yn.close(),Yn=null)}()}(Z,k)}function $t(x,k){const Z=Xe.get(x);if(Z)for(const ge of Z)ge(k)}let Yn=null;const On="firebase-installations-store";let Rr=null;function dr(){return Rr||(Rr=(0,he.X3)("firebase-installations-database",1,{upgrade:(x,k)=>{0===k&&x.createObjectStore(On)}})),Rr}function Ft(x,k){return An.apply(this,arguments)}function An(){return(An=(0,H.Z)(function*(x,k){const Z=ln(x),We=(yield dr()).transaction(On,"readwrite"),ht=We.objectStore(On),kt=yield ht.get(Z);return yield ht.put(k,Z),yield We.done,(!kt||kt.fid!==k.fid)&&vt(x,k.fid),k})).apply(this,arguments)}function wn(x){return qn.apply(this,arguments)}function qn(){return(qn=(0,H.Z)(function*(x){const k=ln(x),ge=(yield dr()).transaction(On,"readwrite");yield ge.objectStore(On).delete(k),yield ge.done})).apply(this,arguments)}function Tr(x,k){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,H.Z)(function*(x,k){const Z=ln(x),We=(yield dr()).transaction(On,"readwrite"),ht=We.objectStore(On),kt=yield ht.get(Z),rn=k(kt);return void 0===rn?yield ht.delete(Z):yield ht.put(rn,Z),yield We.done,rn&&(!kt||kt.fid!==rn.fid)&&vt(x,rn.fid),rn})).apply(this,arguments)}function Ir(x){return xn.apply(this,arguments)}function xn(){return(xn=(0,H.Z)(function*(x){let k;const Z=yield Tr(x.appConfig,ge=>{const We=Bn(ge),ht=on(x,We);return k=ht.registrationPromise,ht.installationEntry});return""===Z.fid?{installationEntry:yield k}:{installationEntry:Z,registrationPromise:k}})).apply(this,arguments)}function Bn(x){return En(x||{fid:_t(),registrationStatus:0})}function on(x,k){if(0===k.registrationStatus){if(!navigator.onLine)return{installationEntry:k,registrationPromise:Promise.reject(Dt.create("app-offline"))};const Z={fid:k.fid,registrationStatus:1,registrationTime:Date.now()},ge=function cn(x,k){return bn.apply(this,arguments)}(x,Z);return{installationEntry:Z,registrationPromise:ge}}return 1===k.registrationStatus?{installationEntry:k,registrationPromise:Or(x)}:{installationEntry:k}}function bn(){return(bn=(0,H.Z)(function*(x,k){try{const Z=yield $e(x,k);return Ft(x.appConfig,Z)}catch(Z){throw Ct(Z)&&409===Z.customData.serverCode?yield wn(x.appConfig):yield Ft(x.appConfig,{fid:k.fid,registrationStatus:0}),Z}})).apply(this,arguments)}function Or(x){return hr.apply(this,arguments)}function hr(){return(hr=(0,H.Z)(function*(x){let k=yield qr(x.appConfig);for(;1===k.registrationStatus;)yield xt(100),k=yield qr(x.appConfig);if(0===k.registrationStatus){const{installationEntry:Z,registrationPromise:ge}=yield Ir(x);return ge||Z}return k})).apply(this,arguments)}function qr(x){return Tr(x,k=>{if(!k)throw Dt.create("installation-not-found");return En(k)})}function En(x){return function ii(x){return 1===x.registrationStatus&&x.registrationTime+1e4<Date.now()}(x)?{fid:x.fid,registrationStatus:0}:x}function Mn(x,k){return pi.apply(this,arguments)}function pi(){return(pi=(0,H.Z)(function*({appConfig:x,heartbeatServiceProvider:k},Z){const ge=Hn(x,Z),We=ze(x,Z),ht=k.getImmediate({optional:!0});if(ht){const Cn=yield ht.getHeartbeatsHeader();Cn&&We.append("x-firebase-client",Cn)}const rn={method:"POST",headers:We,body:JSON.stringify({installation:{sdkVersion:xe,appId:x.appId}})},Un=yield st(()=>fetch(ge,rn));if(Un.ok)return Ae(yield Un.json());throw yield Ke("Generate Auth Token",Un)})).apply(this,arguments)}function Hn(x,{fid:k}){return`${oe(x)}/${k}/authTokens:generate`}function Ne(x){return ce.apply(this,arguments)}function ce(){return(ce=(0,H.Z)(function*(x,k=!1){let Z;const ge=yield Tr(x.appConfig,ht=>{if(!Ve(ht))throw Dt.create("not-registered");const kt=ht.authToken;if(!k&&It(kt))return ht;if(1===kt.requestStatus)return Z=pe(x,k),ht;{if(!navigator.onLine)throw Dt.create("app-offline");const rn=Vn(ht);return Z=j(x,rn),rn}});return Z?yield Z:ge.authToken})).apply(this,arguments)}function pe(x,k){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,H.Z)(function*(x,k){let Z=yield ee(x.appConfig);for(;1===Z.authToken.requestStatus;)yield xt(100),Z=yield ee(x.appConfig);const ge=Z.authToken;return 0===ge.requestStatus?Ne(x,k):ge})).apply(this,arguments)}function ee(x){return Tr(x,k=>{if(!Ve(k))throw Dt.create("not-registered");return function Ue(x){return 1===x.requestStatus&&x.requestTime+1e4<Date.now()}(k.authToken)?Object.assign(Object.assign({},k),{authToken:{requestStatus:0}}):k})}function j(x,k){return X.apply(this,arguments)}function X(){return(X=(0,H.Z)(function*(x,k){try{const Z=yield Mn(x,k),ge=Object.assign(Object.assign({},k),{authToken:Z});return yield Ft(x.appConfig,ge),Z}catch(Z){if(!Ct(Z)||401!==Z.customData.serverCode&&404!==Z.customData.serverCode){const ge=Object.assign(Object.assign({},k),{authToken:{requestStatus:0}});yield Ft(x.appConfig,ge)}else yield wn(x.appConfig);throw Z}})).apply(this,arguments)}function Ve(x){return void 0!==x&&2===x.registrationStatus}function It(x){return 2===x.requestStatus&&!function nn(x){const k=Date.now();return k<x.creationTime||x.creationTime+x.expiresIn<k+36e5}(x)}function Vn(x){const k={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},x),{authToken:k})}function Ee(){return(Ee=(0,H.Z)(function*(x){const k=x,{installationEntry:Z,registrationPromise:ge}=yield Ir(k);return ge?ge.catch(console.error):Ne(k).catch(console.error),Z.fid})).apply(this,arguments)}function Vt(){return(Vt=(0,H.Z)(function*(x,k=!1){const Z=x;return yield pn(Z),(yield Ne(Z,k)).token})).apply(this,arguments)}function pn(x){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,H.Z)(function*(x){const{registrationPromise:k}=yield Ir(x);k&&(yield k)})).apply(this,arguments)}function Sr(x){return Dt.create("missing-app-config-values",{valueName:x})}const ui="installations",Li=x=>{const k=x.getProvider("app").getImmediate(),Z=function In(x){if(!x||!x.options)throw Sr("App Configuration");if(!x.name)throw Sr("App Name");const k=["projectId","apiKey","appId"];for(const Z of k)if(!x.options[Z])throw Sr(Z);return{appName:x.name,projectId:x.options.projectId,apiKey:x.options.apiKey,appId:x.options.appId}}(k);return{app:k,appConfig:Z,heartbeatServiceProvider:(0,we._getProvider)(k,"heartbeat"),_delete:()=>Promise.resolve()}},Vi=x=>{const k=x.getProvider("app").getImmediate(),Z=(0,we._getProvider)(k,ui).getImmediate();return{getId:()=>function me(x){return Ee.apply(this,arguments)}(Z),getToken:We=>function dt(x){return Vt.apply(this,arguments)}(Z,We)}};(function ws(){(0,we._registerComponent)(new Pe.wA(ui,Li,"PUBLIC")),(0,we._registerComponent)(new Pe.wA("installations-internal",Vi,"PRIVATE"))})(),(0,we.registerVersion)(Ge,se),(0,we.registerVersion)(Ge,se,"esm2017");const Gi="@firebase/remote-config",Mr=new ve.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ns{constructor(k,Z,ge,We){this.client=k,this.storage=Z,this.storageCache=ge,this.logger=We}isCachedDataFresh(k,Z){if(!Z)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ge=Date.now()-Z,We=ge<=k;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ge}. Cache max age millis (minimumFetchIntervalMillis setting): ${k}. Is cache hit: ${We}.`),We}fetch(k){var Z=this;return(0,H.Z)(function*(){const[ge,We]=yield Promise.all([Z.storage.getLastSuccessfulFetchTimestampMillis(),Z.storage.getLastSuccessfulFetchResponse()]);if(We&&Z.isCachedDataFresh(k.cacheMaxAgeMillis,ge))return We;k.eTag=We&&We.eTag;const ht=yield Z.client.fetch(k),kt=[Z.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ht.status&&kt.push(Z.storage.setLastSuccessfulFetchResponse(ht)),yield Promise.all(kt),ht})()}}function Jr(x=navigator){return x.languages&&x.languages[0]||x.language}class Ns{constructor(k,Z,ge,We,ht,kt){this.firebaseInstallations=k,this.sdkVersion=Z,this.namespace=ge,this.projectId=We,this.apiKey=ht,this.appId=kt}fetch(k){var Z=this;return(0,H.Z)(function*(){var ge,We,ht;const[kt,rn]=yield Promise.all([Z.firebaseInstallations.getId(),Z.firebaseInstallations.getToken()]),Cn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Z.projectId}/namespaces/${Z.namespace}:fetch?key=${Z.apiKey}`,mr={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":k.eTag||"*"},jn={sdk_version:Z.sdkVersion,app_instance_id:kt,app_instance_id_token:rn,app_id:Z.appId,language_code:Jr()},ls={method:"POST",headers:mr,body:JSON.stringify(jn)},Ss=fetch(Cn,ls),qa=new Promise((Qa,xa)=>{k.signal.addEventListener(()=>{const du=new Error("The operation was aborted.");du.name="AbortError",xa(du)})});let Za;try{yield Promise.race([Ss,qa]),Za=yield Ss}catch(Qa){let xa="fetch-client-network";throw"AbortError"===(null===(ge=Qa)||void 0===ge?void 0:ge.name)&&(xa="fetch-timeout"),Mr.create(xa,{originalErrorMessage:null===(We=Qa)||void 0===We?void 0:We.message})}let Ya=Za.status;const Ba=Za.headers.get("ETag")||void 0;let Qs,ha;if(200===Za.status){let Qa;try{Qa=yield Za.json()}catch(xa){throw Mr.create("fetch-client-parse",{originalErrorMessage:null===(ht=xa)||void 0===ht?void 0:ht.message})}Qs=Qa.entries,ha=Qa.state}if("INSTANCE_STATE_UNSPECIFIED"===ha?Ya=500:"NO_CHANGE"===ha?Ya=304:("NO_TEMPLATE"===ha||"EMPTY_CONFIG"===ha)&&(Qs={}),304!==Ya&&200!==Ya)throw Mr.create("fetch-status",{httpStatus:Ya});return{status:Ya,eTag:Ba,config:Qs}})()}}class rs{constructor(k,Z){this.client=k,this.storage=Z}fetch(k){var Z=this;return(0,H.Z)(function*(){const ge=(yield Z.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Z.attemptFetch(k,ge)})()}attemptFetch(k,{throttleEndTimeMillis:Z,backoffCount:ge}){var We=this;return(0,H.Z)(function*(){yield function Ui(x,k){return new Promise((Z,ge)=>{const We=Math.max(k-Date.now(),0),ht=setTimeout(Z,We);x.addEventListener(()=>{clearTimeout(ht),ge(Mr.create("fetch-throttle",{throttleEndTimeMillis:k}))})})}(k.signal,Z);try{const ht=yield We.client.fetch(k);return yield We.storage.deleteThrottleMetadata(),ht}catch(ht){if(!function ko(x){if(!(x instanceof ve.ZR&&x.customData))return!1;const k=Number(x.customData.httpStatus);return 429===k||500===k||503===k||504===k}(ht))throw ht;const kt={throttleEndTimeMillis:Date.now()+(0,ve.$s)(ge),backoffCount:ge+1};return yield We.storage.setThrottleMetadata(kt),We.attemptFetch(k,kt)}})()}}class Do{constructor(k,Z,ge,We,ht){this.app=k,this._client=Z,this._storageCache=ge,this._storage=We,this._logger=ht,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Os(x,k){var Z;const ge=x.target.error||void 0;return Mr.create(k,{originalErrorMessage:ge&&(null===(Z=ge)||void 0===Z?void 0:Z.message)})}const is="app_namespace_store";class Gs{constructor(k,Z,ge,We=function oa(){return new Promise((x,k)=>{var Z;try{const ge=indexedDB.open("firebase_remote_config",1);ge.onerror=We=>{k(Os(We,"storage-open"))},ge.onsuccess=We=>{x(We.target.result)},ge.onupgradeneeded=We=>{0===We.oldVersion&&We.target.result.createObjectStore(is,{keyPath:"compositeKey"})}}catch(ge){k(Mr.create("storage-open",{originalErrorMessage:null===(Z=ge)||void 0===Z?void 0:Z.message}))}})}()){this.appId=k,this.appName=Z,this.namespace=ge,this.openDbPromise=We}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(k){return this.set("last_fetch_status",k)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(k){return this.set("last_successful_fetch_timestamp_millis",k)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(k){return this.set("last_successful_fetch_response",k)}getActiveConfig(){return this.get("active_config")}setActiveConfig(k){return this.set("active_config",k)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(k){return this.set("active_config_etag",k)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(k){return this.set("throttle_metadata",k)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(k){var Z=this;return(0,H.Z)(function*(){const ge=yield Z.openDbPromise;return new Promise((We,ht)=>{var kt;const Un=ge.transaction([is],"readonly").objectStore(is),Cn=Z.createCompositeKey(k);try{const mr=Un.get(Cn);mr.onerror=jn=>{ht(Os(jn,"storage-get"))},mr.onsuccess=jn=>{const ls=jn.target.result;We(ls?ls.value:void 0)}}catch(mr){ht(Mr.create("storage-get",{originalErrorMessage:null===(kt=mr)||void 0===kt?void 0:kt.message}))}})})()}set(k,Z){var ge=this;return(0,H.Z)(function*(){const We=yield ge.openDbPromise;return new Promise((ht,kt)=>{var rn;const Cn=We.transaction([is],"readwrite").objectStore(is),mr=ge.createCompositeKey(k);try{const jn=Cn.put({compositeKey:mr,value:Z});jn.onerror=ls=>{kt(Os(ls,"storage-set"))},jn.onsuccess=()=>{ht()}}catch(jn){kt(Mr.create("storage-set",{originalErrorMessage:null===(rn=jn)||void 0===rn?void 0:rn.message}))}})})()}delete(k){var Z=this;return(0,H.Z)(function*(){const ge=yield Z.openDbPromise;return new Promise((We,ht)=>{var kt;const Un=ge.transaction([is],"readwrite").objectStore(is),Cn=Z.createCompositeKey(k);try{const mr=Un.delete(Cn);mr.onerror=jn=>{ht(Os(jn,"storage-delete"))},mr.onsuccess=()=>{We()}}catch(mr){ht(Mr.create("storage-delete",{originalErrorMessage:null===(kt=mr)||void 0===kt?void 0:kt.message}))}})})()}createCompositeKey(k){return[this.appId,this.appName,this.namespace,k].join()}}class Cs{constructor(k){this.storage=k}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var k=this;return(0,H.Z)(function*(){const Z=k.storage.getLastFetchStatus(),ge=k.storage.getLastSuccessfulFetchTimestampMillis(),We=k.storage.getActiveConfig(),ht=yield Z;ht&&(k.lastFetchStatus=ht);const kt=yield ge;kt&&(k.lastSuccessfulFetchTimestampMillis=kt);const rn=yield We;rn&&(k.activeConfig=rn)})()}setLastFetchStatus(k){return this.lastFetchStatus=k,this.storage.setLastFetchStatus(k)}setLastSuccessfulFetchTimestampMillis(k){return this.lastSuccessfulFetchTimestampMillis=k,this.storage.setLastSuccessfulFetchTimestampMillis(k)}setActiveConfig(k){return this.activeConfig=k,this.storage.setActiveConfig(k)}}function Qi(){return bs.apply(this,arguments)}function bs(){return(bs=(0,H.Z)(function*(){if(!(0,ve.hl)())return!1;try{return yield(0,ve.eu)()}catch{return!1}})).apply(this,arguments)}!function Co(){(0,we._registerComponent)(new Pe.wA("remote-config",function x(k,{instanceIdentifier:Z}){const ge=k.getProvider("app").getImmediate(),We=k.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Mr.create("registration-window");if(!(0,ve.hl)())throw Mr.create("indexed-db-unavailable");const{projectId:ht,apiKey:kt,appId:rn}=ge.options;if(!ht)throw Mr.create("registration-project-id");if(!kt)throw Mr.create("registration-api-key");if(!rn)throw Mr.create("registration-app-id");const Un=new Gs(rn,ge.name,Z=Z||"firebase"),Cn=new Cs(Un),mr=new Me.Yd(Gi);mr.logLevel=Me.in.ERROR;const jn=new Ns(We,we.SDK_VERSION,Z,ht,kt,rn),ls=new rs(jn,Un),Ss=new ns(ls,Un,Cn,mr),qa=new Do(ge,Ss,Cn,Un,mr);return function Qe(x){const k=(0,ve.m9)(x);k._initializePromise||(k._initializePromise=k._storageCache.loadFromStorage().then(()=>{k._isInitializationComplete=!0}))}(qa),qa},"PUBLIC").setMultipleInstances(!0)),(0,we.registerVersion)(Gi,"0.3.11"),(0,we.registerVersion)(Gi,"0.3.11","esm2017")}();const mi="/firebase-messaging-sw.js",ds="/firebase-cloud-messaging-push-scope",Qn="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ps="google.c.a.c_id",ss="google.c.a.c_l",co="google.c.a.ts",os="google.c.a.e";var bi=(()=>{return(x=bi||(bi={})).PUSH_RECEIVED="push-received",x.NOTIFICATION_CLICKED="notification-clicked",bi;var x})();function Ji(x){const k=new Uint8Array(x);return btoa(String.fromCharCode(...k)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Bi(x){const Z=(x+"=".repeat((4-x.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ge=atob(Z),We=new Uint8Array(ge.length);for(let ht=0;ht<ge.length;++ht)We[ht]=ge.charCodeAt(ht);return We}const Br="fcm_token_details_db",ks="fcm_token_object_Store";function Lo(x){return Fs.apply(this,arguments)}function Fs(){return Fs=(0,H.Z)(function*(x){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ht=>ht.name).includes(Br))return null;let k=null;return(yield(0,he.X3)(Br,5,{upgrade:(ge=(0,H.Z)(function*(We,ht,kt,rn){var Un;if(ht<2||!We.objectStoreNames.contains(ks))return;const Cn=rn.objectStore(ks),mr=yield Cn.index("fcmSenderId").get(x);if(yield Cn.clear(),mr)if(2===ht){const jn=mr;if(!jn.auth||!jn.p256dh||!jn.endpoint)return;k={token:jn.fcmToken,createTime:null!==(Un=jn.createTime)&&void 0!==Un?Un:Date.now(),subscriptionOptions:{auth:jn.auth,p256dh:jn.p256dh,endpoint:jn.endpoint,swScope:jn.swScope,vapidKey:"string"==typeof jn.vapidKey?jn.vapidKey:Ji(jn.vapidKey)}}}else if(3===ht){const jn=mr;k={token:jn.fcmToken,createTime:jn.createTime,subscriptionOptions:{auth:Ji(jn.auth),p256dh:Ji(jn.p256dh),endpoint:jn.endpoint,swScope:jn.swScope,vapidKey:Ji(jn.vapidKey)}}}else if(4===ht){const jn=mr;k={token:jn.fcmToken,createTime:jn.createTime,subscriptionOptions:{auth:Ji(jn.auth),p256dh:Ji(jn.p256dh),endpoint:jn.endpoint,swScope:jn.swScope,vapidKey:Ji(jn.vapidKey)}}}}),function(ht,kt,rn,Un){return ge.apply(this,arguments)})})).close(),yield(0,he.Lj)(Br),yield(0,he.Lj)("fcm_vapid_details_db"),yield(0,he.Lj)("undefined"),Ar(k)?k:null;var ge}),Fs.apply(this,arguments)}function Ar(x){if(!x||!x.subscriptionOptions)return!1;const{subscriptionOptions:k}=x;return"number"==typeof x.createTime&&x.createTime>0&&"string"==typeof x.token&&x.token.length>0&&"string"==typeof k.auth&&k.auth.length>0&&"string"==typeof k.p256dh&&k.p256dh.length>0&&"string"==typeof k.endpoint&&k.endpoint.length>0&&"string"==typeof k.swScope&&k.swScope.length>0&&"string"==typeof k.vapidKey&&k.vapidKey.length>0}const ci="firebase-messaging-store";let ei=null;function ji(){return ei||(ei=(0,he.X3)("firebase-messaging-database",1,{upgrade:(x,k)=>{0===k&&x.createObjectStore(ci)}})),ei}function Ei(x){return yi.apply(this,arguments)}function yi(){return(yi=(0,H.Z)(function*(x){const k=Ti(x),ge=yield(yield ji()).transaction(ci).objectStore(ci).get(k);if(ge)return ge;{const We=yield Lo(x.appConfig.senderId);if(We)return yield Xn(x,We),We}})).apply(this,arguments)}function Xn(x,k){return to.apply(this,arguments)}function to(){return(to=(0,H.Z)(function*(x,k){const Z=Ti(x),We=(yield ji()).transaction(ci,"readwrite");return yield We.objectStore(ci).put(k,Z),yield We.done,k})).apply(this,arguments)}function as(x){return To.apply(this,arguments)}function To(){return(To=(0,H.Z)(function*(x){const k=Ti(x),ge=(yield ji()).transaction(ci,"readwrite");yield ge.objectStore(ci).delete(k),yield ge.done})).apply(this,arguments)}function Ti({appConfig:x}){return x.appId}const di=new ve.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Sn(x,k){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,H.Z)(function*(x,k){var Z;const ge=yield hs(x),We=Nt(k),ht={method:"POST",headers:ge,body:JSON.stringify(We)};let kt;try{kt=yield(yield fetch(Pi(x.appConfig),ht)).json()}catch(rn){throw di.create("token-subscribe-failed",{errorInfo:null===(Z=rn)||void 0===Z?void 0:Z.toString()})}if(kt.error)throw di.create("token-subscribe-failed",{errorInfo:kt.error.message});if(!kt.token)throw di.create("token-subscribe-no-token");return kt.token})).apply(this,arguments)}function Vo(x,k){return no.apply(this,arguments)}function no(){return(no=(0,H.Z)(function*(x,k){var Z;const ge=yield hs(x),We=Nt(k.subscriptionOptions),ht={method:"PATCH",headers:ge,body:JSON.stringify(We)};let kt;try{kt=yield(yield fetch(`${Pi(x.appConfig)}/${k.token}`,ht)).json()}catch(rn){throw di.create("token-update-failed",{errorInfo:null===(Z=rn)||void 0===Z?void 0:Z.toString()})}if(kt.error)throw di.create("token-update-failed",{errorInfo:kt.error.message});if(!kt.token)throw di.create("token-update-no-token");return kt.token})).apply(this,arguments)}function wi(x,k){return si.apply(this,arguments)}function si(){return(si=(0,H.Z)(function*(x,k){var Z;const We={method:"DELETE",headers:yield hs(x)};try{const kt=yield(yield fetch(`${Pi(x.appConfig)}/${k}`,We)).json();if(kt.error)throw di.create("token-unsubscribe-failed",{errorInfo:kt.error.message})}catch(ht){throw di.create("token-unsubscribe-failed",{errorInfo:null===(Z=ht)||void 0===Z?void 0:Z.toString()})}})).apply(this,arguments)}function Pi({projectId:x}){return`https://fcmregistrations.googleapis.com/v1/projects/${x}/registrations`}function hs(x){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,H.Z)(function*({appConfig:x,installations:k}){const Z=yield k.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x.apiKey,"x-goog-firebase-installations-auth":`FIS ${Z}`})})).apply(this,arguments)}function Nt({p256dh:x,auth:k,endpoint:Z,vapidKey:ge}){const We={web:{endpoint:Z,auth:k,p256dh:x}};return ge!==Qn&&(We.web.applicationPubKey=ge),We}const Jn=6048e5;function Zo(x){return fo.apply(this,arguments)}function fo(){return(fo=(0,H.Z)(function*(x){const k=yield po(x.swRegistration,x.vapidKey),Z={vapidKey:x.vapidKey,swScope:x.swRegistration.scope,endpoint:k.endpoint,auth:Ji(k.getKey("auth")),p256dh:Ji(k.getKey("p256dh"))},ge=yield Ei(x.firebaseDependencies);if(ge){if(L(ge.subscriptionOptions,Z))return Date.now()>=ge.createTime+Jn?Ks(x,{token:ge.token,createTime:Date.now(),subscriptionOptions:Z}):ge.token;try{yield wi(x.firebaseDependencies,ge.token)}catch(We){console.warn(We)}return qs(x.firebaseDependencies,Z)}return qs(x.firebaseDependencies,Z)})).apply(this,arguments)}function Gr(x){return fs.apply(this,arguments)}function fs(){return(fs=(0,H.Z)(function*(x){const k=yield Ei(x.firebaseDependencies);k&&(yield wi(x.firebaseDependencies,k.token),yield as(x.firebaseDependencies));const Z=yield x.swRegistration.pushManager.getSubscription();return!Z||Z.unsubscribe()})).apply(this,arguments)}function Ks(x,k){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,H.Z)(function*(x,k){try{const Z=yield Vo(x.firebaseDependencies,k),ge=Object.assign(Object.assign({},k),{token:Z,createTime:Date.now()});return yield Xn(x.firebaseDependencies,ge),Z}catch(Z){throw yield Gr(x),Z}})).apply(this,arguments)}function qs(x,k){return hi.apply(this,arguments)}function hi(){return(hi=(0,H.Z)(function*(x,k){const ge={token:yield Sn(x,k),createTime:Date.now(),subscriptionOptions:k};return yield Xn(x,ge),ge.token})).apply(this,arguments)}function po(x,k){return go.apply(this,arguments)}function go(){return(go=(0,H.Z)(function*(x,k){return(yield x.pushManager.getSubscription())||x.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Bi(k)})})).apply(this,arguments)}function L(x,k){return k.vapidKey===x.vapidKey&&k.endpoint===x.endpoint&&k.auth===x.auth&&k.p256dh===x.p256dh}function O(x){const k={from:x.from,collapseKey:x.collapse_key,messageId:x.fcmMessageId};return function A(x,k){if(!k.notification)return;x.notification={};const Z=k.notification.title;Z&&(x.notification.title=Z);const ge=k.notification.body;ge&&(x.notification.body=ge);const We=k.notification.image;We&&(x.notification.image=We)}(k,x),function Q(x,k){!k.data||(x.data=k.data)}(k,x),function at(x,k){var Z,ge,We,ht,kt;if(!(k.fcmOptions||null!==(Z=k.notification)&&void 0!==Z&&Z.click_action))return;x.fcmOptions={};const rn=null!==(We=null===(ge=k.fcmOptions)||void 0===ge?void 0:ge.link)&&void 0!==We?We:null===(ht=k.notification)||void 0===ht?void 0:ht.click_action;rn&&(x.fcmOptions.link=rn);const Un=null===(kt=k.fcmOptions)||void 0===kt?void 0:kt.analytics_label;Un&&(x.fcmOptions.analyticsLabel=Un)}(k,x),k}function an(x){return"object"==typeof x&&!!x&&Ps in x}function lr(x,k){const Z=[];for(let ge=0;ge<x.length;ge++)Z.push(x.charAt(ge)),ge<k.length&&Z.push(k.charAt(ge));return Z.join("")}function Xi(x){return di.create("missing-app-config-values",{valueName:x})}lr("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),lr("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ti{constructor(k,Z,ge){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const We=function Wi(x){if(!x||!x.options)throw Xi("App Configuration Object");if(!x.name)throw Xi("App Name");const k=["projectId","apiKey","appId","messagingSenderId"],{options:Z}=x;for(const ge of k)if(!Z[ge])throw Xi(ge);return{appName:x.name,projectId:Z.projectId,apiKey:Z.apiKey,appId:Z.appId,senderId:Z.messagingSenderId}}(k);this.firebaseDependencies={app:k,appConfig:We,installations:Z,analyticsProvider:ge}}_delete(){return Promise.resolve()}}function ro(x){return ps.apply(this,arguments)}function ps(){return(ps=(0,H.Z)(function*(x){var k;try{x.swRegistration=yield navigator.serviceWorker.register(mi,{scope:ds}),x.swRegistration.update().catch(()=>{})}catch(Z){throw di.create("failed-service-worker-registration",{browserErrorMessage:null===(k=Z)||void 0===k?void 0:k.message})}})).apply(this,arguments)}function Zs(x,k){return So.apply(this,arguments)}function So(){return(So=(0,H.Z)(function*(x,k){if(!k&&!x.swRegistration&&(yield ro(x)),k||!x.swRegistration){if(!(k instanceof ServiceWorkerRegistration))throw di.create("invalid-sw-registration");x.swRegistration=k}})).apply(this,arguments)}function aa(x,k){return mo.apply(this,arguments)}function mo(){return(mo=(0,H.Z)(function*(x,k){k?x.vapidKey=k:x.vapidKey||(x.vapidKey=Qn)})).apply(this,arguments)}function Ao(){return(Ao=(0,H.Z)(function*(x,k){if(!navigator)throw di.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw di.create("permission-blocked");return yield aa(x,k?.vapidKey),yield Zs(x,k?.serviceWorkerRegistration),Zo(x)})).apply(this,arguments)}function io(x,k,Z){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,H.Z)(function*(x,k,Z){const ge=Yo(k);(yield x.firebaseDependencies.analyticsProvider.get()).logEvent(ge,{message_id:Z[Ps],message_name:Z[ss],message_time:Z[co],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Yo(x){switch(x){case bi.NOTIFICATION_CLICKED:return"notification_open";case bi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function G(){return(G=(0,H.Z)(function*(x,k){const Z=k.data;if(!Z.isFirebaseMessaging)return;x.onMessageHandler&&Z.messageType===bi.PUSH_RECEIVED&&("function"==typeof x.onMessageHandler?x.onMessageHandler(O(Z)):x.onMessageHandler.next(O(Z)));const ge=Z.data;an(ge)&&"1"===ge[os]&&(yield io(x,Z.messageType,ge))})).apply(this,arguments)}const N="@firebase/messaging",Y="0.9.16",_e=x=>{const k=new ti(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),x.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Z=>function S(x,k){return G.apply(this,arguments)}(k,Z)),k},ut=x=>{const k=x.getProvider("messaging").getImmediate();return{getToken:ge=>function ya(x,k){return Ao.apply(this,arguments)}(k,ge)}};function yn(){return fr.apply(this,arguments)}function fr(){return(fr=(0,H.Z)(function*(){try{yield(0,ve.eu)()}catch{return!1}return typeof window<"u"&&(0,ve.hl)()&&(0,ve.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function mt(){(0,we._registerComponent)(new Pe.wA("messaging",_e,"PUBLIC")),(0,we._registerComponent)(new Pe.wA("messaging-internal",ut,"PRIVATE")),(0,we.registerVersion)(N,Y),(0,we.registerVersion)(N,Y,"esm2017")}();const $r="analytics",Ts="firebase_id",xo="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Bt="https://www.googletagmanager.com/gtag/js",er=new Me.Yd("@firebase/analytics");function yo(x){return Promise.all(x.map(k=>k.catch(Z=>Z)))}function va(x,k){const Z=document.createElement("script");Z.src=`${Bt}?l=${x}&id=${k}`,Z.async=!0,document.head.appendChild(Z)}function Gn(x,k,Z,ge,We,ht){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,H.Z)(function*(x,k,Z,ge,We,ht){const kt=ge[We];try{if(kt)yield k[kt];else{const Un=(yield yo(Z)).find(Cn=>Cn.measurementId===We);Un&&(yield k[Un.appId])}}catch(rn){er.error(rn)}x("config",We,ht)})).apply(this,arguments)}function qt(x,k,Z,ge,We){return pt.apply(this,arguments)}function pt(){return(pt=(0,H.Z)(function*(x,k,Z,ge,We){try{let ht=[];if(We&&We.send_to){let kt=We.send_to;Array.isArray(kt)||(kt=[kt]);const rn=yield yo(Z);for(const Un of kt){const Cn=rn.find(jn=>jn.measurementId===Un),mr=Cn&&k[Cn.appId];if(!mr){ht=[];break}ht.push(mr)}}0===ht.length&&(ht=Object.values(k)),yield Promise.all(ht),x("event",ge,We||{})}catch(ht){er.error(ht)}})).apply(this,arguments)}function ua(){const x=window.document.getElementsByTagName("script");for(const k of Object.values(x))if(k.src&&k.src.includes(Bt))return k;return null}const Ci=new ve.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),ca=new class _a{constructor(k={},Z=1e3){this.throttleMetadata=k,this.intervalMillis=Z}getThrottleMetadata(k){return this.throttleMetadata[k]}setThrottleMetadata(k,Z){this.throttleMetadata[k]=Z}deleteThrottleMetadata(k){delete this.throttleMetadata[k]}};function Sa(x){return new Headers({Accept:"application/json","x-goog-api-key":x})}function Aa(x){return vi.apply(this,arguments)}function vi(){return(vi=(0,H.Z)(function*(x){var k;const{appId:Z,apiKey:ge}=x,We={method:"GET",headers:Sa(ge)},ht=xo.replace("{app-id}",Z),kt=yield fetch(ht,We);if(200!==kt.status&&304!==kt.status){let rn="";try{const Un=yield kt.json();null!==(k=Un.error)&&void 0!==k&&k.message&&(rn=Un.error.message)}catch{}throw Ci.create("config-fetch-failed",{httpStatus:kt.status,responseMessage:rn})}return kt.json()})).apply(this,arguments)}function Ea(x){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,H.Z)(function*(x,k=ca,Z){const{appId:ge,apiKey:We,measurementId:ht}=x.options;if(!ge)throw Ci.create("no-app-id");if(!We){if(ht)return{measurementId:ht,appId:ge};throw Ci.create("no-api-key")}const kt=k.getThrottleMetadata(ge)||{backoffCount:0,throttleEndTimeMillis:Date.now()},rn=new Ro;return setTimeout((0,H.Z)(function*(){rn.abort()}),void 0!==Z?Z:6e4),No({appId:ge,apiKey:We,measurementId:ht},kt,rn,k)})).apply(this,arguments)}function No(x,k,Z){return ki.apply(this,arguments)}function ki(){return(ki=(0,H.Z)(function*(x,{throttleEndTimeMillis:k,backoffCount:Z},ge,We=ca){var ht,kt;const{appId:rn,measurementId:Un}=x;try{yield xr(ge,k)}catch(Cn){if(Un)return er.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Un} provided in the "measurementId" field in the local Firebase config. [${null===(ht=Cn)||void 0===ht?void 0:ht.message}]`),{appId:rn,measurementId:Un};throw Cn}try{const Cn=yield Aa(x);return We.deleteThrottleMetadata(rn),Cn}catch(Cn){const mr=Cn;if(!kn(mr)){if(We.deleteThrottleMetadata(rn),Un)return er.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Un} provided in the "measurementId" field in the local Firebase config. [${mr?.message}]`),{appId:rn,measurementId:Un};throw Cn}const jn=503===Number(null===(kt=mr?.customData)||void 0===kt?void 0:kt.httpStatus)?(0,ve.$s)(Z,We.intervalMillis,30):(0,ve.$s)(Z,We.intervalMillis),ls={throttleEndTimeMillis:Date.now()+jn,backoffCount:Z+1};return We.setThrottleMetadata(rn,ls),er.debug(`Calling attemptFetch again in ${jn} millis`),No(x,ls,ge,We)}})).apply(this,arguments)}function xr(x,k){return new Promise((Z,ge)=>{const We=Math.max(k-Date.now(),0),ht=setTimeout(Z,We);x.addEventListener(()=>{clearTimeout(ht),ge(Ci.create("fetch-throttle",{throttleEndTimeMillis:k}))})})}function kn(x){if(!(x instanceof ve.ZR&&x.customData))return!1;const k=Number(x.customData.httpStatus);return 429===k||500===k||503===k||504===k}class Ro{constructor(){this.listeners=[]}addEventListener(k){this.listeners.push(k)}abort(){this.listeners.forEach(k=>k())}}let or,da;function zr(){return(zr=(0,H.Z)(function*(x,k,Z,ge,We){if(We&&We.global)x("event",Z,ge);else{const ht=yield k;x("event",Z,Object.assign(Object.assign({},ge),{send_to:ht}))}})).apply(this,arguments)}function jo(x){da=x}function us(x){or=x}function _i(){return $o.apply(this,arguments)}function $o(){return($o=(0,H.Z)(function*(){var x;if(!(0,ve.hl)())return er.warn(Ci.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ve.eu)()}catch(k){return er.warn(Ci.create("indexeddb-unavailable",{errorInfo:null===(x=k)||void 0===x?void 0:x.toString()}).message),!1}return!0})).apply(this,arguments)}function gs(){return(gs=(0,H.Z)(function*(x,k,Z,ge,We,ht,kt){var rn;const Un=Ea(x);Un.then(Ss=>{Z[Ss.measurementId]=Ss.appId,x.options.measurementId&&Ss.measurementId!==x.options.measurementId&&er.warn(`The measurement ID in the local Firebase config (${x.options.measurementId}) does not match the measurement ID fetched from the server (${Ss.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ss=>er.error(Ss)),k.push(Un);const Cn=_i().then(Ss=>{if(Ss)return ge.getId()}),[mr,jn]=yield Promise.all([Un,Cn]);ua()||va(ht,mr.measurementId),da&&(We("consent","default",da),jo(void 0)),We("js",new Date);const ls=null!==(rn=kt?.config)&&void 0!==rn?rn:{};return ls.origin="firebase",ls.update=!0,null!=jn&&(ls[Ts]=jn),We("config",mr.measurementId,ls),or&&(We("set",or),us(void 0)),mr.measurementId})).apply(this,arguments)}class Jo{constructor(k){this.app=k}_delete(){return delete et[this.app.options.appId],Promise.resolve()}}let et={},_o=[];const $i={};let ms,ys,wa="dataLayer",oo=!1;function Ka(x,k,Z){!function Mu(){const x=[];if((0,ve.ru)()&&x.push("This is a browser extension environment."),(0,ve.zI)()||x.push("Cookies are not available."),x.length>0){const k=x.map((ge,We)=>`(${We+1}) ${ge}`).join(" "),Z=Ci.create("invalid-analytics-context",{errorInfo:k});er.warn(Z.message)}}();const ge=x.options.appId;if(!ge)throw Ci.create("no-app-id");if(!x.options.apiKey){if(!x.options.measurementId)throw Ci.create("no-api-key");er.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${x.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=et[ge])throw Ci.create("already-exists",{id:ge});if(!oo){!function vn(x){let k=[];Array.isArray(window[x])?k=window[x]:window[x]=k}(wa);const{wrappedGtag:ht,gtagCore:kt}=function Dr(x,k,Z,ge,We){let ht=function(...kt){window[ge].push(arguments)};return window[We]&&"function"==typeof window[We]&&(ht=window[We]),window[We]=function Lt(x,k,Z,ge){function ht(){return(ht=(0,H.Z)(function*(kt,rn,Un){try{"event"===kt?yield qt(x,k,Z,rn,Un):"config"===kt?yield Gn(x,k,Z,ge,rn,Un):"consent"===kt?x("consent","update",Un):x("set",rn)}catch(Cn){er.error(Cn)}})).apply(this,arguments)}return function We(kt,rn,Un){return ht.apply(this,arguments)}}(ht,x,k,Z),{gtagCore:ht,wrappedGtag:window[We]}}(et,_o,$i,wa,"gtag");ys=ht,ms=kt,oo=!0}return et[ge]=function Va(x,k,Z,ge,We,ht,kt){return gs.apply(this,arguments)}(x,_o,$i,k,ms,wa,Z),new Jo(x)}function xu(){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,H.Z)(function*(){if((0,ve.ru)()||!(0,ve.zI)()||!(0,ve.hl)())return!1;try{return yield(0,ve.eu)()}catch{return!1}})).apply(this,arguments)}const De="@firebase/analytics";!function lt(){(0,we._registerComponent)(new Pe.wA($r,(k,{options:Z})=>Ka(k.getProvider("app").getImmediate(),k.getProvider("installations-internal").getImmediate(),Z),"PUBLIC")),(0,we._registerComponent)(new Pe.wA("analytics-internal",function x(k){try{const Z=k.getProvider($r).getImmediate();return{logEvent:(ge,We,ht)=>function te(x,k,Z,ge){x=(0,ve.m9)(x),function Qo(x,k,Z,ge,We){return zr.apply(this,arguments)}(ys,et[x.app.options.appId],k,Z,ge).catch(We=>er.error(We))}(Z,ge,We,ht)}}catch(Z){throw Ci.create("interop-component-reg-failed",{reason:Z})}},"PRIVATE")),(0,we.registerVersion)(De,"0.8.0"),(0,we.registerVersion)(De,"0.8.0","esm2017")}();var en=U(4408),_n=U(7565);const Pn=new class Fn extends _n.v{}(class un extends en.o{constructor(k,Z){super(k,Z),this.scheduler=k,this.work=Z}schedule(k,Z=0){return Z>0?super.schedule(k,Z):(this.delay=Z,this.state=k,this.scheduler.flush(this),this)}execute(k,Z){return Z>0||this.closed?super.execute(k,Z):this._execute(k,Z)}requestAsyncId(k,Z,ge=0){return null!=ge&&ge>0||null==ge&&this.delay>0?super.requestAsyncId(k,Z,ge):k.flush(this)}});var Cr=U(4986),Nr=U(8505),ni=U(9468),Si=U(5363);const br=new c.GfV("7.4.1"),Eo="__angularfire_symbol__analyticsIsSupportedValue",_="__angularfire_symbol__analyticsIsSupported",w="__angularfire_symbol__remoteConfigIsSupportedValue",y="__angularfire_symbol__remoteConfigIsSupported",T="__angularfire_symbol__messagingIsSupportedValue",P="__angularfire_symbol__messagingIsSupported";function Ht(x,k,Z){if(k){if(1===k.length)return k[0];const ht=k.filter(kt=>kt.app===Z);if(1===ht.length)return ht[0]}return Z.container.getProvider(x).getImmediate({optional:!0})}globalThis[_]||(globalThis[_]=xu().then(x=>globalThis[Eo]=x).catch(()=>globalThis[Eo]=!1)),globalThis[P]||(globalThis[P]=yn().then(x=>globalThis[T]=x).catch(()=>globalThis[T]=!1)),globalThis[y]||(globalThis[y]=Qi().then(x=>globalThis[w]=x).catch(()=>globalThis[w]=!1));const Pt=(x,k)=>{const Z=k?[k]:(0,F.C6)(),ge=[];return Z.forEach(We=>{We.container.getProvider(x).instances.forEach(kt=>{ge.includes(kt)||ge.push(kt)})}),ge};function yt(){}class Zt{constructor(k,Z=Pn){this.zone=k,this.delegate=Z}now(){return this.delegate.now()}schedule(k,Z,ge){const We=this.zone;return this.delegate.schedule(function(kt){We.runGuarded(()=>{k.apply(this,[kt])})},Z,ge)}}class zn{constructor(k){this.zone=k,this.task=null}call(k,Z){const ge=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",yt,{},yt,yt)),Z.pipe((0,Nr.b)({next:ge,complete:ge,error:ge})).subscribe(k).add(ge)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Er=(()=>{class x{constructor(Z){this.ngZone=Z,this.outsideAngular=Z.runOutsideAngular(()=>new Zt(Zone.current)),this.insideAngular=Z.run(()=>new Zt(Zone.current,Cr.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return x.\u0275fac=function(Z){return new(Z||x)(c.LFG(c.R0b))},x.\u0275prov=c.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function Wr(){const x=globalThis.\u0275AngularFireScheduler;if(!x)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return x}function ta(x){return Wr(),function Fr(x){return function(Z){return(Z=Z.lift(new zn(x.ngZone))).pipe((0,ni.R)(x.outsideAngular),(0,Si.Q)(x.insideAngular))}}(Wr())(x)}},7143:(Jt,tt,U)=>{U.d(tt,{$:()=>Pi,A:()=>fe,B:()=>ct,G:()=>Vi,H:()=>Qr,J:()=>rs,L:()=>It,M:()=>bs,N:()=>zs,P:()=>Cr,Q:()=>Ps,R:()=>R,T:()=>ss,U:()=>Qn,V:()=>bi,W:()=>Ji,X:()=>Lo,Y:()=>Ws,Z:()=>Sn,_:()=>Vo,a:()=>Uo,a0:()=>Zo,a1:()=>Gr,a2:()=>Ks,a3:()=>qs,a4:()=>po,a5:()=>L,a6:()=>A,a7:()=>Q,a8:()=>an,a9:()=>lr,aA:()=>Ss,aB:()=>Un,aC:()=>Kr,aD:()=>_s,aE:()=>dn,aI:()=>Sa,aL:()=>os,aa:()=>ro,ab:()=>Zs,ac:()=>aa,af:()=>io,ag:()=>Yo,ah:()=>S,ak:()=>ci,al:()=>_r,an:()=>Bt,ao:()=>Wa,ap:()=>ie,aq:()=>st,ar:()=>de,as:()=>pn,at:()=>Ct,au:()=>$a,av:()=>Ba,aw:()=>oe,ax:()=>Re,ay:()=>Oe,az:()=>nn,b:()=>Ci,c:()=>T,d:()=>ye,e:()=>K,f:()=>Fr,g:()=>ge,h:()=>x,i:()=>$o,j:()=>kt,k:()=>hc,l:()=>nt,m:()=>Na,o:()=>he,r:()=>en,s:()=>be,u:()=>Pn});var c=U(5861),F=U(2090),H=U(9681),we=U(655),ve=U(1877),Pe=U(4859);const he={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},fe={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ct=function xe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Je=function ft(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},jt=new F.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ze=new ve.Yd("@firebase/auth");function Dt(I,...f){Ze.logLevel<=ve.in.ERROR&&Ze.error(`Auth (${H.SDK_VERSION}): ${I}`,...f)}function Ct(I,...f){throw St(I,...f)}function oe(I,...f){return St(I,...f)}function Ae(I,f,p){const b=Object.assign(Object.assign({},Je()),{[f]:p});return new F.LL("auth","Firebase",b).create(f,{appName:I.name})}function Ke(I,f,p){if(!(f instanceof p))throw p.name!==f.constructor.name&&Ct(I,"argument-error"),Ae(I,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function St(I,...f){if("string"!=typeof I){const p=f[0],b=[...f.slice(1)];return b[0]&&(b[0].appName=I.name),I._errorFactory.create(p,...b)}return jt.create(I,...f)}function Re(I,f,...p){if(!I)throw St(f,...p)}function ze(I){const f="INTERNAL ASSERTION FAILED: "+I;throw Dt(f),new Error(f)}function st(I,f){I||ze(f)}const Te=new Map;function Oe(I){st(I instanceof Function,"Expected a class definition");let f=Te.get(I);return f?(st(f instanceof I,"Instance stored in cache mismatched with class"),f):(f=new I,Te.set(I,f),f)}function wt(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function xt(){return"http:"===Ot()||"https:"===Ot()}function Ot(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class _t{constructor(f,p){this.shortDelay=f,this.longDelay=p,st(p>f,"Short delay should be less than long delay!"),this.isMobile=(0,F.uI)()||(0,F.b$)()}get(){return function Wt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(xt()||(0,F.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function tn(I,f){st(I.emulator,"Emulator should always be set here");const{url:p}=I.emulator;return f?`${p}${f.startsWith("/")?f.slice(1):f}`:p}class ln{static initialize(f,p,b){this.fetchImpl=f,p&&(this.headersImpl=p),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ze("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ze("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ze("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Xe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},vt=new _t(3e4,6e4);function Se(I,f){return I.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:I.tenantId}):f}function je(I,f,p,b){return $t.apply(this,arguments)}function $t(){return($t=(0,c.Z)(function*(I,f,p,b,q={}){return mn(I,q,(0,c.Z)(function*(){let re={},qe={};b&&("GET"===f?qe=b:re={body:JSON.stringify(b)});const bt=(0,F.xO)(Object.assign({key:I.config.apiKey},qe)).slice(1),hn=yield I._getAdditionalHeaders();return hn["Content-Type"]="application/json",I.languageCode&&(hn["X-Firebase-Locale"]=I.languageCode),ln.fetch()(gr(I,I.config.apiHost,p,bt),Object.assign({method:f,headers:hn,referrerPolicy:"no-referrer"},re))}))})).apply(this,arguments)}function mn(I,f,p){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,c.Z)(function*(I,f,p){I._canInitEmulator=!1;const b=Object.assign(Object.assign({},Xe),f);try{const q=new Xt(I),re=yield Promise.race([p(),q.promise]);q.clearNetworkTimeout();const qe=yield re.json();if("needConfirmation"in qe)throw On(I,"account-exists-with-different-credential",qe);if(re.ok&&!("errorMessage"in qe))return qe;{const bt=re.ok?qe.errorMessage:qe.error.message,[hn,Ln]=bt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===hn)throw On(I,"credential-already-in-use",qe);if("EMAIL_EXISTS"===hn)throw On(I,"email-already-in-use",qe);if("USER_DISABLED"===hn)throw On(I,"user-disabled",qe);const ar=b[hn]||hn.toLowerCase().replace(/[_\s]+/g,"-");if(Ln)throw Ae(I,ar,Ln);Ct(I,ar)}}catch(q){if(q instanceof F.ZR)throw q;Ct(I,"network-request-failed")}})).apply(this,arguments)}function $n(I,f,p,b){return cr.apply(this,arguments)}function cr(){return(cr=(0,c.Z)(function*(I,f,p,b,q={}){const re=yield je(I,f,p,b,q);return"mfaPendingCredential"in re&&Ct(I,"multi-factor-auth-required",{_serverResponse:re}),re})).apply(this,arguments)}function gr(I,f,p,b){const q=`${f}${p}?${b}`;return I.config.emulator?tn(I.config,q):`${I.config.apiScheme}://${q}`}class Xt{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((p,b)=>{this.timer=setTimeout(()=>b(oe(this.auth,"network-request-failed")),vt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function On(I,f,p){const b={appName:I.name};p.email&&(b.email=p.email),p.phoneNumber&&(b.phoneNumber=p.phoneNumber);const q=oe(I,f,b);return q.customData._tokenResponse=p,q}function dr(){return(dr=(0,c.Z)(function*(I,f){return je(I,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Ft(I,f){return An.apply(this,arguments)}function An(){return(An=(0,c.Z)(function*(I,f){return je(I,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function wn(I,f){return qn.apply(this,arguments)}function qn(){return(qn=(0,c.Z)(function*(I,f){return je(I,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Tr(I){if(I)try{const f=new Date(Number(I));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function xn(){return(xn=(0,c.Z)(function*(I,f=!1){const p=(0,F.m9)(I),b=yield p.getIdToken(f),q=on(b);Re(q&&q.exp&&q.auth_time&&q.iat,p.auth,"internal-error");const re="object"==typeof q.firebase?q.firebase:void 0,qe=re?.sign_in_provider;return{claims:q,token:b,authTime:Tr(Bn(q.auth_time)),issuedAtTime:Tr(Bn(q.iat)),expirationTime:Tr(Bn(q.exp)),signInProvider:qe||null,signInSecondFactor:re?.sign_in_second_factor||null}})).apply(this,arguments)}function Bn(I){return 1e3*Number(I)}function on(I){var f;const[p,b,q]=I.split(".");if(void 0===p||void 0===b||void 0===q)return Dt("JWT malformed, contained fewer than 3 sections"),null;try{const re=(0,F.tV)(b);return re?JSON.parse(re):(Dt("Failed to decode base64 JWT payload"),null)}catch(re){return Dt("Caught error parsing JWT payload as JSON",null===(f=re)||void 0===f?void 0:f.toString()),null}}function bn(I,f){return Or.apply(this,arguments)}function Or(){return(Or=(0,c.Z)(function*(I,f,p=!1){if(p)return f;try{return yield f}catch(b){throw b instanceof F.ZR&&hr(b)&&I.auth.currentUser===I&&(yield I.auth.signOut()),b}})).apply(this,arguments)}function hr({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}class qr{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var p;if(f){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const q=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,q)}}schedule(f=!1){var p=this;if(!this.isRunning)return;const b=this.getInterval(f);this.timerId=setTimeout((0,c.Z)(function*(){yield p.iteration()}),b)}iteration(){var f=this;return(0,c.Z)(function*(){var p;try{yield f.user.getIdToken(!0)}catch(b){return void("auth/network-request-failed"===(null===(p=b)||void 0===p?void 0:p.code)&&f.schedule(!0))}f.schedule()})()}}class En{constructor(f,p){this.createdAt=f,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tr(this.lastLoginAt),this.creationTime=Tr(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ii(I){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,c.Z)(function*(I){var f;const p=I.auth,b=yield I.getIdToken(),q=yield bn(I,wn(p,{idToken:b}));Re(q?.users.length,p,"internal-error");const re=q.users[0];I._notifyReloadListener(re);const qe=null!==(f=re.providerUserInfo)&&void 0!==f&&f.length?ce(re.providerUserInfo):[],bt=Ne(I.providerData,qe),ar=!!I.isAnonymous&&!(I.email&&re.passwordHash||bt?.length),Ai={uid:re.localId,displayName:re.displayName||null,photoURL:re.photoUrl||null,email:re.email||null,emailVerified:re.emailVerified||!1,phoneNumber:re.phoneNumber||null,tenantId:re.tenantId||null,providerData:bt,metadata:new En(re.createdAt,re.lastLoginAt),isAnonymous:ar};Object.assign(I,Ai)})).apply(this,arguments)}function Hn(){return(Hn=(0,c.Z)(function*(I){const f=(0,F.m9)(I);yield ii(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Ne(I,f){return[...I.filter(b=>!f.some(q=>q.providerId===b.providerId)),...f]}function ce(I){return I.map(f=>{var{providerId:p}=f,b=(0,we._T)(f,["providerId"]);return{providerId:p,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function Ie(){return(Ie=(0,c.Z)(function*(I,f){const p=yield mn(I,{},(0,c.Z)(function*(){const b=(0,F.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:q,apiKey:re}=I.config,qe=gr(I,q,"/v1/token",`key=${re}`),bt=yield I._getAdditionalHeaders();return bt["Content-Type"]="application/x-www-form-urlencoded",ln.fetch()(qe,{method:"POST",headers:bt,body:b})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class ee{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){Re(f.idToken,"internal-error"),Re(typeof f.idToken<"u","internal-error"),Re(typeof f.refreshToken<"u","internal-error");const p="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function cn(I){const f=on(I);return Re(f,"internal-error"),Re(typeof f.exp<"u","internal-error"),Re(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,p)}getToken(f,p=!1){var b=this;return(0,c.Z)(function*(){return Re(!b.accessToken||b.refreshToken,f,"user-token-expired"),p||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(f,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,p){var b=this;return(0,c.Z)(function*(){const{accessToken:q,refreshToken:re,expiresIn:qe}=yield function pe(I,f){return Ie.apply(this,arguments)}(f,p);b.updateTokensAndExpiration(q,re,Number(qe))})()}updateTokensAndExpiration(f,p,b){this.refreshToken=p||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(f,p){const{refreshToken:b,accessToken:q,expirationTime:re}=p,qe=new ee;return b&&(Re("string"==typeof b,"internal-error",{appName:f}),qe.refreshToken=b),q&&(Re("string"==typeof q,"internal-error",{appName:f}),qe.accessToken=q),re&&(Re("number"==typeof re,"internal-error",{appName:f}),qe.expirationTime=re),qe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new ee,this.toJSON())}_performRefresh(){return ze("not implemented")}}function j(I,f){Re("string"==typeof I||typeof I>"u","internal-error",{appName:f})}class X{constructor(f){var{uid:p,auth:b,stsTokenManager:q}=f,re=(0,we._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=b,this.stsTokenManager=q,this.accessToken=q.accessToken,this.displayName=re.displayName||null,this.email=re.email||null,this.emailVerified=re.emailVerified||!1,this.phoneNumber=re.phoneNumber||null,this.photoURL=re.photoURL||null,this.isAnonymous=re.isAnonymous||!1,this.tenantId=re.tenantId||null,this.providerData=re.providerData?[...re.providerData]:[],this.metadata=new En(re.createdAt||void 0,re.lastLoginAt||void 0)}getIdToken(f){var p=this;return(0,c.Z)(function*(){const b=yield bn(p,p.stsTokenManager.getToken(p.auth,f));return Re(b,p.auth,"internal-error"),p.accessToken!==b&&(p.accessToken=b,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),b})()}getIdTokenResult(f){return function Ir(I){return xn.apply(this,arguments)}(this,f)}reload(){return function pi(I){return Hn.apply(this,arguments)}(this)}_assign(f){this!==f&&(Re(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(p=>Object.assign({},p)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new X(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,p=!1){var b=this;return(0,c.Z)(function*(){let q=!1;f.idToken&&f.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(f),q=!0),p&&(yield ii(b)),yield b.auth._persistUserIfCurrent(b),q&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var f=this;return(0,c.Z)(function*(){const p=yield f.getIdToken();return yield bn(f,function Rr(I,f){return dr.apply(this,arguments)}(f.auth,{idToken:p})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,p){var b,q,re,qe,bt,hn,Ln,ar;const Ai=null!==(b=p.displayName)&&void 0!==b?b:void 0,Ha=null!==(q=p.email)&&void 0!==q?q:void 0,Fi=null!==(re=p.phoneNumber)&&void 0!==re?re:void 0,Lr=null!==(qe=p.photoURL)&&void 0!==qe?qe:void 0,Ju=null!==(bt=p.tenantId)&&void 0!==bt?bt:void 0,Pu=null!==(hn=p._redirectEventId)&&void 0!==hn?hn:void 0,Xa=null!==(Ln=p.createdAt)&&void 0!==Ln?Ln:void 0,hh=null!==(ar=p.lastLoginAt)&&void 0!==ar?ar:void 0,{uid:ao,emailVerified:pc,isAnonymous:ku,providerData:Rl,stsTokenManager:Da}=p;Re(ao&&Da,f,"internal-error");const gc=ee.fromJSON(this.name,Da);Re("string"==typeof ao,f,"internal-error"),j(Ai,f.name),j(Ha,f.name),Re("boolean"==typeof pc,f,"internal-error"),Re("boolean"==typeof ku,f,"internal-error"),j(Fi,f.name),j(Lr,f.name),j(Ju,f.name),j(Pu,f.name),j(Xa,f.name),j(hh,f.name);const Ra=new X({uid:ao,auth:f,email:Ha,emailVerified:pc,displayName:Ai,isAnonymous:ku,photoURL:Lr,phoneNumber:Fi,tenantId:Ju,stsTokenManager:gc,createdAt:Xa,lastLoginAt:hh});return Rl&&Array.isArray(Rl)&&(Ra.providerData=Rl.map(od=>Object.assign({},od))),Pu&&(Ra._redirectEventId=Pu),Ra}static _fromIdTokenResponse(f,p,b=!1){return(0,c.Z)(function*(){const q=new ee;q.updateFromServerResponse(p);const re=new X({uid:p.localId,auth:f,stsTokenManager:q,isAnonymous:b});return yield ii(re),re})()}}const It=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(p,b){var q=this;return(0,c.Z)(function*(){q.storage[p]=b})()}_get(p){var b=this;return(0,c.Z)(function*(){const q=b.storage[p];return void 0===q?null:q})()}_remove(p){var b=this;return(0,c.Z)(function*(){delete b.storage[p]})()}_addListener(p,b){}_removeListener(p,b){}}return I.type="NONE",I})();function nn(I,f,p){return`firebase:${I}:${f}:${p}`}class Vn{constructor(f,p,b){this.persistence=f,this.auth=p,this.userKey=b;const{config:q,name:re}=this.auth;this.fullUserKey=nn(this.userKey,q.apiKey,re),this.fullPersistenceKey=nn("persistence",q.apiKey,re),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,c.Z)(function*(){const p=yield f.persistence._get(f.fullUserKey);return p?X._fromJSON(f.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var p=this;return(0,c.Z)(function*(){if(p.persistence===f)return;const b=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=f,b?p.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,p,b="authUser"){return(0,c.Z)(function*(){if(!p.length)return new Vn(Oe(It),f,b);const q=(yield Promise.all(p.map(function(){var Ln=(0,c.Z)(function*(ar){if(yield ar._isAvailable())return ar});return function(ar){return Ln.apply(this,arguments)}}()))).filter(Ln=>Ln);let re=q[0]||Oe(It);const qe=nn(b,f.config.apiKey,f.name);let bt=null;for(const Ln of p)try{const ar=yield Ln._get(qe);if(ar){const Ai=X._fromJSON(f,ar);Ln!==re&&(bt=Ai),re=Ln;break}}catch{}const hn=q.filter(Ln=>Ln._shouldAllowMigration);return re._shouldAllowMigration&&hn.length?(re=hn[0],bt&&(yield re._set(qe,bt.toJSON())),yield Promise.all(p.map(function(){var Ln=(0,c.Z)(function*(ar){if(ar!==re)try{yield ar._remove(qe)}catch{}});return function(ar){return Ln.apply(this,arguments)}}())),new Vn(re,f,b)):new Vn(re,f,b)})()}}function Ue(I){const f=I.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Vt(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(me(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Gt(f))return"Blackberry";if(ue(f))return"Webos";if(Ee(f))return"Safari";if((f.includes("chrome/")||dt(f))&&!f.includes("edge/"))return"Chrome";if(pn(f))return"Android";{const b=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function me(I=(0,F.z$)()){return/firefox\//i.test(I)}function Ee(I=(0,F.z$)()){const f=I.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function dt(I=(0,F.z$)()){return/crios\//i.test(I)}function Vt(I=(0,F.z$)()){return/iemobile/i.test(I)}function pn(I=(0,F.z$)()){return/android/i.test(I)}function Gt(I=(0,F.z$)()){return/blackberry/i.test(I)}function ue(I=(0,F.z$)()){return/webos/i.test(I)}function de(I=(0,F.z$)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function ie(I=(0,F.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}function Kt(I=(0,F.z$)()){return de(I)||pn(I)||ue(I)||Gt(I)||/windows phone/i.test(I)||Vt(I)}function In(I,f=[]){let p;switch(I){case"Browser":p=Ue((0,F.z$)());break;case"Worker":p=`${Ue((0,F.z$)())}-${I}`;break;default:p=I}const b=f.length?f.join(","):"FirebaseCore-web";return`${p}/JsCore/${H.SDK_VERSION}/${b}`}class Sr{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,p){const b=re=>new Promise((qe,bt)=>{try{qe(f(re))}catch(hn){bt(hn)}});b.onAbort=p,this.queue.push(b);const q=this.queue.length-1;return()=>{this.queue[q]=()=>Promise.resolve()}}runMiddleware(f){var p=this;return(0,c.Z)(function*(){var b;if(p.auth.currentUser===f)return;const q=[];try{for(const re of p.queue)yield re(f),re.onAbort&&q.push(re.onAbort)}catch(re){q.reverse();for(const qe of q)try{qe()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:null===(b=re)||void 0===b?void 0:b.message})}})()}}class ui{constructor(f,p,b){this.app=f,this.heartbeatServiceProvider=p,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Li(this),this.idTokenSubscription=new Li(this),this.beforeStateQueue=new Sr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(f,p){var b=this;return p&&(this._popupRedirectResolver=Oe(p)),this._initializationPromise=this.queue((0,c.Z)(function*(){var q,re;if(!b._deleted&&(b.persistenceManager=yield Vn.create(b,f),!b._deleted)){if(null!==(q=b._popupRedirectResolver)&&void 0!==q&&q._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(p),b.lastNotifiedUid=(null===(re=b.currentUser)||void 0===re?void 0:re.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,c.Z)(function*(){if(f._deleted)return;const p=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||p){if(f.currentUser&&p&&f.currentUser.uid===p.uid)return f._currentUser._assign(p),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(p,!0)}})()}initializeCurrentUser(f){var p=this;return(0,c.Z)(function*(){var b;const q=yield p.assertedPersistence.getCurrentUser();let re=q,qe=!1;if(f&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const bt=null===(b=p.redirectUser)||void 0===b?void 0:b._redirectEventId,hn=re?._redirectEventId,Ln=yield p.tryRedirectSignIn(f);(!bt||bt===hn)&&Ln?.user&&(re=Ln.user,qe=!0)}if(!re)return p.directlySetCurrentUser(null);if(!re._redirectEventId){if(qe)try{yield p.beforeStateQueue.runMiddleware(re)}catch(bt){re=q,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(bt))}return re?p.reloadAndSetCurrentUserOrClear(re):p.directlySetCurrentUser(null)}return Re(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===re._redirectEventId?p.directlySetCurrentUser(re):p.reloadAndSetCurrentUserOrClear(re)})()}tryRedirectSignIn(f){var p=this;return(0,c.Z)(function*(){let b=null;try{b=yield p._popupRedirectResolver._completeRedirectFn(p,f,!0)}catch{yield p._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(f){var p=this;return(0,c.Z)(function*(){var b;try{yield ii(f)}catch(q){if("auth/network-request-failed"!==(null===(b=q)||void 0===b?void 0:b.code))return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function sn(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var f=this;return(0,c.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var p=this;return(0,c.Z)(function*(){const b=f?(0,F.m9)(f):null;return b&&Re(b.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(b&&b._clone(p))})()}_updateCurrentUser(f,p=!1){var b=this;return(0,c.Z)(function*(){if(!b._deleted)return f&&Re(b.tenantId===f.tenantId,b,"tenant-id-mismatch"),p||(yield b.beforeStateQueue.runMiddleware(f)),b.queue((0,c.Z)(function*(){yield b.directlySetCurrentUser(f),b.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,c.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var p=this;return this.queue((0,c.Z)(function*(){yield p.assertedPersistence.setPersistence(Oe(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new F.LL("auth","Firebase",f())}onAuthStateChanged(f,p,b){return this.registerStateListener(this.authStateSubscription,f,p,b)}beforeAuthStateChanged(f,p){return this.beforeStateQueue.pushCallback(f,p)}onIdTokenChanged(f,p,b){return this.registerStateListener(this.idTokenSubscription,f,p,b)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,p){var b=this;return(0,c.Z)(function*(){const q=yield b.getOrInitRedirectPersistenceManager(p);return null===f?q.removeCurrentUser():q.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var p=this;return(0,c.Z)(function*(){if(!p.redirectPersistenceManager){const b=f&&Oe(f)||p._popupRedirectResolver;Re(b,p,"argument-error"),p.redirectPersistenceManager=yield Vn.create(p,[Oe(b._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(f){var p=this;return(0,c.Z)(function*(){var b,q;return p._isInitialized&&(yield p.queue((0,c.Z)(function*(){}))),(null===(b=p._currentUser)||void 0===b?void 0:b._redirectEventId)===f?p._currentUser:(null===(q=p.redirectUser)||void 0===q?void 0:q._redirectEventId)===f?p.redirectUser:null})()}_persistUserIfCurrent(f){var p=this;return(0,c.Z)(function*(){if(f===p.currentUser)return p.queue((0,c.Z)(function*(){return p.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(p=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,p,b,q){if(this._deleted)return()=>{};const re="function"==typeof p?p:p.next.bind(p),qe=this._isInitialized?Promise.resolve():this._initializationPromise;return Re(qe,this,"internal-error"),qe.then(()=>re(this.currentUser)),"function"==typeof p?f.addObserver(p,b,q):f.addObserver(p)}directlySetCurrentUser(f){var p=this;return(0,c.Z)(function*(){p.currentUser&&p.currentUser!==f&&p._currentUser._stopProactiveRefresh(),f&&p.isProactiveRefreshEnabled&&f._startProactiveRefresh(),p.currentUser=f,f?yield p.assertedPersistence.setCurrentUser(f):yield p.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=In(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,c.Z)(function*(){var p;const b={"X-Client-Version":f.clientVersion};f.app.options.appId&&(b["X-Firebase-gmpid"]=f.app.options.appId);const q=yield null===(p=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();return q&&(b["X-Firebase-Client"]=q),b})()}}function dn(I){return(0,F.m9)(I)}class Li{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,F.ne)(p=>this.observer=p)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Vi(I,f,p){const b=dn(I);Re(b._canInitEmulator,b,"emulator-config-failed"),Re(/^https?:\/\//.test(f),b,"invalid-emulator-scheme");const q=!!p?.disableWarnings,re=ws(f),{host:qe,port:bt}=function Gi(I){const f=ws(I),p=/(\/\/)?([^?#/]+)/.exec(I.substr(f.length));if(!p)return{host:"",port:null};const b=p[2].split("@").pop()||"",q=/^(\[[^\]]+\])(:|$)/.exec(b);if(q){const re=q[1];return{host:re,port:Zr(b.substr(re.length+1))}}{const[re,qe]=b.split(":");return{host:re,port:Zr(qe)}}}(f);b.config.emulator={url:`${re}//${qe}${null===bt?"":`:${bt}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:qe,port:bt,protocol:re.replace(":",""),options:Object.freeze({disableWarnings:q})}),q||function Hs(){function I(){const f=document.createElement("p"),p=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}function ws(I){const f=I.indexOf(":");return f<0?"":I.substr(0,f+1)}function Zr(I){if(!I)return null;const f=Number(I);return isNaN(f)?null:f}class Qr{constructor(f,p){this.providerId=f,this.signInMethod=p}toJSON(){return ze("not implemented")}_getIdTokenResponse(f){return ze("not implemented")}_linkToIdToken(f,p){return ze("not implemented")}_getReauthenticationResolver(f){return ze("not implemented")}}function gi(I,f){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,c.Z)(function*(I,f){return je(I,"POST","/v1/accounts:resetPassword",Se(I,f))})).apply(this,arguments)}function Is(I,f){return nr.apply(this,arguments)}function nr(){return(nr=(0,c.Z)(function*(I,f){return je(I,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Ko(I,f){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,c.Z)(function*(I,f){return je(I,"POST","/v1/accounts:update",Se(I,f))})).apply(this,arguments)}function Zi(){return(Zi=(0,c.Z)(function*(I,f){return $n(I,"POST","/v1/accounts:signInWithPassword",Se(I,f))})).apply(this,arguments)}function zi(I,f){return He.apply(this,arguments)}function He(){return(He=(0,c.Z)(function*(I,f){return je(I,"POST","/v1/accounts:sendOobCode",Se(I,f))})).apply(this,arguments)}function Fe(I,f){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,c.Z)(function*(I,f){return zi(I,f)})).apply(this,arguments)}function Et(I,f){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,c.Z)(function*(I,f){return zi(I,f)})).apply(this,arguments)}function Qt(I,f){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,c.Z)(function*(I,f){return zi(I,f)})).apply(this,arguments)}function Ur(I,f){return rr.apply(this,arguments)}function rr(){return(rr=(0,c.Z)(function*(I,f){return zi(I,f)})).apply(this,arguments)}function ts(){return(ts=(0,c.Z)(function*(I,f){return $n(I,"POST","/v1/accounts:signInWithEmailLink",Se(I,f))})).apply(this,arguments)}function ns(){return(ns=(0,c.Z)(function*(I,f){return $n(I,"POST","/v1/accounts:signInWithEmailLink",Se(I,f))})).apply(this,arguments)}class Jr extends Qr{constructor(f,p,b,q=null){super("password",b),this._email=f,this._password=p,this._tenantId=q}static _fromEmailAndPassword(f,p){return new Jr(f,p,"password")}static _fromEmailAndCode(f,p,b=null){return new Jr(f,p,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(f){var p=this;return(0,c.Z)(function*(){switch(p.signInMethod){case"password":return function es(I,f){return Zi.apply(this,arguments)}(f,{returnSecureToken:!0,email:p._email,password:p._password});case"emailLink":return function sr(I,f){return ts.apply(this,arguments)}(f,{email:p._email,oobCode:p._password});default:Ct(f,"internal-error")}})()}_linkToIdToken(f,p){var b=this;return(0,c.Z)(function*(){switch(b.signInMethod){case"password":return Is(f,{idToken:p,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function eo(I,f){return ns.apply(this,arguments)}(f,{idToken:p,email:b._email,oobCode:b._password});default:Ct(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Ns(I,f){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,c.Z)(function*(I,f){return $n(I,"POST","/v1/accounts:signInWithIdp",Se(I,f))})).apply(this,arguments)}class rs extends Qr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const p=new rs(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(p.idToken=f.idToken),f.accessToken&&(p.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(p.nonce=f.nonce),f.pendingToken&&(p.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(p.accessToken=f.oauthToken,p.secret=f.oauthTokenSecret):Ct("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:q}=p,re=(0,we._T)(p,["providerId","signInMethod"]);if(!b||!q)return null;const qe=new rs(b,q);return qe.idToken=re.idToken||void 0,qe.accessToken=re.accessToken||void 0,qe.secret=re.secret,qe.nonce=re.nonce,qe.pendingToken=re.pendingToken||null,qe}_getIdTokenResponse(f){return Ns(f,this.buildRequest())}_linkToIdToken(f,p){const b=this.buildRequest();return b.idToken=p,Ns(f,b)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,Ns(f,p)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),f.postBody=(0,F.xO)(p)}return f}}function Yi(I,f){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,c.Z)(function*(I,f){return je(I,"POST","/v1/accounts:sendVerificationCode",Se(I,f))})).apply(this,arguments)}function Os(){return(Os=(0,c.Z)(function*(I,f){return $n(I,"POST","/v1/accounts:signInWithPhoneNumber",Se(I,f))})).apply(this,arguments)}function Ds(){return(Ds=(0,c.Z)(function*(I,f){const p=yield $n(I,"POST","/v1/accounts:signInWithPhoneNumber",Se(I,f));if(p.temporaryProof)throw On(I,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const Ta={USER_NOT_FOUND:"user-not-found"};function Gs(){return(Gs=(0,c.Z)(function*(I,f){return $n(I,"POST","/v1/accounts:signInWithPhoneNumber",Se(I,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Ta)})).apply(this,arguments)}class Cs extends Qr{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,p){return new Cs({verificationId:f,verificationCode:p})}static _fromTokenResponse(f,p){return new Cs({phoneNumber:f,temporaryProof:p})}_getIdTokenResponse(f){return function Do(I,f){return Os.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,p){return function is(I,f){return Ds.apply(this,arguments)}(f,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function oa(I,f){return Gs.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:p,verificationId:b,verificationCode:q}=this.params;return f&&p?{temporaryProof:f,phoneNumber:p}:{sessionInfo:b,code:q}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:p,verificationCode:b,phoneNumber:q,temporaryProof:re}=f;return b||p||q||re?new Cs({verificationId:p,verificationCode:b,phoneNumber:q,temporaryProof:re}):null}}class Xr{constructor(f){var p,b,q,re,qe,bt;const hn=(0,F.zd)((0,F.pd)(f)),Ln=null!==(p=hn.apiKey)&&void 0!==p?p:null,ar=null!==(b=hn.oobCode)&&void 0!==b?b:null,Ai=function Co(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(q=hn.mode)&&void 0!==q?q:null);Re(Ln&&ar&&Ai,"argument-error"),this.apiKey=Ln,this.operation=Ai,this.code=ar,this.continueUrl=null!==(re=hn.continueUrl)&&void 0!==re?re:null,this.languageCode=null!==(qe=hn.languageCode)&&void 0!==qe?qe:null,this.tenantId=null!==(bt=hn.tenantId)&&void 0!==bt?bt:null}static parseLink(f){const p=function Fo(I){const f=(0,F.zd)((0,F.pd)(I)).link,p=f?(0,F.zd)((0,F.pd)(f)).deep_link_id:null,b=(0,F.zd)((0,F.pd)(I)).deep_link_id;return(b?(0,F.zd)((0,F.pd)(b)).link:null)||b||p||f||I}(f);try{return new Xr(p)}catch{return null}}}let bs=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(p,b){return Jr._fromEmailAndPassword(p,b)}static credentialWithLink(p,b){const q=Xr.parseLink(b);return Re(q,"argument-error"),Jr._fromEmailAndCode(p,q.code,q.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class mi{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class ds extends mi{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Qn extends ds{static credentialFromJSON(f){const p="string"==typeof f?JSON.parse(f):f;return Re("providerId"in p&&"signInMethod"in p,"argument-error"),rs._fromParams(p)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return Re(f.idToken||f.accessToken,"argument-error"),rs._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Qn.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Qn.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:p,oauthAccessToken:b,oauthTokenSecret:q,pendingToken:re,nonce:qe,providerId:bt}=f;if(!b&&!q&&!p&&!re||!bt)return null;try{return new Qn(bt)._credential({idToken:p,accessToken:b,nonce:qe,pendingToken:re})}catch{return null}}}let zs=(()=>{class I extends ds{constructor(){super("facebook.com")}static credential(p){return rs._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return I.credentialFromTaggedObject(p)}static credentialFromError(p){return I.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return I.credential(p.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),Ps=(()=>{class I extends ds{constructor(){super("google.com"),this.addScope("profile")}static credential(p,b){return rs._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:b})}static credentialFromResult(p){return I.credentialFromTaggedObject(p)}static credentialFromError(p){return I.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:b,oauthAccessToken:q}=p;if(!b&&!q)return null;try{return I.credential(b,q)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),ss=(()=>{class I extends ds{constructor(){super("github.com")}static credential(p){return rs._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return I.credentialFromTaggedObject(p)}static credentialFromError(p){return I.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return I.credential(p.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class os extends Qr{constructor(f,p){super(f,f),this.pendingToken=p}_getIdTokenResponse(f){return Ns(f,this.buildRequest())}_linkToIdToken(f,p){const b=this.buildRequest();return b.idToken=p,Ns(f,b)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,Ns(f,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:q,pendingToken:re}=p;return b&&q&&re&&b===q?new os(b,re):null}static _create(f,p){return new os(f,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class bi extends mi{constructor(f){Re(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return bi.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return bi.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const p=os.fromJSON(f);return Re(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:p,providerId:b}=f;if(!p||!b)return null;try{return os._create(b,p)}catch{return null}}}let Ji=(()=>{class I extends ds{constructor(){super("twitter.com")}static credential(p,b){return rs._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:b})}static credentialFromResult(p){return I.credentialFromTaggedObject(p)}static credentialFromError(p){return I.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:b,oauthTokenSecret:q}=p;if(!b||!q)return null;try{return I.credential(b,q)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function Bi(I,f){return Br.apply(this,arguments)}function Br(){return(Br=(0,c.Z)(function*(I,f){return $n(I,"POST","/v1/accounts:signUp",Se(I,f))})).apply(this,arguments)}class li{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,p,b,q=!1){return(0,c.Z)(function*(){const re=yield X._fromIdTokenResponse(f,b,q),qe=ks(b);return new li({user:re,providerId:qe,_tokenResponse:b,operationType:p})})()}static _forOperation(f,p,b){return(0,c.Z)(function*(){yield f._updateTokensIfNecessary(b,!0);const q=ks(b);return new li({user:f,providerId:q,_tokenResponse:b,operationType:p})})()}}function ks(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function Lo(I){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,c.Z)(function*(I){var f;const p=dn(I);if(yield p._initializationPromise,null!==(f=p.currentUser)&&void 0!==f&&f.isAnonymous)return new li({user:p.currentUser,providerId:null,operationType:"signIn"});const b=yield Bi(p,{returnSecureToken:!0}),q=yield li._fromIdTokenResponse(p,"signIn",b,!0);return yield p._updateCurrentUser(q.user),q})).apply(this,arguments)}class Ar extends F.ZR{constructor(f,p,b,q){var re;super(p.code,p.message),this.operationType=b,this.user=q,Object.setPrototypeOf(this,Ar.prototype),this.customData={appName:f.name,tenantId:null!==(re=f.tenantId)&&void 0!==re?re:void 0,_serverResponse:p.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(f,p,b,q){return new Ar(f,p,b,q)}}function bo(I,f,p,b){return("reauthenticate"===f?p._getReauthenticationResolver(I):p._getIdTokenResponse(I)).catch(re=>{throw"auth/multi-factor-auth-required"===re.code?Ar._fromErrorAndOperation(I,re,f,b):re})}function qo(I){return new Set(I.map(({providerId:f})=>f).filter(f=>!!f))}function ci(I,f){return ei.apply(this,arguments)}function ei(){return(ei=(0,c.Z)(function*(I,f){const p=(0,F.m9)(I);yield yi(!0,p,f);const{providerUserInfo:b}=yield Ft(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[f]}),q=qo(b||[]);return p.providerData=p.providerData.filter(re=>q.has(re.providerId)),q.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p})).apply(this,arguments)}function ji(I,f){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,c.Z)(function*(I,f,p=!1){const b=yield bn(I,f._linkToIdToken(I.auth,yield I.getIdToken()),p);return li._forOperation(I,"link",b)})).apply(this,arguments)}function yi(I,f,p){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,c.Z)(function*(I,f,p){yield ii(f);const q=!1===I?"provider-already-linked":"no-such-provider";Re(qo(f.providerData).has(p)===I,f.auth,q)})).apply(this,arguments)}function to(I,f){return as.apply(this,arguments)}function as(){return(as=(0,c.Z)(function*(I,f,p=!1){var b;const{auth:q}=I,re="reauthenticate";try{const qe=yield bn(I,bo(q,re,f,I),p);Re(qe.idToken,q,"internal-error");const bt=on(qe.idToken);Re(bt,q,"internal-error");const{sub:hn}=bt;return Re(I.uid===hn,q,"user-mismatch"),li._forOperation(I,re,qe)}catch(qe){throw"auth/user-not-found"===(null===(b=qe)||void 0===b?void 0:b.code)&&Ct(q,"user-mismatch"),qe}})).apply(this,arguments)}function To(I,f){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,c.Z)(function*(I,f,p=!1){const b="signIn",q=yield bo(I,b,f),re=yield li._fromIdTokenResponse(I,b,q);return p||(yield I._updateCurrentUser(re.user)),re})).apply(this,arguments)}function Ws(I,f){return di.apply(this,arguments)}function di(){return(di=(0,c.Z)(function*(I,f){return To(dn(I),f)})).apply(this,arguments)}function Sn(I,f){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,c.Z)(function*(I,f){const p=(0,F.m9)(I);return yield yi(!1,p,f.providerId),ji(p,f)})).apply(this,arguments)}function Vo(I,f){return no.apply(this,arguments)}function no(){return(no=(0,c.Z)(function*(I,f){return to((0,F.m9)(I),f)})).apply(this,arguments)}function wi(I,f){return si.apply(this,arguments)}function si(){return(si=(0,c.Z)(function*(I,f){return $n(I,"POST","/v1/accounts:signInWithCustomToken",Se(I,f))})).apply(this,arguments)}function Pi(I,f){return hs.apply(this,arguments)}function hs(){return(hs=(0,c.Z)(function*(I,f){const p=dn(I),b=yield wi(p,{token:f,returnSecureToken:!0}),q=yield li._fromIdTokenResponse(p,"signIn",b);return yield p._updateCurrentUser(q.user),q})).apply(this,arguments)}class Hr{constructor(f,p){this.factorId=f,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(f,p){return"phoneInfo"in p?Nt._fromServerResponse(f,p):Ct(f,"internal-error")}}class Nt extends Hr{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,p){return new Nt(p)}}function Jn(I,f,p){var b;Re((null===(b=p.url)||void 0===b?void 0:b.length)>0,I,"invalid-continue-uri"),Re(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),f.continueUrl=p.url,f.dynamicLinkDomain=p.dynamicLinkDomain,f.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(Re(p.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),f.iOSBundleId=p.iOS.bundleId),p.android&&(Re(p.android.packageName.length>0,I,"missing-android-pkg-name"),f.androidInstallApp=p.android.installApp,f.androidMinimumVersionCode=p.android.minimumVersion,f.androidPackageName=p.android.packageName)}function Zo(I,f,p){return fo.apply(this,arguments)}function fo(){return(fo=(0,c.Z)(function*(I,f,p){const b=(0,F.m9)(I),q={requestType:"PASSWORD_RESET",email:f};p&&Jn(b,q,p),yield Et(b,q)})).apply(this,arguments)}function Gr(I,f,p){return fs.apply(this,arguments)}function fs(){return(fs=(0,c.Z)(function*(I,f,p){yield gi((0,F.m9)(I),{oobCode:f,newPassword:p})})).apply(this,arguments)}function Ks(I,f){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,c.Z)(function*(I,f){yield Ko((0,F.m9)(I),{oobCode:f})})).apply(this,arguments)}function qs(I,f){return hi.apply(this,arguments)}function hi(){return(hi=(0,c.Z)(function*(I,f){const p=(0,F.m9)(I),b=yield gi(p,{oobCode:f}),q=b.requestType;switch(Re(q,p,"internal-error"),q){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Re(b.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Re(b.mfaInfo,p,"internal-error");default:Re(b.email,p,"internal-error")}let re=null;return b.mfaInfo&&(re=Hr._fromServerResponse(dn(p),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:re},operation:q}})).apply(this,arguments)}function po(I,f){return go.apply(this,arguments)}function go(){return(go=(0,c.Z)(function*(I,f){const{data:p}=yield qs((0,F.m9)(I),f);return p.email})).apply(this,arguments)}function L(I,f,p){return O.apply(this,arguments)}function O(){return(O=(0,c.Z)(function*(I,f,p){const b=dn(I),q=yield Bi(b,{returnSecureToken:!0,email:f,password:p}),re=yield li._fromIdTokenResponse(b,"signIn",q);return yield b._updateCurrentUser(re.user),re})).apply(this,arguments)}function A(I,f,p){return Ws((0,F.m9)(I),bs.credential(f,p))}function Q(I,f,p){return at.apply(this,arguments)}function at(){return(at=(0,c.Z)(function*(I,f,p){const b=(0,F.m9)(I),q={requestType:"EMAIL_SIGNIN",email:f};Re(p.handleCodeInApp,b,"argument-error"),p&&Jn(b,q,p),yield Qt(b,q)})).apply(this,arguments)}function an(I,f){return"EMAIL_SIGNIN"===Xr.parseLink(f)?.operation}function lr(I,f,p){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,c.Z)(function*(I,f,p){const b=(0,F.m9)(I),q=bs.credentialWithLink(f,p||wt());return Re(q._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Ws(b,q)})).apply(this,arguments)}function Xi(I,f){return ti.apply(this,arguments)}function ti(){return(ti=(0,c.Z)(function*(I,f){return je(I,"POST","/v1/accounts:createAuthUri",Se(I,f))})).apply(this,arguments)}function ro(I,f){return ps.apply(this,arguments)}function ps(){return(ps=(0,c.Z)(function*(I,f){const b={identifier:f,continueUri:xt()?wt():"http://localhost"},{signinMethods:q}=yield Xi((0,F.m9)(I),b);return q||[]})).apply(this,arguments)}function Zs(I,f){return So.apply(this,arguments)}function So(){return(So=(0,c.Z)(function*(I,f){const p=(0,F.m9)(I),q={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};f&&Jn(p.auth,q,f);const{email:re}=yield Fe(p.auth,q);re!==I.email&&(yield I.reload())})).apply(this,arguments)}function aa(I,f,p){return mo.apply(this,arguments)}function mo(){return(mo=(0,c.Z)(function*(I,f,p){const b=(0,F.m9)(I),re={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:f};p&&Jn(b.auth,re,p);const{email:qe}=yield Ur(b.auth,re);qe!==I.email&&(yield I.reload())})).apply(this,arguments)}function ya(I,f){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,c.Z)(function*(I,f){return je(I,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function io(I,f){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,c.Z)(function*(I,{displayName:f,photoURL:p}){if(void 0===f&&void 0===p)return;const b=(0,F.m9)(I),re={idToken:yield b.getIdToken(),displayName:f,photoUrl:p,returnSecureToken:!0},qe=yield bn(b,ya(b.auth,re));b.displayName=qe.displayName||null,b.photoURL=qe.photoUrl||null;const bt=b.providerData.find(({providerId:hn})=>"password"===hn);bt&&(bt.displayName=b.displayName,bt.photoURL=b.photoURL),yield b._updateTokensIfNecessary(qe)})).apply(this,arguments)}function Yo(I,f){return G((0,F.m9)(I),f,null)}function S(I,f){return G((0,F.m9)(I),null,f)}function G(I,f,p){return N.apply(this,arguments)}function N(){return(N=(0,c.Z)(function*(I,f,p){const{auth:b}=I,re={idToken:yield I.getIdToken(),returnSecureToken:!0};f&&(re.email=f),p&&(re.password=p);const qe=yield bn(I,Is(b,re));yield I._updateTokensIfNecessary(qe,!0)})).apply(this,arguments)}class _e{constructor(f,p,b={}){this.isNewUser=f,this.providerId=p,this.profile=b}}class ut extends _e{constructor(f,p,b,q){super(f,p,b),this.username=q}}class mt extends _e{constructor(f,p){super(f,"facebook.com",p)}}class yn extends ut{constructor(f,p){super(f,"github.com",p,"string"==typeof p?.login?p?.login:null)}}class fr extends _e{constructor(f,p){super(f,"google.com",p)}}class vr extends ut{constructor(f,p,b){super(f,"twitter.com",p,b)}}function _r(I){const{user:f,_tokenResponse:p}=I;return f.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function Y(I){var f,p;if(!I)return null;const{providerId:b}=I,q=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},re=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!b&&I?.idToken){const qe=null===(p=null===(f=on(I.idToken))||void 0===f?void 0:f.firebase)||void 0===p?void 0:p.sign_in_provider;if(qe)return new _e(re,"anonymous"!==qe&&"custom"!==qe?qe:null)}if(!b)return null;switch(b){case"facebook.com":return new mt(re,q);case"github.com":return new yn(re,q);case"google.com":return new fr(re,q);case"twitter.com":return new vr(re,q,I.screenName||null);case"custom":case"anonymous":return new _e(re,null);default:return new _e(re,b,q)}}(p)}class Ki{constructor(f,p,b){this.type=f,this.credential=p,this.auth=b}static _fromIdtoken(f,p){return new Ki("enroll",f,p)}static _fromMfaPendingCredential(f){return new Ki("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var p,b;if(f?.multiFactorSession){if(null!==(p=f.multiFactorSession)&&void 0!==p&&p.pendingCredential)return Ki._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(b=f.multiFactorSession)&&void 0!==b&&b.idToken)return Ki._fromIdtoken(f.multiFactorSession.idToken)}return null}}class xo{constructor(f,p,b){this.session=f,this.hints=p,this.signInResolver=b}static _fromError(f,p){const b=dn(f),q=p.customData._serverResponse,re=(q.mfaInfo||[]).map(bt=>Hr._fromServerResponse(b,bt));Re(q.mfaPendingCredential,b,"internal-error");const qe=Ki._fromMfaPendingCredential(q.mfaPendingCredential);return new xo(qe,re,function(){var bt=(0,c.Z)(function*(hn){const Ln=yield hn._process(b,qe);delete q.mfaInfo,delete q.mfaPendingCredential;const ar=Object.assign(Object.assign({},q),{idToken:Ln.idToken,refreshToken:Ln.refreshToken});switch(p.operationType){case"signIn":const Ai=yield li._fromIdTokenResponse(b,p.operationType,ar);return yield b._updateCurrentUser(Ai.user),Ai;case"reauthenticate":return Re(p.user,b,"internal-error"),li._forOperation(p.user,p.operationType,ar);default:Ct(b,"internal-error")}});return function(hn){return bt.apply(this,arguments)}}())}resolveSignIn(f){var p=this;return(0,c.Z)(function*(){return p.signInResolver(f)})()}}function Bt(I,f){var p;const b=(0,F.m9)(I),q=f;return Re(f.customData.operationType,b,"argument-error"),Re(null===(p=q.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,b,"argument-error"),xo._fromError(b,q)}function er(I,f){return je(I,"POST","/v2/accounts/mfaEnrollment:start",Se(I,f))}class vn{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(b=>Hr._fromServerResponse(f.auth,b)))})}static _fromUser(f){return new vn(f)}getSession(){var f=this;return(0,c.Z)(function*(){return Ki._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,p){var b=this;return(0,c.Z)(function*(){const q=f,re=yield b.getSession(),qe=yield bn(b.user,q._process(b.user.auth,re,p));return yield b.user._updateTokensIfNecessary(qe),b.user.reload()})()}unenroll(f){var p=this;return(0,c.Z)(function*(){var b;const q="string"==typeof f?f:f.uid,re=yield p.user.getIdToken(),qe=yield bn(p.user,function va(I,f){return je(I,"POST","/v2/accounts/mfaEnrollment:withdraw",Se(I,f))}(p.user.auth,{idToken:re,mfaEnrollmentId:q}));p.enrolledFactors=p.enrolledFactors.filter(({uid:bt})=>bt!==q),yield p.user._updateTokensIfNecessary(qe);try{yield p.user.reload()}catch(bt){if("auth/user-token-expired"!==(null===(b=bt)||void 0===b?void 0:b.code))throw bt}})()}}const Gn=new WeakMap;function Wa(I){const f=(0,F.m9)(I);return Gn.has(f)||Gn.set(f,vn._fromUser(f)),Gn.get(f)}const qt="__sak";class pt{constructor(f,p){this.storageRetriever=f,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(qt,"1"),this.storage.removeItem(qt),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,p){return this.storage.setItem(f,JSON.stringify(p)),Promise.resolve()}_get(f){const p=this.storage.getItem(f);return Promise.resolve(p?JSON.parse(p):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ci=(()=>{class I extends pt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,b)=>this.onStorageEvent(p,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Lt(){const I=(0,F.z$)();return Ee(I)||de(I)}()&&function Tn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Kt(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const b of Object.keys(this.listeners)){const q=this.storage.getItem(b),re=this.localCache[b];q!==re&&p(b,re,q)}}onStorageEvent(p,b=!1){if(!p.key)return void this.forAllChangedKeys((bt,hn,Ln)=>{this.notifyListeners(bt,Ln)});const q=p.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const bt=this.storage.getItem(q);if(p.newValue!==bt)null!==p.newValue?this.storage.setItem(q,p.newValue):this.storage.removeItem(q);else if(this.localCache[q]===p.newValue&&!b)return}const re=()=>{const bt=this.storage.getItem(q);!b&&this.localCache[q]===bt||this.notifyListeners(q,bt)},qe=this.storage.getItem(q);!function rt(){return(0,F.w1)()&&10===document.documentMode}()||qe===p.newValue||p.newValue===p.oldValue?re():setTimeout(re,10)}notifyListeners(p,b){this.localCache[p]=b;const q=this.listeners[p];if(q)for(const re of Array.from(q))re(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,b,q)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:b,newValue:q}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(b)}_removeListener(p,b){this.listeners[p]&&(this.listeners[p].delete(b),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,b){var q=()=>super._set,re=this;return(0,c.Z)(function*(){yield q().call(re,p,b),re.localCache[p]=JSON.stringify(b)})()}_get(p){var b=()=>super._get,q=this;return(0,c.Z)(function*(){const re=yield b().call(q,p);return q.localCache[p]=JSON.stringify(re),re})()}_remove(p){var b=()=>super._remove,q=this;return(0,c.Z)(function*(){yield b().call(q,p),delete q.localCache[p]})()}}return I.type="LOCAL",I})(),Uo=(()=>{class I extends pt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,b){}_removeListener(p,b){}}return I.type="SESSION",I})();let ca=(()=>{class I{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const b=this.receivers.find(re=>re.isListeningto(p));if(b)return b;const q=new I(p);return this.receivers.push(q),q}isListeningto(p){return this.eventTarget===p}handleEvent(p){var b=this;return(0,c.Z)(function*(){const q=p,{eventId:re,eventType:qe,data:bt}=q.data,hn=b.handlersMap[qe];if(!hn?.size)return;q.ports[0].postMessage({status:"ack",eventId:re,eventType:qe});const Ln=Array.from(hn).map(function(){var Ai=(0,c.Z)(function*(Ha){return Ha(q.origin,bt)});return function(Ha){return Ai.apply(this,arguments)}}()),ar=yield function _a(I){return Promise.all(I.map(function(){var f=(0,c.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(b){return{fulfilled:!1,reason:b}}});return function(p){return f.apply(this,arguments)}}()))}(Ln);q.ports[0].postMessage({status:"done",eventId:re,eventType:qe,response:ar})})()}_subscribe(p,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(b)}_unsubscribe(p,b){this.handlersMap[p]&&b&&this.handlersMap[p].delete(b),(!b||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function Sa(I="",f=10){let p="";for(let b=0;b<f;b++)p+=Math.floor(10*Math.random());return I+p}class Aa{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,p,b=50){var q=this;return(0,c.Z)(function*(){const re=typeof MessageChannel<"u"?new MessageChannel:null;if(!re)throw new Error("connection_unavailable");let qe,bt;return new Promise((hn,Ln)=>{const ar=Sa("",20);re.port1.start();const Ai=setTimeout(()=>{Ln(new Error("unsupported_event"))},b);bt={messageChannel:re,onMessage(Ha){const Fi=Ha;if(Fi.data.eventId===ar)switch(Fi.data.status){case"ack":clearTimeout(Ai),qe=setTimeout(()=>{Ln(new Error("timeout"))},3e3);break;case"done":clearTimeout(qe),hn(Fi.data.response);break;default:clearTimeout(Ai),clearTimeout(qe),Ln(new Error("invalid_response"))}}},q.handlers.add(bt),re.port1.addEventListener("message",bt.onMessage),q.target.postMessage({eventType:f,eventId:ar,data:p},[re.port2])}).finally(()=>{bt&&q.removeMessageHandler(bt)})})()}}function vi(){return window}function Dn(){return typeof vi().WorkerGlobalScope<"u"&&"function"==typeof vi().importScripts}function ki(){return(ki=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ro="firebaseLocalStorageDb",Qo="firebaseLocalStorage",zr="fbase_key";class zt{constructor(f){this.request=f}toPromise(){return new Promise((f,p)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Ys(I,f){return I.transaction([Qo],f?"readwrite":"readonly").objectStore(Qo)}function Us(){const I=indexedDB.open(Ro,1);return new Promise((f,p)=>{I.addEventListener("error",()=>{p(I.error)}),I.addEventListener("upgradeneeded",()=>{const b=I.result;try{b.createObjectStore(Qo,{keyPath:zr})}catch(q){p(q)}}),I.addEventListener("success",(0,c.Z)(function*(){const b=I.result;b.objectStoreNames.contains(Qo)?f(b):(b.close(),yield function Ma(){const I=indexedDB.deleteDatabase(Ro);return new zt(I).toPromise()}(),f(yield Us()))}))})}function Bo(I,f,p){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,c.Z)(function*(I,f,p){const b=Ys(I,!0).put({[zr]:f,value:p});return new zt(b).toPromise()})).apply(this,arguments)}function vo(){return(vo=(0,c.Z)(function*(I,f){const p=Ys(I,!1).get(f),b=yield new zt(p).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function da(I,f){const p=Ys(I,!0).delete(f);return new zt(p).toPromise()}const $o=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,c.Z)(function*(){return p.db||(p.db=yield Us()),p.db})()}_withRetries(p){var b=this;return(0,c.Z)(function*(){let q=0;for(;;)try{const re=yield b._openDb();return yield p(re)}catch(re){if(q++>3)throw re;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,c.Z)(function*(){return Dn()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,c.Z)(function*(){p.receiver=ca._getInstance(function kn(){return Dn()?self:null}()),p.receiver._subscribe("keyChanged",function(){var b=(0,c.Z)(function*(q,re){return{keyProcessed:(yield p._poll()).includes(re.key)}});return function(q,re){return b.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var b=(0,c.Z)(function*(q,re){return["keyChanged"]});return function(q,re){return b.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,c.Z)(function*(){var b,q;if(p.activeServiceWorker=yield function No(){return ki.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new Aa(p.activeServiceWorker);const re=yield p.sender._send("ping",{},800);!re||(null===(b=re[0])||void 0===b?void 0:b.fulfilled)&&(null===(q=re[0])||void 0===q?void 0:q.value.includes("keyChanged"))&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var b=this;return(0,c.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function xr(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:p},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const p=yield Us();return yield Bo(p,qt,"1"),yield da(p,qt),!0}catch{}return!1})()}_withPendingWrite(p){var b=this;return(0,c.Z)(function*(){b.pendingWrites++;try{yield p()}finally{b.pendingWrites--}})()}_set(p,b){var q=this;return(0,c.Z)(function*(){return q._withPendingWrite((0,c.Z)(function*(){return yield q._withRetries(re=>Bo(re,p,b)),q.localCache[p]=b,q.notifyServiceWorker(p)}))})()}_get(p){var b=this;return(0,c.Z)(function*(){const q=yield b._withRetries(re=>function cu(I,f){return vo.apply(this,arguments)}(re,p));return b.localCache[p]=q,q})()}_remove(p){var b=this;return(0,c.Z)(function*(){return b._withPendingWrite((0,c.Z)(function*(){return yield b._withRetries(q=>da(q,p)),delete b.localCache[p],b.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,c.Z)(function*(){const b=yield p._withRetries(qe=>{const bt=Ys(qe,!1).getAll();return new zt(bt).toPromise()});if(!b)return[];if(0!==p.pendingWrites)return[];const q=[],re=new Set;for(const{fbase_key:qe,value:bt}of b)re.add(qe),JSON.stringify(p.localCache[qe])!==JSON.stringify(bt)&&(p.notifyListeners(qe,bt),q.push(qe));for(const qe of Object.keys(p.localCache))p.localCache[qe]&&!re.has(qe)&&(p.notifyListeners(qe,null),q.push(qe));return q})()}notifyListeners(p,b){this.localCache[p]=b;const q=this.listeners[p];if(q)for(const re of Array.from(q))re(b)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(b)}_removeListener(p,b){this.listeners[p]&&(this.listeners[p].delete(b),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})();function Va(I,f){return je(I,"POST","/v2/accounts/mfaSignIn:start",Se(I,f))}function et(){return(et=(0,c.Z)(function*(I){return(yield je(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function $i(I){return new Promise((f,p)=>{const b=document.createElement("script");b.setAttribute("src",I),b.onload=f,b.onerror=q=>{const re=oe("internal-error");re.customData=q,p(re)},b.type="text/javascript",b.charset="UTF-8",function _o(){var I,f;return null!==(f=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==f?f:document}().appendChild(b)})}function wa(I){return`__${I}${Math.floor(1e6*Math.random())}`}const ys=1e12;class oo{constructor(f){this.auth=f,this.counter=ys,this._widgets=new Map}render(f,p){const b=this.counter;return this._widgets.set(b,new kr(f,this.auth.name,p||{})),this.counter++,b}reset(f){var p;const b=f||ys;null===(p=this._widgets.get(b))||void 0===p||p.delete(),this._widgets.delete(b)}getResponse(f){var p;return(null===(p=this._widgets.get(f||ys))||void 0===p?void 0:p.getResponse())||""}execute(f){var p=this;return(0,c.Z)(function*(){var b;return null===(b=p._widgets.get(f||ys))||void 0===b||b.execute(),""})()}}class kr{constructor(f,p,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const q="string"==typeof f?document.getElementById(f):f;Re(q,"argument-error",{appName:p}),this.container=q,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Mu(I){const f=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<I;b++)f.push(p.charAt(Math.floor(Math.random()*p.length)));return f.join("")}(50);const{callback:f,"expired-callback":p}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ka=wa("rcb"),Ua=new _t(3e4,6e4);class xu{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=vi().grecaptcha)||void 0===f||!f.render)}load(f,p=""){return Re(function Ho(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(p),f,"argument-error"),this.shouldResolveImmediately(p)?Promise.resolve(vi().grecaptcha):new Promise((b,q)=>{const re=vi().setTimeout(()=>{q(oe(f,"network-request-failed"))},Ua.get());vi()[Ka]=()=>{vi().clearTimeout(re),delete vi()[Ka];const bt=vi().grecaptcha;if(!bt)return void q(oe(f,"internal-error"));const hn=bt.render;bt.render=(Ln,ar)=>{const Ai=hn(Ln,ar);return this.counter++,Ai},this.hostLanguage=p,b(bt)},$i(`https://www.google.com/recaptcha/api.js??${(0,F.xO)({onload:Ka,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(re),q(oe(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var p;return!(null===(p=vi().grecaptcha)||void 0===p||!p.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ${load(f){return(0,c.Z)(function*(){return new oo(f)})()}clearedOneInstance(){}}const m="recaptcha",E={theme:"light",type:"image"};class R{constructor(f,p=Object.assign({},E),b){this.parameters=p,this.type=m,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=dn(b),this.isInvisible="invisible"===this.parameters.size,Re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const q="string"==typeof f?document.getElementById(f):f;Re(q,this.auth,"argument-error"),this.container=q,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new $:new xu,this.validateStartingState()}verify(){var f=this;return(0,c.Z)(function*(){f.assertNotDestroyed();const p=yield f.render(),b=f.getAssertedRecaptcha();return b.getResponse(p)||new Promise(re=>{const qe=bt=>{!bt||(f.tokenChangeListeners.delete(qe),re(bt))};f.tokenChangeListeners.add(qe),f.isInvisible&&b.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){Re(!this.parameters.sitekey,this.auth,"argument-error"),Re(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return p=>{if(this.tokenChangeListeners.forEach(b=>b(p)),"function"==typeof f)f(p);else if("string"==typeof f){const b=vi()[f];"function"==typeof b&&b(p)}}}assertNotDestroyed(){Re(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,c.Z)(function*(){if(yield f.init(),!f.widgetId){let p=f.container;if(!f.isInvisible){const b=document.createElement("div");p.appendChild(b),p=b}f.widgetId=f.getAssertedRecaptcha().render(p,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,c.Z)(function*(){Re(xt()&&!Dn(),f.auth,"internal-error"),yield function z(){let I=null;return new Promise(f=>{"complete"!==document.readyState?(I=()=>f(),window.addEventListener("load",I)):f()}).catch(f=>{throw I&&window.removeEventListener("load",I),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const p=yield function Jo(I){return et.apply(this,arguments)}(f.auth);Re(p,f.auth,"internal-error"),f.parameters.sitekey=p})()}getAssertedRecaptcha(){return Re(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class te{constructor(f,p){this.verificationId=f,this.onConfirmation=p}confirm(f){const p=Cs._fromVerification(this.verificationId,f);return this.onConfirmation(p)}}function be(I,f,p){return De.apply(this,arguments)}function De(){return(De=(0,c.Z)(function*(I,f,p){const b=dn(I),q=yield _n(b,f,(0,F.m9)(p));return new te(q,re=>Ws(b,re))})).apply(this,arguments)}function nt(I,f,p){return lt.apply(this,arguments)}function lt(){return(lt=(0,c.Z)(function*(I,f,p){const b=(0,F.m9)(I);yield yi(!1,b,"phone");const q=yield _n(b.auth,f,(0,F.m9)(p));return new te(q,re=>Sn(b,re))})).apply(this,arguments)}function en(I,f,p){return un.apply(this,arguments)}function un(){return(un=(0,c.Z)(function*(I,f,p){const b=(0,F.m9)(I),q=yield _n(b.auth,f,(0,F.m9)(p));return new te(q,re=>Vo(b,re))})).apply(this,arguments)}function _n(I,f,p){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,c.Z)(function*(I,f,p){var b;const q=yield p.verify();try{let re;if(Re("string"==typeof q,I,"argument-error"),Re(p.type===m,I,"argument-error"),re="string"==typeof f?{phoneNumber:f}:f,"session"in re){const qe=re.session;if("phoneNumber"in re)return Re("enroll"===qe.type,I,"internal-error"),(yield er(I,{idToken:qe.credential,phoneEnrollmentInfo:{phoneNumber:re.phoneNumber,recaptchaToken:q}})).phoneSessionInfo.sessionInfo;{Re("signin"===qe.type,I,"internal-error");const bt=(null===(b=re.multiFactorHint)||void 0===b?void 0:b.uid)||re.multiFactorUid;return Re(bt,I,"missing-multi-factor-info"),(yield Va(I,{mfaPendingCredential:qe.credential,mfaEnrollmentId:bt,phoneSignInInfo:{recaptchaToken:q}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:qe}=yield Yi(I,{phoneNumber:re.phoneNumber,recaptchaToken:q});return qe}}finally{p._reset()}})).apply(this,arguments)}function Pn(I,f){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,c.Z)(function*(I,f){yield ji((0,F.m9)(I),f)})).apply(this,arguments)}let Cr=(()=>{class I{constructor(p){this.providerId=I.PROVIDER_ID,this.auth=dn(p)}verifyPhoneNumber(p,b){return _n(this.auth,p,(0,F.m9)(b))}static credential(p,b){return Cs._fromVerification(p,b)}static credentialFromResult(p){return I.credentialFromTaggedObject(p)}static credentialFromError(p){return I.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:b,temporaryProof:q}=p;return b&&q?Cs._fromTokenResponse(b,q):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function Nr(I,f){return f?Oe(f):(Re(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class ni extends Qr{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Ns(f,this._buildIdpRequest())}_linkToIdToken(f,p){return Ns(f,this._buildIdpRequest(p))}_getReauthenticationResolver(f){return Ns(f,this._buildIdpRequest())}_buildIdpRequest(f){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(p.idToken=f),p}}function Si(I){return To(I.auth,new ni(I),I.bypassAuthState)}function br(I){const{auth:f,user:p}=I;return Re(p,f,"internal-error"),to(p,new ni(I),I.bypassAuthState)}function Eo(I){return _.apply(this,arguments)}function _(){return(_=(0,c.Z)(function*(I){const{auth:f,user:p}=I;return Re(p,f,"internal-error"),ji(p,new ni(I),I.bypassAuthState)})).apply(this,arguments)}class w{constructor(f,p,b,q,re=!1){this.auth=f,this.resolver=b,this.user=q,this.bypassAuthState=re,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var f=this;return new Promise(function(){var p=(0,c.Z)(function*(b,q){f.pendingPromise={resolve:b,reject:q};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(re){f.reject(re)}});return function(b,q){return p.apply(this,arguments)}}())}onAuthEvent(f){var p=this;return(0,c.Z)(function*(){const{urlResponse:b,sessionId:q,postBody:re,tenantId:qe,error:bt,type:hn}=f;if(bt)return void p.reject(bt);const Ln={auth:p.auth,requestUri:b,sessionId:q,tenantId:qe||void 0,postBody:re||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(hn)(Ln))}catch(ar){p.reject(ar)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Si;case"linkViaPopup":case"linkViaRedirect":return Eo;case"reauthViaPopup":case"reauthViaRedirect":return br;default:Ct(this.auth,"internal-error")}}resolve(f){st(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){st(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const y=new _t(2e3,1e4);function T(I,f,p){return P.apply(this,arguments)}function P(){return(P=(0,c.Z)(function*(I,f,p){const b=dn(I);Ke(I,f,mi);const q=Nr(b,p);return new Ht(b,"signInViaPopup",f,q).executeNotNull()})).apply(this,arguments)}function K(I,f,p){return le.apply(this,arguments)}function le(){return(le=(0,c.Z)(function*(I,f,p){const b=(0,F.m9)(I);Ke(b.auth,f,mi);const q=Nr(b.auth,p);return new Ht(b.auth,"reauthViaPopup",f,q,b).executeNotNull()})).apply(this,arguments)}function ye(I,f,p){return gt.apply(this,arguments)}function gt(){return(gt=(0,c.Z)(function*(I,f,p){const b=(0,F.m9)(I);Ke(b.auth,f,mi);const q=Nr(b.auth,p);return new Ht(b.auth,"linkViaPopup",f,q,b).executeNotNull()})).apply(this,arguments)}let Ht=(()=>{class I extends w{constructor(p,b,q,re,qe){super(p,b,re,qe),this.provider=q,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var p=this;return(0,c.Z)(function*(){const b=yield p.execute();return Re(b,p.auth,"internal-error"),b})()}onExecution(){var p=this;return(0,c.Z)(function*(){st(1===p.filter.length,"Popup operations only handle one event");const b=Sa();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],b),p.authWindow.associatedEvent=b,p.resolver._originValidation(p.auth).catch(q=>{p.reject(q)}),p.resolver._isIframeWebStorageSupported(p.auth,q=>{q||p.reject(oe(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(oe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const p=()=>{var b,q;this.pollId=null!==(q=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==q&&q.closed?window.setTimeout(()=>{this.pollId=null,this.reject(oe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(p,y.get())};p()}}return I.currentPopupAction=null,I})();const yt=new Map;class Zt extends w{constructor(f,p,b=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,b),this.eventId=null}execute(){var f=()=>super.execute,p=this;return(0,c.Z)(function*(){let b=yt.get(p.auth._key());if(!b){try{const re=(yield function zn(I,f){return Er.apply(this,arguments)}(p.resolver,p.auth))?yield f().call(p):null;b=()=>Promise.resolve(re)}catch(q){b=()=>Promise.reject(q)}yt.set(p.auth._key(),b)}return p.bypassAuthState||yt.set(p.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(f){var p=()=>super.onAuthEvent,b=this;return(0,c.Z)(function*(){if("signInViaRedirect"===f.type)return p().call(b,f);if("unknown"!==f.type){if(f.eventId){const q=yield b.auth._redirectUserForId(f.eventId);if(q)return b.user=q,p().call(b,f);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function Er(){return(Er=(0,c.Z)(function*(I,f){const p=ta(f),b=ea(I);if(!(yield b._isAvailable()))return!1;const q="true"===(yield b._get(p));return yield b._remove(p),q})).apply(this,arguments)}function Wr(I,f){return ri.apply(this,arguments)}function ri(){return(ri=(0,c.Z)(function*(I,f){return ea(I)._set(ta(f),"true")})).apply(this,arguments)}function _s(){yt.clear()}function Kr(I,f){yt.set(I._key(),f)}function ea(I){return Oe(I._redirectPersistence)}function ta(I){return nn("pendingRedirect",I.config.apiKey,I.name)}function Fr(I,f,p){return function oi(I,f,p){return pr.apply(this,arguments)}(I,f,p)}function pr(){return(pr=(0,c.Z)(function*(I,f,p){const b=dn(I);Ke(I,f,mi);const q=Nr(b,p);return yield Wr(q,b),q._openRedirect(b,f,"signInViaRedirect")})).apply(this,arguments)}function x(I,f,p){return function k(I,f,p){return Z.apply(this,arguments)}(I,f,p)}function Z(){return(Z=(0,c.Z)(function*(I,f,p){const b=(0,F.m9)(I);Ke(b.auth,f,mi);const q=Nr(b.auth,p);yield Wr(q,b.auth);const re=yield mr(b);return q._openRedirect(b.auth,f,"reauthViaRedirect",re)})).apply(this,arguments)}function ge(I,f,p){return function We(I,f,p){return ht.apply(this,arguments)}(I,f,p)}function ht(){return(ht=(0,c.Z)(function*(I,f,p){const b=(0,F.m9)(I);Ke(b.auth,f,mi);const q=Nr(b.auth,p);yield yi(!1,b,f.providerId),yield Wr(q,b.auth);const re=yield mr(b);return q._openRedirect(b.auth,f,"linkViaRedirect",re)})).apply(this,arguments)}function kt(I,f){return rn.apply(this,arguments)}function rn(){return(rn=(0,c.Z)(function*(I,f){return yield dn(I)._initializationPromise,Un(I,f,!1)})).apply(this,arguments)}function Un(I,f){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,c.Z)(function*(I,f,p=!1){const b=dn(I),q=Nr(b,f),qe=yield new Zt(b,q,p).execute();return qe&&!p&&(delete qe.user._redirectEventId,yield b._persistUserIfCurrent(qe.user),yield b._setRedirectUser(null,f)),qe})).apply(this,arguments)}function mr(I){return jn.apply(this,arguments)}function jn(){return(jn=(0,c.Z)(function*(I){const f=Sa(`${I.uid}:::`);return I._redirectEventId=f,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),f})).apply(this,arguments)}class Ss{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let p=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(f,b)&&(p=!0,this.sendToConsumer(f,b),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Ya(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Za(I);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=f,p=!0)),p}sendToConsumer(f,p){var b;if(f.error&&!Za(f)){const q=(null===(b=f.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";p.onError(oe(this.auth,q))}else p.onAuthEvent(f)}isEventForConsumer(f,p){const b=null===p.eventId||!!f.eventId&&f.eventId===p.eventId;return p.filter.includes(f.type)&&b}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(qa(f))}saveEventToCache(f){this.cachedEventUids.add(qa(f)),this.lastProcessedEventTime=Date.now()}}function qa(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(f=>f).join("-")}function Za({type:I,error:f}){return"unknown"===I&&"auth/no-auth-event"===f?.code}function Ba(I){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,c.Z)(function*(I,f={}){return je(I,"GET","/v1/projects",f)})).apply(this,arguments)}const ha=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qa=/^https?/;function du(){return(du=(0,c.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:f}=yield Ba(I);for(const p of f)try{if(Ja(p))return}catch{}Ct(I,"unauthorized-domain")})).apply(this,arguments)}function Ja(I){const f=wt(),{protocol:p,hostname:b}=new URL(f);if(I.startsWith("chrome-extension://")){const qe=new URL(I);return""===qe.hostname&&""===b?"chrome-extension:"===p&&I.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===p&&qe.hostname===b}if(!Qa.test(p))return!1;if(ha.test(I))return b===I;const q=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+q+"|"+q+")$","i").test(b)}const Xc=new _t(3e4,6e4);function hu(){const I=vi().___jsl;if(I?.H)for(const f of Object.keys(I.H))if(I.H[f].r=I.H[f].r||[],I.H[f].L=I.H[f].L||[],I.H[f].r=[...I.H[f].L],I.CP)for(let p=0;p<I.CP.length;p++)I.CP[p]=null}let ja=null;function bl(I){return ja=ja||function ed(I){return new Promise((f,p)=>{var b,q,re;function qe(){hu(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{hu(),p(oe(I,"network-request-failed"))},timeout:Xc.get()})}if(null!==(q=null===(b=vi().gapi)||void 0===b?void 0:b.iframes)&&void 0!==q&&q.Iframe)f(gapi.iframes.getContext());else{if(null===(re=vi().gapi)||void 0===re||!re.load){const bt=wa("iframefcb");return vi()[bt]=()=>{gapi.load?qe():p(oe(I,"network-request-failed"))},$i(`https://apis.google.com/js/api.js?onload=${bt}`).catch(hn=>p(hn))}qe()}}).catch(f=>{throw ja=null,f})}(I),ja}const uc=new _t(5e3,15e3),Yu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Tl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Sl(I){const f=I.config;Re(f.authDomain,I,"auth-domain-config-required");const p=f.emulator?tn(f,"emulator/auth/iframe"):`https://${I.config.authDomain}/__/auth/iframe`,b={apiKey:f.apiKey,appName:I.name,v:H.SDK_VERSION},q=Tl.get(I.config.apiHost);q&&(b.eid=q);const re=I._getFrameworks();return re.length&&(b.fw=re.join(",")),`${p}?${(0,F.xO)(b).slice(1)}`}function Nu(){return Nu=(0,c.Z)(function*(I){const f=yield bl(I),p=vi().gapi;return Re(p,I,"internal-error"),f.open({where:document.body,url:Sl(I),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Yu,dontclear:!0},b=>new Promise(function(){var q=(0,c.Z)(function*(re,qe){yield b.restyle({setHideOnLeave:!1});const bt=oe(I,"network-request-failed"),hn=vi().setTimeout(()=>{qe(bt)},uc.get());function Ln(){vi().clearTimeout(hn),re(b)}b.ping(Ln).then(Ln,()=>{qe(bt)})});return function(re,qe){return q.apply(this,arguments)}}()))}),Nu.apply(this,arguments)}const Qu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class rd{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $a(I,f,p,b,q,re){Re(I.config.authDomain,I,"auth-domain-config-required"),Re(I.config.apiKey,I,"invalid-api-key");const qe={apiKey:I.config.apiKey,appName:I.name,authType:p,redirectUrl:b,v:H.SDK_VERSION,eventId:q};if(f instanceof mi){f.setDefaultLanguage(I.languageCode),qe.providerId=f.providerId||"",(0,F.xb)(f.getCustomParameters())||(qe.customParameters=JSON.stringify(f.getCustomParameters()));for(const[hn,Ln]of Object.entries(re||{}))qe[hn]=Ln}if(f instanceof ds){const hn=f.getScopes().filter(Ln=>""!==Ln);hn.length>0&&(qe.scopes=hn.join(","))}I.tenantId&&(qe.tid=I.tenantId);const bt=qe;for(const hn of Object.keys(bt))void 0===bt[hn]&&delete bt[hn];return`${function ra({config:I}){return I.emulator?tn(I,"emulator/auth/handler"):`https://${I.authDomain}/__/auth/handler`}(I)}?${(0,F.xO)(bt).slice(1)}`}const Ml="webStorageSupport",hc=class gu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Uo,this._completeRedirectFn=Un,this._overrideRedirectResult=Kr}_openPopup(f,p,b,q){var re=this;return(0,c.Z)(function*(){var qe;st(null===(qe=re.eventManagers[f._key()])||void 0===qe?void 0:qe.manager,"_initialize() not called before _openPopup()");const bt=$a(f,p,b,wt(),q);return function pu(I,f,p,b=500,q=600){const re=Math.max((window.screen.availHeight-q)/2,0).toString(),qe=Math.max((window.screen.availWidth-b)/2,0).toString();let bt="";const hn=Object.assign(Object.assign({},Qu),{width:b.toString(),height:q.toString(),top:re,left:qe}),Ln=(0,F.z$)().toLowerCase();p&&(bt=dt(Ln)?"_blank":p),me(Ln)&&(f=f||"http://localhost",hn.scrollbars="yes");const ar=Object.entries(hn).reduce((Ha,[Fi,Lr])=>`${Ha}${Fi}=${Lr},`,"");if(function Le(I=(0,F.z$)()){var f;return de(I)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(Ln)&&"_self"!==bt)return function cc(I,f){const p=document.createElement("a");p.href=I,p.target=f;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(b)}(f||"",bt),new rd(null);const Ai=window.open(f||"",bt,ar);Re(Ai,I,"popup-blocked");try{Ai.focus()}catch{}return new rd(Ai)}(f,bt,Sa())})()}_openRedirect(f,p,b,q){var re=this;return(0,c.Z)(function*(){return yield re._originValidation(f),function Ea(I){vi().location.href=I}($a(f,p,b,wt(),q)),new Promise(()=>{})})()}_initialize(f){const p=f._key();if(this.eventManagers[p]){const{manager:q,promise:re}=this.eventManagers[p];return q?Promise.resolve(q):(st(re,"If manager is not set, promise should be"),re)}const b=this.initAndGetManager(f);return this.eventManagers[p]={promise:b},b.catch(()=>{delete this.eventManagers[p]}),b}initAndGetManager(f){var p=this;return(0,c.Z)(function*(){const b=yield function lc(I){return Nu.apply(this,arguments)}(f),q=new Ss(f);return b.register("authEvent",re=>(Re(re?.authEvent,f,"invalid-auth-event"),{status:q.onEvent(re.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[f._key()]={manager:q},p.iframes[f._key()]=b,q})()}_isIframeWebStorageSupported(f,p){this.iframes[f._key()].send(Ml,{type:Ml},q=>{var re;const qe=null===(re=q?.[0])||void 0===re?void 0:re[Ml];void 0!==qe&&p(!!qe),Ct(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const p=f._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function xa(I){return du.apply(this,arguments)}(f)),this.originValidationPromises[p]}get _shouldInitProactively(){return Kt()||Ee()||de()}};class xl extends class Ou{constructor(f){this.factorId=f}_process(f,p,b){switch(p.type){case"enroll":return this._finalizeEnroll(f,p.credential,b);case"signin":return this._finalizeSignIn(f,p.credential);default:return ze("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new xl(f)}_finalizeEnroll(f,p,b){return function yo(I,f){return je(I,"POST","/v2/accounts/mfaEnrollment:finalize",Se(I,f))}(f,{idToken:p,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,p){return function gs(I,f){return je(I,"POST","/v2/accounts/mfaSignIn:finalize",Se(I,f))}(f,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Na=(()=>{class I{constructor(){}static assertion(p){return xl._fromCredential(p)}}return I.FACTOR_ID="phone",I})();var Ia="@firebase/auth";class dh{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var p=this;return(0,c.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const p=this.auth.onIdTokenChanged(b=>{var q;f((null===(q=b)||void 0===q?void 0:q.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,p),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const p=this.internalListeners.get(f);!p||(this.internalListeners.delete(f),p(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function Nl(I){(0,H._registerComponent)(new Pe.wA("auth",(f,{options:p})=>{const b=f.getProvider("app").getImmediate(),q=f.getProvider("heartbeat"),{apiKey:re,authDomain:qe}=b.options;return((bt,hn)=>{Re(re&&!re.includes(":"),"invalid-api-key",{appName:bt.name}),Re(!qe?.includes(":"),"argument-error",{appName:bt.name});const Ln={apiKey:re,authDomain:qe,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:In(I)},ar=new ui(bt,hn,Ln);return function $e(I,f){const p=f?.persistence||[],b=(Array.isArray(p)?p:[p]).map(Oe);f?.errorMap&&I._updateErrorMap(f.errorMap),I._initializeWithPersistence(b,f?.popupRedirectResolver)}(ar,p),ar})(b,q)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,p,b)=>{f.getProvider("auth-internal").initialize()})),(0,H._registerComponent)(new Pe.wA("auth-internal",f=>{const p=dn(f.getProvider("auth").getImmediate());return new dh(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,H.registerVersion)(Ia,"0.20.7",function qi(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,H.registerVersion)(Ia,"0.20.7","esm2017")}("Browser")},5525:(Jt,tt,U)=>{U.d(tt,{u7:()=>ih,Jj:()=>Es,IX:()=>Pf,my:()=>Ms,xU:()=>bu,Lz:()=>Po,WA:()=>Lt,F8:()=>yl,$q:()=>qc,W:()=>au,EK:()=>xr,PU:()=>Ry,l7:()=>ni,Ky:()=>zt,Xb:()=>zr,Cf:()=>Vr,K9:()=>Wa,Me:()=>nt,yq:()=>yo,Wi:()=>Rf,ET:()=>cm,Ab:()=>uu,vr:()=>Jf,Fc:()=>Qd,hJ:()=>Dy,B$:()=>zv,at:()=>Ug,oe:()=>lm,AK:()=>Yv,TF:()=>Wc,JU:()=>Bg,ST:()=>by,fH:()=>Ty,Ix:()=>qv,Wu:()=>Wf,Lx:()=>im,qY:()=>Js,GL:()=>sc,QT:()=>Oy,kl:()=>Py,Xk:()=>lo,PL:()=>am,UQ:()=>ky,zN:()=>Fy,nP:()=>By,b9:()=>tm,vh:()=>nm,Pb:()=>Sy,L$:()=>kf,cf:()=>ic,sc:()=>Vy,Xo:()=>My,IO:()=>Jg,iE:()=>jg,Eo:()=>Wv,i3:()=>dm,Bt:()=>Qf,pl:()=>um,Ub:()=>xo,qK:()=>Qg,TQ:()=>Ny,e0:()=>xy,r7:()=>Ly,Mx:()=>ml,ar:()=>Hf});var he,c=U(5861),F=U(9681),H=U(4859),we=U(1877),ve=U(2090),Pe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Me={},Ge=Ge||{},se=Pe||self;function fe(){}function xe(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function ft(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Je="closure_uid_"+(1e9*Math.random()>>>0),jt=0;function Ye(i,e,n){return i.call.apply(i.bind,arguments)}function Ze(i,e,n){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function Dt(i,e,n){return(Dt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ye:Ze).apply(null,arguments)}function Ct(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var o=n.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function oe(i,e){function n(){}n.prototype=e.prototype,i.X=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.Vb=function(o,u,d){for(var g=Array(arguments.length-2),C=2;C<arguments.length;C++)g[C-2]=arguments[C];return e.prototype[u].apply(o,g)}}function Ae(){this.s=this.s,this.o=this.o}var St={};Ae.prototype.s=!1,Ae.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function ct(i){return Object.prototype.hasOwnProperty.call(i,Je)&&i[Je]||(i[Je]=++jt)}(this);delete St[i]}},Ae.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Re=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1};function ze(i){const e=i.length;if(0<e){const n=Array(e);for(let o=0;o<e;o++)n[o]=i[o];return n}return[]}function st(i,e){for(let n=1;n<arguments.length;n++){const o=arguments[n];if(xe(o)){const u=i.length||0,d=o.length||0;i.length=u+d;for(let g=0;g<d;g++)i[u+g]=o[g]}else i.push(o)}}function Te(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}Te.prototype.h=function(){this.defaultPrevented=!0};var Oe=function(){if(!se.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{se.addEventListener("test",fe,e),se.removeEventListener("test",fe,e)}catch{}return i}();function Be(i){return/^[\s\xa0]*$/.test(i)}var $e=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function wt(i,e){return i<e?-1:i>e?1:0}function xt(){var i=se.navigator;return i&&(i=i.userAgent)?i:""}function Ot(i){return-1!=xt().indexOf(i)}function Wt(i){return Wt[" "](i),i}Wt[" "]=fe;var $t,i,_t=Ot("Opera"),tn=Ot("Trident")||Ot("MSIE"),ln=Ot("Edge"),Xe=ln||tn,vt=Ot("Gecko")&&!(-1!=xt().toLowerCase().indexOf("webkit")&&!Ot("Edge"))&&!(Ot("Trident")||Ot("MSIE"))&&!Ot("Edge"),Se=-1!=xt().toLowerCase().indexOf("webkit")&&!Ot("Edge");function je(){var i=se.document;return i?i.documentMode:void 0}e:{var mn="",Yn=(i=xt(),vt?/rv:([^\);]+)(\)|;)/.exec(i):ln?/Edge\/([\d\.]+)/.exec(i):tn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Se?/WebKit\/(\S+)/.exec(i):_t?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Yn&&(mn=Yn?Yn[1]:""),tn){var $n=je();if(null!=$n&&$n>parseFloat(mn)){$t=String($n);break e}}$t=mn}var cr={};var Rr=se.document&&tn&&(je()||parseInt($t,10))||void 0;function dr(i,e){if(Te.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(vt){e:{try{Wt(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Ft[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&dr.X.h.call(this)}}oe(dr,Te);var Ft={2:"touch",3:"pen",4:"mouse"};dr.prototype.h=function(){dr.X.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var An="closure_listenable_"+(1e6*Math.random()|0),wn=0;function qn(i,e,n,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!o,this.ha=u,this.key=++wn,this.ba=this.ea=!1}function Tr(i){i.ba=!0,i.listener=null,i.proxy=null,i.src=null,i.ha=null}function Oi(i,e,n){for(const o in i)e.call(n,i[o],o,i)}function Ir(i){const e={};for(const n in i)e[n]=i[n];return e}const xn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Bn(i,e){let n,o;for(let u=1;u<arguments.length;u++){for(n in o=arguments[u],o)i[n]=o[n];for(let d=0;d<xn.length;d++)n=xn[d],Object.prototype.hasOwnProperty.call(o,n)&&(i[n]=o[n])}}function on(i){this.src=i,this.g={},this.h=0}function cn(i,e){var n=e.type;if(n in i.g){var d,o=i.g[n],u=Re(o,e);(d=0<=u)&&Array.prototype.splice.call(o,u,1),d&&(Tr(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function bn(i,e,n,o){for(var u=0;u<i.length;++u){var d=i[u];if(!d.ba&&d.listener==e&&d.capture==!!n&&d.ha==o)return u}return-1}on.prototype.add=function(i,e,n,o,u){var d=i.toString();(i=this.g[d])||(i=this.g[d]=[],this.h++);var g=bn(i,e,o,u);return-1<g?(e=i[g],n||(e.ea=!1)):((e=new qn(e,this.src,d,!!o,u)).ea=n,i.push(e)),e};var Or="closure_lm_"+(1e6*Math.random()|0),hr={};function qr(i,e,n,o,u){if(o&&o.once)return Mn(i,e,n,o,u);if(Array.isArray(e)){for(var d=0;d<e.length;d++)qr(i,e[d],n,o,u);return null}return n=ee(n),i&&i[An]?i.N(e,n,ft(o)?!!o.capture:!!o,u):En(i,e,n,!1,o,u)}function En(i,e,n,o,u,d){if(!e)throw Error("Invalid event type");var g=ft(u)?!!u.capture:!!u,C=pe(i);if(C||(i[Or]=C=new on(i)),(n=C.add(e,n,o,g,d)).proxy)return n;if(o=function ii(){const e=ce;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=o,o.src=i,o.listener=n,i.addEventListener)Oe||(u=g),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(Ne(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return n}function Mn(i,e,n,o,u){if(Array.isArray(e)){for(var d=0;d<e.length;d++)Mn(i,e[d],n,o,u);return null}return n=ee(n),i&&i[An]?i.O(e,n,ft(o)?!!o.capture:!!o,u):En(i,e,n,!0,o,u)}function pi(i,e,n,o,u){if(Array.isArray(e))for(var d=0;d<e.length;d++)pi(i,e[d],n,o,u);else o=ft(o)?!!o.capture:!!o,n=ee(n),i&&i[An]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=bn(d=i.g[e],n,o,u))&&(Tr(d[n]),Array.prototype.splice.call(d,n,1),0==d.length&&(delete i.g[e],i.h--))):i&&(i=pe(i))&&(e=i.g[e.toString()],i=-1,e&&(i=bn(e,n,o,u)),(n=-1<i?e[i]:null)&&Hn(n))}function Hn(i){if("number"!=typeof i&&i&&!i.ba){var e=i.src;if(e&&e[An])cn(e.i,i);else{var n=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(n,o,i.capture):e.detachEvent?e.detachEvent(Ne(n),o):e.addListener&&e.removeListener&&e.removeListener(o),(n=pe(e))?(cn(n,i),0==n.h&&(n.src=null,e[Or]=null)):Tr(i)}}}function Ne(i){return i in hr?hr[i]:hr[i]="on"+i}function ce(i,e){if(i.ba)i=!0;else{e=new dr(e,this);var n=i.listener,o=i.ha||i.src;i.ea&&Hn(i),i=n.call(o,e)}return i}function pe(i){return(i=i[Or])instanceof on?i:null}var Ie="__closure_events_fn_"+(1e9*Math.random()>>>0);function ee(i){return"function"==typeof i?i:(i[Ie]||(i[Ie]=function(e){return i.handleEvent(e)}),i[Ie])}function j(){Ae.call(this),this.i=new on(this),this.P=this,this.I=null}function X(i,e){var n,o=i.I;if(o)for(n=[];o;o=o.I)n.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new Te(e,i);else if(e instanceof Te)e.target=e.target||i;else{var u=e;Bn(e=new Te(o,i),u)}if(u=!0,n)for(var d=n.length-1;0<=d;d--){var g=e.g=n[d];u=Ve(g,o,!0,e)&&u}if(u=Ve(g=e.g=i,o,!0,e)&&u,u=Ve(g,o,!1,e)&&u,n)for(d=0;d<n.length;d++)u=Ve(g=e.g=n[d],o,!1,e)&&u}function Ve(i,e,n,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,d=0;d<e.length;++d){var g=e[d];if(g&&!g.ba&&g.capture==n){var C=g.listener,V=g.ha||g.src;g.ea&&cn(i.i,g),u=!1!==C.call(V,o)&&u}}return u&&!o.defaultPrevented}oe(j,Ae),j.prototype[An]=!0,j.prototype.removeEventListener=function(i,e,n,o){pi(this,i,e,n,o)},j.prototype.M=function(){if(j.X.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],o=0;o<n.length;o++)Tr(n[o]);delete i.g[e],i.h--}}this.I=null},j.prototype.N=function(i,e,n,o){return this.i.add(String(i),e,!1,n,o)},j.prototype.O=function(i,e,n,o){return this.i.add(String(i),e,!0,n,o)};var It=se.JSON.stringify;function nn(){var i=ue;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Vt,Ue=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new me,i=>i.reset());class me{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Ee(i){se.setTimeout(()=>{throw i},0)}function dt(i,e){Vt||function pn(){var i=se.Promise.resolve(void 0);Vt=function(){i.then(de)}}(),Gt||(Vt(),Gt=!0),ue.add(i,e)}var Gt=!1,ue=new class Vn{constructor(){this.h=this.g=null}add(e,n){const o=Ue.get();o.set(e,n),this.h?this.h.next=o:this.g=o,this.h=o}};function de(){for(var i;i=nn();){try{i.h.call(i.g)}catch(n){Ee(n)}var e=Ue;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Gt=!1}function ie(i,e){j.call(this),this.h=i||1,this.g=e||se,this.j=Dt(this.kb,this),this.l=Date.now()}function Le(i){i.ca=!1,i.R&&(i.g.clearTimeout(i.R),i.R=null)}function rt(i,e,n){if("function"==typeof i)n&&(i=Dt(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Dt(i.handleEvent,i)}return 2147483647<Number(e)?-1:se.setTimeout(i,e||0)}function Kt(i){i.g=rt(()=>{i.g=null,i.i&&(i.i=!1,Kt(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}oe(ie,j),(he=ie.prototype).ca=!1,he.R=null,he.kb=function(){if(this.ca){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-i):(this.R&&(this.g.clearTimeout(this.R),this.R=null),X(this,"tick"),this.ca&&(Le(this),this.start()))}},he.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},he.M=function(){ie.X.M.call(this),Le(this),delete this.g};class Tn extends Ae{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Kt(this)}M(){super.M(),this.g&&(se.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function In(i){Ae.call(this),this.h=i,this.g={}}oe(In,Ae);var Sr=[];function ui(i,e,n,o){Array.isArray(n)||(n&&(Sr[0]=n.toString()),n=Sr);for(var u=0;u<n.length;u++){var d=qr(e,n[u],o||i.handleEvent,!1,i.h||i);if(!d)break;i.g[d.key]=d}}function dn(i){Oi(i.g,function(e,n){this.g.hasOwnProperty(n)&&Hn(e)},i),i.g={}}function Li(){this.g=!0}function Gi(i,e,n,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Hs(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var o=n[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var d=u[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var g=1;g<u.length;g++)u[g]=""}}}return It(n)}catch{return e}}(i,n)+(o?" "+o:"")})}In.prototype.M=function(){In.X.M.call(this),dn(this)},In.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Li.prototype.Aa=function(){this.g=!1},Li.prototype.info=function(){};var Qr={},gi=null;function Mr(){return gi=gi||new j}function Is(i){Te.call(this,Qr.Oa,i)}function nr(i){const e=Mr();X(e,new Is(e,i))}function Ko(i,e){Te.call(this,Qr.STAT_EVENT,i),this.stat=e}function Yr(i){const e=Mr();X(e,new Ko(e,i))}function es(i,e){Te.call(this,Qr.Pa,i),this.size=e}function Zi(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return se.setTimeout(function(){i()},e)}Qr.Oa="serverreachability",oe(Is,Te),Qr.STAT_EVENT="statevent",oe(Ko,Te),Qr.Pa="timingevent",oe(es,Te);var zi={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},He={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Fe(){}function Et(){}Fe.prototype.h=null;var Ur,Rt={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function Qt(){Te.call(this,"d")}function Wn(){Te.call(this,"c")}function rr(){}function sr(i,e,n,o){this.l=i,this.j=e,this.m=n,this.U=o||1,this.S=new In(this),this.O=eo,this.T=new ie(i=Xe?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new ts}function ts(){this.i=null,this.g="",this.h=!1}oe(Qt,Te),oe(Wn,Te),oe(rr,Fe),rr.prototype.g=function(){return new XMLHttpRequest},rr.prototype.i=function(){return{}},Ur=new rr;var eo=45e3,ns={},Jr={};function Ns(i,e,n){i.K=1,i.v=zs(Qi(e)),i.s=n,i.P=!0,Ui(i,null)}function Ui(i,e){i.F=Date.now(),Rs(i),i.A=Qi(i.v);var n=i.A,o=i.U;Array.isArray(o)||(o=[String(o)]),Fs(n.i,"t",o),i.C=0,n=i.l.H,i.h=new ts,i.g=S(i.l,n?e:null,!i.s),0<i.N&&(i.L=new Tn(Dt(i.Ka,i,i.g),i.N)),ui(i.S,i.g,"readystatechange",i.hb),e=i.H?Ir(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.da(i.A,i.u,i.s,e)):(i.u="GET",i.g.da(i.A,i.u,null,e)),nr(1),function Vi(i,e,n,o,u,d){i.info(function(){if(i.g)if(d)for(var g="",C=d.split("&"),V=0;V<C.length;V++){var W=C[V].split("=");if(1<W.length){var ne=W[0];W=W[1];var Ce=ne.split("_");g=2<=Ce.length&&"type"==Ce[1]?g+(ne+"=")+W+"&":g+(ne+"=redacted&")}}else g=null;else g=d;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+n+"\n"+g})}(i.j,i.u,i.A,i.m,i.U,i.s)}function ko(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Da}function rs(i,e,n){let u,o=!0;for(;!i.I&&i.C<n.length;){if(u=Yi(i,n),u==Jr){4==e&&(i.o=4,Yr(14),o=!1),Gi(i.j,i.m,null,"[Incomplete Response]");break}if(u==ns){i.o=4,Yr(15),Gi(i.j,i.m,n,"[Invalid Chunk]"),o=!1;break}Gi(i.j,i.m,u,null),Ta(i,u)}ko(i)&&u!=Jr&&u!=ns&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,Yr(16),o=!1),i.i=i.i&&o,o?0<n.length&&!i.$&&(i.$=!0,(e=i.l).g==i&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),So(e),e.K=!0,Yr(11))):(Gi(i.j,i.m,n,"[Invalid Chunked Response]"),Ds(i),is(i))}function Yi(i,e){var n=i.C,o=e.indexOf("\n",n);return-1==o?Jr:(n=Number(e.substring(n,o)),isNaN(n)?ns:(o+=1)+n>e.length?Jr:(e=e.substr(o,n),i.C=o+n,e))}function Rs(i){i.V=Date.now()+i.O,Do(i,i.O)}function Do(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Zi(Dt(i.fb,i),e)}function Os(i){i.B&&(se.clearTimeout(i.B),i.B=null)}function is(i){0==i.l.G||i.I||ya(i.l,i)}function Ds(i){Os(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,Le(i.T),dn(i.S),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function Ta(i,e){try{var n=i.l;if(0!=n.G&&(n.g==i||yi(n.h,i)))if(!i.J&&yi(n.h,i)&&3==n.G){try{var o=n.Fa.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<i.F))break e;mo(n),at(n)}Zs(n),Yr(18)}}else n.Ba=u[1],0<n.Ba-n.T&&37500>u[2]&&n.L&&0==n.A&&!n.v&&(n.v=Zi(Dt(n.bb,n),6e3));if(1>=Ei(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else io(n,11)}else if((i.J||n.g==i)&&mo(n),!Be(e))for(u=n.Fa.g.parse(e),e=0;e<u.length;e++){let W=u[e];if(n.T=W[0],W=W[1],2==n.G)if("c"==W[0]){n.I=W[1],n.ka=W[2];const ne=W[3];null!=ne&&(n.ma=ne,n.j.info("VER="+n.ma));const Ce=W[4];null!=Ce&&(n.Ca=Ce,n.j.info("SVER="+n.Ca));const ot=W[5];null!=ot&&"number"==typeof ot&&0<ot&&(n.J=o=1.5*ot,n.j.info("backChannelRequestTimeoutMs_="+o)),o=n;const Tt=i.g;if(Tt){const Mt=Tt.g?Tt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mt){var d=o.h;d.g||-1==Mt.indexOf("spdy")&&-1==Mt.indexOf("quic")&&-1==Mt.indexOf("h2")||(d.j=d.l,d.g=new Set,d.h&&(Xn(d,d.h),d.h=null))}if(o.D){const gn=Tt.g?Tt.g.getResponseHeader("X-HTTP-Session-Id"):null;gn&&(o.za=gn,Qn(o.F,o.D,gn))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-i.F,n.j.info("Handshake RTT: "+n.P+"ms"));var g=i;if((o=n).sa=Yo(o,o.H?o.ka:null,o.V),g.J){to(o.h,g);var C=g,V=o.J;V&&C.setTimeout(V),C.B&&(Os(C),Rs(C)),o.g=g}else ps(o);0<n.i.length&&lr(n)}else"stop"!=W[0]&&"close"!=W[0]||io(n,7);else 3==n.G&&("stop"==W[0]||"close"==W[0]?"stop"==W[0]?io(n,7):Q(n):"noop"!=W[0]&&n.l&&n.l.wa(W),n.A=0)}nr(4)}catch{}}function Cs(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(xe(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var n=function Gs(i){if(i.oa&&"function"==typeof i.oa)return i.oa();if(!i.W||"function"!=typeof i.W){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(xe(i)||"string"==typeof i){var e=[];i=i.length;for(var n=0;n<i;n++)e.push(n);return e}e=[],n=0;for(const o in i)e[n++]=o;return e}}}(i),o=function oa(i){if(i.W&&"function"==typeof i.W)return i.W();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(xe(i)){for(var e=[],n=i.length,o=0;o<n;o++)e.push(i[o]);return e}for(o in e=[],n=0,i)e[n++]=i[o];return e}(i),u=o.length,d=0;d<u;d++)e.call(void 0,o[d],n&&n[d],i)}(he=sr.prototype).setTimeout=function(i){this.O=i},he.hb=function(i){i=i.target;const e=this.L;e&&3==hi(i)?e.l():this.Ka(i)},he.Ka=function(i){try{if(i==this.g)e:{const ne=hi(this.g);var e=this.g.Ea();const Ce=this.g.aa();if(!(3>ne)&&(3!=ne||Xe||this.g&&(this.h.h||this.g.fa()||po(this.g)))){this.I||4!=ne||7==e||nr(8==e||0>=Ce?3:2),Os(this);var n=this.g.aa();this.Y=n;t:if(ko(this)){var o=po(this.g);i="";var u=o.length,d=4==hi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ds(this),is(this);var g="";break t}this.h.i=new se.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:d&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,g=this.h.g}else g=this.g.fa();if(this.i=200==n,function ws(i,e,n,o,u,d,g){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+n+"\n"+d+" "+g})}(this.j,this.u,this.A,this.m,this.U,ne,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var C,V=this.g;if((C=V.g?V.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Be(C)){var W=C;break t}}W=null}if(!(n=W)){this.i=!1,this.o=3,Yr(12),Ds(this),is(this);break e}Gi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ta(this,n)}this.P?(rs(this,ne,g),Xe&&this.i&&3==ne&&(ui(this.S,this.T,"tick",this.gb),this.T.start())):(Gi(this.j,this.m,g,null),Ta(this,g)),4==ne&&Ds(this),this.i&&!this.I&&(4==ne?ya(this.l,this):(this.i=!1,Rs(this)))}else 400==n&&0<g.indexOf("Unknown SID")?(this.o=3,Yr(12)):(this.o=0,Yr(13)),Ds(this),is(this)}}}catch{}},he.gb=function(){if(this.g){var i=hi(this.g),e=this.g.fa();this.C<e.length&&(Os(this),rs(this,i,e),this.i&&4!=i&&Rs(this))}},he.cancel=function(){this.I=!0,Ds(this)},he.fb=function(){this.B=null;const i=Date.now();0<=i-this.V?(function Zr(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(nr(3),Yr(17)),Ds(this),this.o=2,is(this)):Do(this,this.V-i)};var Co=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xr(i,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Xr){this.h=void 0!==e?e:i.h,bs(this,i.j),this.s=i.s,this.g=i.g,mi(this,i.m),this.l=i.l,e=i.i;var n=new Br;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),ds(this,n),this.o=i.o}else i&&(n=String(i).match(Co))?(this.h=!!e,bs(this,n[1]||"",!0),this.s=Ps(n[2]||""),this.g=Ps(n[3]||"",!0),mi(this,n[4]),this.l=Ps(n[5]||"",!0),ds(this,n[6]||"",!0),this.o=Ps(n[7]||"")):(this.h=!!e,this.i=new Br(null,this.h))}function Qi(i){return new Xr(i)}function bs(i,e,n){i.j=n?Ps(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function mi(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function ds(i,e,n){e instanceof Br?(i.i=e,function bo(i,e){e&&!i.j&&(li(i),i.i=null,i.g.forEach(function(n,o){var u=o.toLowerCase();o!=u&&(ks(this,o),Fs(this,u,n))},i)),i.j=e}(i.i,i.h)):(n||(e=ss(e,Ji)),i.i=new Br(e,i.h))}function Qn(i,e,n){i.i.set(e,n)}function zs(i){return Qn(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Ps(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function ss(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,co),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function co(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Xr.prototype.toString=function(){var i=[],e=this.j;e&&i.push(ss(e,os,!0),":");var n=this.g;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(ss(e,os,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&i.push("/"),i.push(ss(n,"/"==n.charAt(0)?bi:ho,!0))),(n=this.i.toString())&&i.push("?",n),(n=this.o)&&i.push("#",ss(n,Bi)),i.join("")};var os=/[#\/\?@]/g,ho=/[#\?:]/g,bi=/[#\?]/g,Ji=/[#\?@]/g,Bi=/#/g;function Br(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function li(i){i.g||(i.g=new Map,i.h=0,i.i&&function Fo(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var o=i[n].indexOf("="),u=null;if(0<=o){var d=i[n].substring(0,o);u=i[n].substring(o+1)}else d=i[n];e(d,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function ks(i,e){li(i),e=Ar(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function Lo(i,e){return li(i),e=Ar(i,e),i.g.has(e)}function Fs(i,e,n){ks(i,e),0<n.length&&(i.i=null,i.g.set(Ar(i,e),ze(n)),i.h+=n.length)}function Ar(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function ci(i){this.l=i||ei,i=se.PerformanceNavigationTiming?0<(i=se.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(se.g&&se.g.Ga&&se.g.Ga()&&se.g.Ga().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(he=Br.prototype).add=function(i,e){li(this),this.i=null,i=Ar(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},he.forEach=function(i,e){li(this),this.g.forEach(function(n,o){n.forEach(function(u){i.call(e,u,o,this)},this)},this)},he.oa=function(){li(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let o=0;o<e.length;o++){const u=i[o];for(let d=0;d<u.length;d++)n.push(e[o])}return n},he.W=function(i){li(this);let e=[];if("string"==typeof i)Lo(this,i)&&(e=e.concat(this.g.get(Ar(this,i))));else{i=Array.from(this.g.values());for(let n=0;n<i.length;n++)e=e.concat(i[n])}return e},he.set=function(i,e){return li(this),this.i=null,Lo(this,i=Ar(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},he.get=function(i,e){return i&&0<(i=this.W(i)).length?String(i[0]):e},he.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var o=e[n];const d=encodeURIComponent(String(o)),g=this.W(o);for(o=0;o<g.length;o++){var u=d;""!==g[o]&&(u+="="+encodeURIComponent(String(g[o]))),i.push(u)}}return this.i=i.join("&")};var ei=10;function ji(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Ei(i){return i.h?1:i.g?i.g.size:0}function yi(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Xn(i,e){i.g?i.g.add(e):i.h=e}function to(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function as(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.D);return e}return ze(i.i)}function To(){}function Ti(){this.g=new To}function Ws(i,e,n){const o=n||"";try{Cs(i,function(u,d){let g=u;ft(u)&&(g=It(u)),e.push(o+d+"="+encodeURIComponent(g))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function Sn(i,e,n,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch{}}function Ls(i){this.l=i.$b||null,this.j=i.ib||!1}function Vo(i,e){j.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=no,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ci.prototype.cancel=function(){if(this.i=as(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},To.prototype.stringify=function(i){return se.JSON.stringify(i,void 0)},To.prototype.parse=function(i){return se.JSON.parse(i,void 0)},oe(Ls,Fe),Ls.prototype.g=function(){return new Vo(this.l,this.j)},Ls.prototype.i=function(i){return function(){return i}}({}),oe(Vo,j);var no=0;function wi(i){i.j.read().then(i.Sa.bind(i)).catch(i.ga.bind(i))}function si(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Pi(i)}function Pi(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(he=Vo.prototype).open=function(i,e){if(this.readyState!=no)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Pi(this)},he.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||se).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ga.bind(this))},he.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,si(this)),this.readyState=no},he.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Pi(this)),this.g&&(this.readyState=3,Pi(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if(typeof se.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;wi(this)}else i.text().then(this.Ua.bind(this),this.ga.bind(this))},he.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?si(this):Pi(this),3==this.readyState&&wi(this)}},he.Ua=function(i){this.g&&(this.response=this.responseText=i,si(this))},he.Ta=function(i){this.g&&(this.response=i,si(this))},he.ga=function(){this.g&&si(this)},he.setRequestHeader=function(i,e){this.v.append(i,e)},he.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},he.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(Vo.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var hs=se.JSON.parse;function Hr(i){j.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Nt,this.K=this.L=!1}oe(Hr,j);var Nt="",Jn=/^https?$/i,Zo=["POST","PUT"];function Gr(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,fs(i),Ii(i)}function fs(i){i.D||(i.D=!0,X(i,"complete"),X(i,"error"))}function Ks(i){if(i.h&&typeof Ge<"u"&&(!i.C[1]||4!=hi(i)||2!=i.aa()))if(i.v&&4==hi(i))rt(i.Ha,0,i);else if(X(i,"readystatechange"),4==hi(i)){i.h=!1;try{const C=i.aa();e:switch(C){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var o;if(o=0===C){var u=String(i.H).match(Co)[1]||null;if(!u&&se.self&&se.self.location){var d=se.self.location.protocol;u=d.substr(0,d.length-1)}o=!Jn.test(u?u.toLowerCase():"")}n=o}if(n)X(i,"complete"),X(i,"success");else{i.m=6;try{var g=2<hi(i)?i.g.statusText:""}catch{g=""}i.j=g+" ["+i.aa()+"]",fs(i)}}finally{Ii(i)}}}function Ii(i,e){if(i.g){qs(i);const n=i.g,o=i.C[0]?fe:null;i.g=null,i.C=null,e||X(i,"ready");try{n.onreadystatechange=o}catch{}}}function qs(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(se.clearTimeout(i.A),i.A=null)}function hi(i){return i.g?i.g.readyState:0}function po(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case Nt:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function go(i){let e="";return Oi(i,function(n,o){e+=o,e+=":",e+=n,e+="\r\n"}),e}function L(i,e,n){e:{for(o in n){var o=!1;break e}o=!0}o||(n=go(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):Qn(i,e,n))}function O(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function A(i){this.Ca=0,this.i=[],this.j=new Li,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=O("failFast",!1,i),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=O("baseRetryDelayMs",5e3,i),this.ab=O("retryDelaySeedMs",1e4,i),this.Za=O("forwardChannelMaxRetries",2,i),this.ta=O("forwardChannelRequestTimeoutMs",2e4,i),this.ra=i&&i.xmlHttpFactory||void 0,this.Da=i&&i.Yb||!1,this.J=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.I="",this.h=new ci(i&&i.concurrentRequestLimit),this.Fa=new Ti,this.O=i&&i.fastHandshake||!1,this.N=i&&i.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=i&&i.Wb||!1,i&&i.Aa&&this.j.Aa(),i&&i.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&i&&i.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Q(i){if(an(i),3==i.G){var e=i.U++,n=Qi(i.F);Qn(n,"SID",i.I),Qn(n,"RID",e),Qn(n,"TYPE","terminate"),ti(i,n),(e=new sr(i,i.j,e,void 0)).K=2,e.v=zs(Qi(n)),n=!1,se.navigator&&se.navigator.sendBeacon&&(n=se.navigator.sendBeacon(e.v.toString(),"")),!n&&se.Image&&((new Image).src=e.v,n=!0),n||(e.g=S(e.l,null),e.g.da(e.v)),e.F=Date.now(),Rs(e)}Mo(i)}function at(i){i.g&&(So(i),i.g.cancel(),i.g=null)}function an(i){at(i),i.u&&(se.clearTimeout(i.u),i.u=null),mo(i),i.h.cancel(),i.m&&("number"==typeof i.m&&se.clearTimeout(i.m),i.m=null)}function lr(i){ji(i.h)||i.m||(i.m=!0,dt(i.Ja,i),i.C=0)}function Xi(i,e){var n;n=e?e.m:i.U++;const o=Qi(i.F);Qn(o,"SID",i.I),Qn(o,"RID",n),Qn(o,"AID",i.T),ti(i,o),i.o&&i.s&&L(o,i.o,i.s),n=new sr(i,i.j,n,i.C+1),null===i.o&&(n.H=i.s),e&&(i.i=e.D.concat(i.i)),e=ro(i,n,1e3),n.setTimeout(Math.round(.5*i.ta)+Math.round(.5*i.ta*Math.random())),Xn(i.h,n),Ns(n,o,e)}function ti(i,e){i.ia&&Oi(i.ia,function(n,o){Qn(e,o,n)}),i.l&&Cs({},function(n,o){Qn(e,o,n)})}function ro(i,e,n){n=Math.min(i.i.length,n);var o=i.l?Dt(i.l.Qa,i.l,i):null;e:{var u=i.i;let d=-1;for(;;){const g=["count="+n];-1==d?0<n?(d=u[0].h,g.push("ofs="+d)):d=0:g.push("ofs="+d);let C=!0;for(let V=0;V<n;V++){let W=u[V].h;const ne=u[V].g;if(W-=d,0>W)d=Math.max(0,u[V].h-100),C=!1;else try{Ws(ne,g,"req"+W+"_")}catch{o&&o(ne)}}if(C){o=g.join("&");break e}}}return i=i.i.splice(0,n),e.D=i,o}function ps(i){i.g||i.u||(i.Z=1,dt(i.Ia,i),i.A=0)}function Zs(i){return!(i.g||i.u||3<=i.A||(i.Z++,i.u=Zi(Dt(i.Ia,i),Ao(i,i.A)),i.A++,0))}function So(i){null!=i.B&&(se.clearTimeout(i.B),i.B=null)}function aa(i){i.g=new sr(i,i.j,"rpc",i.Z),null===i.o&&(i.g.H=i.s),i.g.N=0;var e=Qi(i.sa);Qn(e,"RID","rpc"),Qn(e,"SID",i.I),Qn(e,"CI",i.L?"0":"1"),Qn(e,"AID",i.T),Qn(e,"TYPE","xmlhttp"),ti(i,e),i.o&&i.s&&L(e,i.o,i.s),i.J&&i.g.setTimeout(i.J);var n=i.g;i=i.ka,n.K=1,n.v=zs(Qi(e)),n.s=null,n.P=!0,Ui(n,i)}function mo(i){null!=i.v&&(se.clearTimeout(i.v),i.v=null)}function ya(i,e){var n=null;if(i.g==e){mo(i),So(i),i.g=null;var o=2}else{if(!yi(i.h,e))return;n=e.D,to(i.h,e),o=1}if(0!=i.G)if(i.pa=e.Y,e.i)if(1==o){n=e.s?e.s.length:0,e=Date.now()-e.F;var u=i.C;X(o=Mr(),new es(o,n,e,u)),lr(i)}else ps(i);else if(3==(u=e.o)||0==u&&0<i.pa||!(1==o&&function Wi(i,e){return!(Ei(i.h)>=i.h.j-(i.m?1:0)||(i.m?(i.i=e.D.concat(i.i),0):1==i.G||2==i.G||i.C>=(i.Ya?0:i.Za)||(i.m=Zi(Dt(i.Ja,i,e),Ao(i,i.C)),i.C++,0)))}(i,e)||2==o&&Zs(i)))switch(n&&0<n.length&&(e=i.h,e.i=e.i.concat(n)),u){case 1:io(i,5);break;case 4:io(i,10);break;case 3:io(i,6);break;default:io(i,2)}}function Ao(i,e){let n=i.Wa+Math.floor(Math.random()*i.ab);return i.l||(n*=2),n*e}function io(i,e){if(i.j.info("Error code "+e),2==e){var n=null;i.l&&(n=null);var o=Dt(i.jb,i);n||(n=new Xr("//www.google.com/images/cleardot.gif"),se.location&&"http"==se.location.protocol||bs(n,"https"),zs(n)),function di(i,e){const n=new Li;if(se.Image){const o=new Image;o.onload=Ct(Sn,n,o,"TestLoadImage: loaded",!0,e),o.onerror=Ct(Sn,n,o,"TestLoadImage: error",!1,e),o.onabort=Ct(Sn,n,o,"TestLoadImage: abort",!1,e),o.ontimeout=Ct(Sn,n,o,"TestLoadImage: timeout",!1,e),se.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(n.toString(),o)}else Yr(2);i.G=0,i.l&&i.l.va(e),Mo(i),an(i)}function Mo(i){if(i.G=0,i.la=[],i.l){const e=as(i.h);(0!=e.length||0!=i.i.length)&&(st(i.la,e),st(i.la,i.i),i.h.i.length=0,ze(i.i),i.i.length=0),i.l.ua()}}function Yo(i,e,n){var o=n instanceof Xr?Qi(n):new Xr(n,void 0);if(""!=o.g)e&&(o.g=e+"."+o.g),mi(o,o.m);else{var u=se.location;o=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var d=new Xr(null,void 0);o&&bs(d,o),e&&(d.g=e),u&&mi(d,u),n&&(d.l=n),o=d}return e=i.za,(n=i.D)&&e&&Qn(o,n,e),Qn(o,"VER",i.ma),ti(i,o),o}function S(i,e,n){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Hr(n&&i.Da&&!i.ra?new Ls({ib:!0}):i.ra)).L=i.H,e}function G(){}function N(){if(tn&&!(10<=Number(Rr)))throw Error("Environmental error: no available transport.")}function Y(i,e){j.call(this),this.g=new A(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.S=i,(i=e&&e.Xb)&&!Be(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Be(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new mt(this)}function _e(i){Qt.call(this);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function ut(){Wn.call(this),this.status=1}function mt(i){this.g=i}(he=Hr.prototype).da=function(i,e,n,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ur.g(),this.C=function Qe(i){return i.h||(i.h=i.i())}(this.u?this.u:Ur),this.g.onreadystatechange=Dt(this.Ha,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(d){return void Gr(this,d)}if(i=n||"",n=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var u in o)n.set(u,o[u]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const d of o.keys())n.set(d,o.get(d))}o=Array.from(n.keys()).find(d=>"content-type"==d.toLowerCase()),u=se.FormData&&i instanceof se.FormData,!(0<=Re(Zo,e))||o||u||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[d,g]of n)this.g.setRequestHeader(d,g);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{qs(this),0<this.B&&((this.K=function fo(i){return tn&&function gr(){return function sn(i){var e=cr;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=$e(String($t)).split("."),n=$e("9").split("."),o=Math.max(e.length,n.length);for(let g=0;0==i&&g<o;g++){var u=e[g]||"",d=n[g]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],0==u[0].length&&0==d[0].length)break;i=wt(0==u[1].length?0:parseInt(u[1],10),0==d[1].length?0:parseInt(d[1],10))||wt(0==u[2].length,0==d[2].length)||wt(u[2],d[2]),u=u[3],d=d[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Dt(this.qa,this)):this.A=rt(this.qa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(d){Gr(this,d)}},he.qa=function(){typeof Ge<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,X(this,"timeout"),this.abort(8))},he.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,X(this,"complete"),X(this,"abort"),Ii(this))},he.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ii(this,!0)),Hr.X.M.call(this)},he.Ha=function(){this.s||(this.F||this.v||this.l?Ks(this):this.eb())},he.eb=function(){Ks(this)},he.aa=function(){try{return 2<hi(this)?this.g.status:-1}catch{return-1}},he.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},he.Ra=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),hs(e)}},he.Ea=function(){return this.m},he.Na=function(){return"string"==typeof this.j?this.j:String(this.j)},(he=A.prototype).ma=8,he.G=1,he.Ja=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.U=Math.floor(1e5*Math.random()),i=this.U++;const u=new sr(this,this.j,i,void 0);let d=this.s;if(this.S&&(d?(d=Ir(d),Bn(d,this.S)):d=this.S),null!==this.o||this.N||(u.H=d,d=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){var o=this.i[n];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=n;break e}if(4096===e||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=ro(this,u,e),Qn(n=Qi(this.F),"RID",i),Qn(n,"CVER",22),this.D&&Qn(n,"X-HTTP-Session-Id",this.D),ti(this,n),d&&(this.N?e="headers="+encodeURIComponent(String(go(d)))+"&"+e:this.o&&L(n,this.o,d)),Xn(this.h,u),this.Xa&&Qn(n,"TYPE","init"),this.O?(Qn(n,"$req",e),Qn(n,"SID","null"),u.Z=!0,Ns(u,n,null)):Ns(u,n,e),this.G=2}}else 3==this.G&&(i?Xi(this,i):0==this.i.length||ji(this.h)||Xi(this))},he.Ia=function(){if(this.u=null,aa(this),this.$&&!(this.K||null==this.g||0>=this.P)){var i=2*this.P;this.j.info("BP detection timer enabled: "+i),this.B=Zi(Dt(this.cb,this),i)}},he.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Yr(10),at(this),aa(this))},he.bb=function(){null!=this.v&&(this.v=null,at(this),Zs(this),Yr(19))},he.jb=function(i){i?(this.j.info("Successfully pinged google.com"),Yr(2)):(this.j.info("Failed to ping google.com"),Yr(1))},(he=G.prototype).xa=function(){},he.wa=function(){},he.va=function(){},he.ua=function(){},he.Qa=function(){},N.prototype.g=function(i,e){return new Y(i,e)},oe(Y,j),Y.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,n=this.h||void 0;Yr(0),i.V=e,i.ia=n||{},i.L=i.Y,i.F=Yo(i,null,i.V),lr(i)},Y.prototype.close=function(){Q(this.g)},Y.prototype.u=function(i){var e=this.g;if("string"==typeof i){var n={};n.__data__=i,i=n}else this.v&&((n={}).__data__=It(i),i=n);e.i.push(new class{constructor(i,e){this.h=i,this.g=e}}(e.$a++,i)),3==e.G&&lr(e)},Y.prototype.M=function(){this.g.l=null,delete this.j,Q(this.g),delete this.g,Y.X.M.call(this)},oe(_e,Qt),oe(ut,Wn),oe(mt,G),mt.prototype.xa=function(){X(this.g,"a")},mt.prototype.wa=function(i){X(this.g,new _e(i))},mt.prototype.va=function(i){X(this.g,new ut(i))},mt.prototype.ua=function(){X(this.g,"b")},N.prototype.createWebChannel=N.prototype.g,Y.prototype.send=Y.prototype.u,Y.prototype.open=Y.prototype.m,Y.prototype.close=Y.prototype.close,zi.NO_ERROR=0,zi.TIMEOUT=8,zi.HTTP_ERROR=6,He.COMPLETE="complete",Et.EventType=Rt,Rt.OPEN="a",Rt.CLOSE="b",Rt.ERROR="c",Rt.MESSAGE="d",j.prototype.listen=j.prototype.N,Hr.prototype.listenOnce=Hr.prototype.O,Hr.prototype.getLastError=Hr.prototype.Na,Hr.prototype.getLastErrorCode=Hr.prototype.Ea,Hr.prototype.getStatus=Hr.prototype.aa,Hr.prototype.getResponseJson=Hr.prototype.Ra,Hr.prototype.getResponseText=Hr.prototype.fa,Hr.prototype.send=Hr.prototype.da;var yn=Me.createWebChannelTransport=function(){return new N},fr=Me.getStatEventTarget=function(){return Mr()},vr=Me.ErrorCode=zi,_r=Me.EventType=He,ir=Me.Event=Qr,fi=Me.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},jr=Me.FetchXmlHttpFactory=Ls,Pr=Me.WebChannel=Et,so=Me.XhrIo=Hr;const Vs="@firebase/firestore";class $r{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$r.UNAUTHENTICATED=new $r(null),$r.GOOGLE_CREDENTIALS=new $r("google-credentials-uid"),$r.FIRST_PARTY=new $r("first-party-uid"),$r.MOCK_USER=new $r("mock-user");let Ts="9.10.0";const Di=new we.Yd("@firebase/firestore");function Ki(){return Di.logLevel}function xo(i){Di.setLogLevel(i)}function Bt(i,...e){if(Di.logLevel<=we.in.DEBUG){const n=e.map(va);Di.debug(`Firestore (${Ts}): ${i}`,...n)}}function er(i,...e){if(Di.logLevel<=we.in.ERROR){const n=e.map(va);Di.error(`Firestore (${Ts}): ${i}`,...n)}}function yo(i,...e){if(Di.logLevel<=we.in.WARN){const n=e.map(va);Di.warn(`Firestore (${Ts}): ${i}`,...n)}}function va(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function vn(i="Unexpected state"){const e=`FIRESTORE (${Ts}) INTERNAL ASSERTION FAILED: `+i;throw er(e),new Error(e)}function Gn(i,e){i||vn()}function Wa(i,e){i||vn()}function qt(i,e){return i}const pt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Lt extends ve.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Dr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class ua{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class la{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($r.UNAUTHENTICATED))}shutdown(){}}class Ci{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Au{constructor(e){this.t=e,this.currentUser=$r.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var o=this;let u=this.i;const d=W=>this.i!==u?(u=this.i,n(W)):Promise.resolve();let g=new Dr;this.o=()=>{this.i++,this.currentUser=this.u(),g.resolve(),g=new Dr,e.enqueueRetryable(()=>d(this.currentUser))};const C=()=>{const W=g;e.enqueueRetryable((0,c.Z)(function*(){yield W.promise,yield d(o.currentUser)}))},V=W=>{Bt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=W,this.auth.addAuthTokenListener(this.o),C()};this.t.onInit(W=>V(W)),setTimeout(()=>{if(!this.auth){const W=this.t.getImmediate({optional:!0});W?V(W):(Bt("FirebaseAuthCredentialsProvider","Auth not yet detected"),g.resolve(),g=new Dr)}},0),C()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(Bt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Gn("string"==typeof o.accessToken),new ua(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Gn(null===e||"string"==typeof e),new $r(e)}}class Uo{constructor(e,n,o,u){this.h=e,this.l=n,this.m=o,this.g=u,this.type="FirstParty",this.user=$r.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Gn(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class _a{constructor(e,n,o,u){this.h=e,this.l=n,this.m=o,this.g=u}getToken(){return Promise.resolve(new Uo(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n($r.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ca{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Sa{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const o=d=>{null!=d.error&&Bt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const g=d.token!==this.A;return this.A=d.token,Bt("FirebaseAppCheckTokenProvider",`Received ${g?"new":"existing"} token.`),g?n(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable(()=>o(d))};const u=d=>{Bt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.appCheck.addTokenListener(this.o)};this.T.onInit(d=>u(d)),setTimeout(()=>{if(!this.appCheck){const d=this.T.getImmediate({optional:!0});d?u(d):Bt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Gn("string"==typeof n.token),this.A=n.token,new ca(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function vi(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let o=0;o<i;o++)n[o]=Math.floor(256*Math.random());return n}class Ea{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const u=vi(40);for(let d=0;d<u.length;++d)o.length<20&&u[d]<n&&(o+=e.charAt(u[d]%e.length))}return o}}function Dn(i,e){return i<e?-1:i>e?1:0}function No(i,e,n){return i.length===e.length&&i.every((o,u)=>n(o,e[u]))}function ki(i){return i+"\0"}class xr{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Lt(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Lt(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Lt(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Lt(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return xr.fromMillis(Date.now())}static fromDate(e){return xr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new xr(n,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Dn(this.nanoseconds,e.nanoseconds):Dn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class kn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new kn(e)}static min(){return new kn(new xr(0,0))}static max(){return new kn(new xr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ro{constructor(e,n,o){void 0===n?n=0:n>e.length&&vn(),void 0===o?o=e.length-n:o>e.length-n&&vn(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return 0===Ro.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ro?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let u=0;u<o;u++){const d=e.get(u),g=n.get(u);if(d<g)return-1;if(d>g)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class or extends Ro{construct(e,n,o){return new or(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new Lt(pt.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(u=>u.length>0))}return new or(n)}static emptyPath(){return new or([])}}const Qo=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zr extends Ro{construct(e,n,o){return new zr(e,n,o)}static isValidIdentifier(e){return Qo.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new zr(["__name__"])}static fromServerFormat(e){const n=[];let o="",u=0;const d=()=>{if(0===o.length)throw new Lt(pt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let g=!1;for(;u<e.length;){const C=e[u];if("\\"===C){if(u+1===e.length)throw new Lt(pt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const V=e[u+1];if("\\"!==V&&"."!==V&&"`"!==V)throw new Lt(pt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=V,u+=2}else"`"===C?(g=!g,u++):"."!==C||g?(o+=C,u++):(d(),u++)}if(d(),g)throw new Lt(pt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zr(n)}static emptyPath(){return new zr([])}}class zt{constructor(e){this.path=e}static fromPath(e){return new zt(or.fromString(e))}static fromName(e){return new zt(or.fromString(e).popFirst(5))}static empty(){return new zt(or.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===or.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return or.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new zt(new or(e.slice()))}}class Ys{constructor(e,n,o,u){this.indexId=e,this.collectionGroup=n,this.fields=o,this.indexState=u}}function Ma(i){return i.fields.find(e=>2===e.kind)}function Us(i){return i.fields.filter(e=>2!==e.kind)}Ys.UNKNOWN_ID=-1;class Bs{constructor(e,n){this.fieldPath=e,this.kind=n}}class vo{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new vo(0,us.min())}}function da(i,e){const n=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=kn.fromTimestamp(1e9===o?new xr(n+1,0):new xr(n,o));return new us(u,zt.empty(),e)}function jo(i){return new us(i.readTime,i.key,-1)}class us{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new us(kn.min(),zt.empty(),-1)}static max(){return new us(kn.max(),zt.empty(),-1)}}function _i(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=zt.comparator(i.documentKey,e.documentKey),0!==n?n:Dn(i.largestBatchId,e.largestBatchId))}const $o="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Va{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function gs(i){return Jo.apply(this,arguments)}function Jo(){return Jo=(0,c.Z)(function*(i){if(i.code!==pt.FAILED_PRECONDITION||i.message!==$o)throw i;Bt("LocalStore","Unexpectedly lost primary lease")}),Jo.apply(this,arguments)}class et{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&vn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new et((o,u)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(o,u)},this.catchCallback=d=>{this.wrapFailure(n,d).next(o,u)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof et?n:et.resolve(n)}catch(n){return et.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):et.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):et.reject(n)}static resolve(e){return new et((n,o)=>{n(e)})}static reject(e){return new et((n,o)=>{o(e)})}static waitFor(e){return new et((n,o)=>{let u=0,d=0,g=!1;e.forEach(C=>{++u,C.next(()=>{++d,g&&d===u&&n()},V=>o(V))}),g=!0,d===u&&n()})}static or(e){let n=et.resolve(!1);for(const o of e)n=n.next(u=>u?et.resolve(u):o());return n}static forEach(e,n){const o=[];return e.forEach((u,d)=>{o.push(n.call(this,u,d))}),this.waitFor(o)}static mapArray(e,n){return new et((o,u)=>{const d=e.length,g=new Array(d);let C=0;for(let V=0;V<d;V++){const W=V;n(e[W]).next(ne=>{g[W]=ne,++C,C===d&&o(g)},ne=>u(ne))}})}static doWhile(e,n){return new et((o,u)=>{const d=()=>{!0===e()?n().next(()=>{d()},u):o()};d()})}}class _o{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.P=new Dr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{n.error?this.P.reject(new Xo(e,n.error)):this.P.resolve()},this.transaction.onerror=o=>{const u=Mu(o.target.error);this.P.reject(new Xo(e,u))}}static open(e,n,o,u){try{return new _o(n,e.transaction(u,o))}catch(d){throw new Xo(n,d)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Bt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new ys(n)}}class $i{constructor(e,n,o){this.name=e,this.version=n,this.S=o,12.2===$i.D((0,ve.z$)())&&er("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Bt("SimpleDb","Removing database:",e),oo(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,ve.hl)())return!1;if($i.N())return!0;const e=(0,ve.z$)(),n=$i.D(e),o=0<n&&n<10,u=$i.k(e),d=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||d)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.M)}static O(e,n){return e.store(n)}static D(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static k(e){const n=e.match(/Android ([\d.]+)/i),o=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(o)}F(e){var n=this;return(0,c.Z)(function*(){return n.db||(Bt("SimpleDb","Opening database:",n.name),n.db=yield new Promise((o,u)=>{const d=indexedDB.open(n.name,n.version);d.onsuccess=g=>{o(g.target.result)},d.onblocked=()=>{u(new Xo(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=g=>{const C=g.target.error;u("VersionError"===C.name?new Lt(pt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===C.name?new Lt(pt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+C):new Xo(e,C))},d.onupgradeneeded=g=>{Bt("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',g.oldVersion),n.S.$(g.target.result,d.transaction,g.oldVersion,n.version).next(()=>{Bt("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.B&&(n.db.onversionchange=o=>n.B(o)),n.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,o,u){var d=this;return(0,c.Z)(function*(){const g="readonly"===n;let C=0;for(;;){++C;try{d.db=yield d.F(e);const V=_o.open(d.db,e,g?"readonly":"readwrite",o),W=u(V).next(ne=>(V.V(),ne)).catch(ne=>(V.abort(ne),et.reject(ne))).toPromise();return W.catch(()=>{}),yield V.v,W}catch(V){const W=V,ne="FirebaseError"!==W.name&&C<3;if(Bt("SimpleDb","Transaction failed with error:",W.message,"Retrying:",ne),d.close(),!ne)return Promise.reject(W)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class wa{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return oo(this.U.delete())}}class Xo extends Lt{constructor(e,n){super(pt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function ms(i){return"IndexedDbTransactionError"===i.name}class ys{constructor(e){this.store=e}put(e,n){let o;return void 0!==n?(Bt("SimpleDb","PUT",this.store.name,e,n),o=this.store.put(n,e)):(Bt("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),oo(o)}add(e){return Bt("SimpleDb","ADD",this.store.name,e,e),oo(this.store.add(e))}get(e){return oo(this.store.get(e)).next(n=>(void 0===n&&(n=null),Bt("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Bt("SimpleDb","DELETE",this.store.name,e),oo(this.store.delete(e))}count(){return Bt("SimpleDb","COUNT",this.store.name),oo(this.store.count())}W(e,n){const o=this.options(e,n);if(o.index||"function"!=typeof this.store.getAll){const u=this.cursor(o),d=[];return this.H(u,(g,C)=>{d.push(C)}).next(()=>d)}{const u=this.store.getAll(o.range);return new et((d,g)=>{u.onerror=C=>{g(C.target.error)},u.onsuccess=C=>{d(C.target.result)}})}}J(e,n){const o=this.store.getAll(e,null===n?void 0:n);return new et((u,d)=>{o.onerror=g=>{d(g.target.error)},o.onsuccess=g=>{u(g.target.result)}})}Y(e,n){Bt("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,n);o.X=!1;const u=this.cursor(o);return this.H(u,(d,g,C)=>C.delete())}Z(e,n){let o;n?o=e:(o={},n=e);const u=this.cursor(o);return this.H(u,n)}tt(e){const n=this.cursor({});return new et((o,u)=>{n.onerror=d=>{const g=Mu(d.target.error);u(g)},n.onsuccess=d=>{const g=d.target.result;g?e(g.primaryKey,g.value).next(C=>{C?g.continue():o()}):o()}})}H(e,n){const o=[];return new et((u,d)=>{e.onerror=g=>{d(g.target.error)},e.onsuccess=g=>{const C=g.target.result;if(!C)return void u();const V=new wa(C),W=n(C.primaryKey,C.value,V);if(W instanceof et){const ne=W.catch(Ce=>(V.done(),et.reject(Ce)));o.push(ne)}V.isDone?u():null===V.G?C.continue():C.continue(V.G)}}).next(()=>et.waitFor(o))}options(e,n){let o;return void 0!==e&&("string"==typeof e?o=e:n=e),{index:o,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const o=this.store.index(e.index);return e.X?o.openKeyCursor(e.range,n):o.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function oo(i){return new et((e,n)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const u=Mu(o.target.error);n(u)}})}let kr=!1;function Mu(i){const e=$i.D((0,ve.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(n)>=0){const o=new Lt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return kr||(kr=!0,setTimeout(()=>{throw o},0)),o}}return i}class Ka{constructor(e,n){this.asyncQueue=e,this.et=n,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var n=this;Bt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,c.Z)(function*(){n.task=null;try{Bt("IndexBackiller",`Documents written: ${yield n.et.st()}`)}catch(o){ms(o)?Bt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield gs(o)}yield n.nt(6e4)}))}}class Ua{constructor(e,n){this.localStore=e,this.persistence=n}st(e=50){var n=this;return(0,c.Z)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>n.it(o,e))})()}it(e,n){const o=new Set;let u=n,d=!0;return et.doWhile(()=>!0===d&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(g=>{if(null!==g&&!o.has(g))return Bt("IndexBackiller",`Processing collection: ${g}`),this.rt(e,g,u).next(C=>{u-=C,o.add(g)});d=!1})).next(()=>n-u)}rt(e,n,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(u=>this.localStore.localDocuments.getNextDocuments(e,n,u,o).next(d=>{const g=d.changes;return this.localStore.indexManager.updateIndexEntries(e,g).next(()=>this.ot(u,d)).next(C=>(Bt("IndexBackiller",`Updating offset: ${C}`),this.localStore.indexManager.updateCollectionGroup(e,n,C))).next(()=>g.size)}))}ot(e,n){let o=e;return n.changes.forEach((u,d)=>{const g=jo(d);_i(g,o)>0&&(o=g)}),new us(o.readTime,o.documentKey,Math.max(n.batchId,e.largestBatchId))}}class vs{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=o=>this.ut(o),this.ct=o=>n.writeSequenceNumber(o))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function xu(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Ho(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function $(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}vs.at=-1;class m{constructor(e,n){this.comparator=e,this.root=n||R.EMPTY}insert(e,n){return new m(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,R.BLACK,null,null))}remove(e){return new m(this.comparator,this.root.remove(e,this.comparator).copy(null,null,R.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(0===o)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return n+o.left.size;u<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new E(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new E(this.root,e,this.comparator,!1)}getReverseIterator(){return new E(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new E(this.root,e,this.comparator,!0)}}class E{constructor(e,n,o,u){this.isReverse=u,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=n?o(e.key,n):1,n&&u&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(0===d){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class R{constructor(e,n,o,u,d){this.key=e,this.value=n,this.color=o??R.RED,this.left=u??R.EMPTY,this.right=d??R.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,u,d){return new R(e??this.key,n??this.value,o??this.color,u??this.left,d??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let u=this;const d=o(e,u.key);return u=d<0?u.copy(null,null,null,u.left.insert(e,n,o),null):0===d?u.copy(null,n,null,null,null):u.copy(null,null,null,null,u.right.insert(e,n,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return R.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,u=this;if(n(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,n),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===n(e,u.key)){if(u.right.isEmpty())return R.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,n))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,R.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,R.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw vn();const e=this.left.check();if(e!==this.right.check())throw vn();return e+(this.isRed()?0:1)}}R.EMPTY=null,R.RED=!0,R.BLACK=!1,R.EMPTY=new class{constructor(){this.size=0}get key(){throw vn()}get value(){throw vn()}get color(){throw vn()}get left(){throw vn()}get right(){throw vn()}copy(i,e,n,o,u){return this}insert(i,e,n){return new R(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class z{constructor(e){this.comparator=e,this.data=new m(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;n(u.key)}}forEachWhile(e,n){let o;for(o=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new te(this.data.getIterator())}getIteratorFrom(e){return new te(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof z)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const u=n.getNext().key,d=o.getNext().key;if(0!==this.comparator(u,d))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new z(this.comparator);return n.data=e,n}}class te{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function be(i){return i.hasNext()?i.getNext():void 0}class De{constructor(e){this.fields=e,e.sort(zr.comparator)}static empty(){return new De([])}unionWith(e){let n=new z(zr.comparator);for(const o of this.fields)n=n.add(o);for(const o of e)n=n.add(o);return new De(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return No(this.fields,e.fields,(n,o)=>n.isEqual(o))}}function nt(){return typeof atob<"u"}class lt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new lt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let d=0;d<o.length;++d)u+=String.fromCharCode(o[d]);return u}(e);return new lt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Dn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}lt.EMPTY_BYTE_STRING=new lt("");const en=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function un(i){if(Gn(!!i),"string"==typeof i){let e=0;const n=en.exec(i);if(Gn(!!n),n[1]){let u=n[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:_n(i.seconds),nanos:_n(i.nanos)}}function _n(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Fn(i){return"string"==typeof i?lt.fromBase64String(i):lt.fromUint8Array(i)}function Pn(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Kn(i){const e=i.mapValue.fields.__previous_value__;return Pn(e)?Kn(e):e}function Cr(i){const e=un(i.mapValue.fields.__local_write_time__.timestampValue);return new xr(e.seconds,e.nanos)}class Nr{constructor(e,n,o,u,d,g,C,V){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=u,this.ssl=d,this.forceLongPolling=g,this.autoDetectLongPolling=C,this.useFetchStreams=V}}class ni{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ni("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ni&&e.projectId===this.projectId&&e.database===this.database}}function Si(i){return null==i}function br(i){return 0===i&&1/i==-1/0}function Eo(i){return"number"==typeof i&&Number.isInteger(i)&&!br(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const _={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},w={nullValue:"NULL_VALUE"};function y(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Pn(i)?4:ri(i)?9007199254740991:10:vn()}function T(i,e){if(i===e)return!0;const n=y(i);if(n!==y(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Cr(i).isEqual(Cr(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const d=un(o.timestampValue),g=un(u.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,Fn(i.bytesValue).isEqual(Fn(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return _n(o.geoPointValue.latitude)===_n(u.geoPointValue.latitude)&&_n(o.geoPointValue.longitude)===_n(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return _n(o.integerValue)===_n(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const d=_n(o.doubleValue),g=_n(u.doubleValue);return d===g?br(d)===br(g):isNaN(d)&&isNaN(g)}return!1}(i,e);case 9:return No(i.arrayValue.values||[],e.arrayValue.values||[],T);case 10:return function(o,u){const d=o.mapValue.fields||{},g=u.mapValue.fields||{};if(xu(d)!==xu(g))return!1;for(const C in d)if(d.hasOwnProperty(C)&&(void 0===g[C]||!T(d[C],g[C])))return!1;return!0}(i,e);default:return vn()}var u}function P(i,e){return void 0!==(i.values||[]).find(n=>T(n,e))}function K(i,e){if(i===e)return 0;const n=y(i),o=y(e);if(n!==o)return Dn(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return Dn(i.booleanValue,e.booleanValue);case 2:return function(u,d){const g=_n(u.integerValue||u.doubleValue),C=_n(d.integerValue||d.doubleValue);return g<C?-1:g>C?1:g===C?0:isNaN(g)?isNaN(C)?0:-1:1}(i,e);case 3:return le(i.timestampValue,e.timestampValue);case 4:return le(Cr(i),Cr(e));case 5:return Dn(i.stringValue,e.stringValue);case 6:return function(u,d){const g=Fn(u),C=Fn(d);return g.compareTo(C)}(i.bytesValue,e.bytesValue);case 7:return function(u,d){const g=u.split("/"),C=d.split("/");for(let V=0;V<g.length&&V<C.length;V++){const W=Dn(g[V],C[V]);if(0!==W)return W}return Dn(g.length,C.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,d){const g=Dn(_n(u.latitude),_n(d.latitude));return 0!==g?g:Dn(_n(u.longitude),_n(d.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,d){const g=u.values||[],C=d.values||[];for(let V=0;V<g.length&&V<C.length;++V){const W=K(g[V],C[V]);if(W)return W}return Dn(g.length,C.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,d){if(u===_.mapValue&&d===_.mapValue)return 0;if(u===_.mapValue)return 1;if(d===_.mapValue)return-1;const g=u.fields||{},C=Object.keys(g),V=d.fields||{},W=Object.keys(V);C.sort(),W.sort();for(let ne=0;ne<C.length&&ne<W.length;++ne){const Ce=Dn(C[ne],W[ne]);if(0!==Ce)return Ce;const ot=K(g[C[ne]],V[W[ne]]);if(0!==ot)return ot}return Dn(C.length,W.length)}(i.mapValue,e.mapValue);default:throw vn()}}function le(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Dn(i,e);const n=un(i),o=un(e),u=Dn(n.seconds,o.seconds);return 0!==u?u:Dn(n.nanos,o.nanos)}function ye(i){return gt(i)}function gt(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=un(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Fn(i.bytesValue).toBase64():"referenceValue"in i?zt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",d=!0;for(const g of o.values||[])d?d=!1:u+=",",u+=gt(g);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let d="{",g=!0;for(const C of u)g?g=!1:d+=",",d+=`${C}:${gt(o.fields[C])}`;return d+"}"}(i.mapValue):vn();var e}function Ht(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Pt(i){return!!i&&"integerValue"in i}function yt(i){return!!i&&"arrayValue"in i}function Zt(i){return!!i&&"nullValue"in i}function zn(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Er(i){return!!i&&"mapValue"in i}function Wr(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Ho(i.mapValue.fields,(n,o)=>e.mapValue.fields[n]=Wr(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Wr(i.arrayValue.values[n]);return e}return Object.assign({},i)}function ri(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function _s(i){return"nullValue"in i?w:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?Ht(ni.empty(),zt.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:vn()}function Kr(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?Ht(ni.empty(),zt.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?_:vn()}function ea(i,e){const n=K(i.value,e.value);return 0!==n?n:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function ta(i,e){const n=K(i.value,e.value);return 0!==n?n:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class Fr{constructor(e){this.value=e}static empty(){return new Fr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!Er(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wr(n)}setAll(e){let n=zr.emptyPath(),o={},u=[];e.forEach((g,C)=>{if(!n.isImmediateParentOf(C)){const V=this.getFieldsMap(n);this.applyChanges(V,o,u),o={},u=[],n=C.popLast()}g?o[C.lastSegment()]=Wr(g):u.push(C.lastSegment())});const d=this.getFieldsMap(n);this.applyChanges(d,o,u)}delete(e){const n=this.field(e.popLast());Er(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return T(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=n.mapValue.fields[e.get(o)];Er(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=u),n=u}return n.mapValue.fields}applyChanges(e,n,o){Ho(n,(u,d)=>e[u]=d);for(const u of o)delete e[u]}clone(){return new Fr(Wr(this.value))}}function oi(i){const e=[];return Ho(i.fields,(n,o)=>{const u=new zr([n]);if(Er(o)){const d=oi(o.mapValue).fields;if(0===d.length)e.push(u);else for(const g of d)e.push(u.child(g))}else e.push(u)}),new De(e)}class pr{constructor(e,n,o,u,d,g){this.key=e,this.documentType=n,this.version=o,this.readTime=u,this.data=d,this.documentState=g}static newInvalidDocument(e){return new pr(e,0,kn.min(),kn.min(),Fr.empty(),0)}static newFoundDocument(e,n,o){return new pr(e,1,n,kn.min(),o,0)}static newNoDocument(e,n){return new pr(e,2,n,kn.min(),Fr.empty(),0)}static newUnknownDocument(e,n){return new pr(e,3,n,kn.min(),Fr.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=kn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof pr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class x{constructor(e,n=null,o=[],u=[],d=null,g=null,C=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=u,this.limit=d,this.startAt=g,this.endAt=C,this.ht=null}}function k(i,e=null,n=[],o=[],u=null,d=null,g=null){return new x(i,e,n,o,u,d,g)}function Z(i){const e=qt(i);if(null===e.ht){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>{return(u=o).field.canonicalString()+u.op.toString()+ye(u.value);var u}).join(","),n+="|ob:",n+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),Si(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>ye(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>ye(o)).join(",")),e.ht=n}return e.ht}function We(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let u=0;u<i.orderBy.length;u++)if(!Qa(i.orderBy[u],e.orderBy[u]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let u=0;u<i.filters.length;u++)if((n=i.filters[u]).op!==(o=e.filters[u]).op||!n.field.isEqual(o.field)||!T(n.value,o.value))return!1;var n,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!du(i.startAt,e.startAt)&&du(i.endAt,e.endAt)}function ht(i){return zt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function kt(i,e){return i.filters.filter(n=>n instanceof Cn&&n.field.isEqual(e))}function rn(i,e,n){let o=w,u=!0;for(const d of kt(i,e)){let g=w,C=!0;switch(d.op){case"<":case"<=":g=_s(d.value);break;case"==":case"in":case">=":g=d.value;break;case">":g=d.value,C=!1;break;case"!=":case"not-in":g=w}ea({value:o,inclusive:u},{value:g,inclusive:C})<0&&(o=g,u=C)}if(null!==n)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const g=n.position[d];ea({value:o,inclusive:u},{value:g,inclusive:n.inclusive})<0&&(o=g,u=n.inclusive);break}return{value:o,inclusive:u}}function Un(i,e,n){let o=_,u=!0;for(const d of kt(i,e)){let g=_,C=!0;switch(d.op){case">=":case">":g=Kr(d.value),C=!1;break;case"==":case"in":case"<=":g=d.value;break;case"<":g=d.value,C=!1;break;case"!=":case"not-in":g=_}ta({value:o,inclusive:u},{value:g,inclusive:C})>0&&(o=g,u=C)}if(null!==n)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const g=n.position[d];ta({value:o,inclusive:u},{value:g,inclusive:n.inclusive})>0&&(o=g,u=n.inclusive);break}return{value:o,inclusive:u}}class Cn extends class{}{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?"in"===n||"not-in"===n?this.lt(e,n,o):new mr(e,n,o):"array-contains"===n?new qa(e,o):"in"===n?new Za(e,o):"not-in"===n?new Ya(e,o):"array-contains-any"===n?new Ba(e,o):new Cn(e,n,o)}static lt(e,n,o){return"in"===n?new jn(e,o):new ls(e,o)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.ft(K(n,this.value)):null!==n&&y(this.value)===y(n)&&this.ft(K(n,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return vn()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class mr extends Cn{constructor(e,n,o){super(e,n,o),this.key=zt.fromName(o.referenceValue)}matches(e){const n=zt.comparator(e.key,this.key);return this.ft(n)}}class jn extends Cn{constructor(e,n){super(e,"in",n),this.keys=Ss(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ls extends Cn{constructor(e,n){super(e,"not-in",n),this.keys=Ss(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Ss(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(o=>zt.fromName(o.referenceValue))}class qa extends Cn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return yt(n)&&P(n.arrayValue,this.value)}}class Za extends Cn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&P(this.value.arrayValue,n)}}class Ya extends Cn{constructor(e,n){super(e,"not-in",n)}matches(e){if(P(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!P(this.value.arrayValue,n)}}class Ba extends Cn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!yt(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>P(this.value.arrayValue,o))}}class Qs{constructor(e,n){this.position=e,this.inclusive=n}}class ha{constructor(e,n="asc"){this.field=e,this.dir=n}}function Qa(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function xa(i,e,n){let o=0;for(let u=0;u<i.position.length;u++){const d=e[u],g=i.position[u];if(o=d.field.isKeyField()?zt.comparator(zt.fromName(g.referenceValue),n.key):K(g,n.data.field(d.field)),"desc"===d.dir&&(o*=-1),0!==o)break}return o}function du(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!T(i.position[n],e.position[n]))return!1;return!0}class Ja{constructor(e,n=null,o=[],u=[],d=null,g="F",C=null,V=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=u,this.limit=d,this.limitType=g,this.startAt=C,this.endAt=V,this._t=null,this.wt=null}}function Xc(i,e,n,o,u,d,g,C){return new Ja(i,e,n,o,u,d,g,C)}function hu(i){return new Ja(i)}function ed(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function ja(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function bl(i){for(const e of i.filters)if(e.dt())return e.field;return null}function uc(i){return null!==i.collectionGroup}function fu(i){const e=qt(i);if(null===e._t){e._t=[];const n=bl(e),o=ja(e);if(null!==n&&null===o)n.isKeyField()||e._t.push(new ha(n)),e._t.push(new ha(zr.keyField(),"asc"));else{let u=!1;for(const d of e.explicitOrderBy)e._t.push(d),d.field.isKeyField()&&(u=!0);if(!u){const d=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new ha(zr.keyField(),d))}}}return e._t}function na(i){const e=qt(i);if(!e.wt)if("F"===e.limitType)e.wt=k(e.path,e.collectionGroup,fu(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const d of fu(e))n.push(new ha(d.field,"desc"===d.dir?"asc":"desc"));const o=e.endAt?new Qs(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new Qs(e.startAt.position,e.startAt.inclusive):null;e.wt=k(e.path,e.collectionGroup,n,e.filters,e.limit,o,u)}return e.wt}function Yu(i,e,n){return new Ja(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Tl(i,e){return We(na(i),na(e))&&i.limitType===e.limitType}function Sl(i){return`${Z(na(i))}|lt:${i.limitType}`}function lc(i){return`Query(target=${function ge(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(n=>{return`${(o=n).field.canonicalString()} ${o.op} ${ye(o.value)}`;var o}).join(", ")}]`),Si(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(n=>{return`${(o=n).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(n=>ye(n)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(n=>ye(n)).join(",")),`Target(${e})`}(na(i))}; limitType=${i.limitType})`}function Nu(i,e){return e.isFoundDocument()&&function(n,o){const u=o.key.path;return null!==n.collectionGroup?o.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(u):zt.isDocumentKey(n.path)?n.path.isEqual(u):n.path.isImmediateParentOf(u)}(i,e)&&function(n,o){for(const u of n.explicitOrderBy)if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(n,o){for(const u of n.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((n=i).startAt&&!function(u,d,g){const C=xa(u,d,g);return u.inclusive?C<=0:C<0}(n.startAt,fu(n),o)||n.endAt&&!function(u,d,g){const C=xa(u,d,g);return u.inclusive?C>=0:C>0}(n.endAt,fu(n),o)));var n,o}function Qu(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Al(i){return(e,n)=>{let o=!1;for(const u of fu(i)){const d=Ru(u,e,n);if(0!==d)return d;o=o||u.field.isKeyField()}return 0}}function Ru(i,e,n){const o=i.field.isKeyField()?zt.comparator(e.key,n.key):function(u,d,g){const C=d.data.field(u),V=g.data.field(u);return null!==C&&null!==V?K(C,V):vn()}(i.field,e,n);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return vn()}}function td(i,e){if(i.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:br(e)?"-0":e}}function nd(i){return{integerValue:""+i}}function rd(i,e){return Eo(e)?nd(e):td(i,e)}class pu{constructor(){this._=void 0}}function cc(i,e,n){return i instanceof $a?function(o,u){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&(d.fields.__previous_value__=u),{mapValue:d}}(n,e):i instanceof ra?Ml(i,e):i instanceof gu?hc(i,e):function(o,u){const d=dc(o,u),g=xl(d)+xl(o.yt);return Pt(d)&&Pt(o.yt)?nd(g):td(o.It,g)}(i,e)}function id(i,e,n){return i instanceof ra?Ml(i,e):i instanceof gu?hc(i,e):n}function dc(i,e){return i instanceof Ou?Pt(n=e)||(o=n)&&"doubleValue"in o?e:{integerValue:0}:null;var o,n}class $a extends pu{}class ra extends pu{constructor(e){super(),this.elements=e}}function Ml(i,e){const n=Na(e);for(const o of i.elements)n.some(u=>T(u,o))||n.push(o);return{arrayValue:{values:n}}}class gu extends pu{constructor(e){super(),this.elements=e}}function hc(i,e){let n=Na(e);for(const o of i.elements)n=n.filter(u=>!T(u,o));return{arrayValue:{values:n}}}class Ou extends pu{constructor(e,n){super(),this.It=e,this.yt=n}}function xl(i){return _n(i.integerValue||i.doubleValue)}function Na(i){return yt(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Ia{constructor(e,n){this.field=e,this.transform=n}}class dh{constructor(e,n){this.version=e,this.transformResults=n}}class qi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qi}static exists(e){return new qi(void 0,e)}static updateTime(e){return new qi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nl(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class fc{}function I(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new ar(i.key,qi.none()):new re(i.key,i.data,qi.none());{const n=i.data,o=Fr.empty();let u=new z(zr.comparator);for(let d of e.fields)if(!u.has(d)){let g=n.field(d);null===g&&d.length>1&&(d=d.popLast(),g=n.field(d)),null===g?o.delete(d):o.set(d,g),u=u.add(d)}return new qe(i.key,o,new De(u.toArray()),qi.none())}}function f(i,e,n){i instanceof re?function(o,u,d){const g=o.value.clone(),C=hn(o.fieldTransforms,u,d.transformResults);g.setAll(C),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(i,e,n):i instanceof qe?function(o,u,d){if(!Nl(o.precondition,u))return void u.convertToUnknownDocument(d.version);const g=hn(o.fieldTransforms,u,d.transformResults),C=u.data;C.setAll(bt(o)),C.setAll(g),u.convertToFoundDocument(d.version,C).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function p(i,e,n,o){return i instanceof re?function(u,d,g,C){if(!Nl(u.precondition,d))return g;const V=u.value.clone(),W=Ln(u.fieldTransforms,C,d);return V.setAll(W),d.convertToFoundDocument(d.version,V).setHasLocalMutations(),null}(i,e,n,o):i instanceof qe?function(u,d,g,C){if(!Nl(u.precondition,d))return g;const V=Ln(u.fieldTransforms,C,d),W=d.data;return W.setAll(bt(u)),W.setAll(V),d.convertToFoundDocument(d.version,W).setHasLocalMutations(),null===g?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(ne=>ne.field))}(i,e,n,o):(g=n,Nl(i.precondition,d=e)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g);var d,g}function b(i,e){let n=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),d=dc(o.transform,u||null);null!=d&&(null===n&&(n=Fr.empty()),n.set(o.field,d))}return n||null}function q(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(n=i.fieldTransforms)&&void 0===o||n&&o&&No(n,o,(u,d)=>function sd(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(n=i.transform)instanceof ra&&o instanceof ra||n instanceof gu&&o instanceof gu?No(n.elements,o.elements,T):n instanceof Ou&&o instanceof Ou?T(n.yt,o.yt):n instanceof $a&&o instanceof $a);var n,o}(u,d))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var n,o}class re extends fc{constructor(e,n,o,u=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class qe extends fc{constructor(e,n,o,u,d=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=u,this.fieldTransforms=d,this.type=1}getFieldMask(){return this.fieldMask}}function bt(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=i.data.field(n);e.set(n,o)}}),e}function hn(i,e,n){const o=new Map;Gn(i.length===n.length);for(let u=0;u<n.length;u++){const d=i[u],g=d.transform,C=e.data.field(d.field);o.set(d.field,id(g,C,n[u]))}return o}function Ln(i,e,n){const o=new Map;for(const u of i){const d=u.transform,g=n.data.field(u.field);o.set(u.field,cc(d,g,e))}return o}class ar extends fc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ai extends fc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ha{constructor(e){this.count=e}}var Fi,Lr;function Ju(i){switch(i){default:return vn();case pt.CANCELLED:case pt.UNKNOWN:case pt.DEADLINE_EXCEEDED:case pt.RESOURCE_EXHAUSTED:case pt.INTERNAL:case pt.UNAVAILABLE:case pt.UNAUTHENTICATED:return!1;case pt.INVALID_ARGUMENT:case pt.NOT_FOUND:case pt.ALREADY_EXISTS:case pt.PERMISSION_DENIED:case pt.FAILED_PRECONDITION:case pt.ABORTED:case pt.OUT_OF_RANGE:case pt.UNIMPLEMENTED:case pt.DATA_LOSS:return!0}}function Pu(i){if(void 0===i)return er("GRPC error has no .code"),pt.UNKNOWN;switch(i){case Fi.OK:return pt.OK;case Fi.CANCELLED:return pt.CANCELLED;case Fi.UNKNOWN:return pt.UNKNOWN;case Fi.DEADLINE_EXCEEDED:return pt.DEADLINE_EXCEEDED;case Fi.RESOURCE_EXHAUSTED:return pt.RESOURCE_EXHAUSTED;case Fi.INTERNAL:return pt.INTERNAL;case Fi.UNAVAILABLE:return pt.UNAVAILABLE;case Fi.UNAUTHENTICATED:return pt.UNAUTHENTICATED;case Fi.INVALID_ARGUMENT:return pt.INVALID_ARGUMENT;case Fi.NOT_FOUND:return pt.NOT_FOUND;case Fi.ALREADY_EXISTS:return pt.ALREADY_EXISTS;case Fi.PERMISSION_DENIED:return pt.PERMISSION_DENIED;case Fi.FAILED_PRECONDITION:return pt.FAILED_PRECONDITION;case Fi.ABORTED:return pt.ABORTED;case Fi.OUT_OF_RANGE:return pt.OUT_OF_RANGE;case Fi.UNIMPLEMENTED:return pt.UNIMPLEMENTED;case Fi.DATA_LOSS:return pt.DATA_LOSS;default:return vn()}}(Lr=Fi||(Fi={}))[Lr.OK=0]="OK",Lr[Lr.CANCELLED=1]="CANCELLED",Lr[Lr.UNKNOWN=2]="UNKNOWN",Lr[Lr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lr[Lr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lr[Lr.NOT_FOUND=5]="NOT_FOUND",Lr[Lr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lr[Lr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lr[Lr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lr[Lr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lr[Lr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lr[Lr.ABORTED=10]="ABORTED",Lr[Lr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lr[Lr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lr[Lr.INTERNAL=13]="INTERNAL",Lr[Lr.UNAVAILABLE=14]="UNAVAILABLE",Lr[Lr.DATA_LOSS=15]="DATA_LOSS";class Xa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0!==o)for(const[u,d]of o)if(this.equalsFn(u,e))return d}has(e){return void 0!==this.get(e)}set(e,n){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,n]],void this.innerSize++;for(let d=0;d<u.length;d++)if(this.equalsFn(u[d][0],e))return void(u[d]=[e,n]);u.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[n]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Ho(this.inner,(n,o)=>{for(const[u,d]of o)e(u,d)})}isEmpty(){return $(this.inner)}size(){return this.innerSize}}const hh=new m(zt.comparator);function ao(){return hh}const pc=new m(zt.comparator);function ku(...i){let e=pc;for(const n of i)e=e.insert(n.key,n);return e}function Rl(i){let e=pc;return i.forEach((n,o)=>e=e.insert(n,o.overlayedDocument)),e}function Da(){return Ra()}function gc(){return Ra()}function Ra(){return new Xa(i=>i.toString(),(i,e)=>i.isEqual(e))}const od=new m(zt.comparator),fh=new z(zt.comparator);function wr(...i){let e=fh;for(const n of i)e=e.add(n);return e}const js=new z(Dn);function mc(){return js}class yc{constructor(e,n,o,u,d){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,n){const o=new Map;return o.set(e,Xu.createSynthesizedTargetChangeForCurrentChange(e,n)),new yc(kn.min(),o,mc(),ao(),wr())}}class Xu{constructor(e,n,o,u,d){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,n){return new Xu(lt.EMPTY_BYTE_STRING,n,wr(),wr(),wr())}}class vc{constructor(e,n,o,u){this.Tt=e,this.removedTargetIds=n,this.key=o,this.Et=u}}class up{constructor(e,n){this.targetId=e,this.At=n}}class lp{constructor(e,n,o=lt.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=u}}class cp{constructor(){this.Rt=0,this.bt=Sm(),this.Pt=lt.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=wr(),n=wr(),o=wr();return this.bt.forEach((u,d)=>{switch(d){case 0:e=e.add(u);break;case 2:n=n.add(u);break;case 1:o=o.add(u);break;default:vn()}}),new Xu(this.Pt,this.vt,e,n,o)}Nt(){this.Vt=!1,this.bt=Sm()}kt(e,n){this.Vt=!0,this.bt=this.bt.insert(e,n)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class Tm{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=ao(),this.qt=dp(),this.Kt=new z(Dn)}Gt(e){for(const n of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(n,e.Et):this.jt(n,e.key,e.Et);for(const n of e.removedTargetIds)this.jt(n,e.key,e.Et)}Wt(e){this.forEachTarget(e,n=>{const o=this.zt(n);switch(e.state){case 0:this.Ht(n)&&o.Ct(e.resumeToken);break;case 1:o.Ft(),o.St||o.Nt(),o.Ct(e.resumeToken);break;case 2:o.Ft(),o.St||this.removeTarget(n);break;case 3:this.Ht(n)&&(o.$t(),o.Ct(e.resumeToken));break;case 4:this.Ht(n)&&(this.Jt(n),o.Ct(e.resumeToken));break;default:vn()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Lt.forEach((o,u)=>{this.Ht(u)&&n(u)})}Yt(e){const n=e.targetId,o=e.At.count,u=this.Xt(n);if(u){const d=u.target;if(ht(d))if(0===o){const g=new zt(d.path);this.jt(n,g,pr.newNoDocument(g,kn.min()))}else Gn(1===o);else this.Zt(n)!==o&&(this.Jt(n),this.Kt=this.Kt.add(n))}}te(e){const n=new Map;this.Lt.forEach((d,g)=>{const C=this.Xt(g);if(C){if(d.current&&ht(C.target)){const V=new zt(C.target.path);null!==this.Ut.get(V)||this.ee(g,V)||this.jt(g,V,pr.newNoDocument(V,e))}d.Dt&&(n.set(g,d.xt()),d.Nt())}});let o=wr();this.qt.forEach((d,g)=>{let C=!0;g.forEachWhile(V=>{const W=this.Xt(V);return!W||2===W.purpose||(C=!1,!1)}),C&&(o=o.add(d))}),this.Ut.forEach((d,g)=>g.setReadTime(e));const u=new yc(e,n,this.Kt,this.Ut,o);return this.Ut=ao(),this.qt=dp(),this.Kt=new z(Dn),u}Qt(e,n){if(!this.Ht(e))return;const o=this.ee(e,n.key)?2:0;this.zt(e).kt(n.key,o),this.Ut=this.Ut.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ne(n.key).add(e))}jt(e,n,o){if(!this.Ht(e))return;const u=this.zt(e);this.ee(e,n)?u.kt(n,1):u.Mt(n),this.qt=this.qt.insert(n,this.ne(n).delete(e)),o&&(this.Ut=this.Ut.insert(n,o))}removeTarget(e){this.Lt.delete(e)}Zt(e){const n=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let n=this.Lt.get(e);return n||(n=new cp,this.Lt.set(e,n)),n}ne(e){let n=this.qt.get(e);return n||(n=new z(Dn),this.qt=this.qt.insert(e,n)),n}Ht(e){const n=null!==this.Xt(e);return n||Bt("WatchChangeAggregator","Detected inactive target",e),n}Xt(e){const n=this.Lt.get(e);return n&&n.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new cp),this.Bt.getRemoteKeysForTarget(e).forEach(n=>{this.jt(e,n,null)})}ee(e,n){return this.Bt.getRemoteKeysForTarget(e).has(n)}}function dp(){return new m(zt.comparator)}function Sm(){return new m(zt.comparator)}const Ov={asc:"ASCENDING",desc:"DESCENDING"},_c={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class ph{constructor(e,n){this.databaseId=e,this.gt=n}}function Ol(i,e){return i.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gh(i,e){return i.gt?e.toBase64():e.toUint8Array()}function hp(i,e){return Ol(i,e.toTimestamp())}function wo(i){return Gn(!!i),kn.fromTimestamp(function(e){const n=un(e);return new xr(n.seconds,n.nanos)}(i))}function ad(i,e){return(n=i,new or(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function mh(i){const e=or.fromString(i);return Gn(mp(e)),e}function el(i,e){return ad(i.databaseId,e.path)}function mu(i,e){const n=mh(e);if(n.get(1)!==i.databaseId.projectId)throw new Lt(pt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new Lt(pt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new zt(vh(n))}function yh(i,e){return ad(i.databaseId,e)}function ud(i){const e=mh(i);return 4===e.length?or.emptyPath():vh(e)}function Pl(i){return new or(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function vh(i){return Gn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Fu(i,e,n){return{name:el(i,e),fields:n.value.mapValue.fields}}function fp(i,e,n){const o=mu(i,e.name),u=wo(e.updateTime),d=new Fr({mapValue:{fields:e.fields}}),g=pr.newFoundDocument(o,u,d);return n&&g.setHasCommittedMutations(),n?g.setHasCommittedMutations():g}function Ec(i,e){let n;if(e instanceof re)n={update:Fu(i,e.key,e.value)};else if(e instanceof ar)n={delete:el(i,e.key)};else if(e instanceof qe)n={update:Fu(i,e.key,e.data),updateMask:wh(e.fieldMask)};else{if(!(e instanceof Ai))return vn();n={verify:el(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(u,d){const g=d.transform;if(g instanceof $a)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof ra)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof gu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Ou)return{fieldPath:d.field.canonicalString(),increment:g.yt};throw vn()}(0,o))),e.precondition.isNone||(n.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:hp(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:vn()),n;var u}function wc(i,e){const n=e.currentDocument?void 0!==(u=e.currentDocument).updateTime?qi.updateTime(wo(u.updateTime)):void 0!==u.exists?qi.exists(u.exists):qi.none():qi.none(),o=e.updateTransforms?e.updateTransforms.map(u=>function(d,g){let C=null;"setToServerValue"in g?(Gn("REQUEST_TIME"===g.setToServerValue),C=new $a):"appendMissingElements"in g?C=new ra(g.appendMissingElements.values||[]):"removeAllFromArray"in g?C=new gu(g.removeAllFromArray.values||[]):"increment"in g?C=new Ou(d,g.increment):vn();const V=zr.fromServerFormat(g.fieldPath);return new Ia(V,C)}(i,u)):[];var u;if(e.update){const u=mu(i,e.update.name),d=new Fr({mapValue:{fields:e.update.fields}});if(e.updateMask){const g=new De((e.updateMask.fieldPaths||[]).map(W=>zr.fromServerFormat(W)));return new qe(u,d,g,n,o)}return new re(u,d,n,o)}if(e.delete){const u=mu(i,e.delete);return new ar(u,n)}if(e.verify){const u=mu(i,e.verify);return new Ai(u,n)}return vn()}function Lu(i,e){return{documents:[yh(i,e.path)]}}function Eh(i,e){const n={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(n.parent=yh(i,o),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=yh(i,o.popLast()),n.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(V){if(0===V.length)return;const W=V.map(ne=>function(Ce){if("=="===Ce.op){if(zn(Ce.value))return{unaryFilter:{field:Fl(Ce.field),op:"IS_NAN"}};if(Zt(Ce.value))return{unaryFilter:{field:Fl(Ce.field),op:"IS_NULL"}}}else if("!="===Ce.op){if(zn(Ce.value))return{unaryFilter:{field:Fl(Ce.field),op:"IS_NOT_NAN"}};if(Zt(Ce.value))return{unaryFilter:{field:Fl(Ce.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fl(Ce.field),op:kl(Ce.op),value:Ce.value}}}(ne));return 1===W.length?W[0]:{compositeFilter:{op:"AND",filters:W}}}(e.filters);u&&(n.structuredQuery.where=u);const d=function(V){if(0!==V.length)return V.map(W=>{return{field:Fl((ne=W).field),direction:gp(ne.dir)};var ne})}(e.orderBy);d&&(n.structuredQuery.orderBy=d);const g=(W=e.limit,i.gt||Si(W)?W:{value:W});var W,C,V;return null!==g&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt={before:(C=e.startAt).inclusive,values:C.position}),e.endAt&&(n.structuredQuery.endAt={before:!(V=e.endAt).inclusive,values:V.position}),n}function dd(i){let e=ud(i.parent);const n=i.structuredQuery,o=n.from?n.from.length:0;let u=null;if(o>0){Gn(1===o);const ne=n.from[0];ne.allDescendants?u=ne.collectionId:e=e.child(ne.collectionId)}let d=[];n.where&&(d=pp(n.where));let g=[];n.orderBy&&(g=n.orderBy.map(ne=>{return new ha(Ll((Ce=ne).field),function(ot){switch(ot){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ce.direction));var Ce}));let C=null;n.limit&&(C=function(ne){let Ce;return Ce="object"==typeof ne?ne.value:ne,Si(Ce)?null:Ce}(n.limit));let V=null;var ne;n.startAt&&(V=new Qs((ne=n.startAt).values||[],!!ne.before));let W=null;return n.endAt&&(W=function(ne){return new Qs(ne.values||[],!ne.before)}(n.endAt)),Xc(e,u,g,d,C,"F",V,W)}function pp(i){return i?void 0!==i.unaryFilter?[xm(i)]:void 0!==i.fieldFilter?[Mm(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>pp(e)).reduce((e,n)=>e.concat(n)):vn():[]}function gp(i){return Ov[i]}function kl(i){return _c[i]}function Fl(i){return{fieldPath:i.canonicalString()}}function Ll(i){return zr.fromServerFormat(i.fieldPath)}function Mm(i){return Cn.create(Ll(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return vn()}}(i.fieldFilter.op),i.fieldFilter.value)}function xm(i){switch(i.unaryFilter.op){case"IS_NAN":const e=Ll(i.unaryFilter.field);return Cn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Ll(i.unaryFilter.field);return Cn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ll(i.unaryFilter.field);return Cn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Ll(i.unaryFilter.field);return Cn.create(u,"!=",{nullValue:"NULL_VALUE"});default:return vn()}}function wh(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function mp(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function Go(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Ih(e)),e=Nm(i.get(n),e);return Ih(e)}function Nm(i,e){let n=e;const o=i.length;for(let u=0;u<o;u++){const d=i.charAt(u);switch(d){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=d}}return n}function Ih(i){return i+"\x01\x01"}function yu(i){const e=i.length;if(Gn(e>=2),2===e)return Gn("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),or.emptyPath();const n=e-2,o=[];let u="";for(let d=0;d<e;){const g=i.indexOf("\x01",d);switch((g<0||g>n)&&vn(),i.charAt(g+1)){case"\x01":const C=i.substring(d,g);let V;0===u.length?V=C:(u+=C,V=u,u=""),o.push(V);break;case"\x10":u+=i.substring(d,g),u+="\0";break;case"\x11":u+=i.substring(d,g+1);break;default:vn()}d=g+2}return new or(o)}const yp=["userId","batchId"];function Vu(i,e){return[i,Go(e)]}function vp(i,e,n){return[i,Go(e),n]}const Vl={},Ic=["prefixPath","collectionGroup","readTime","documentId"],Rm=["prefixPath","collectionGroup","documentId"],Pv=["collectionGroup","readTime","prefixPath","documentId"],_p=["canonicalId","targetId"],Om=["targetId","path"],Pm=["path","targetId"],km=["collectionId","parent"],Ep=["indexId","uid"],wp=["uid","sequenceNumber"],Dh=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Fm=["indexId","uid","orderedDocumentKey"],Lm=["userId","collectionPath","documentId"],Ch=["userId","collectionPath","largestBatchId"],kv=["userId","collectionGroup","largestBatchId"],Vm=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],bh=[...Vm,"documentOverlays"],Um=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Bm=Um,Fv=[...Bm,"indexConfiguration","indexState","indexEntries"];class Ip extends Va{constructor(e,n){super(),this.ie=e,this.currentSequenceNumber=n}}function Oo(i,e){const n=qt(i);return $i.O(n.ie,e)}class Th{constructor(e,n,o,u){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let u=0;u<this.mutations.length;u++){const d=this.mutations[u];d.key.isEqual(e.key)&&f(d,e,o[u])}}applyToLocalView(e,n){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(n=p(o,e,n,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(n=p(o,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const o=gc();return this.mutations.forEach(u=>{const d=e.get(u.key),g=d.overlayedDocument;let C=this.applyToLocalView(g,d.mutatedFields);C=n.has(u.key)?null:C;const V=I(g,C);null!==V&&o.set(u.key,V),g.isValidDocument()||g.convertToNoDocument(kn.min())}),o}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),wr())}isEqual(e){return this.batchId===e.batchId&&No(this.mutations,e.mutations,(n,o)=>q(n,o))&&No(this.baseMutations,e.baseMutations,(n,o)=>q(n,o))}}class hd{constructor(e,n,o,u){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=u}static from(e,n,o){Gn(e.mutations.length===o.length);let u=od;const d=e.mutations;for(let g=0;g<d.length;g++)u=u.insert(d[g].key,o[g].version);return new hd(e,n,o,u)}}class Dc{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class vu{constructor(e,n,o,u,d=kn.min(),g=kn.min(),C=lt.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=g,this.resumeToken=C}withSequenceNumber(e){return new vu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new vu(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new vu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Sh{constructor(e){this.re=e}}function fd(i,e){const n=e.key,o={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:pd(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:el(u=i.re,(d=e).key),fields:d.data.value.mapValue.fields,updateTime:Ol(u,d.version.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:n.path.toArray(),readTime:_u(e.version)};else{if(!e.isUnknownDocument())return vn();o.unknownDocument={path:n.path.toArray(),version:_u(e.version)}}var u,d;return o}function pd(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function _u(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ga(i){const e=new xr(i.seconds,i.nanoseconds);return kn.fromTimestamp(e)}function tl(i,e){const n=(e.baseMutations||[]).map(d=>wc(i.re,d));for(let d=0;d<e.mutations.length-1;++d){const g=e.mutations[d];d+1<e.mutations.length&&void 0!==e.mutations[d+1].transform&&(g.updateTransforms=e.mutations[d+1].transform.fieldTransforms,e.mutations.splice(d+1,1),++d)}const o=e.mutations.map(d=>wc(i.re,d)),u=xr.fromMillis(e.localWriteTimeMs);return new Th(e.batchId,u,n,o)}function Cc(i){const e=Ga(i.readTime),n=void 0!==i.lastLimboFreeSnapshotVersion?Ga(i.lastLimboFreeSnapshotVersion):kn.min();let o;var u;return void 0!==i.query.documents?(Gn(1===(u=i.query).documents.length),o=na(hu(ud(u.documents[0])))):o=na(dd(i.query)),new vu(o,i.targetId,0,i.lastListenSequenceNumber,e,n,lt.fromBase64String(i.resumeToken))}function Cp(i,e){const n=_u(e.snapshotVersion),o=_u(e.lastLimboFreeSnapshotVersion);let u;u=ht(e.target)?Lu(i.re,e.target):Eh(i.re,e.target);const d=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Z(e.target),readTime:n,resumeToken:d,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:u}}function gd(i){const e=dd({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Yu(e,e.limit,"L"):e}function Ah(i,e){return new Dc(e.largestBatchId,wc(i.re,e.overlayMutation))}function bp(i,e){const n=e.path.lastSegment();return[i,Go(e.path.popLast()),n]}function Tp(i,e,n,o){return{indexId:i,uid:e.uid||"",sequenceNumber:n,readTime:_u(o.readTime),documentKey:Go(o.documentKey.path),largestBatchId:o.largestBatchId}}class jm{getBundleMetadata(e,n){return md(e).get(n).next(o=>{if(o)return{id:(u=o).bundleId,createTime:Ga(u.createTime),version:u.version};var u})}saveBundleMetadata(e,n){return md(e).put({bundleId:(o=n).id,createTime:_u(wo(o.createTime)),version:o.version});var o}getNamedQuery(e,n){return Sp(e).get(n).next(o=>{if(o)return{name:(u=o).name,query:gd(u.bundledQuery),readTime:Ga(u.readTime)};var u})}saveNamedQuery(e,n){return Sp(e).put({name:(o=n).name,readTime:_u(wo(o.readTime)),bundledQuery:o.bundledQuery});var o}}function md(i){return Oo(i,"bundles")}function Sp(i){return Oo(i,"namedQueries")}class yd{constructor(e,n){this.It=e,this.userId=n}static oe(e,n){return new yd(e,n.uid||"")}getOverlay(e,n){return bc(e).get(bp(this.userId,n)).next(o=>o?Ah(this.It,o):null)}getOverlays(e,n){const o=Da();return et.forEach(n,u=>this.getOverlay(e,u).next(d=>{null!==d&&o.set(u,d)})).next(()=>o)}saveOverlays(e,n,o){const u=[];return o.forEach((d,g)=>{const C=new Dc(n,g);u.push(this.ue(e,C))}),et.waitFor(u)}removeOverlaysForBatchId(e,n,o){const u=new Set;n.forEach(g=>u.add(Go(g.getCollectionPath())));const d=[];return u.forEach(g=>{const C=IDBKeyRange.bound([this.userId,g,o],[this.userId,g,o+1],!1,!0);d.push(bc(e).Y("collectionPathOverlayIndex",C))}),et.waitFor(d)}getOverlaysForCollection(e,n,o){const u=Da(),d=Go(n),g=IDBKeyRange.bound([this.userId,d,o],[this.userId,d,Number.POSITIVE_INFINITY],!0);return bc(e).W("collectionPathOverlayIndex",g).next(C=>{for(const V of C){const W=Ah(this.It,V);u.set(W.getKey(),W)}return u})}getOverlaysForCollectionGroup(e,n,o,u){const d=Da();let g;const C=IDBKeyRange.bound([this.userId,n,o],[this.userId,n,Number.POSITIVE_INFINITY],!0);return bc(e).Z({index:"collectionGroupOverlayIndex",range:C},(V,W,ne)=>{const Ce=Ah(this.It,W);d.size()<u||Ce.largestBatchId===g?(d.set(Ce.getKey(),Ce),g=Ce.largestBatchId):ne.done()}).next(()=>d)}ue(e,n){return bc(e).put(function(o,u,d){const[g,C,V]=bp(u,d.mutation.key);return{userId:u,collectionPath:C,documentId:V,collectionGroup:d.mutation.key.getCollectionGroup(),largestBatchId:d.largestBatchId,overlayMutation:Ec(o.re,d.mutation)}}(this.It,this.userId,n))}}function bc(i){return Oo(i,"documentOverlays")}class Uu{constructor(){}ce(e,n){this.ae(e,n),n.he()}ae(e,n){if("nullValue"in e)this.le(n,5);else if("booleanValue"in e)this.le(n,10),n.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(n,15),n.fe(_n(e.integerValue));else if("doubleValue"in e){const o=_n(e.doubleValue);isNaN(o)?this.le(n,13):(this.le(n,15),br(o)?n.fe(0):n.fe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.le(n,20),"string"==typeof o?n.de(o):(n.de(`${o.seconds||""}`),n.fe(o.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,n),this.we(n);else if("bytesValue"in e)this.le(n,30),n.me(Fn(e.bytesValue)),this.we(n);else if("referenceValue"in e)this.ge(e.referenceValue,n);else if("geoPointValue"in e){const o=e.geoPointValue;this.le(n,45),n.fe(o.latitude||0),n.fe(o.longitude||0)}else"mapValue"in e?ri(e)?this.le(n,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,n),this.we(n)):"arrayValue"in e?(this.pe(e.arrayValue,n),this.we(n)):vn()}_e(e,n){this.le(n,25),this.Ie(e,n)}Ie(e,n){n.de(e)}ye(e,n){const o=e.fields||{};this.le(n,55);for(const u of Object.keys(o))this._e(u,n),this.ae(o[u],n)}pe(e,n){const o=e.values||[];this.le(n,50);for(const u of o)this.ae(u,n)}ge(e,n){this.le(n,37),zt.fromName(e).path.forEach(o=>{this.le(n,60),this.Ie(o,n)})}le(e,n){e.fe(n)}we(e){e.fe(2)}}function $m(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function Ap(i){const e=64-function(n){let o=0;for(let u=0;u<8;++u){const d=$m(255&n[u]);if(o+=d,8!==d)break}return o}(i);return Math.ceil(e/8)}Uu.Te=new Uu;class ia{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const n=e[Symbol.iterator]();let o=n.next();for(;!o.done;)this.Ae(o.value),o=n.next();this.Re()}be(e){const n=e[Symbol.iterator]();let o=n.next();for(;!o.done;)this.Pe(o.value),o=n.next();this.ve()}Ve(e){for(const n of e){const o=n.charCodeAt(0);if(o<128)this.Ae(o);else if(o<2048)this.Ae(960|o>>>6),this.Ae(128|63&o);else if(n<"\ud800"||"\udbff"<n)this.Ae(480|o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o);else{const u=n.codePointAt(0);this.Ae(240|u>>>18),this.Ae(128|63&u>>>12),this.Ae(128|63&u>>>6),this.Ae(128|63&u)}}this.Re()}Se(e){for(const n of e){const o=n.charCodeAt(0);if(o<128)this.Pe(o);else if(o<2048)this.Pe(960|o>>>6),this.Pe(128|63&o);else if(n<"\ud800"||"\udbff"<n)this.Pe(480|o>>>12),this.Pe(128|63&o>>>6),this.Pe(128|63&o);else{const u=n.codePointAt(0);this.Pe(240|u>>>18),this.Pe(128|63&u>>>12),this.Pe(128|63&u>>>6),this.Pe(128|63&u)}}this.ve()}De(e){const n=this.Ce(e),o=Ap(n);this.xe(1+o),this.buffer[this.position++]=255&o;for(let u=n.length-o;u<n.length;++u)this.buffer[this.position++]=255&n[u]}Ne(e){const n=this.Ce(e),o=Ap(n);this.xe(1+o),this.buffer[this.position++]=~(255&o);for(let u=n.length-o;u<n.length;++u)this.buffer[this.position++]=~(255&n[u])}ke(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const n=function(u){const d=new DataView(new ArrayBuffer(8));return d.setFloat64(0,u,!1),new Uint8Array(d.buffer)}(e),o=0!=(128&n[0]);n[0]^=o?255:128;for(let u=1;u<n.length;++u)n[u]^=o?255:0;return n}Ae(e){const n=255&e;0===n?(this.Me(0),this.Me(255)):255===n?(this.Me(255),this.Me(0)):this.Me(n)}Pe(e){const n=255&e;0===n?(this.Fe(0),this.Fe(255)):255===n?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Me(0),this.Me(1)}ve(){this.Fe(0),this.Fe(1)}Me(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const n=e+this.position;if(n<=this.buffer.length)return;let o=2*this.buffer.length;o<n&&(o=n);const u=new Uint8Array(o);u.set(this.buffer),this.buffer=u}}class Mh{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class Mp{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Oe()}}class nl{constructor(){this.Be=new ia,this.Le=new Mh(this.Be),this.Ue=new Mp(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class As{constructor(e,n,o,u){this.indexId=e,this.documentKey=n,this.arrayValue=o,this.directionalValue=u}Ke(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(n);return o.set(this.directionalValue,0),n!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new As(this.indexId,this.documentKey,this.arrayValue,o)}}function za(i,e){let n=i.indexId-e.indexId;return 0!==n?n:(n=xh(i.arrayValue,e.arrayValue),0!==n?n:(n=xh(i.directionalValue,e.directionalValue),0!==n?n:zt.comparator(i.documentKey,e.documentKey)))}function xh(i,e){for(let n=0;n<i.length&&n<e.length;++n){const o=i[n]-e[n];if(0!==o)return o}return i.length-e.length}class Hm{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const n of e.filters){const o=n;o.dt()?this.je=o:this.Qe.push(o)}}We(e){const n=Ma(e);if(void 0!==n&&!this.ze(n))return!1;const o=Us(e);let u=0,d=0;for(;u<o.length&&this.ze(o[u]);++u);if(u===o.length)return!0;if(void 0!==this.je){const g=o[u];if(!this.He(this.je,g)||!this.Je(this.Ge[d++],g))return!1;++u}for(;u<o.length;++u){const g=o[u];if(d>=this.Ge.length||!this.Je(this.Ge[d++],g))return!1}return!0}ze(e){for(const n of this.Qe)if(this.He(n,e))return!0;return!1}He(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}class Gm{constructor(){this.Ye=new vd}addToCollectionParentIndex(e,n){return this.Ye.add(n),et.resolve()}getCollectionParents(e,n){return et.resolve(this.Ye.getEntries(n))}addFieldIndex(e,n){return et.resolve()}deleteFieldIndex(e,n){return et.resolve()}getDocumentsMatchingTarget(e,n){return et.resolve(null)}getIndexType(e,n){return et.resolve(0)}getFieldIndexes(e,n){return et.resolve([])}getNextCollectionGroupToUpdate(e){return et.resolve(null)}getMinOffset(e,n){return et.resolve(us.min())}getMinOffsetFromCollectionGroup(e,n){return et.resolve(us.min())}updateCollectionGroup(e,n,o){return et.resolve()}updateIndexEntries(e,n){return et.resolve()}}class vd{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n]||new z(or.comparator),d=!u.has(o);return this.index[n]=u.add(o),d}has(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n];return u&&u.has(o)}getEntries(e){return(this.index[e]||new z(or.comparator)).toArray()}}const _d=new Uint8Array(0);class xp{constructor(e,n){this.user=e,this.databaseId=n,this.Xe=new vd,this.Ze=new Xa(o=>Z(o),(o,u)=>We(o,u)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.Xe.has(n)){const o=n.lastSegment(),u=n.popLast();e.addOnCommittedListener(()=>{this.Xe.add(n)});const d={collectionId:o,parent:Go(u)};return Np(e).put(d)}return et.resolve()}getCollectionParents(e,n){const o=[],u=IDBKeyRange.bound([n,""],[ki(n),""],!1,!0);return Np(e).W(u).next(d=>{for(const g of d){if(g.collectionId!==n)break;o.push(yu(g.parent))}return o})}addFieldIndex(e,n){const o=Ed(e),u={indexId:(g=n).indexId,collectionGroup:g.collectionGroup,fields:g.fields.map(C=>[C.fieldPath.canonicalString(),C.kind])};var g;delete u.indexId;const d=o.add(u);if(n.indexState){const g=Tc(e);return d.next(C=>{g.put(Tp(C,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return d.next()}deleteFieldIndex(e,n){const o=Ed(e),u=Tc(e),d=Ul(e);return o.delete(n.indexId).next(()=>u.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>d.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const o=Ul(e);let u=!0;const d=new Map;return et.forEach(this.tn(n),g=>this.en(e,g).next(C=>{u&&(u=!!C),d.set(g,C)})).next(()=>{if(u){let g=wr();const C=[];return et.forEach(d,(V,W)=>{var ne;Bt("IndexedDbIndexManager",`Using index ${ne=V,`id=${ne.indexId}|cg=${ne.collectionGroup}|f=${ne.fields.map(xi=>`${xi.fieldPath}:${xi.kind}`).join(",")}`} to execute ${Z(n)}`);const Ce=function(xi,$s){const Hi=Ma($s);if(void 0===Hi)return null;for(const Ni of kt(xi,Hi.fieldPath))switch(Ni.op){case"array-contains-any":return Ni.value.arrayValue.values||[];case"array-contains":return[Ni.value]}return null}(W,V),ot=function(xi,$s){const Hi=new Map;for(const Ni of Us($s))for(const Io of kt(xi,Ni.fieldPath))switch(Io.op){case"==":case"in":Hi.set(Ni.fieldPath.canonicalString(),Io.value);break;case"not-in":case"!=":return Hi.set(Ni.fieldPath.canonicalString(),Io.value),Array.from(Hi.values())}return null}(W,V),Tt=function(xi,$s){const Hi=[];let Ni=!0;for(const Io of Us($s)){const oc=0===Io.kind?rn(xi,Io.fieldPath,xi.startAt):Un(xi,Io.fieldPath,xi.startAt);Hi.push(oc.value),Ni&&(Ni=oc.inclusive)}return new Qs(Hi,Ni)}(W,V),Mt=function(xi,$s){const Hi=[];let Ni=!0;for(const Io of Us($s)){const oc=0===Io.kind?Un(xi,Io.fieldPath,xi.endAt):rn(xi,Io.fieldPath,xi.endAt);Hi.push(oc.value),Ni&&(Ni=oc.inclusive)}return new Qs(Hi,Ni)}(W,V),gn=this.nn(V,W,Tt),Nn=this.nn(V,W,Mt),ai=this.sn(V,W,ot),Mi=this.rn(V.indexId,Ce,gn,Tt.inclusive,Nn,Mt.inclusive,ai);return et.forEach(Mi,xi=>o.J(xi,n.limit).next($s=>{$s.forEach(Hi=>{const Ni=zt.fromSegments(Hi.documentKey);g.has(Ni)||(g=g.add(Ni),C.push(Ni))})}))}).next(()=>C)}return et.resolve(null)})}tn(e){let n=this.Ze.get(e);return n||(n=[e],this.Ze.set(e,n),n)}rn(e,n,o,u,d,g,C){const V=(null!=n?n.length:1)*Math.max(o.length,d.length),W=V/(null!=n?n.length:1),ne=[];for(let Ce=0;Ce<V;++Ce){const ot=n?this.on(n[Ce/W]):_d,Tt=this.un(e,ot,o[Ce%W],u),Mt=this.cn(e,ot,d[Ce%W],g),gn=C.map(Nn=>this.un(e,ot,Nn,!0));ne.push(...this.createRange(Tt,Mt,gn))}return ne}un(e,n,o,u){const d=new As(e,zt.empty(),n,o);return u?d:d.Ke()}cn(e,n,o,u){const d=new As(e,zt.empty(),n,o);return u?d.Ke():d}en(e,n){const o=new Hm(n),u=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,u).next(d=>{let g=null;for(const C of d)o.We(C)&&(!g||C.fields.length>g.fields.length)&&(g=C);return g})}getIndexType(e,n){let o=2;return et.forEach(this.tn(n),u=>this.en(e,u).next(d=>{d?0!==o&&d.fields.length<function(g){let C=new z(zr.comparator),V=!1;for(const W of g.filters){const ne=W;ne.field.isKeyField()||("array-contains"===ne.op||"array-contains-any"===ne.op?V=!0:C=C.add(ne.field))}for(const W of g.orderBy)W.field.isKeyField()||(C=C.add(W.field));return C.size+(V?1:0)}(u)&&(o=1):o=0})).next(()=>o)}an(e,n){const o=new nl;for(const u of Us(e)){const d=n.data.field(u.fieldPath);if(null==d)return null;const g=o.qe(u.kind);Uu.Te.ce(d,g)}return o.$e()}on(e){const n=new nl;return Uu.Te.ce(e,n.qe(0)),n.$e()}hn(e,n){const o=new nl;return Uu.Te.ce(Ht(this.databaseId,n),o.qe(function(u){const d=Us(u);return 0===d.length?0:d[d.length-1].kind}(e))),o.$e()}sn(e,n,o){if(null===o)return[];let u=[];u.push(new nl);let d=0;for(const g of Us(e)){const C=o[d++];for(const V of u)if(this.ln(n,g.fieldPath)&&yt(C))u=this.fn(u,g,C);else{const W=V.qe(g.kind);Uu.Te.ce(C,W)}}return this.dn(u)}nn(e,n,o){return this.sn(e,n,o.position)}dn(e){const n=[];for(let o=0;o<e.length;++o)n[o]=e[o].$e();return n}fn(e,n,o){const u=[...e],d=[];for(const g of o.arrayValue.values||[])for(const C of u){const V=new nl;V.seed(C.$e()),Uu.Te.ce(g,V.qe(n.kind)),d.push(V)}return d}ln(e,n){return!!e.filters.find(o=>o instanceof Cn&&o.field.isEqual(n)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,n){const o=Ed(e),u=Tc(e);return(n?o.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):o.W()).next(d=>{const g=[];return et.forEach(d,C=>u.get([C.indexId,this.uid]).next(V=>{g.push(function(W,ne){const Ce=ne?new vo(ne.sequenceNumber,new us(Ga(ne.readTime),new zt(yu(ne.documentKey)),ne.largestBatchId)):vo.empty(),ot=W.fields.map(([Tt,Mt])=>new Bs(zr.fromServerFormat(Tt),Mt));return new Ys(W.indexId,W.collectionGroup,ot,Ce)}(C,V))})).next(()=>g)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((o,u)=>{const d=o.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==d?d:Dn(o.collectionGroup,u.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,o){const u=Ed(e),d=Tc(e);return this._n(e).next(g=>u.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(C=>et.forEach(C,V=>d.put(Tp(V.indexId,this.user,g,o)))))}updateIndexEntries(e,n){const o=new Map;return et.forEach(n,(u,d)=>{const g=o.get(u.collectionGroup);return(g?et.resolve(g):this.getFieldIndexes(e,u.collectionGroup)).next(C=>(o.set(u.collectionGroup,C),et.forEach(C,V=>this.wn(e,u,V).next(W=>{const ne=this.mn(d,V);return W.isEqual(ne)?et.resolve():this.gn(e,d,V,W,ne)}))))})}yn(e,n,o,u){return Ul(e).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.hn(o,n.key),documentKey:n.key.path.toArray()})}pn(e,n,o,u){return Ul(e).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.hn(o,n.key),n.key.path.toArray()])}wn(e,n,o){const u=Ul(e);let d=new z(za);return u.Z({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.hn(o,n)])},(g,C)=>{d=d.add(new As(o.indexId,n,C.arrayValue,C.directionalValue))}).next(()=>d)}mn(e,n){let o=new z(za);const u=this.an(n,e);if(null==u)return o;const d=Ma(n);if(null!=d){const g=e.data.field(d.fieldPath);if(yt(g))for(const C of g.arrayValue.values||[])o=o.add(new As(n.indexId,e.key,this.on(C),u))}else o=o.add(new As(n.indexId,e.key,_d,u));return o}gn(e,n,o,u,d){Bt("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const g=[];return function(C,V,W,ne,Ce){const ot=C.getIterator(),Tt=V.getIterator();let Mt=be(ot),gn=be(Tt);for(;Mt||gn;){let Nn=!1,ai=!1;if(Mt&&gn){const Mi=W(Mt,gn);Mi<0?ai=!0:Mi>0&&(Nn=!0)}else null!=Mt?ai=!0:Nn=!0;Nn?(ne(gn),gn=be(Tt)):ai?(Ce(Mt),Mt=be(ot)):(Mt=be(ot),gn=be(Tt))}}(u,d,za,C=>{g.push(this.yn(e,n,o,C))},C=>{g.push(this.pn(e,n,o,C))}),et.waitFor(g)}_n(e){let n=1;return Tc(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,u,d)=>{d.done(),n=u.sequenceNumber+1}).next(()=>n)}createRange(e,n,o){o=o.sort((g,C)=>za(g,C)).filter((g,C,V)=>!C||0!==za(g,V[C-1]));const u=[];u.push(e);for(const g of o){const C=za(g,e),V=za(g,n);if(0===C)u[0]=e.Ke();else if(C>0&&V<0)u.push(g),u.push(g.Ke());else if(V>0)break}u.push(n);const d=[];for(let g=0;g<u.length;g+=2)d.push(IDBKeyRange.bound([u[g].indexId,this.uid,u[g].arrayValue,u[g].directionalValue,_d,[]],[u[g+1].indexId,this.uid,u[g+1].arrayValue,u[g+1].directionalValue,_d,[]]));return d}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(Rp)}getMinOffset(e,n){return et.mapArray(this.tn(n),o=>this.en(e,o).next(u=>u||vn())).next(Rp)}}function Np(i){return Oo(i,"collectionParents")}function Ul(i){return Oo(i,"indexEntries")}function Ed(i){return Oo(i,"indexConfiguration")}function Tc(i){return Oo(i,"indexState")}function Rp(i){Gn(0!==i.length);let e=i[0].indexState.offset,n=e.largestBatchId;for(let o=1;o<i.length;o++){const u=i[o].indexState.offset;_i(u,e)<0&&(e=u),n<u.largestBatchId&&(n=u.largestBatchId)}return new us(e.readTime,e.documentKey,n)}const Op={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class fa{constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new fa(e,fa.DEFAULT_COLLECTION_PERCENTILE,fa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function rl(i,e,n){const o=i.store("mutations"),u=i.store("documentMutations"),d=[],g=IDBKeyRange.only(n.batchId);let C=0;const V=o.Z({range:g},(ne,Ce,ot)=>(C++,ot.delete()));d.push(V.next(()=>{Gn(1===C)}));const W=[];for(const ne of n.mutations){const Ce=vp(e,ne.key.path,n.batchId);d.push(u.delete(Ce)),W.push(ne.key)}return et.waitFor(d).next(()=>W)}function Oa(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw vn();e=i.noDocument}return JSON.stringify(e).length}fa.DEFAULT_COLLECTION_PERCENTILE=10,fa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fa.DEFAULT=new fa(41943040,fa.DEFAULT_COLLECTION_PERCENTILE,fa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fa.DISABLED=new fa(-1,0,0);class wd{constructor(e,n,o,u){this.userId=e,this.It=n,this.indexManager=o,this.referenceDelegate=u,this.In={}}static oe(e,n,o,u){Gn(""!==e.uid);const d=e.isAuthenticated()?e.uid:"";return new wd(d,n,o,u)}checkEmpty(e){let n=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return il(e).Z({index:"userMutationsIndex",range:o},(u,d,g)=>{n=!1,g.done()}).next(()=>n)}addMutationBatch(e,n,o,u){const d=Sc(e),g=il(e);return g.add({}).next(C=>{Gn("number"==typeof C);const V=new Th(C,n,o,u),W=function(ot,Tt,Mt){const gn=Mt.baseMutations.map(ai=>Ec(ot.re,ai)),Nn=Mt.mutations.map(ai=>Ec(ot.re,ai));return{userId:Tt,batchId:Mt.batchId,localWriteTimeMs:Mt.localWriteTime.toMillis(),baseMutations:gn,mutations:Nn}}(this.It,this.userId,V),ne=[];let Ce=new z((ot,Tt)=>Dn(ot.canonicalString(),Tt.canonicalString()));for(const ot of u){const Tt=vp(this.userId,ot.key.path,C);Ce=Ce.add(ot.key.path.popLast()),ne.push(g.put(W)),ne.push(d.put(Tt,Vl))}return Ce.forEach(ot=>{ne.push(this.indexManager.addToCollectionParentIndex(e,ot))}),e.addOnCommittedListener(()=>{this.In[C]=V.keys()}),et.waitFor(ne).next(()=>V)})}lookupMutationBatch(e,n){return il(e).get(n).next(o=>o?(Gn(o.userId===this.userId),tl(this.It,o)):null)}Tn(e,n){return this.In[n]?et.resolve(this.In[n]):this.lookupMutationBatch(e,n).next(o=>{if(o){const u=o.keys();return this.In[n]=u,u}return null})}getNextMutationBatchAfterBatchId(e,n){const o=n+1,u=IDBKeyRange.lowerBound([this.userId,o]);let d=null;return il(e).Z({index:"userMutationsIndex",range:u},(g,C,V)=>{C.userId===this.userId&&(Gn(C.batchId>=o),d=tl(this.It,C)),V.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return il(e).Z({index:"userMutationsIndex",range:n,reverse:!0},(u,d,g)=>{o=d.batchId,g.done()}).next(()=>o)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return il(e).W("userMutationsIndex",n).next(o=>o.map(u=>tl(this.It,u)))}getAllMutationBatchesAffectingDocumentKey(e,n){const o=Vu(this.userId,n.path),u=IDBKeyRange.lowerBound(o),d=[];return Sc(e).Z({range:u},(g,C,V)=>{const[W,ne,Ce]=g,ot=yu(ne);if(W===this.userId&&n.path.isEqual(ot))return il(e).get(Ce).next(Tt=>{if(!Tt)throw vn();Gn(Tt.userId===this.userId),d.push(tl(this.It,Tt))});V.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new z(Dn);const u=[];return n.forEach(d=>{const g=Vu(this.userId,d.path),C=IDBKeyRange.lowerBound(g),V=Sc(e).Z({range:C},(W,ne,Ce)=>{const[ot,Tt,Mt]=W,gn=yu(Tt);ot===this.userId&&d.path.isEqual(gn)?o=o.add(Mt):Ce.done()});u.push(V)}),et.waitFor(u).next(()=>this.En(e,o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,u=o.length+1,d=Vu(this.userId,o),g=IDBKeyRange.lowerBound(d);let C=new z(Dn);return Sc(e).Z({range:g},(V,W,ne)=>{const[Ce,ot,Tt]=V,Mt=yu(ot);Ce===this.userId&&o.isPrefixOf(Mt)?Mt.length===u&&(C=C.add(Tt)):ne.done()}).next(()=>this.En(e,C))}En(e,n){const o=[],u=[];return n.forEach(d=>{u.push(il(e).get(d).next(g=>{if(null===g)throw vn();Gn(g.userId===this.userId),o.push(tl(this.It,g))}))}),et.waitFor(u).next(()=>o)}removeMutationBatch(e,n){return rl(e.ie,this.userId,n).next(o=>(e.addOnCommittedListener(()=>{this.An(n.batchId)}),et.forEach(o,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return et.resolve();const o=IDBKeyRange.lowerBound([this.userId]),u=[];return Sc(e).Z({range:o},(d,g,C)=>{if(d[0]===this.userId){const V=yu(d[1]);u.push(V)}else C.done()}).next(()=>{Gn(0===u.length)})})}containsKey(e,n){return Pp(e,this.userId,n)}Rn(e){return Nh(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Pp(i,e,n){const o=Vu(e,n.path),u=o[1],d=IDBKeyRange.lowerBound(o);let g=!1;return Sc(i).Z({range:d,X:!0},(C,V,W)=>{const[ne,Ce,ot]=C;ne===e&&Ce===u&&(g=!0),W.done()}).next(()=>g)}function il(i){return Oo(i,"mutations")}function Sc(i){return Oo(i,"documentMutations")}function Nh(i){return Oo(i,"mutationQueues")}class Bl{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Bl(0)}static vn(){return new Bl(-1)}}class eu{constructor(e,n){this.referenceDelegate=e,this.It=n}allocateTargetId(e){return this.Vn(e).next(n=>{const o=new Bl(n.highestTargetId);return n.highestTargetId=o.next(),this.Sn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(n=>kn.fromTimestamp(new xr(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,o){return this.Vn(e).next(u=>(u.highestListenSequenceNumber=n,o&&(u.lastRemoteSnapshotVersion=o.toTimestamp()),n>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=n),this.Sn(e,u)))}addTargetData(e,n){return this.Dn(e,n).next(()=>this.Vn(e).next(o=>(o.targetCount+=1,this.Cn(n,o),this.Sn(e,o))))}updateTargetData(e,n){return this.Dn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Bu(e).delete(n.targetId)).next(()=>this.Vn(e)).next(o=>(Gn(o.targetCount>0),o.targetCount-=1,this.Sn(e,o)))}removeTargets(e,n,o){let u=0;const d=[];return Bu(e).Z((g,C)=>{const V=Cc(C);V.sequenceNumber<=n&&null===o.get(V.targetId)&&(u++,d.push(this.removeTargetData(e,V)))}).next(()=>et.waitFor(d)).next(()=>u)}forEachTarget(e,n){return Bu(e).Z((o,u)=>{const d=Cc(u);n(d)})}Vn(e){return Id(e).get("targetGlobalKey").next(n=>(Gn(null!==n),n))}Sn(e,n){return Id(e).put("targetGlobalKey",n)}Dn(e,n){return Bu(e).put(Cp(this.It,n))}Cn(e,n){let o=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,o=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.Vn(e).next(n=>n.targetCount)}getTargetData(e,n){const o=Z(n),u=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let d=null;return Bu(e).Z({range:u,index:"queryTargetsIndex"},(g,C,V)=>{const W=Cc(C);We(n,W.target)&&(d=W,V.done())}).next(()=>d)}addMatchingKeys(e,n,o){const u=[],d=ju(e);return n.forEach(g=>{const C=Go(g.path);u.push(d.put({targetId:o,path:C})),u.push(this.referenceDelegate.addReference(e,o,g))}),et.waitFor(u)}removeMatchingKeys(e,n,o){const u=ju(e);return et.forEach(n,d=>{const g=Go(d.path);return et.waitFor([u.delete([o,g]),this.referenceDelegate.removeReference(e,o,d)])})}removeMatchingKeysForTargetId(e,n){const o=ju(e),u=IDBKeyRange.bound([n],[n+1],!1,!0);return o.delete(u)}getMatchingKeysForTargetId(e,n){const o=IDBKeyRange.bound([n],[n+1],!1,!0),u=ju(e);let d=wr();return u.Z({range:o,X:!0},(g,C,V)=>{const W=yu(g[1]),ne=new zt(W);d=d.add(ne)}).next(()=>d)}containsKey(e,n){const o=Go(n.path),u=IDBKeyRange.bound([o],[ki(o)],!1,!0);let d=0;return ju(e).Z({index:"documentTargetsIndex",X:!0,range:u},([g,C],V,W)=>{0!==g&&(d++,W.done())}).next(()=>d>0)}se(e,n){return Bu(e).get(n).next(o=>o?Cc(o):null)}}function Bu(i){return Oo(i,"targets")}function Id(i){return Oo(i,"targetGlobal")}function ju(i){return Oo(i,"targetDocuments")}function Rh([i,e],[n,o]){const u=Dn(i,n);return 0===u?Dn(e,o):u}class zm{constructor(e){this.xn=e,this.buffer=new z(Rh),this.Nn=0}kn(){return++this.Nn}Mn(e){const n=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(n);else{const o=this.buffer.last();Rh(n,o)<0&&(this.buffer=this.buffer.delete(o).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Ac{constructor(e,n,o){this.garbageCollector=e,this.asyncQueue=n,this.localStore=o,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}Fn(e){var n=this;Bt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,c.Z)(function*(){n.On=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(o){ms(o)?Bt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield gs(o)}yield n.Fn(3e5)}))}}class Wm{constructor(e,n){this.$n=e,this.params=n}calculateTargetCount(e,n){return this.$n.Bn(e).next(o=>Math.floor(n/100*o))}nthSequenceNumber(e,n){if(0===n)return et.resolve(vs.at);const o=new zm(n);return this.$n.forEachTarget(e,u=>o.Mn(u.sequenceNumber)).next(()=>this.$n.Ln(e,u=>o.Mn(u))).next(()=>o.maxValue)}removeTargets(e,n,o){return this.$n.removeTargets(e,n,o)}removeOrphanedDocuments(e,n){return this.$n.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(Bt("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(Op)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Bt("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Op):this.Un(e,n))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,n){let o,u,d,g,C,V,W;const ne=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ce=>(Ce>this.params.maximumSequenceNumbersToCollect?(Bt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ce}`),u=this.params.maximumSequenceNumbersToCollect):u=Ce,g=Date.now(),this.nthSequenceNumber(e,u))).next(Ce=>(o=Ce,C=Date.now(),this.removeTargets(e,o,n))).next(Ce=>(d=Ce,V=Date.now(),this.removeOrphanedDocuments(e,o))).next(Ce=>(W=Date.now(),Ki()<=we.in.DEBUG&&Bt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${g-ne}ms\n\tDetermined least recently used ${u} in `+(C-g)+`ms\n\tRemoved ${d} targets in `+(V-C)+`ms\n\tRemoved ${Ce} documents in `+(W-V)+`ms\nTotal Duration: ${W-ne}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:d,documentsRemoved:Ce})))}}class Km{constructor(e,n){this.db=e,this.garbageCollector=new Wm(this,n)}Bn(e){const n=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>n.next(u=>o+u))}qn(e){let n=0;return this.Ln(e,o=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Ln(e,n){return this.Kn(e,(o,u)=>n(u))}addReference(e,n,o){return jl(e,o)}removeReference(e,n,o){return jl(e,o)}removeTargets(e,n,o){return this.db.getTargetCache().removeTargets(e,n,o)}markPotentiallyOrphaned(e,n){return jl(e,n)}Gn(e,n){return function(o,u){let d=!1;return Nh(o).tt(g=>Pp(o,g,u).next(C=>(C&&(d=!0),et.resolve(!C)))).next(()=>d)}(e,n)}removeOrphanedDocuments(e,n){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let d=0;return this.Kn(e,(g,C)=>{if(C<=n){const V=this.Gn(e,g).next(W=>{if(!W)return d++,o.getEntry(e,g).next(()=>(o.removeEntry(g,kn.min()),ju(e).delete([0,Go(g.path)])))});u.push(V)}}).next(()=>et.waitFor(u)).next(()=>o.apply(e)).next(()=>d)}removeTarget(e,n){const o=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,n){return jl(e,n)}Kn(e,n){const o=ju(e);let u,d=vs.at;return o.Z({index:"documentTargetsIndex"},([g,C],{path:V,sequenceNumber:W})=>{0===g?(d!==vs.at&&n(new zt(yu(u)),d),d=W,u=V):d=vs.at}).next(()=>{d!==vs.at&&n(new zt(yu(u)),d)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function jl(i,e){return ju(i).put((o=i.currentSequenceNumber,{targetId:0,path:Go(e.path),sequenceNumber:o}));var o}class Dd{constructor(){this.changes=new Xa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return void 0!==o?et.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class kp{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,o){return $u(e).put(o)}removeEntry(e,n,o){return $u(e).delete(function(u,d){const g=u.path.toArray();return[g.slice(0,g.length-2),g[g.length-2],pd(d),g[g.length-1]]}(n,o))}updateMetadata(e,n){return this.getMetadata(e).next(o=>(o.byteSize+=n,this.Qn(e,o)))}getEntry(e,n){let o=pr.newInvalidDocument(n);return $u(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Mc(n))},(u,d)=>{o=this.jn(n,d)}).next(()=>o)}Wn(e,n){let o={size:0,document:pr.newInvalidDocument(n)};return $u(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Mc(n))},(u,d)=>{o={document:this.jn(n,d),size:Oa(d)}}).next(()=>o)}getEntries(e,n){let o=ao();return this.zn(e,n,(u,d)=>{const g=this.jn(u,d);o=o.insert(u,g)}).next(()=>o)}Hn(e,n){let o=ao(),u=new m(zt.comparator);return this.zn(e,n,(d,g)=>{const C=this.jn(d,g);o=o.insert(d,C),u=u.insert(d,Oa(g))}).next(()=>({documents:o,Jn:u}))}zn(e,n,o){if(n.isEmpty())return et.resolve();let u=new z(Fp);n.forEach(V=>u=u.add(V));const d=IDBKeyRange.bound(Mc(u.first()),Mc(u.last())),g=u.getIterator();let C=g.getNext();return $u(e).Z({index:"documentKeyIndex",range:d},(V,W,ne)=>{const Ce=zt.fromSegments([...W.prefixPath,W.collectionGroup,W.documentId]);for(;C&&Fp(C,Ce)<0;)o(C,null),C=g.getNext();C&&C.isEqual(Ce)&&(o(C,W),C=g.hasNext()?g.getNext():null),C?ne.j(Mc(C)):ne.done()}).next(()=>{for(;C;)o(C,null),C=g.hasNext()?g.getNext():null})}getAllFromCollection(e,n,o){const u=[n.popLast().toArray(),n.lastSegment(),pd(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],d=[n.popLast().toArray(),n.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return $u(e).W(IDBKeyRange.bound(u,d,!0)).next(g=>{let C=ao();for(const V of g){const W=this.jn(zt.fromSegments(V.prefixPath.concat(V.collectionGroup,V.documentId)),V);C=C.insert(W.key,W)}return C})}getAllFromCollectionGroup(e,n,o,u){let d=ao();const g=bd(n,o),C=bd(n,us.max());return $u(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(g,C,!0)},(V,W,ne)=>{const Ce=this.jn(zt.fromSegments(W.prefixPath.concat(W.collectionGroup,W.documentId)),W);d=d.insert(Ce.key,Ce),d.size===u&&ne.done()}).next(()=>d)}newChangeBuffer(e){return new $l(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return Cd(e).get("remoteDocumentGlobalKey").next(n=>(Gn(!!n),n))}Qn(e,n){return Cd(e).put("remoteDocumentGlobalKey",n)}jn(e,n){if(n){const o=function Dp(i,e){let n;if(e.document)n=fp(i.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=zt.fromSegments(e.noDocument.path),u=Ga(e.noDocument.readTime);n=pr.newNoDocument(o,u),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return vn();{const o=zt.fromSegments(e.unknownDocument.path),u=Ga(e.unknownDocument.version);n=pr.newUnknownDocument(o,u)}}return e.readTime&&n.setReadTime(function(o){const u=new xr(o[0],o[1]);return kn.fromTimestamp(u)}(e.readTime)),n}(this.It,n);if(!o.isNoDocument()||!o.version.isEqual(kn.min()))return o}return pr.newInvalidDocument(e)}}function qm(i){return new kp(i)}class $l extends Dd{constructor(e,n){super(),this.Yn=e,this.trackRemovals=n,this.Xn=new Xa(o=>o.toString(),(o,u)=>o.isEqual(u))}applyChanges(e){const n=[];let o=0,u=new z((d,g)=>Dn(d.canonicalString(),g.canonicalString()));return this.changes.forEach((d,g)=>{const C=this.Xn.get(d);if(n.push(this.Yn.removeEntry(e,d,C.readTime)),g.isValidDocument()){const V=fd(this.Yn.It,g);u=u.add(d.path.popLast()),o+=Oa(V)-C.size,n.push(this.Yn.addEntry(e,d,V))}else if(o-=C.size,this.trackRemovals){const V=fd(this.Yn.It,g.convertToNoDocument(kn.min()));n.push(this.Yn.addEntry(e,d,V))}}),u.forEach(d=>{n.push(this.Yn.indexManager.addToCollectionParentIndex(e,d))}),n.push(this.Yn.updateMetadata(e,o)),et.waitFor(n)}getFromCache(e,n){return this.Yn.Wn(e,n).next(o=>(this.Xn.set(n,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,n){return this.Yn.Hn(e,n).next(({documents:o,Jn:u})=>(u.forEach((d,g)=>{this.Xn.set(d,{size:g,readTime:o.get(d).readTime})}),o))}}function Cd(i){return Oo(i,"remoteDocumentGlobal")}function $u(i){return Oo(i,"remoteDocumentsV14")}function Mc(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function bd(i,e){const n=e.documentKey.path.toArray();return[i,pd(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Fp(i,e){const n=i.path.toArray(),o=e.path.toArray();let u=0;for(let d=0;d<n.length-2&&d<o.length-2;++d)if(u=Dn(n[d],o[d]),u)return u;return u=Dn(n.length,o.length),u||(u=Dn(n[n.length-2],o[o.length-2]),u||Dn(n[n.length-1],o[o.length-1]))}class Zm{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Lp{constructor(e,n,o,u){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,n){let o=null;return this.documentOverlayCache.getOverlay(e,n).next(u=>(o=u,this.getBaseDocument(e,n,o))).next(u=>(null!==o&&p(o.mutation,u,De.empty(),xr.now()),u))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.getLocalViewOfDocuments(e,o,wr()).next(()=>o))}getLocalViewOfDocuments(e,n,o=wr()){const u=Da();return this.populateOverlays(e,u,n).next(()=>this.computeViews(e,n,u,o).next(d=>{let g=ku();return d.forEach((C,V)=>{g=g.insert(C,V.overlayedDocument)}),g}))}getOverlayedDocuments(e,n){const o=Da();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,wr()))}populateOverlays(e,n,o){const u=[];return o.forEach(d=>{n.has(d)||u.push(d)}),this.documentOverlayCache.getOverlays(e,u).next(d=>{d.forEach((g,C)=>{n.set(g,C)})})}computeViews(e,n,o,u){let d=ao();const g=Ra(),C=Ra();return n.forEach((V,W)=>{const ne=o.get(W.key);u.has(W.key)&&(void 0===ne||ne.mutation instanceof qe)?d=d.insert(W.key,W):void 0!==ne&&(g.set(W.key,ne.mutation.getFieldMask()),p(ne.mutation,W,ne.mutation.getFieldMask(),xr.now()))}),this.recalculateAndSaveOverlays(e,d).next(V=>(V.forEach((W,ne)=>g.set(W,ne)),n.forEach((W,ne)=>{var Ce;return C.set(W,new Zm(ne,null!==(Ce=g.get(W))&&void 0!==Ce?Ce:null))}),C))}recalculateAndSaveOverlays(e,n){const o=Ra();let u=new m((g,C)=>g-C),d=wr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(g=>{for(const C of g)C.keys().forEach(V=>{const W=n.get(V);if(null===W)return;let ne=o.get(V)||De.empty();ne=C.applyToLocalView(W,ne),o.set(V,ne);const Ce=(u.get(C.batchId)||wr()).add(V);u=u.insert(C.batchId,Ce)})}).next(()=>{const g=[],C=u.getReverseIterator();for(;C.hasNext();){const V=C.getNext(),W=V.key,ne=V.value,Ce=gc();ne.forEach(ot=>{if(!d.has(ot)){const Tt=I(n.get(ot),o.get(ot));null!==Tt&&Ce.set(ot,Tt),d=d.add(ot)}}),g.push(this.documentOverlayCache.saveOverlays(e,W,Ce))}return et.waitFor(g)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,n,o){return zt.isDocumentKey((u=n).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):uc(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,o):this.getDocumentsMatchingCollectionQuery(e,n,o);var u}getNextDocuments(e,n,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,o,u).next(d=>{const g=u-d.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,o.largestBatchId,u-d.size):et.resolve(Da());let C=-1,V=d;return g.next(W=>et.forEach(W,(ne,Ce)=>(C<Ce.largestBatchId&&(C=Ce.largestBatchId),d.get(ne)?et.resolve():this.getBaseDocument(e,ne,Ce).next(ot=>{V=V.insert(ne,ot)}))).next(()=>this.populateOverlays(e,W,d)).next(()=>this.computeViews(e,V,W,wr())).next(ne=>({batchId:C,changes:Rl(ne)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new zt(n)).next(o=>{let u=ku();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,n,o){const u=n.collectionGroup;let d=ku();return this.indexManager.getCollectionParents(e,u).next(g=>et.forEach(g,C=>{const V=(W=n,ne=C.child(u),new Ja(ne,null,W.explicitOrderBy.slice(),W.filters.slice(),W.limit,W.limitType,W.startAt,W.endAt));var W,ne;return this.getDocumentsMatchingCollectionQuery(e,V,o).next(W=>{W.forEach((ne,Ce)=>{d=d.insert(ne,Ce)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,n,o){let u;return this.remoteDocumentCache.getAllFromCollection(e,n.path,o).next(d=>(u=d,this.documentOverlayCache.getOverlaysForCollection(e,n.path,o.largestBatchId))).next(d=>{d.forEach((C,V)=>{const W=V.getKey();null===u.get(W)&&(u=u.insert(W,pr.newInvalidDocument(W)))});let g=ku();return u.forEach((C,V)=>{const W=d.get(C);void 0!==W&&p(W.mutation,V,De.empty(),xr.now()),Nu(n,V)&&(g=g.insert(C,V))}),g})}getBaseDocument(e,n,o){return null===o||1===o.mutation.type?this.remoteDocumentCache.getEntry(e,n):et.resolve(pr.newInvalidDocument(n))}}class Ym{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return et.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var o;return this.Zn.set(n.id,{id:(o=n).id,version:o.version,createTime:wo(o.createTime)}),et.resolve()}getNamedQuery(e,n){return et.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,{name:(o=n).name,query:gd(o.bundledQuery),readTime:wo(o.readTime)}),et.resolve();var o}}class Qm{constructor(){this.overlays=new m(zt.comparator),this.es=new Map}getOverlay(e,n){return et.resolve(this.overlays.get(n))}getOverlays(e,n){const o=Da();return et.forEach(n,u=>this.getOverlay(e,u).next(d=>{null!==d&&o.set(u,d)})).next(()=>o)}saveOverlays(e,n,o){return o.forEach((u,d)=>{this.ue(e,n,d)}),et.resolve()}removeOverlaysForBatchId(e,n,o){const u=this.es.get(o);return void 0!==u&&(u.forEach(d=>this.overlays=this.overlays.remove(d)),this.es.delete(o)),et.resolve()}getOverlaysForCollection(e,n,o){const u=Da(),d=n.length+1,g=new zt(n.child("")),C=this.overlays.getIteratorFrom(g);for(;C.hasNext();){const V=C.getNext().value,W=V.getKey();if(!n.isPrefixOf(W.path))break;W.path.length===d&&V.largestBatchId>o&&u.set(V.getKey(),V)}return et.resolve(u)}getOverlaysForCollectionGroup(e,n,o,u){let d=new m((W,ne)=>W-ne);const g=this.overlays.getIterator();for(;g.hasNext();){const W=g.getNext().value;if(W.getKey().getCollectionGroup()===n&&W.largestBatchId>o){let ne=d.get(W.largestBatchId);null===ne&&(ne=Da(),d=d.insert(W.largestBatchId,ne)),ne.set(W.getKey(),W)}}const C=Da(),V=d.getIterator();for(;V.hasNext()&&(V.getNext().value.forEach((W,ne)=>C.set(W,ne)),!(C.size()>=u)););return et.resolve(C)}ue(e,n,o){const u=this.overlays.get(o.key);if(null!==u){const g=this.es.get(u.largestBatchId).delete(o.key);this.es.set(u.largestBatchId,g)}this.overlays=this.overlays.insert(o.key,new Dc(n,o));let d=this.es.get(n);void 0===d&&(d=wr(),this.es.set(n,d)),this.es.set(n,d.add(o.key))}}class Oh{constructor(){this.ns=new z(uo.ss),this.rs=new z(uo.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const o=new uo(e,n);this.ns=this.ns.add(o),this.rs=this.rs.add(o)}us(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.cs(new uo(e,n))}hs(e,n){e.forEach(o=>this.removeReference(o,n))}ls(e){const n=new zt(new or([])),o=new uo(n,e),u=new uo(n,e+1),d=[];return this.rs.forEachInRange([o,u],g=>{this.cs(g),d.push(g.key)}),d}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new zt(new or([])),o=new uo(n,e),u=new uo(n,e+1);let d=wr();return this.rs.forEachInRange([o,u],g=>{d=d.add(g.key)}),d}containsKey(e){const n=new uo(e,0),o=this.ns.firstAfterOrEqual(n);return null!==o&&e.isEqual(o.key)}}class uo{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return zt.comparator(e.key,n.key)||Dn(e._s,n._s)}static os(e,n){return Dn(e._s,n._s)||zt.comparator(e.key,n.key)}}class Ph{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new z(uo.ss)}checkEmpty(e){return et.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,o,u){const d=this.ws;this.ws++;const g=new Th(d,n,o,u);this.mutationQueue.push(g);for(const C of u)this.gs=this.gs.add(new uo(C.key,d)),this.indexManager.addToCollectionParentIndex(e,C.key.path.popLast());return et.resolve(g)}lookupMutationBatch(e,n){return et.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const u=this.ps(n+1),d=u<0?0:u;return et.resolve(this.mutationQueue.length>d?this.mutationQueue[d]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new uo(n,0),u=new uo(n,Number.POSITIVE_INFINITY),d=[];return this.gs.forEachInRange([o,u],g=>{const C=this.ys(g._s);d.push(C)}),et.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new z(Dn);return n.forEach(u=>{const d=new uo(u,0),g=new uo(u,Number.POSITIVE_INFINITY);this.gs.forEachInRange([d,g],C=>{o=o.add(C._s)})}),et.resolve(this.Is(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,u=o.length+1;let d=o;zt.isDocumentKey(d)||(d=d.child(""));const g=new uo(new zt(d),0);let C=new z(Dn);return this.gs.forEachWhile(V=>{const W=V.key.path;return!!o.isPrefixOf(W)&&(W.length===u&&(C=C.add(V._s)),!0)},g),et.resolve(this.Is(C))}Is(e){const n=[];return e.forEach(o=>{const u=this.ys(o);null!==u&&n.push(u)}),n}removeMutationBatch(e,n){Gn(0===this.Ts(n.batchId,"removed")),this.mutationQueue.shift();let o=this.gs;return et.forEach(n.mutations,u=>{const d=new uo(u.key,n.batchId);return o=o.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.gs=o})}An(e){}containsKey(e,n){const o=new uo(n,0),u=this.gs.firstAfterOrEqual(o);return et.resolve(n.isEqual(u&&u.key))}performConsistencyCheck(e){return et.resolve()}Ts(e,n){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Vp{constructor(e){this.Es=e,this.docs=new m(zt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,u=this.docs.get(o),d=u?u.size:0,g=this.Es(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:g}),this.size+=g-d,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return et.resolve(o?o.document.mutableCopy():pr.newInvalidDocument(n))}getEntries(e,n){let o=ao();return n.forEach(u=>{const d=this.docs.get(u);o=o.insert(u,d?d.document.mutableCopy():pr.newInvalidDocument(u))}),et.resolve(o)}getAllFromCollection(e,n,o){let u=ao();const d=new zt(n.child("")),g=this.docs.getIteratorFrom(d);for(;g.hasNext();){const{key:C,value:{document:V}}=g.getNext();if(!n.isPrefixOf(C.path))break;C.path.length>n.length+1||_i(jo(V),o)<=0||(u=u.insert(V.key,V.mutableCopy()))}return et.resolve(u)}getAllFromCollectionGroup(e,n,o,u){vn()}As(e,n){return et.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new kh(this)}getSize(e){return et.resolve(this.size)}}class kh extends Dd{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?n.push(this.Yn.addEntry(e,u)):this.Yn.removeEntry(o)}),et.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}class Jm{constructor(e){this.persistence=e,this.Rs=new Xa(n=>Z(n),We),this.lastRemoteSnapshotVersion=kn.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Oh,this.targetCount=0,this.vs=Bl.Pn()}forEachTarget(e,n){return this.Rs.forEach((o,u)=>n(u)),et.resolve()}getLastRemoteSnapshotVersion(e){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return et.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.bs&&(this.bs=n),et.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new Bl(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,et.resolve()}updateTargetData(e,n){return this.Dn(n),et.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,et.resolve()}removeTargets(e,n,o){let u=0;const d=[];return this.Rs.forEach((g,C)=>{C.sequenceNumber<=n&&null===o.get(C.targetId)&&(this.Rs.delete(g),d.push(this.removeMatchingKeysForTargetId(e,C.targetId)),u++)}),et.waitFor(d).next(()=>u)}getTargetCount(e){return et.resolve(this.targetCount)}getTargetData(e,n){const o=this.Rs.get(n)||null;return et.resolve(o)}addMatchingKeys(e,n,o){return this.Ps.us(n,o),et.resolve()}removeMatchingKeys(e,n,o){this.Ps.hs(n,o);const u=this.persistence.referenceDelegate,d=[];return u&&n.forEach(g=>{d.push(u.markPotentiallyOrphaned(e,g))}),et.waitFor(d)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),et.resolve()}getMatchingKeysForTargetId(e,n){const o=this.Ps.ds(n);return et.resolve(o)}containsKey(e,n){return et.resolve(this.Ps.containsKey(n))}}class Up{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new vs(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new Jm(this),this.indexManager=new Gm,this.remoteDocumentCache=new Vp(o=>this.referenceDelegate.xs(o)),this.It=new Sh(n),this.Ns=new Ym(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Qm,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.Vs[e.toKey()];return o||(o=new Ph(n,this.referenceDelegate),this.Vs[e.toKey()]=o),o}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,o){Bt("MemoryPersistence","Starting transaction:",e);const u=new Bp(this.Ss.next());return this.referenceDelegate.ks(),o(u).next(d=>this.referenceDelegate.Ms(u).next(()=>d)).toPromise().then(d=>(u.raiseOnCommittedEvent(),d))}Os(e,n){return et.or(Object.values(this.Vs).map(o=>()=>o.containsKey(e,n)))}}class Bp extends Va{constructor(e){super(),this.currentSequenceNumber=e}}class xc{constructor(e){this.persistence=e,this.Fs=new Oh,this.$s=null}static Bs(e){return new xc(e)}get Ls(){if(this.$s)return this.$s;throw vn()}addReference(e,n,o){return this.Fs.addReference(o,n),this.Ls.delete(o.toString()),et.resolve()}removeReference(e,n,o){return this.Fs.removeReference(o,n),this.Ls.add(o.toString()),et.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),et.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(u=>this.Ls.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(u=>{u.forEach(d=>this.Ls.add(d.toString()))}).next(()=>o.removeTargetData(e,n))}ks(){this.$s=new Set}Ms(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.Ls,o=>{const u=zt.fromPath(o);return this.Us(e,u).next(d=>{d||n.removeEntry(u,kn.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.Us(e,n).next(o=>{o?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}Us(e,n){return et.or([()=>et.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Os(e,n)])}}class sl{constructor(e){this.It=e}$(e,n,o,u){const d=new _o("createOrUpgrade",n);var C;o<1&&u>=1&&(e.createObjectStore("owner"),(C=e).createObjectStore("mutationQueues",{keyPath:"userId"}),C.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",yp,{unique:!0}),C.createObjectStore("documentMutations"),Fh(e),function(C){C.createObjectStore("remoteDocuments")}(e));let g=et.resolve();return o<3&&u>=3&&(0!==o&&(function(C){C.deleteObjectStore("targetDocuments"),C.deleteObjectStore("targets"),C.deleteObjectStore("targetGlobal")}(e),Fh(e)),g=g.next(()=>function(C){const V=C.store("targetGlobal"),W={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:kn.min().toTimestamp(),targetCount:0};return V.put("targetGlobalKey",W)}(d))),o<4&&u>=4&&(0!==o&&(g=g.next(()=>function(C,V){return V.store("mutations").W().next(W=>{C.deleteObjectStore("mutations"),C.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",yp,{unique:!0});const ne=V.store("mutations"),Ce=W.map(ot=>ne.put(ot));return et.waitFor(Ce)})}(e,d))),g=g.next(()=>{!function(C){C.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&u>=5&&(g=g.next(()=>this.qs(d))),o<6&&u>=6&&(g=g.next(()=>(function(C){C.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(d)))),o<7&&u>=7&&(g=g.next(()=>this.Gs(d))),o<8&&u>=8&&(g=g.next(()=>this.Qs(e,d))),o<9&&u>=9&&(g=g.next(()=>{!function(C){C.objectStoreNames.contains("remoteDocumentChanges")&&C.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&u>=10&&(g=g.next(()=>this.js(d))),o<11&&u>=11&&(g=g.next(()=>{(function(C){C.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(C){C.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&u>=12&&(g=g.next(()=>{!function(C){const V=C.createObjectStore("documentOverlays",{keyPath:Lm});V.createIndex("collectionPathOverlayIndex",Ch,{unique:!1}),V.createIndex("collectionGroupOverlayIndex",kv,{unique:!1})}(e)})),o<13&&u>=13&&(g=g.next(()=>function(C){const V=C.createObjectStore("remoteDocumentsV14",{keyPath:Ic});V.createIndex("documentKeyIndex",Rm),V.createIndex("collectionGroupIndex",Pv)}(e)).next(()=>this.Ws(e,d)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&u>=14&&(g=g.next(()=>this.zs(e,d))),o<15&&u>=15&&(g=g.next(()=>function(C){C.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),C.createObjectStore("indexState",{keyPath:Ep}).createIndex("sequenceNumberIndex",wp,{unique:!1}),C.createObjectStore("indexEntries",{keyPath:Dh}).createIndex("documentKeyIndex",Fm,{unique:!1})}(e))),g}Ks(e){let n=0;return e.store("remoteDocuments").Z((o,u)=>{n+=Oa(u)}).next(()=>{const o={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}qs(e){const n=e.store("mutationQueues"),o=e.store("mutations");return n.W().next(u=>et.forEach(u,d=>{const g=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return o.W("userMutationsIndex",g).next(C=>et.forEach(C,V=>{Gn(V.userId===d.userId);const W=tl(this.It,V);return rl(e,d.userId,W).next(()=>{})}))}))}Gs(e){const n=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const d=[];return o.Z((g,C)=>{const V=new or(g),W=[0,Go(V)];d.push(n.get(W).next(ne=>ne?et.resolve():n.put({targetId:0,path:Go(V),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>et.waitFor(d))})}Qs(e,n){e.createObjectStore("collectionParents",{keyPath:km});const o=n.store("collectionParents"),u=new vd,d=g=>{if(u.add(g)){const C=g.lastSegment(),V=g.popLast();return o.put({collectionId:C,parent:Go(V)})}};return n.store("remoteDocuments").Z({X:!0},(g,C)=>{const V=new or(g);return d(V.popLast())}).next(()=>n.store("documentMutations").Z({X:!0},([g,C,V],W)=>{const ne=yu(C);return d(ne.popLast())}))}js(e){const n=e.store("targets");return n.Z((o,u)=>{const d=Cc(u),g=Cp(this.It,d);return n.put(g)})}Ws(e,n){const o=n.store("remoteDocuments"),u=[];return o.Z((d,g)=>{const C=n.store("remoteDocumentsV14"),V=(W=g,W.document?new zt(or.fromString(W.document.name).popFirst(5)):W.noDocument?zt.fromSegments(W.noDocument.path):W.unknownDocument?zt.fromSegments(W.unknownDocument.path):vn()).path.toArray();var W;const ne={prefixPath:V.slice(0,V.length-2),collectionGroup:V[V.length-2],documentId:V[V.length-1],readTime:g.readTime||[0,0],unknownDocument:g.unknownDocument,noDocument:g.noDocument,document:g.document,hasCommittedMutations:!!g.hasCommittedMutations};u.push(C.put(ne))}).next(()=>et.waitFor(u))}zs(e,n){const o=n.store("mutations"),u=qm(this.It),d=new Up(xc.Bs,this.It.re);return o.W().next(g=>{const C=new Map;return g.forEach(V=>{var W;let ne=null!==(W=C.get(V.userId))&&void 0!==W?W:wr();tl(this.It,V).keys().forEach(Ce=>ne=ne.add(Ce)),C.set(V.userId,ne)}),et.forEach(C,(V,W)=>{const ne=new $r(W),Ce=yd.oe(this.It,ne),ot=d.getIndexManager(ne),Tt=wd.oe(ne,this.It,ot,d.referenceDelegate);return new Lp(u,Tt,Ce,ot).recalculateAndSaveOverlaysForDocumentKeys(new Ip(n,vs.at),V).next()})})}}function Fh(i){i.createObjectStore("targetDocuments",{keyPath:Om}).createIndex("documentTargetsIndex",Pm,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",_p,{unique:!0}),i.createObjectStore("targetGlobal")}const Td="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Lh{constructor(e,n,o,u,d,g,C,V,W,ne,Ce=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=o,this.Hs=d,this.window=g,this.document=C,this.Js=W,this.Ys=ne,this.Xs=Ce,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=ot=>Promise.resolve(),!Lh.C())throw new Lt(pt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Km(this,u),this.ii=n+"main",this.It=new Sh(V),this.ri=new $i(this.ii,this.Xs,new sl(this.It)),this.Cs=new eu(this.referenceDelegate,this.It),this.remoteDocumentCache=qm(this.It),this.Ns=new jm,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===ne&&er("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Lt(pt.FAILED_PRECONDITION,Td);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new vs(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var n=this;return this.si=function(){var o=(0,c.Z)(function*(u){if(n.started)return e(u)});return function(u){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var n=(0,c.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,c.Z)(function*(){n.started&&(yield n.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>ol(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(n=>{n||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(n=>this.isPrimary&&!n?this._i(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(ms(e))return Bt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Bt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Sd(e).get("owner").next(n=>et.resolve(this.mi(n)))}gi(e){return ol(e).delete(this.clientId)}yi(){var e=this;return(0,c.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const u=Oo(o,"clientMetadata");return u.W().next(d=>{const g=e.Ii(d,18e5),C=d.filter(V=>-1===g.indexOf(V));return et.forEach(C,V=>u.delete(V.clientId)).next(()=>C)})}).catch(()=>[]);if(e.oi)for(const o of n)e.oi.removeItem(e.Ti(o.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?et.resolve(!0):Sd(e).get("owner").next(n=>{if(null!==n&&this.pi(n.leaseTimestampMs,5e3)&&!this.Ei(n.ownerId)){if(this.mi(n)&&this.networkEnabled)return!0;if(!this.mi(n)){if(!n.allowTabSynchronization)throw new Lt(pt.FAILED_PRECONDITION,Td);return!1}}return!(!this.networkEnabled||!this.inForeground)||ol(e).W().next(o=>void 0===this.Ii(o,5e3).find(u=>{if(this.clientId!==u.clientId){const g=!this.inForeground&&u.inForeground,C=this.networkEnabled===u.networkEnabled;if(!this.networkEnabled&&u.networkEnabled||g&&C)return!0}return!1}))}).next(n=>(this.isPrimary!==n&&Bt("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,c.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const o=new Ip(n,vs.at);return e._i(o).next(()=>e.gi(o))}),e.ri.close(),e.Pi()})()}Ii(e,n){return e.filter(o=>this.pi(o.updateTimeMs,n)&&!this.Ei(o.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>ol(e).W().next(n=>this.Ii(n,18e5).map(o=>o.clientId)))}get started(){return this.Ds}getMutationQueue(e,n){return wd.oe(e,this.It,n,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new xp(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return yd.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,n,o){Bt("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===n?"readonly":"readwrite",d=15===(g=this.Xs)?Fv:14===g?Bm:13===g?Um:12===g?bh:11===g?Vm:void vn();var g;let C;return this.ri.runTransaction(e,u,d,V=>(C=new Ip(V,this.Ss?this.Ss.next():vs.at),"readwrite-primary"===n?this.fi(C).next(W=>!!W||this.di(C)).next(W=>{if(!W)throw er(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Lt(pt.FAILED_PRECONDITION,$o);return o(C)}).next(W=>this.wi(C).next(()=>W)):this.Vi(C).next(()=>o(C)))).then(V=>(C.raiseOnCommittedEvent(),V))}Vi(e){return Sd(e).get("owner").next(n=>{if(null!==n&&this.pi(n.leaseTimestampMs,5e3)&&!this.Ei(n.ownerId)&&!this.mi(n)&&!(this.Ys||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Lt(pt.FAILED_PRECONDITION,Td)})}wi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Sd(e).put("owner",n)}static C(){return $i.C()}_i(e){const n=Sd(e);return n.get("owner").next(o=>this.mi(o)?(Bt("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):et.resolve())}pi(e,n){const o=Date.now();return!(e<o-n||e>o&&(er(`Detected an update time that is in the future: ${e} > ${o}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,ve.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var n;try{const o=null!==(null===(n=this.oi)||void 0===n?void 0:n.getItem(this.Ti(e)));return Bt("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return er("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){er("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Sd(i){return Oo(i,"owner")}function ol(i){return Oo(i,"clientMetadata")}function Vh(i,e){let n=i.projectId;return i.isDefaultDatabase||(n+="."+i.database),"firestore/"+e+"/"+n+"/"}class Ad{constructor(e,n,o,u){this.targetId=e,this.fromCache=n,this.Si=o,this.Di=u}static Ci(e,n){let o=wr(),u=wr();for(const d of n.docChanges)switch(d.type){case 0:o=o.add(d.doc.key);break;case 1:u=u.add(d.doc.key)}return new Ad(e,n.fromCache,o,u)}}class Uh{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,o,u){return this.ki(e,n).next(d=>d||this.Mi(e,n,u,o)).next(d=>d||this.Oi(e,n))}ki(e,n){if(ed(n))return et.resolve(null);let o=na(n);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==n.limit&&1===u&&(n=Yu(n,null,"F"),o=na(n)),this.indexManager.getDocumentsMatchingTarget(e,o).next(d=>{const g=wr(...d);return this.Ni.getDocuments(e,g).next(C=>this.indexManager.getMinOffset(e,o).next(V=>{const W=this.Fi(n,C);return this.$i(n,W,g,V.readTime)?this.ki(e,Yu(n,null,"F")):this.Bi(e,W,n,V)}))})))}Mi(e,n,o,u){return ed(n)||u.isEqual(kn.min())?this.Oi(e,n):this.Ni.getDocuments(e,o).next(d=>{const g=this.Fi(n,d);return this.$i(n,g,o,u)?this.Oi(e,n):(Ki()<=we.in.DEBUG&&Bt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),lc(n)),this.Bi(e,g,n,da(u,-1)))})}Fi(e,n){let o=new z(Al(e));return n.forEach((u,d)=>{Nu(e,d)&&(o=o.add(d))}),o}$i(e,n,o,u){if(null===e.limit)return!1;if(o.size!==n.size)return!0;const d="F"===e.limitType?n.last():n.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(u)>0)}Oi(e,n){return Ki()<=we.in.DEBUG&&Bt("QueryEngine","Using full collection scan to execute query:",lc(n)),this.Ni.getDocumentsMatchingQuery(e,n,us.min())}Bi(e,n,o,u){return this.Ni.getDocumentsMatchingQuery(e,o,u).next(d=>(n.forEach(g=>{d=d.insert(g.key,g)}),d))}}class jp{constructor(e,n,o,u){this.persistence=e,this.Li=n,this.It=u,this.Ui=new m(Dn),this.qi=new Xa(d=>Z(d),We),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(o)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Lp(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ui))}}function Md(i,e,n,o){return new jp(i,e,n,o)}function Bh(i,e){return Hl.apply(this,arguments)}function Hl(){return Hl=(0,c.Z)(function*(i,e){const n=qt(i);return yield n.persistence.runTransaction("Handle user change","readonly",o=>{let u;return n.mutationQueue.getAllMutationBatches(o).next(d=>(u=d,n.Qi(e),n.mutationQueue.getAllMutationBatches(o))).next(d=>{const g=[],C=[];let V=wr();for(const W of u){g.push(W.batchId);for(const ne of W.mutations)V=V.add(ne.key)}for(const W of d){C.push(W.batchId);for(const ne of W.mutations)V=V.add(ne.key)}return n.localDocuments.getDocuments(o,V).next(W=>({ji:W,removedBatchIds:g,addedBatchIds:C}))})})}),Hl.apply(this,arguments)}function xd(i,e){const n=qt(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),d=n.Gi.newChangeBuffer({trackRemovals:!0});return function(g,C,V,W){const ne=V.batch,Ce=ne.keys();let ot=et.resolve();return Ce.forEach(Tt=>{ot=ot.next(()=>W.getEntry(C,Tt)).next(Mt=>{const gn=V.docVersions.get(Tt);Gn(null!==gn),Mt.version.compareTo(gn)<0&&(ne.applyToRemoteDocument(Mt,V),Mt.isValidDocument()&&(Mt.setReadTime(V.commitVersion),W.addEntry(Mt)))})}),ot.next(()=>g.mutationQueue.removeMutationBatch(C,ne))}(n,o,e,d).next(()=>d.apply(o)).next(()=>n.mutationQueue.performConsistencyCheck(o)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(g){let C=wr();for(let V=0;V<g.mutationResults.length;++V)g.mutationResults[V].transformResults.length>0&&(C=C.add(g.batch.mutations[V].key));return C}(e))).next(()=>n.localDocuments.getDocuments(o,u))})}function jh(i){const e=qt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function $h(i,e){const n=qt(i),o=e.snapshotVersion;let u=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const g=n.Gi.newChangeBuffer({trackRemovals:!0});u=n.Ui;const C=[];e.targetChanges.forEach((ne,Ce)=>{const ot=u.get(Ce);if(!ot)return;C.push(n.Cs.removeMatchingKeys(d,ne.removedDocuments,Ce).next(()=>n.Cs.addMatchingKeys(d,ne.addedDocuments,Ce)));let Tt=ot.withSequenceNumber(d.currentSequenceNumber);var Mt,gn,Nn;e.targetMismatches.has(Ce)?Tt=Tt.withResumeToken(lt.EMPTY_BYTE_STRING,kn.min()).withLastLimboFreeSnapshotVersion(kn.min()):ne.resumeToken.approximateByteSize()>0&&(Tt=Tt.withResumeToken(ne.resumeToken,o)),u=u.insert(Ce,Tt),gn=Tt,Nn=ne,(0===(Mt=ot).resumeToken.approximateByteSize()||gn.snapshotVersion.toMicroseconds()-Mt.snapshotVersion.toMicroseconds()>=3e8||Nn.addedDocuments.size+Nn.modifiedDocuments.size+Nn.removedDocuments.size>0)&&C.push(n.Cs.updateTargetData(d,Tt))});let V=ao(),W=wr();if(e.documentUpdates.forEach(ne=>{e.resolvedLimboDocuments.has(ne)&&C.push(n.persistence.referenceDelegate.updateLimboDocument(d,ne))}),C.push(Hh(d,g,e.documentUpdates).next(ne=>{V=ne.Wi,W=ne.zi})),!o.isEqual(kn.min())){const ne=n.Cs.getLastRemoteSnapshotVersion(d).next(Ce=>n.Cs.setTargetsMetadata(d,d.currentSequenceNumber,o));C.push(ne)}return et.waitFor(C).next(()=>g.apply(d)).next(()=>n.localDocuments.getLocalViewOfDocuments(d,V,W)).next(()=>V)}).then(d=>(n.Ui=u,d))}function Hh(i,e,n){let o=wr(),u=wr();return n.forEach(d=>o=o.add(d)),e.getEntries(i,o).next(d=>{let g=ao();return n.forEach((C,V)=>{const W=d.get(C);V.isFoundDocument()!==W.isFoundDocument()&&(u=u.add(C)),V.isNoDocument()&&V.version.isEqual(kn.min())?(e.removeEntry(C,V.readTime),g=g.insert(C,V)):!W.isValidDocument()||V.version.compareTo(W.version)>0||0===V.version.compareTo(W.version)&&W.hasPendingWrites?(e.addEntry(V),g=g.insert(C,V)):Bt("LocalStore","Ignoring outdated watch update for ",C,". Current version:",W.version," Watch version:",V.version)}),{Wi:g,zi:u}})}function Gh(i,e){const n=qt(i);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function tu(i,e){const n=qt(i);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return n.Cs.getTargetData(o,e).next(d=>d?(u=d,et.resolve(u)):n.Cs.allocateTargetId(o).next(g=>(u=new vu(e,g,0,o.currentSequenceNumber),n.Cs.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=n.Ui.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(o.targetId,o),n.qi.set(e,o.targetId)),o})}function Gl(i,e,n){return Nd.apply(this,arguments)}function Nd(){return Nd=(0,c.Z)(function*(i,e,n){const o=qt(i),u=o.Ui.get(e),d=n?"readwrite":"readwrite-primary";try{n||(yield o.persistence.runTransaction("Release target",d,g=>o.persistence.referenceDelegate.removeTarget(g,u)))}catch(g){if(!ms(g))throw g;Bt("LocalStore",`Failed to update sequence numbers for target ${e}: ${g}`)}o.Ui=o.Ui.remove(e),o.qi.delete(u.target)}),Nd.apply(this,arguments)}function Rd(i,e,n){const o=qt(i);let u=kn.min(),d=wr();return o.persistence.runTransaction("Execute query","readonly",g=>function(C,V,W){const ne=qt(C),Ce=ne.qi.get(W);return void 0!==Ce?et.resolve(ne.Ui.get(Ce)):ne.Cs.getTargetData(V,W)}(o,g,na(e)).next(C=>{if(C)return u=C.lastLimboFreeSnapshotVersion,o.Cs.getMatchingKeysForTargetId(g,C.targetId).next(V=>{d=V})}).next(()=>o.Li.getDocumentsMatchingQuery(g,e,n?u:kn.min(),n?d:wr())).next(C=>(Od(o,Qu(e),C),{documents:C,Hi:d})))}function $p(i,e){const n=qt(i),o=qt(n.Cs),u=n.Ui.get(e);return u?Promise.resolve(u.target):n.persistence.runTransaction("Get target data","readonly",d=>o.se(d,e).next(g=>g?g.target:null))}function zh(i,e){const n=qt(i),o=n.Ki.get(e)||kn.min();return n.persistence.runTransaction("Get new document changes","readonly",u=>n.Gi.getAllFromCollectionGroup(u,e,da(o,-1),Number.MAX_SAFE_INTEGER)).then(u=>(Od(n,e,u),u))}function Od(i,e,n){let o=kn.min();n.forEach((u,d)=>{d.readTime.compareTo(o)>0&&(o=d.readTime)}),i.Ki.set(e,o)}function Gp(){return Gp=(0,c.Z)(function*(i,e,n,o){const u=qt(i);let d=wr(),g=ao();for(const W of n){const ne=e.Ji(W.metadata.name);W.document&&(d=d.add(ne));const Ce=e.Yi(W);Ce.setReadTime(e.Xi(W.metadata.readTime)),g=g.insert(ne,Ce)}const C=u.Gi.newChangeBuffer({trackRemovals:!0}),V=yield tu(u,(W=o,na(hu(or.fromString(`__bundle__/docs/${W}`)))));var W;return u.persistence.runTransaction("Apply bundle documents","readwrite",W=>Hh(W,C,g).next(ne=>(C.apply(W),ne)).next(ne=>u.Cs.removeMatchingKeysForTargetId(W,V.targetId).next(()=>u.Cs.addMatchingKeys(W,d,V.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(W,ne.Wi,ne.zi)).next(()=>ne.Wi)))}),Gp.apply(this,arguments)}function zp(i,e){return Wh.apply(this,arguments)}function Wh(){return Wh=(0,c.Z)(function*(i,e,n=wr()){const o=yield tu(i,na(gd(e.bundledQuery))),u=qt(i);return u.persistence.runTransaction("Save named query","readwrite",d=>{const g=wo(e.readTime);if(o.snapshotVersion.compareTo(g)>=0)return u.Ns.saveNamedQuery(d,e);const C=o.withResumeToken(lt.EMPTY_BYTE_STRING,g);return u.Ui=u.Ui.insert(C.targetId,C),u.Cs.updateTargetData(d,C).next(()=>u.Cs.removeMatchingKeysForTargetId(d,o.targetId)).next(()=>u.Cs.addMatchingKeys(d,n,o.targetId)).next(()=>u.Ns.saveNamedQuery(d,e))})}),Wh.apply(this,arguments)}function Kh(i,e){return`firestore_clients_${i}_${e}`}function Wp(i,e,n){let o=`firestore_mutations_${i}_${n}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function qh(i,e){return`firestore_targets_${i}_${e}`}class pa{constructor(e,n,o,u){this.user=e,this.batchId=n,this.state=o,this.error=u}static Zi(e,n,o){const u=JSON.parse(o);let d,g="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return g&&u.error&&(g="string"==typeof u.error.message&&"string"==typeof u.error.code,g&&(d=new Lt(u.error.code,u.error.message))),g?new pa(e,n,u.state,d):(er("SharedClientState",`Failed to parse mutation state for ID '${n}': ${o}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Nc{constructor(e,n,o){this.targetId=e,this.state=n,this.error=o}static Zi(e,n){const o=JSON.parse(n);let u,d="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return d&&o.error&&(d="string"==typeof o.error.message&&"string"==typeof o.error.code,d&&(u=new Lt(o.error.code,o.error.message))),d?new Nc(e,o.state,u):(er("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Rc{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Zi(e,n){const o=JSON.parse(n);let u="object"==typeof o&&o.activeTargetIds instanceof Array,d=mc();for(let g=0;u&&g<o.activeTargetIds.length;++g)u=Eo(o.activeTargetIds[g]),d=d.add(o.activeTargetIds[g]);return u?new Rc(e,d):(er("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class Zh{constructor(e,n){this.clientId=e,this.onlineState=n}static Zi(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new Zh(n.clientId,n.onlineState):(er("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Yh{constructor(){this.activeTargetIds=mc()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Qh{constructor(e,n,o,u,d){this.window=e,this.Hs=n,this.persistenceKey=o,this.sr=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new m(Dn),this.started=!1,this.cr=[];const g=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.ar=Kh(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new Yh),this.lr=new RegExp(`^firestore_clients_${g}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${g}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${g}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(C){return`firestore_bundle_loaded_v2_${C}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,c.Z)(function*(){const n=yield e.syncEngine.vi();for(const u of n){if(u===e.sr)continue;const d=e.getItem(Kh(e.persistenceKey,u));if(d){const g=Rc.Zi(u,d);g&&(e.ur=e.ur.insert(g.clientId,g))}}e.gr();const o=e.storage.getItem(e.wr);if(o){const u=e.yr(o);u&&e.pr(u)}for(const u of e.cr)e.rr(u);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let n=!1;return this.ur.forEach((o,u)=>{u.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,n,o){this.Tr(e,n,o),this.Er(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(qh(this.persistenceKey,e));if(o){const u=Nc.Zi(e,o);u&&(n=u.state)}}return this.Ar.er(e),this.gr(),n}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(qh(this.persistenceKey,e))}updateQueryState(e,n,o){this.Rr(e,n,o)}handleUserChange(e,n,o){n.forEach(u=>{this.Er(u)}),this.currentUser=e,o.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return Bt("SharedClientState","READ",e,n),n}setItem(e,n){Bt("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){Bt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var n=this;const o=e;if(o.storageArea===this.storage){if(Bt("SharedClientState","EVENT",o.key,o.newValue),o.key===this.ar)return void er("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,c.Z)(function*(){if(n.started){if(null!==o.key)if(n.lr.test(o.key)){if(null==o.newValue){const u=n.vr(o.key);return n.Vr(u,null)}{const u=n.Sr(o.key,o.newValue);if(u)return n.Vr(u.clientId,u)}}else if(n.dr.test(o.key)){if(null!==o.newValue){const u=n.Dr(o.key,o.newValue);if(u)return n.Cr(u)}}else if(n._r.test(o.key)){if(null!==o.newValue){const u=n.Nr(o.key,o.newValue);if(u)return n.kr(u)}}else if(o.key===n.wr){if(null!==o.newValue){const u=n.yr(o.newValue);if(u)return n.pr(u)}}else if(o.key===n.hr){const u=function(d){let g=vs.at;if(null!=d)try{const C=JSON.parse(d);Gn("number"==typeof C),g=C}catch(C){er("SharedClientState","Failed to read sequence number from WebStorage",C)}return g}(o.newValue);u!==vs.at&&n.sequenceNumberHandler(u)}else if(o.key===n.mr){const u=n.Mr(o.newValue);yield Promise.all(u.map(d=>n.syncEngine.Or(d)))}}else n.cr.push(o)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,n,o){const u=new pa(this.currentUser,e,n,o),d=Wp(this.persistenceKey,this.currentUser,e);this.setItem(d,u.tr())}Er(e){const n=Wp(this.persistenceKey,this.currentUser,e);this.removeItem(n)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,n,o){const u=qh(this.persistenceKey,e),d=new Nc(e,n,o);this.setItem(u,d.tr())}Pr(e){const n=JSON.stringify(Array.from(e));this.setItem(this.mr,n)}vr(e){const n=this.lr.exec(e);return n?n[1]:null}Sr(e,n){const o=this.vr(e);return Rc.Zi(o,n)}Dr(e,n){const o=this.dr.exec(e),u=Number(o[1]);return pa.Zi(new $r(void 0!==o[2]?o[2]:null),u,n)}Nr(e,n){const o=this._r.exec(e),u=Number(o[1]);return Nc.Zi(u,n)}yr(e){return Zh.Zi(e)}Mr(e){return JSON.parse(e)}Cr(e){var n=this;return(0,c.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.Fr(e.batchId,e.state,e.error);Bt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,n){const o=n?this.ur.insert(e,n):this.ur.remove(e),u=this.Ir(this.ur),d=this.Ir(o),g=[],C=[];return d.forEach(V=>{u.has(V)||g.push(V)}),u.forEach(V=>{d.has(V)||C.push(V)}),this.syncEngine.Br(g,C).then(()=>{this.ur=o})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let n=mc();return e.forEach((o,u)=>{n=n.unionWith(u.activeTargetIds)}),n}}class Kp{constructor(){this.Lr=new Yh,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,n,o){this.Ur[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Yh,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class qp{qr(e){}shutdown(){}}class Zp{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Bt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Bt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Xm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class ey{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class yr extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,n,o,u,d){const g=this.ao(e,n);Bt("RestConnection","Sending: ",g,o);const C={};return this.ho(C,u,d),this.lo(e,g,C,o).then(V=>(Bt("RestConnection","Received: ",V),V),V=>{throw yo("RestConnection",`${e} failed with error: `,V,"url: ",g,"request:",o),V})}fo(e,n,o,u,d,g){return this.co(e,n,o,u,d)}ho(e,n,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ts,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((u,d)=>e[d]=u),o&&o.headers.forEach((u,d)=>e[d]=u)}ao(e,n){return`${this.oo}/v1/${n}:${Xm[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,n,o,u){return new Promise((d,g)=>{const C=new so;C.listenOnce(_r.COMPLETE,()=>{try{switch(C.getLastErrorCode()){case vr.NO_ERROR:const W=C.getResponseJson();Bt("Connection","XHR received:",JSON.stringify(W)),d(W);break;case vr.TIMEOUT:Bt("Connection",'RPC "'+e+'" timed out'),g(new Lt(pt.DEADLINE_EXCEEDED,"Request time out"));break;case vr.HTTP_ERROR:const ne=C.getStatus();if(Bt("Connection",'RPC "'+e+'" failed with status:',ne,"response text:",C.getResponseText()),ne>0){const Ce=C.getResponseJson().error;if(Ce&&Ce.status&&Ce.message){const ot=function(Tt){const Mt=Tt.toLowerCase().replace(/_/g,"-");return Object.values(pt).indexOf(Mt)>=0?Mt:pt.UNKNOWN}(Ce.status);g(new Lt(ot,Ce.message))}else g(new Lt(pt.UNKNOWN,"Server responded with status "+C.getStatus()))}else g(new Lt(pt.UNAVAILABLE,"Connection failed."));break;default:vn()}}finally{Bt("Connection",'RPC "'+e+'" completed.')}});const V=JSON.stringify(u);C.send(n,"POST",V,o,15)})}_o(e,n,o){const u=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=yn(),g=fr(),C={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(C.xmlHttpFactory=new jr({})),this.ho(C.initMessageHeaders,n,o),C.encodeInitMessageHeaders=!0;const V=u.join("");Bt("Connection","Creating WebChannel: "+V,C);const W=d.createWebChannel(V,C);let ne=!1,Ce=!1;const ot=new ey({Hr:Mt=>{Ce?Bt("Connection","Not sending because WebChannel is closed:",Mt):(ne||(Bt("Connection","Opening WebChannel transport."),W.open(),ne=!0),Bt("Connection","WebChannel sending:",Mt),W.send(Mt))},Jr:()=>W.close()}),Tt=(Mt,gn,Nn)=>{Mt.listen(gn,ai=>{try{Nn(ai)}catch(Mi){setTimeout(()=>{throw Mi},0)}})};return Tt(W,Pr.EventType.OPEN,()=>{Ce||Bt("Connection","WebChannel transport opened.")}),Tt(W,Pr.EventType.CLOSE,()=>{Ce||(Ce=!0,Bt("Connection","WebChannel transport closed"),ot.io())}),Tt(W,Pr.EventType.ERROR,Mt=>{Ce||(Ce=!0,yo("Connection","WebChannel transport errored:",Mt),ot.io(new Lt(pt.UNAVAILABLE,"The operation could not be completed")))}),Tt(W,Pr.EventType.MESSAGE,Mt=>{var gn;if(!Ce){const Nn=Mt.data[0];Gn(!!Nn);const ai=Nn,Mi=ai.error||(null===(gn=ai[0])||void 0===gn?void 0:gn.error);if(Mi){Bt("Connection","WebChannel received error:",Mi);const xi=Mi.status;let $s=function(Ni){const Io=Fi[Ni];if(void 0!==Io)return Pu(Io)}(xi),Hi=Mi.message;void 0===$s&&($s=pt.INTERNAL,Hi="Unknown error status: "+xi+" with message "+Mi.message),Ce=!0,ot.io(new Lt($s,Hi)),W.close()}else Bt("Connection","WebChannel received:",Nn),ot.ro(Nn)}}),Tt(g,ir.STAT_EVENT,Mt=>{Mt.stat===fi.PROXY?Bt("Connection","Detected buffering proxy"):Mt.stat===fi.NOPROXY&&Bt("Connection","Detected no buffering proxy")}),setTimeout(()=>{ot.so()},0),ot}}function Jh(){return typeof window<"u"?window:null}function Oc(){return typeof document<"u"?document:null}function zl(i){return new ph(i,!0)}class Xh{constructor(e,n,o=1e3,u=1.5,d=6e4){this.Hs=e,this.timerId=n,this.wo=o,this.mo=u,this.yo=d,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const n=Math.floor(this.po+this.Ro()),o=Math.max(0,Date.now()-this.To),u=Math.max(0,n-o);u>0&&Bt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.po} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,u,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class Yp{constructor(e,n,o,u,d,g,C,V){this.Hs=e,this.Po=o,this.vo=u,this.Vo=d,this.authCredentialsProvider=g,this.appCheckCredentialsProvider=C,this.listener=V,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Xh(e,n)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,c.Z)(function*(){e.No()&&(yield e.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,c.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,n){var o=this;return(0,c.Z)(function*(){o.Lo(),o.Uo(),o.xo.cancel(),o.So++,4!==e?o.xo.reset():n&&n.code===pt.RESOURCE_EXHAUSTED?(er(n.toString()),er("Using maximum backoff delay to prevent overloading the backend."),o.xo.Eo()):n&&n.code===pt.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.qo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Zr(n)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.So===n&&this.Go(o,u)},o=>{e(()=>{const u=new Lt(pt.UNKNOWN,"Fetching auth token failed: "+o.message);return this.Qo(u)})})}Go(e,n){const o=this.Ko(this.So);this.stream=this.jo(e,n),this.stream.Yr(()=>{o(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(u=>{o(()=>this.Qo(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}Mo(){var e=this;this.state=5,this.xo.Ao((0,c.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Bt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return n=>{this.Hs.enqueueAndForget(()=>this.So===e?n():(Bt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Qp extends Yp{constructor(e,n,o,u,d,g){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,u,g),this.It=d}jo(e,n){return this.Vo._o("Listen",e,n)}onMessage(e){this.xo.reset();const n=function ld(i,e){let n;if("targetChange"in e){const o="NO_CHANGE"===(V=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===V?1:"REMOVE"===V?2:"CURRENT"===V?3:"RESET"===V?4:vn(),u=e.targetChange.targetIds||[],d=function(V,W){return V.gt?(Gn(void 0===W||"string"==typeof W),lt.fromBase64String(W||"")):(Gn(void 0===W||W instanceof Uint8Array),lt.fromUint8Array(W||new Uint8Array))}(i,e.targetChange.resumeToken),g=e.targetChange.cause,C=g&&function(V){const W=void 0===V.code?pt.UNKNOWN:Pu(V.code);return new Lt(W,V.message||"")}(g);n=new lp(o,u,d,C||null)}else if("documentChange"in e){const o=e.documentChange,u=mu(i,o.document.name),d=wo(o.document.updateTime),g=new Fr({mapValue:{fields:o.document.fields}}),C=pr.newFoundDocument(u,d,g);n=new vc(o.targetIds||[],o.removedTargetIds||[],C.key,C)}else if("documentDelete"in e){const o=e.documentDelete,u=mu(i,o.document),d=o.readTime?wo(o.readTime):kn.min(),g=pr.newNoDocument(u,d);n=new vc([],o.removedTargetIds||[],g.key,g)}else if("documentRemove"in e){const o=e.documentRemove,u=mu(i,o.document);n=new vc([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return vn();{const o=e.filter,d=new Ha(o.count||0);n=new up(o.targetId,d)}}var V;return n}(this.It,e),o=function(u){if(!("targetChange"in u))return kn.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?kn.min():d.readTime?wo(d.readTime):kn.min()}(e);return this.listener.Wo(n,o)}zo(e){const n={};n.database=Pl(this.It),n.addTarget=function(u,d){let g;const C=d.target;return g=ht(C)?{documents:Lu(u,C)}:{query:Eh(u,C)},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0?g.resumeToken=gh(u,d.resumeToken):d.snapshotVersion.compareTo(kn.min())>0&&(g.readTime=Ol(u,d.snapshotVersion.toTimestamp())),g}(this.It,e);const o=function Am(i,e){const n=function(o,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return vn()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);o&&(n.labels=o),this.Bo(n)}Ho(e){const n={};n.database=Pl(this.It),n.removeTarget=e,this.Bo(n)}}class ty extends Yp{constructor(e,n,o,u,d,g){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,u,g),this.It=d,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,n){return this.Vo._o("Write",e,n)}onMessage(e){if(Gn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const n=function cd(i,e){return i&&i.length>0?(Gn(void 0!==e),i.map(n=>function(o,u){let d=wo(o.updateTime?o.updateTime:u);return d.isEqual(kn.min())&&(d=wo(u)),new dh(d,o.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),o=wo(e.commitTime);return this.listener.Zo(o,n)}return Gn(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Pl(this.It),this.Bo(e)}Xo(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>Ec(this.It,o))};this.Bo(n)}}class Jp extends class{}{constructor(e,n,o,u){super(),this.authCredentials=e,this.appCheckCredentials=n,this.Vo=o,this.It=u,this.nu=!1}su(){if(this.nu)throw new Lt(pt.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,n,o){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.Vo.co(e,n,o,u,d)).catch(u=>{throw"FirebaseError"===u.name?(u.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Lt(pt.UNKNOWN,u.toString())})}fo(e,n,o,u){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.Vo.fo(e,n,o,d,g,u)).catch(d=>{throw"FirebaseError"===d.name?(d.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Lt(pt.UNKNOWN,d.toString())})}terminate(){this.nu=!0}}class ny{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(er(n),this.ou=!1):Bt("OnlineStateTracker",n)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class ry{constructor(e,n,o,u,d){var g=this;this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=d,this.mu.qr(C=>{o.enqueueAndForget((0,c.Z)(function*(){var V;ll(g)&&(Bt("RemoteStore","Restarting streams for network reachability change."),yield(V=(0,c.Z)(function*(W){const ne=qt(W);ne._u.add(4),yield al(ne),ne.gu.set("Unknown"),ne._u.delete(4),yield Pd(ne)}),function(W){return V.apply(this,arguments)})(g))}))}),this.gu=new ny(o,u)}}function Pd(i){return kd.apply(this,arguments)}function kd(){return kd=(0,c.Z)(function*(i){if(ll(i))for(const e of i.wu)yield e(!0)}),kd.apply(this,arguments)}function al(i){return Eu.apply(this,arguments)}function Eu(){return Eu=(0,c.Z)(function*(i){for(const e of i.wu)yield e(!1)}),Eu.apply(this,arguments)}function Fd(i,e){const n=qt(i);n.du.has(e.targetId)||(n.du.set(e.targetId,e),tg(n)?eg(n):zo(n).ko()&&Pc(n,e))}function ul(i,e){const n=qt(i),o=zo(n);n.du.delete(e),o.ko()&&Xp(n,e),0===n.du.size&&(o.ko()?o.Fo():ll(n)&&n.gu.set("Unknown"))}function Pc(i,e){i.yu.Ot(e.targetId),zo(i).zo(e)}function Xp(i,e){i.yu.Ot(e),zo(i).Ho(e)}function eg(i){i.yu=new Tm({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),se:e=>i.du.get(e)||null}),zo(i).start(),i.gu.uu()}function tg(i){return ll(i)&&!zo(i).No()&&i.du.size>0}function ll(i){return 0===qt(i)._u.size}function ng(i){i.yu=void 0}function rg(i){return ig.apply(this,arguments)}function ig(){return ig=(0,c.Z)(function*(i){i.du.forEach((e,n)=>{Pc(i,e)})}),ig.apply(this,arguments)}function iy(i,e){return Hu.apply(this,arguments)}function Hu(){return Hu=(0,c.Z)(function*(i,e){ng(i),tg(i)?(i.gu.hu(e),eg(i)):i.gu.set("Unknown")}),Hu.apply(this,arguments)}function sy(i,e,n){return Ld.apply(this,arguments)}function Ld(){return Ld=(0,c.Z)(function*(i,e,n){if(i.gu.set("Online"),e instanceof lp&&2===e.state&&e.cause)try{yield(o=(0,c.Z)(function*(u,d){const g=d.cause;for(const C of d.targetIds)u.du.has(C)&&(yield u.remoteSyncer.rejectListen(C,g),u.du.delete(C),u.yu.removeTarget(C))}),function(u,d){return o.apply(this,arguments)})(i,e)}catch(o){Bt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield cl(i,o)}else if(e instanceof vc?i.yu.Gt(e):e instanceof up?i.yu.Yt(e):i.yu.Wt(e),!n.isEqual(kn.min()))try{const o=yield jh(i.localStore);n.compareTo(o)>=0&&(yield function(u,d){const g=u.yu.te(d);return g.targetChanges.forEach((C,V)=>{if(C.resumeToken.approximateByteSize()>0){const W=u.du.get(V);W&&u.du.set(V,W.withResumeToken(C.resumeToken,d))}}),g.targetMismatches.forEach(C=>{const V=u.du.get(C);if(!V)return;u.du.set(C,V.withResumeToken(lt.EMPTY_BYTE_STRING,V.snapshotVersion)),Xp(u,C);const W=new vu(V.target,C,1,V.sequenceNumber);Pc(u,W)}),u.remoteSyncer.applyRemoteEvent(g)}(i,n))}catch(o){Bt("RemoteStore","Failed to raise snapshot:",o),yield cl(i,o)}var o}),Ld.apply(this,arguments)}function cl(i,e,n){return ef.apply(this,arguments)}function ef(){return ef=(0,c.Z)(function*(i,e,n){if(!ms(e))throw e;i._u.add(1),yield al(i),i.gu.set("Offline"),n||(n=()=>jh(i.localStore)),i.asyncQueue.enqueueRetryable((0,c.Z)(function*(){Bt("RemoteStore","Retrying IndexedDB access"),yield n(),i._u.delete(1),yield Pd(i)}))}),ef.apply(this,arguments)}function tf(i,e){return e().catch(n=>cl(i,n,e))}function Wl(i){return nf.apply(this,arguments)}function nf(){return nf=(0,c.Z)(function*(i){const e=qt(i),n=wu(e);let o=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;oy(e);)try{const u=yield Gh(e.localStore,o);if(null===u){0===e.fu.length&&n.Fo();break}o=u.batchId,ay(e,u)}catch(u){yield cl(e,u)}sg(e)&&rf(e)}),nf.apply(this,arguments)}function oy(i){return ll(i)&&i.fu.length<10}function ay(i,e){i.fu.push(e);const n=wu(i);n.ko()&&n.Yo&&n.Xo(e.mutations)}function sg(i){return ll(i)&&!wu(i).No()&&i.fu.length>0}function rf(i){wu(i).start()}function uy(i){return Vd.apply(this,arguments)}function Vd(){return Vd=(0,c.Z)(function*(i){wu(i).eu()}),Vd.apply(this,arguments)}function og(i){return kc.apply(this,arguments)}function kc(){return kc=(0,c.Z)(function*(i){const e=wu(i);for(const n of i.fu)e.Xo(n.mutations)}),kc.apply(this,arguments)}function Lv(i,e,n){return Fc.apply(this,arguments)}function Fc(){return Fc=(0,c.Z)(function*(i,e,n){const o=i.fu.shift(),u=hd.from(o,e,n);yield tf(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield Wl(i)}),Fc.apply(this,arguments)}function ly(i,e){return ag.apply(this,arguments)}function ag(){return ag=(0,c.Z)(function*(i,e){var n;e&&wu(i).Yo&&(yield(n=(0,c.Z)(function*(o,u){if(Ju(d=u.code)&&d!==pt.ABORTED){const g=o.fu.shift();wu(o).Oo(),yield tf(o,()=>o.remoteSyncer.rejectFailedWrite(g.batchId,u)),yield Wl(o)}var d}),function(o,u){return n.apply(this,arguments)})(i,e)),sg(i)&&rf(i)}),ag.apply(this,arguments)}function dl(i,e){return Ud.apply(this,arguments)}function Ud(){return Ud=(0,c.Z)(function*(i,e){const n=qt(i);n.asyncQueue.verifyOperationInProgress(),Bt("RemoteStore","RemoteStore received new credentials");const o=ll(n);n._u.add(3),yield al(n),o&&n.gu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),yield Pd(n)}),Ud.apply(this,arguments)}function Bd(i,e){return Kl.apply(this,arguments)}function Kl(){return Kl=(0,c.Z)(function*(i,e){const n=qt(i);e?(n._u.delete(2),yield Pd(n)):e||(n._u.add(2),yield al(n),n.gu.set("Unknown"))}),Kl.apply(this,arguments)}function zo(i){return i.pu||(i.pu=function(e,n,o){const u=qt(e);return u.su(),new Qp(n,u.Vo,u.authCredentials,u.appCheckCredentials,u.It,o)}(i.datastore,i.asyncQueue,{Yr:rg.bind(null,i),Zr:iy.bind(null,i),Wo:sy.bind(null,i)}),i.wu.push(function(){var e=(0,c.Z)(function*(n){n?(i.pu.Oo(),tg(i)?eg(i):i.gu.set("Unknown")):(yield i.pu.stop(),ng(i))});return function(n){return e.apply(this,arguments)}}())),i.pu}function wu(i){return i.Iu||(i.Iu=function(e,n,o){const u=qt(e);return u.su(),new ty(n,u.Vo,u.authCredentials,u.appCheckCredentials,u.It,o)}(i.datastore,i.asyncQueue,{Yr:uy.bind(null,i),Zr:ly.bind(null,i),tu:og.bind(null,i),Zo:Lv.bind(null,i)}),i.wu.push(function(){var e=(0,c.Z)(function*(n){n?(i.Iu.Oo(),yield Wl(i)):(yield i.Iu.stop(),i.fu.length>0&&(Bt("RemoteStore",`Stopping write stream with ${i.fu.length} pending writes`),i.fu=[]))});return function(n){return e.apply(this,arguments)}}())),i.Iu}class sf{constructor(e,n,o,u,d){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=u,this.removalCallback=d,this.deferred=new Dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(g=>{})}static createAndSchedule(e,n,o,u,d){const g=Date.now()+o,C=new sf(e,n,g,u,d);return C.start(o),C}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Lt(pt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gu(i,e){if(er("AsyncQueue",`${e}: ${i}`),ms(i))return new Lt(pt.UNAVAILABLE,`${e}: ${i}`);throw i}class ga{constructor(e){this.comparator=e?(n,o)=>e(n,o)||zt.comparator(n.key,o.key):(n,o)=>zt.comparator(n.key,o.key),this.keyedMap=ku(),this.sortedSet=new m(this.comparator)}static emptySet(e){return new ga(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ga)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const u=n.getNext().key,d=o.getNext().key;if(!u.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const o=new ga;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}class jd{constructor(){this.Tu=new m(zt.comparator)}track(e){const n=e.doc.key,o=this.Tu.get(n);o?0!==e.type&&3===o.type?this.Tu=this.Tu.insert(n,e):3===e.type&&1!==o.type?this.Tu=this.Tu.insert(n,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Tu=this.Tu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Tu=this.Tu.remove(n):1===e.type&&2===o.type?this.Tu=this.Tu.insert(n,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):vn():this.Tu=this.Tu.insert(n,e)}Eu(){const e=[];return this.Tu.inorderTraversal((n,o)=>{e.push(o)}),e}}class hl{constructor(e,n,o,u,d,g,C,V){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=d,this.fromCache=g,this.syncStateChanged=C,this.excludesMetadataChanges=V}static fromInitialDocuments(e,n,o,u){const d=[];return n.forEach(g=>{d.push({type:0,doc:g})}),new hl(e,n,ga.emptySet(n),d,o,u,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let u=0;u<n.length;u++)if(n[u].type!==o[u].type||!n[u].doc.isEqual(o[u].doc))return!1;return!0}}class af{constructor(){this.Au=void 0,this.listeners=[]}}class Vv{constructor(){this.queries=new Xa(e=>Sl(e),Tl),this.onlineState="Unknown",this.Ru=new Set}}function $d(i,e){return ug.apply(this,arguments)}function ug(){return ug=(0,c.Z)(function*(i,e){const n=qt(i),o=e.query;let u=!1,d=n.queries.get(o);if(d||(u=!0,d=new af),u)try{d.Au=yield n.onListen(o)}catch(g){const C=Gu(g,`Initialization of query '${lc(e.query)}' failed`);return void e.onError(C)}n.queries.set(o,d),d.listeners.push(e),e.bu(n.onlineState),d.Au&&e.Pu(d.Au)&&Lc(n)}),ug.apply(this,arguments)}function ql(i,e){return Zl.apply(this,arguments)}function Zl(){return Zl=(0,c.Z)(function*(i,e){const n=qt(i),o=e.query;let u=!1;const d=n.queries.get(o);if(d){const g=d.listeners.indexOf(e);g>=0&&(d.listeners.splice(g,1),u=0===d.listeners.length)}if(u)return n.queries.delete(o),n.onUnlisten(o)}),Zl.apply(this,arguments)}function uf(i,e){const n=qt(i);let o=!1;for(const u of e){const g=n.queries.get(u.query);if(g){for(const C of g.listeners)C.Pu(u)&&(o=!0);g.Au=u}}o&&Lc(n)}function lf(i,e,n){const o=qt(i),u=o.queries.get(e);if(u)for(const d of u.listeners)d.onError(n);o.queries.delete(e)}function Lc(i){i.Ru.forEach(e=>{e.next()})}class lg{constructor(e,n,o){this.query=e,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=o||{}}Pu(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new hl(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),n=!0):this.Cu(e,this.onlineState)&&(this.xu(e),n=!0),this.Su=e,n}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),n=!0),n}Cu(e,n){return!e.fromCache||!(this.options.Nu&&"Offline"!==n||e.docs.isEmpty()&&"Offline"!==n)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=hl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}class cy{constructor(e,n){this.payload=e,this.byteLength=n}ku(){return"metadata"in this.payload}}class cg{constructor(e){this.It=e}Ji(e){return mu(this.It,e)}Yi(e){return e.metadata.exists?fp(this.It,e.document,!1):pr.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return wo(e)}}class dy{constructor(e,n,o){this.Mu=e,this.localStore=n,this.It=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=dg(e)}Ou(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++n;const o=or.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}Fu(e){const n=new Map,o=new cg(this.It);for(const u of e)if(u.metadata.queries){const d=o.Ji(u.metadata.name);for(const g of u.metadata.queries){const C=(n.get(g)||wr()).add(d);n.set(g,C)}}return n}complete(){var e=this;return(0,c.Z)(function*(){const n=yield function Hp(i,e,n,o){return Gp.apply(this,arguments)}(e.localStore,new cg(e.It),e.documents,e.Mu.id),o=e.Fu(e.documents);for(const u of e.queries)yield zp(e.localStore,u,o.get(u.name));return e.progress.taskState="Success",{progress:e.progress,$u:e.collectionGroups,Bu:n}})()}}function dg(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class cf{constructor(e){this.key=e}}class hy{constructor(e){this.key=e}}class hg{constructor(e,n){this.query=e,this.Lu=n,this.Uu=null,this.current=!1,this.qu=wr(),this.mutatedKeys=wr(),this.Ku=Al(e),this.Gu=new ga(this.Ku)}get Qu(){return this.Lu}ju(e,n){const o=n?n.Wu:new jd,u=n?n.Gu:this.Gu;let d=n?n.mutatedKeys:this.mutatedKeys,g=u,C=!1;const V="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,W="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((ne,Ce)=>{const ot=u.get(ne),Tt=Nu(this.query,Ce)?Ce:null,Mt=!!ot&&this.mutatedKeys.has(ot.key),gn=!!Tt&&(Tt.hasLocalMutations||this.mutatedKeys.has(Tt.key)&&Tt.hasCommittedMutations);let Nn=!1;ot&&Tt?ot.data.isEqual(Tt.data)?Mt!==gn&&(o.track({type:3,doc:Tt}),Nn=!0):this.zu(ot,Tt)||(o.track({type:2,doc:Tt}),Nn=!0,(V&&this.Ku(Tt,V)>0||W&&this.Ku(Tt,W)<0)&&(C=!0)):!ot&&Tt?(o.track({type:0,doc:Tt}),Nn=!0):ot&&!Tt&&(o.track({type:1,doc:ot}),Nn=!0,(V||W)&&(C=!0)),Nn&&(Tt?(g=g.add(Tt),d=gn?d.add(ne):d.delete(ne)):(g=g.delete(ne),d=d.delete(ne)))}),null!==this.query.limit)for(;g.size>this.query.limit;){const ne="F"===this.query.limitType?g.last():g.first();g=g.delete(ne.key),d=d.delete(ne.key),o.track({type:1,doc:ne})}return{Gu:g,Wu:o,$i:C,mutatedKeys:d}}zu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o){const u=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const d=e.Wu.Eu();d.sort((W,ne)=>function(Ce,ot){const Tt=Mt=>{switch(Mt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vn()}};return Tt(Ce)-Tt(ot)}(W.type,ne.type)||this.Ku(W.doc,ne.doc)),this.Hu(o);const g=n?this.Ju():[],C=0===this.qu.size&&this.current?1:0,V=C!==this.Uu;return this.Uu=C,0!==d.length||V?{snapshot:new hl(this.query,e.Gu,u,d,e.mutatedKeys,0===C,V,!1),Yu:g}:{Yu:g}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new jd,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(n=>this.Lu=this.Lu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Lu=this.Lu.delete(n)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=wr(),this.Gu.forEach(o=>{this.Xu(o.key)&&(this.qu=this.qu.add(o.key))});const n=[];return e.forEach(o=>{this.qu.has(o)||n.push(new hy(o))}),this.qu.forEach(o=>{e.has(o)||n.push(new cf(o))}),n}Zu(e){this.Lu=e.Hi,this.qu=wr();const n=this.ju(e.documents);return this.applyChanges(n,!0)}tc(){return hl.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class Uv{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class fg{constructor(e){this.key=e,this.ec=!1}}class pg{constructor(e,n,o,u,d,g){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=u,this.currentUser=d,this.maxConcurrentLimboResolutions=g,this.nc={},this.sc=new Xa(C=>Sl(C),Tl),this.ic=new Map,this.rc=new Set,this.oc=new m(zt.comparator),this.uc=new Map,this.cc=new Oh,this.ac={},this.hc=new Map,this.lc=Bl.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function fy(i,e){return Vc.apply(this,arguments)}function Vc(){return Vc=(0,c.Z)(function*(i,e){const n=sa(i);let o,u;const d=n.sc.get(e);if(d)o=d.targetId,n.sharedClientState.addLocalQueryTarget(o),u=d.view.tc();else{const g=yield tu(n.localStore,na(e));n.isPrimaryClient&&Fd(n.remoteStore,g);const C=n.sharedClientState.addLocalQueryTarget(g.targetId);o=g.targetId,u=yield gg(n,e,o,"current"===C)}return u}),Vc.apply(this,arguments)}function gg(i,e,n,o){return mg.apply(this,arguments)}function mg(){return mg=(0,c.Z)(function*(i,e,n,o){i.dc=(ne,Ce,ot)=>{return(Tt=(0,c.Z)(function*(Mt,gn,Nn,ai){let Mi=gn.view.ju(Nn);Mi.$i&&(Mi=yield Rd(Mt.localStore,gn.query,!1).then(({documents:Hi})=>gn.view.ju(Hi,Mi)));const xi=ai&&ai.targetChanges.get(gn.targetId),$s=gn.view.applyChanges(Mi,Mt.isPrimaryClient,xi);return pf(Mt,gn.targetId,$s.Yu),$s.snapshot}),function(Mt,gn,Nn,ai){return Tt.apply(this,arguments)})(i,ne,Ce,ot);var Tt};const u=yield Rd(i.localStore,e,!0),d=new hg(e,u.Hi),g=d.ju(u.documents),C=Xu.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==i.onlineState),V=d.applyChanges(g,i.isPrimaryClient,C);pf(i,n,V.Yu);const W=new Uv(e,n,d);return i.sc.set(e,W),i.ic.has(n)?i.ic.get(n).push(e):i.ic.set(n,[e]),V.snapshot}),mg.apply(this,arguments)}function Bv(i,e){return yg.apply(this,arguments)}function yg(){return yg=(0,c.Z)(function*(i,e){const n=qt(i),o=n.sc.get(e),u=n.ic.get(o.targetId);if(u.length>1)return n.ic.set(o.targetId,u.filter(d=>!Tl(d,e))),void n.sc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Gl(n.localStore,o.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(o.targetId),ul(n.remoteStore,o.targetId),fl(n,o.targetId)}).catch(gs))):(fl(n,o.targetId),yield Gl(n.localStore,o.targetId,!0))}),yg.apply(this,arguments)}function vg(){return vg=(0,c.Z)(function*(i,e,n){const o=zd(i);try{const u=yield function(d,g){const C=qt(d),V=xr.now(),W=g.reduce((ot,Tt)=>ot.add(Tt.key),wr());let ne,Ce;return C.persistence.runTransaction("Locally write mutations","readwrite",ot=>{let Tt=ao(),Mt=wr();return C.Gi.getEntries(ot,W).next(gn=>{Tt=gn,Tt.forEach((Nn,ai)=>{ai.isValidDocument()||(Mt=Mt.add(Nn))})}).next(()=>C.localDocuments.getOverlayedDocuments(ot,Tt)).next(gn=>{ne=gn;const Nn=[];for(const ai of g){const Mi=b(ai,ne.get(ai.key).overlayedDocument);null!=Mi&&Nn.push(new qe(ai.key,Mi,oi(Mi.value.mapValue),qi.exists(!0)))}return C.mutationQueue.addMutationBatch(ot,V,Nn,g)}).next(gn=>{Ce=gn;const Nn=gn.applyToLocalDocumentSet(ne,Mt);return C.documentOverlayCache.saveOverlays(ot,gn.batchId,Nn)})}).then(()=>({batchId:Ce.batchId,changes:Rl(ne)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(d,g,C){let V=d.ac[d.currentUser.toKey()];V||(V=new m(Dn)),V=V.insert(g,C),d.ac[d.currentUser.toKey()]=V}(o,u.batchId,n),yield Iu(o,u.changes),yield Wl(o.remoteStore)}catch(u){const d=Gu(u,"Failed to persist write");n.reject(d)}}),vg.apply(this,arguments)}function py(i,e){return _g.apply(this,arguments)}function _g(){return _g=(0,c.Z)(function*(i,e){const n=qt(i);try{const o=yield $h(n.localStore,e);e.targetChanges.forEach((u,d)=>{const g=n.uc.get(d);g&&(Gn(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?g.ec=!0:u.modifiedDocuments.size>0?Gn(g.ec):u.removedDocuments.size>0&&(Gn(g.ec),g.ec=!1))}),yield Iu(n,o,e)}catch(o){yield gs(o)}}),_g.apply(this,arguments)}function gy(i,e,n){const o=qt(i);if(o.isPrimaryClient&&0===n||!o.isPrimaryClient&&1===n){const u=[];o.sc.forEach((d,g)=>{const C=g.view.bu(e);C.snapshot&&u.push(C.snapshot)}),function(d,g){const C=qt(d);C.onlineState=g;let V=!1;C.queries.forEach((W,ne)=>{for(const Ce of ne.listeners)Ce.bu(g)&&(V=!0)}),V&&Lc(C)}(o.eventManager,e),u.length&&o.nc.Wo(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function $v(i,e,n){return nu.apply(this,arguments)}function nu(){return nu=(0,c.Z)(function*(i,e,n){const o=qt(i);o.sharedClientState.updateQueryState(e,"rejected",n);const u=o.uc.get(e),d=u&&u.key;if(d){let g=new m(zt.comparator);g=g.insert(d,pr.newNoDocument(d,kn.min()));const C=wr().add(d),V=new yc(kn.min(),new Map,new z(Dn),g,C);yield py(o,V),o.oc=o.oc.remove(d),o.uc.delete(e),gf(o)}else yield Gl(o.localStore,e,!1).then(()=>fl(o,e,n)).catch(gs)}),nu.apply(this,arguments)}function df(i,e){return hf.apply(this,arguments)}function hf(){return hf=(0,c.Z)(function*(i,e){const n=qt(i),o=e.batch.batchId;try{const u=yield xd(n.localStore,e);ru(n,o,null),ff(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),yield Iu(n,u)}catch(u){yield gs(u)}}),hf.apply(this,arguments)}function Eg(i,e,n){return Uc.apply(this,arguments)}function Uc(){return Uc=(0,c.Z)(function*(i,e,n){const o=qt(i);try{const u=yield function(d,g){const C=qt(d);return C.persistence.runTransaction("Reject batch","readwrite-primary",V=>{let W;return C.mutationQueue.lookupMutationBatch(V,g).next(ne=>(Gn(null!==ne),W=ne.keys(),C.mutationQueue.removeMutationBatch(V,ne))).next(()=>C.mutationQueue.performConsistencyCheck(V)).next(()=>C.documentOverlayCache.removeOverlaysForBatchId(V,W,g)).next(()=>C.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(V,W)).next(()=>C.localDocuments.getDocuments(V,W))})}(o.localStore,e);ru(o,e,n),ff(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),yield Iu(o,u)}catch(u){yield gs(u)}}),Uc.apply(this,arguments)}function Bc(){return Bc=(0,c.Z)(function*(i,e){const n=qt(i);ll(n.remoteStore)||Bt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(d){const g=qt(d);return g.persistence.runTransaction("Get highest unacknowledged batch id","readonly",C=>g.mutationQueue.getHighestUnacknowledgedBatchId(C))}(n.localStore);if(-1===o)return void e.resolve();const u=n.hc.get(o)||[];u.push(e),n.hc.set(o,u)}catch(o){const u=Gu(o,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}}),Bc.apply(this,arguments)}function ff(i,e){(i.hc.get(e)||[]).forEach(n=>{n.resolve()}),i.hc.delete(e)}function ru(i,e,n){const o=qt(i);let u=o.ac[o.currentUser.toKey()];if(u){const d=u.get(e);d&&(n?d.reject(n):d.resolve(),u=u.remove(e)),o.ac[o.currentUser.toKey()]=u}}function fl(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.ic.get(e))i.sc.delete(o),n&&i.nc._c(o,n);i.ic.delete(e),i.isPrimaryClient&&i.cc.ls(e).forEach(o=>{i.cc.containsKey(o)||Ig(i,o)})}function Ig(i,e){i.rc.delete(e.path.canonicalString());const n=i.oc.get(e);null!==n&&(ul(i.remoteStore,n),i.oc=i.oc.remove(e),i.uc.delete(n),gf(i))}function pf(i,e,n){for(const o of n)o instanceof cf?(i.cc.addReference(o.key,e),Dg(i,o)):o instanceof hy?(Bt("SyncEngine","Document no longer in limbo: "+o.key),i.cc.removeReference(o.key,e),i.cc.containsKey(o.key)||Ig(i,o.key)):vn()}function Dg(i,e){const n=e.key,o=n.path.canonicalString();i.oc.get(n)||i.rc.has(o)||(Bt("SyncEngine","New document in limbo: "+n),i.rc.add(o),gf(i))}function gf(i){for(;i.rc.size>0&&i.oc.size<i.maxConcurrentLimboResolutions;){const e=i.rc.values().next().value;i.rc.delete(e);const n=new zt(or.fromString(e)),o=i.lc.next();i.uc.set(o,new fg(n)),i.oc=i.oc.insert(n,o),Fd(i.remoteStore,new vu(na(hu(n.path)),o,2,vs.at))}}function Iu(i,e,n){return Yl.apply(this,arguments)}function Yl(){return Yl=(0,c.Z)(function*(i,e,n){const o=qt(i),u=[],d=[],g=[];var C;o.sc.isEmpty()||(o.sc.forEach((C,V)=>{g.push(o.dc(V,e,n).then(W=>{if(W){o.isPrimaryClient&&o.sharedClientState.updateQueryState(V.targetId,W.fromCache?"not-current":"current"),u.push(W);const ne=Ad.Ci(V.targetId,W);d.push(ne)}}))}),yield Promise.all(g),o.nc.Wo(u),yield(C=(0,c.Z)(function*(V,W){const ne=qt(V);try{yield ne.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ce=>et.forEach(W,ot=>et.forEach(ot.Si,Tt=>ne.persistence.referenceDelegate.addReference(Ce,ot.targetId,Tt)).next(()=>et.forEach(ot.Di,Tt=>ne.persistence.referenceDelegate.removeReference(Ce,ot.targetId,Tt)))))}catch(Ce){if(!ms(Ce))throw Ce;Bt("LocalStore","Failed to update sequence numbers: "+Ce)}for(const Ce of W){const ot=Ce.targetId;if(!Ce.fromCache){const Tt=ne.Ui.get(ot),gn=Tt.withLastLimboFreeSnapshotVersion(Tt.snapshotVersion);ne.Ui=ne.Ui.insert(ot,gn)}}}),function(V,W){return C.apply(this,arguments)})(o.localStore,d))}),Yl.apply(this,arguments)}function Ql(i,e){return jc.apply(this,arguments)}function jc(){return jc=(0,c.Z)(function*(i,e){const n=qt(i);if(!n.currentUser.isEqual(e)){Bt("SyncEngine","User change. New user:",e.toKey());const o=yield Bh(n.localStore,e);n.currentUser=e,(u=n).hc.forEach(g=>{g.forEach(C=>{C.reject(new Lt(pt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.hc.clear(),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Iu(n,o.ji)}var u}),jc.apply(this,arguments)}function Jl(i,e){const n=qt(i),o=n.uc.get(e);if(o&&o.ec)return wr().add(o.key);{let u=wr();const d=n.ic.get(e);if(!d)return u;for(const g of d){const C=n.sc.get(g);u=u.unionWith(C.view.Qu)}return u}}function mf(i,e){return Xl.apply(this,arguments)}function Xl(){return Xl=(0,c.Z)(function*(i,e){const n=qt(i),o=yield Rd(n.localStore,e.query,!0),u=e.view.Zu(o);return n.isPrimaryClient&&pf(n,e.targetId,u.Yu),u}),Xl.apply(this,arguments)}function Cg(i,e){return Hd.apply(this,arguments)}function Hd(){return Hd=(0,c.Z)(function*(i,e){const n=qt(i);return zh(n.localStore,e).then(o=>Iu(n,o))}),Hd.apply(this,arguments)}function yf(i,e,n,o){return $c.apply(this,arguments)}function $c(){return $c=(0,c.Z)(function*(i,e,n,o){const u=qt(i),d=yield function(g,C){const V=qt(g),W=qt(V.mutationQueue);return V.persistence.runTransaction("Lookup mutation documents","readonly",ne=>W.Tn(ne,C).next(Ce=>Ce?V.localDocuments.getDocuments(ne,Ce):et.resolve(null)))}(u.localStore,e);var C;null!==d?("pending"===n?yield Wl(u.remoteStore):"acknowledged"===n||"rejected"===n?(ru(u,e,o||null),ff(u,e),C=e,qt(qt(u.localStore).mutationQueue).An(C)):vn(),yield Iu(u,d)):Bt("SyncEngine","Cannot apply mutation batch with id: "+e)}),$c.apply(this,arguments)}function Hc(){return Hc=(0,c.Z)(function*(i,e){const n=qt(i);if(sa(n),zd(n),!0===e&&!0!==n.fc){const o=n.sharedClientState.getAllActiveQueryTargets(),u=yield Tg(n,o.toArray());n.fc=!0,yield Bd(n.remoteStore,!0);for(const d of u)Fd(n.remoteStore,d)}else if(!1===e&&!1!==n.fc){const o=[];let u=Promise.resolve();n.ic.forEach((d,g)=>{n.sharedClientState.isLocalQueryTarget(g)?o.push(g):u=u.then(()=>(fl(n,g),Gl(n.localStore,g,!0))),ul(n.remoteStore,g)}),yield u,yield Tg(n,o),function(d){const g=qt(d);g.uc.forEach((C,V)=>{ul(g.remoteStore,V)}),g.cc.fs(),g.uc=new Map,g.oc=new m(zt.comparator)}(n),n.fc=!1,yield Bd(n.remoteStore,!1)}}),Hc.apply(this,arguments)}function Tg(i,e,n){return Sg.apply(this,arguments)}function Sg(){return Sg=(0,c.Z)(function*(i,e,n){const o=qt(i),u=[],d=[];for(const g of e){let C;const V=o.ic.get(g);if(V&&0!==V.length){C=yield tu(o.localStore,na(V[0]));for(const W of V){const ne=o.sc.get(W),Ce=yield mf(o,ne);Ce.snapshot&&d.push(Ce.snapshot)}}else{const W=yield $p(o.localStore,g);C=yield tu(o.localStore,W),yield gg(o,Ag(W),g,!1)}u.push(C)}return o.nc.Wo(d),u}),Sg.apply(this,arguments)}function Ag(i){return Xc(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function Mg(i){const e=qt(i);return qt(qt(e.localStore).persistence).vi()}function my(i,e,n,o){return Gd.apply(this,arguments)}function Gd(){return Gd=(0,c.Z)(function*(i,e,n,o){const u=qt(i);if(u.fc)return void Bt("SyncEngine","Ignoring unexpected query state notification.");const d=u.ic.get(e);if(d&&d.length>0)switch(n){case"current":case"not-current":{const g=yield zh(u.localStore,Qu(d[0])),C=yc.createSynthesizedRemoteEventForCurrentChange(e,"current"===n);yield Iu(u,g,C);break}case"rejected":yield Gl(u.localStore,e,!0),fl(u,e,o);break;default:vn()}}),Gd.apply(this,arguments)}function xg(i,e,n){return vf.apply(this,arguments)}function vf(){return vf=(0,c.Z)(function*(i,e,n){const o=sa(i);if(o.fc){for(const u of e){if(o.ic.has(u)){Bt("SyncEngine","Adding an already active target "+u);continue}const d=yield $p(o.localStore,u),g=yield tu(o.localStore,d);yield gg(o,Ag(d),g.targetId,!1),Fd(o.remoteStore,g)}for(const u of n)o.ic.has(u)&&(yield Gl(o.localStore,u,!1).then(()=>{ul(o.remoteStore,u),fl(o,u)}).catch(gs))}}),vf.apply(this,arguments)}function sa(i){const e=qt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=py.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Jl.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$v.bind(null,e),e.nc.Wo=uf.bind(null,e.eventManager),e.nc._c=lf.bind(null,e.eventManager),e}function zd(i){const e=qt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=df.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Eg.bind(null,e),e}class vy{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,c.Z)(function*(){n.It=zl(e.databaseInfo.databaseId),n.sharedClientState=n.mc(e),n.persistence=n.gc(e),yield n.persistence.start(),n.localStore=n.yc(e),n.gcScheduler=n.Ic(e,n.localStore),n.indexBackfillerScheduler=n.Tc(e,n.localStore)})()}Ic(e,n){return null}Tc(e,n){return null}yc(e){return Md(this.persistence,new Uh,e.initialUser,this.It)}gc(e){return new Up(xc.Bs,this.It)}mc(e){return new Kp}terminate(){var e=this;return(0,c.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Ng extends vy{constructor(e,n,o){super(),this.Ec=e,this.cacheSizeBytes=n,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,o=this;return(0,c.Z)(function*(){yield n().call(o,e),yield o.Ec.initialize(o,e),yield zd(o.Ec.syncEngine),yield Wl(o.Ec.remoteStore),yield o.persistence.li(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}yc(e){return Md(this.persistence,new Uh,e.initialUser,this.It)}Ic(e,n){return new Ac(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}Tc(e,n){const o=new Ua(n,this.persistence);return new Ka(e.asyncQueue,o)}gc(e){const n=Vh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?fa.withCacheSize(this.cacheSizeBytes):fa.DEFAULT;return new Lh(this.synchronizeTabs,n,e.clientId,o,e.asyncQueue,Jh(),Oc(),this.It,this.sharedClientState,!!this.forceOwnership)}mc(e){return new Kp}}class _f extends Ng{constructor(e,n){super(e,n,!1),this.Ec=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,o=this;return(0,c.Z)(function*(){yield n().call(o,e);const u=o.Ec.syncEngine;o.sharedClientState instanceof Qh&&(o.sharedClientState.syncEngine={Fr:yf.bind(null,u),$r:my.bind(null,u),Br:xg.bind(null,u),vi:Mg.bind(null,u),Or:Cg.bind(null,u)},yield o.sharedClientState.start()),yield o.persistence.li(function(){var d=(0,c.Z)(function*(g){yield function bg(i,e){return Hc.apply(this,arguments)}(o.Ec.syncEngine,g),o.gcScheduler&&(g&&!o.gcScheduler.started?o.gcScheduler.start():g||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(g&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():g||o.indexBackfillerScheduler.stop())});return function(g){return d.apply(this,arguments)}}())})()}mc(e){const n=Jh();if(!Qh.C(n))throw new Lt(pt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Vh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Qh(n,e.asyncQueue,o,e.clientId,e.initialUser)}}class Wd{initialize(e,n){var o=this;return(0,c.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(n),o.remoteStore=o.createRemoteStore(n),o.eventManager=o.createEventManager(n),o.syncEngine=o.createSyncEngine(n,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>gy(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=Ql.bind(null,o.syncEngine),yield Bd(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Vv}createDatastore(e){const n=zl(e.databaseInfo.databaseId),o=new yr(e.databaseInfo);return new Jp(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return n=this.localStore,o=this.datastore,u=e.asyncQueue,d=C=>gy(this.syncEngine,C,0),g=Zp.C()?new Zp:new qp,new ry(n,o,u,d,g);var n,o,u,d,g}createSyncEngine(e,n){return function(o,u,d,g,C,V,W){const ne=new pg(o,u,d,g,C,V);return W&&(ne.fc=!0),ne}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,c.Z)(function*(n){const o=qt(n);Bt("RemoteStore","RemoteStore shutting down."),o._u.add(5),yield al(o),o.mu.shutdown(),o.gu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}function Rg(i,e=10240){let n=0;return{read:()=>(0,c.Z)(function*(){if(n<i.byteLength){const o={value:i.slice(n,n+e),done:!1};return n+=e,o}return{done:!0}})(),cancel:()=>(0,c.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Kd{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):er("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class _y{constructor(e,n){this.bc=e,this.It=n,this.metadata=new Dr,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then(o=>{o&&o.ku()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(o?.payload)}`))},o=>this.metadata.reject(o))}close(){return this.bc.cancel()}getMetadata(){var e=this;return(0,c.Z)(function*(){return e.metadata.promise})()}wc(){var e=this;return(0,c.Z)(function*(){return yield e.getMetadata(),e.vc()})()}vc(){var e=this;return(0,c.Z)(function*(){const n=yield e.Vc();if(null===n)return null;const o=e.Pc.decode(n),u=Number(o);isNaN(u)&&e.Sc(`length string (${o}) is not valid number`);const d=yield e.Dc(u);return new cy(JSON.parse(d),n.length+u)})()}Cc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Vc(){var e=this;return(0,c.Z)(function*(){for(;e.Cc()<0&&!(yield e.xc()););if(0===e.buffer.length)return null;const n=e.Cc();n<0&&e.Sc("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),o})()}Dc(e){var n=this;return(0,c.Z)(function*(){for(;n.buffer.length<e;)(yield n.xc())&&n.Sc("Reached the end of bundle when more is expected.");const o=n.Pc.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),o})()}Sc(e){throw this.bc.cancel(),new Error(`Invalid bundle format: ${e}`)}xc(){var e=this;return(0,c.Z)(function*(){const n=yield e.bc.read();if(!n.done){const o=new Uint8Array(e.buffer.length+n.value.length);o.set(e.buffer),o.set(n.value,e.buffer.length),e.buffer=o}return n.done})()}}class Og{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,c.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new Lt(pt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(u=(0,c.Z)(function*(d,g){const C=qt(d),V=Pl(C.It)+"/documents",W={documents:g.map(Tt=>el(C.It,Tt))},ne=yield C.fo("BatchGetDocuments",V,W,g.length),Ce=new Map;ne.forEach(Tt=>{const Mt=function _h(i,e){return"found"in e?function(n,o){Gn(!!o.found);const u=mu(n,o.found.name),d=wo(o.found.updateTime),g=new Fr({mapValue:{fields:o.found.fields}});return pr.newFoundDocument(u,d,g)}(i,e):"missing"in e?function(n,o){Gn(!!o.missing),Gn(!!o.readTime);const u=mu(n,o.missing),d=wo(o.readTime);return pr.newNoDocument(u,d)}(i,e):vn()}(C.It,Tt);Ce.set(Mt.key.toString(),Mt)});const ot=[];return g.forEach(Tt=>{const Mt=Ce.get(Tt.toString());Gn(!!Mt),ot.push(Mt)}),ot}),function(d,g){return u.apply(this,arguments)})(n.datastore,e);var u;return o.forEach(u=>n.recordVersion(u)),o})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new ar(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,c.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var o;e.mutations.forEach(o=>{n.delete(o.key.toString())}),n.forEach((o,u)=>{const d=zt.fromPath(u);e.mutations.push(new Ai(d,e.precondition(d)))}),yield(o=(0,c.Z)(function*(u,d){const g=qt(u),C=Pl(g.It)+"/documents",V={writes:d.map(W=>Ec(g.It,W))};yield g.co("Commit",C,V)}),function(u,d){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw vn();n=kn.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!n.isEqual(o))throw new Lt(pt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(kn.min())?qi.exists(!1):qi.updateTime(n):qi.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(kn.min()))throw new Lt(pt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return qi.updateTime(n)}return qi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Ey{constructor(e,n,o,u,d){this.asyncQueue=e,this.datastore=n,this.options=o,this.updateFunction=u,this.deferred=d,this.Nc=o.maxAttempts,this.xo=new Xh(this.asyncQueue,"transaction_retry")}run(){this.Nc-=1,this.kc()}kc(){var e=this;this.xo.Ao((0,c.Z)(function*(){const n=new Og(e.datastore),o=e.Mc(n);o&&o.then(u=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(u)}).catch(d=>{e.Oc(d)}))}).catch(u=>{e.Oc(u)})}))}Mc(e){try{const n=this.updateFunction(e);return!Si(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Oc(e){this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget(()=>(this.kc(),Promise.resolve()))):this.deferred.reject(e)}Fc(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||!Ju(n)}return!1}}class Pg{constructor(e,n,o,u){var d=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=u,this.user=$r.UNAUTHENTICATED,this.clientId=Ea.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var g=(0,c.Z)(function*(C){Bt("FirestoreClient","Received user=",C.uid),yield d.authCredentialListener(C),d.user=C});return function(C){return g.apply(this,arguments)}}()),this.appCheckCredentials.start(o,g=>(Bt("FirestoreClient","Received new app check token=",g),this.appCheckCredentialListener(g,this.user)))}getConfiguration(){var e=this;return(0,c.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Lt(pt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,c.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(o){const u=Gu(o,"Failed to shutdown persistence");n.reject(u)}})),n.promise}}function kg(i,e){return Ef.apply(this,arguments)}function Ef(){return Ef=(0,c.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Bt("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let o=n.initialUser;i.setCredentialChangeListener(function(){var u=(0,c.Z)(function*(d){o.isEqual(d)||(yield Bh(e.localStore,d),o=d)});return function(d){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),Ef.apply(this,arguments)}function wf(i,e){return qd.apply(this,arguments)}function qd(){return qd=(0,c.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield If(i);Bt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(n,o),i.setCredentialChangeListener(u=>dl(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,d)=>dl(e.remoteStore,d)),i.onlineComponents=e}),qd.apply(this,arguments)}function If(i){return Pa.apply(this,arguments)}function Pa(){return Pa=(0,c.Z)(function*(i){return i.offlineComponents||(Bt("FirestoreClient","Using default OfflineComponentProvider"),yield kg(i,new vy)),i.offlineComponents}),Pa.apply(this,arguments)}function ec(i){return Df.apply(this,arguments)}function Df(){return Df=(0,c.Z)(function*(i){return i.onlineComponents||(Bt("FirestoreClient","Using default OnlineComponentProvider"),yield wf(i,new Wd)),i.onlineComponents}),Df.apply(this,arguments)}function Fg(i){return If(i).then(e=>e.persistence)}function Cf(i){return If(i).then(e=>e.localStore)}function bf(i){return ec(i).then(e=>e.remoteStore)}function Tf(i){return ec(i).then(e=>e.syncEngine)}function tc(i){return Sf.apply(this,arguments)}function Sf(){return Sf=(0,c.Z)(function*(i){const e=yield ec(i),n=e.eventManager;return n.onListen=fy.bind(null,e.syncEngine),n.onUnlisten=Bv.bind(null,e.syncEngine),n}),Sf.apply(this,arguments)}function Gc(i,e,n={}){const o=new Dr;return i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return function(u,d,g,C,V){const W=new Kd({next:Ce=>{d.enqueueAndForget(()=>ql(u,ne));const ot=Ce.docs.has(g);!ot&&Ce.fromCache?V.reject(new Lt(pt.UNAVAILABLE,"Failed to get document because the client is offline.")):ot&&Ce.fromCache&&C&&"server"===C.source?V.reject(new Lt(pt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):V.resolve(Ce)},error:Ce=>V.reject(Ce)}),ne=new lg(hu(g.path),W,{includeMetadataChanges:!0,Nu:!0});return $d(u,ne)}(yield tc(i),i.asyncQueue,e,n,o)})),o.promise}function zc(i,e,n={}){const o=new Dr;return i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return function(u,d,g,C,V){const W=new Kd({next:Ce=>{d.enqueueAndForget(()=>ql(u,ne)),Ce.fromCache&&"server"===C.source?V.reject(new Lt(pt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):V.resolve(Ce)},error:Ce=>V.reject(Ce)}),ne=new lg(g,W,{includeMetadataChanges:!0,Nu:!0});return $d(u,ne)}(yield tc(i),i.asyncQueue,e,n,o)})),o.promise}const Nf=new Map;function Zd(i,e,n){if(!n)throw new Lt(pt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Rf(i,e,n,o){if(!0===e&&!0===o)throw new Lt(pt.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Yd(i){if(!zt.isDocumentKey(i))throw new Lt(pt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function iu(i){if(zt.isDocumentKey(i))throw new Lt(pt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function pl(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(n=i).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof i?"a function":vn()}function Vr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Lt(pt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=pl(i);throw new Lt(pt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function nc(i,e){if(e<=0)throw new Lt(pt.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class Vg{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new Lt(pt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Lt(pt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Rf("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gl{constructor(e,n,o,u){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Lt(pt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Lt(pt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vg(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new la;switch(n.type){case"gapi":return new _a(n.client,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Lt(pt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Nf.get(e);n&&(Bt("ComponentProvider","Removing Datastore"),Nf.delete(e),n.terminate())}(this),Promise.resolve()}}function Ug(i,e,n,o={}){var u;const d=(i=Vr(i,gl))._getSettings();if("firestore.googleapis.com"!==d.host&&d.host!==e&&yo("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},d),{host:`${e}:${n}`,ssl:!1})),o.mockUserToken){let g,C;if("string"==typeof o.mockUserToken)g=o.mockUserToken,C=$r.MOCK_USER;else{g=(0,ve.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const V=o.mockUserToken.sub||o.mockUserToken.user_id;if(!V)throw new Lt(pt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");C=new $r(V)}i._authCredentials=new Ci(new ua(g,C))}}class Ms{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ma(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ms(this.firestore,e,this._key)}}class Wo{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Wo(this.firestore,e,this._query)}}class ma extends Wo{constructor(e,n,o){super(e,n,hu(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ms(this.firestore,null,new zt(e))}withConverter(e){return new ma(this.firestore,e,this._path)}}function Dy(i,e,...n){if(i=(0,ve.m9)(i),Zd("collection","path",e),i instanceof gl){const o=or.fromString(e,...n);return iu(o),new ma(i,null,o)}{if(!(i instanceof Ms||i instanceof ma))throw new Lt(pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(or.fromString(e,...n));return iu(o),new ma(i.firestore,null,o)}}function zv(i,e){if(i=Vr(i,gl),Zd("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Lt(pt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Wo(i,null,(n=e,new Ja(or.emptyPath(),n)));var n}function Bg(i,e,...n){if(i=(0,ve.m9)(i),1===arguments.length&&(e=Ea.R()),Zd("doc","path",e),i instanceof gl){const o=or.fromString(e,...n);return Yd(o),new Ms(i,null,new zt(o))}{if(!(i instanceof Ms||i instanceof ma))throw new Lt(pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(or.fromString(e,...n));return Yd(o),new Ms(i.firestore,i instanceof ma?i.converter:null,new zt(o))}}function Wv(i,e){return i=(0,ve.m9)(i),e=(0,ve.m9)(e),(i instanceof Ms||i instanceof ma)&&(e instanceof Ms||e instanceof ma)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function jg(i,e){return i=(0,ve.m9)(i),e=(0,ve.m9)(e),i instanceof Wo&&e instanceof Wo&&i.firestore===e.firestore&&Tl(i._query,e._query)&&i.converter===e.converter}class Cy{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new Xh(this,"async_queue_retry"),this.jc=()=>{const n=Oc();n&&Bt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.bo()};const e=Oc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const n=Oc();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const n=new Dr;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}Hc(){var e=this;return(0,c.Z)(function*(){if(0!==e.Bc.length){try{yield e.Bc[0](),e.Bc.shift(),e.xo.reset()}catch(n){if(!ms(n))throw n;Bt("AsyncQueue","Operation failed with retryable error: "+n)}e.Bc.length>0&&e.xo.Ao(()=>e.Hc())}})()}zc(e){const n=this.$c.then(()=>(this.Kc=!0,e().catch(o=>{throw this.qc=o,this.Kc=!1,er("INTERNAL UNHANDLED ERROR: ",function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+"\n"+d.stack),g}(o)),o}).then(o=>(this.Kc=!1,o))));return this.$c=n,n}enqueueAfterDelay(e,n,o){this.Wc(),this.Qc.indexOf(e)>-1&&(n=0);const u=sf.createAndSchedule(this,e,n,o,d=>this.Jc(d));return this.Uc.push(u),u}Wc(){this.qc&&vn()}verifyOperationInProgress(){}Yc(){var e=this;return(0,c.Z)(function*(){let n;do{n=e.$c,yield n}while(n!==e.$c)})()}Xc(e){for(const n of this.Uc)if(n.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.Uc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const n=this.Uc.indexOf(e);this.Uc.splice(n,1)}}function Of(i){return function(e,n){if("object"!=typeof e||null===e)return!1;const o=e;for(const u of["next","error","complete"])if(u in o&&"function"==typeof o[u])return!0;return!1}(i)}class $g{constructor(){this._progressObserver={},this._taskCompletionResolver=new Dr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,o){this._progressObserver={next:e,error:n,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Pf=-1;class cs extends gl{constructor(e,n,o,u){super(e,n,o,u),this.type="firestore",this._queue=new Cy,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Gg(this),this._firestoreClient.terminate()}}function Js(i){return i._firestoreClient||Gg(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Gg(i){var e;const n=i._freezeSettings(),o=(d=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Nr(i._databaseId,d,i._persistenceKey,(C=n).host,C.ssl,C.experimentalForceLongPolling,C.experimentalAutoDetectLongPolling,C.useFetchStreams));var d,C;i._firestoreClient=new Pg(i._authCredentials,i._appCheckCredentials,i._queue,o)}function by(i,e){Wg(i=Vr(i,cs));const n=Js(i),o=i._freezeSettings(),u=new Wd;return zg(n,u,new Ng(u,o.cacheSizeBytes,e?.forceOwnership))}function Ty(i){Wg(i=Vr(i,cs));const e=Js(i),n=i._freezeSettings(),o=new Wd;return zg(e,o,new _f(o,n.cacheSizeBytes))}function zg(i,e,n){const o=new Dr;return i.asyncQueue.enqueue((0,c.Z)(function*(){try{yield kg(i,n),yield wf(i,e),o.resolve()}catch(u){const d=u;if(!("FirebaseError"===(g=d).name?g.code===pt.FAILED_PRECONDITION||g.code===pt.UNIMPLEMENTED:!(typeof DOMException<"u"&&g instanceof DOMException)||22===g.code||20===g.code||11===g.code))throw d;yo("Error enabling offline persistence. Falling back to persistence disabled: "+d),o.reject(d)}var g})).then(()=>o.promise)}function Qd(i){if(i._initialized&&!i._terminated)throw new Lt(pt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Dr;return i._queue.enqueueAndForgetEvenWhileRestricted((0,c.Z)(function*(){try{yield(n=(0,c.Z)(function*(o){if(!$i.C())return Promise.resolve();const u=o+"main";yield $i.delete(u)}),function(o){return n.apply(this,arguments)})(Vh(i._databaseId,i._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}function ml(i){return function(e){const n=new Dr;return e.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return function wg(i,e){return Bc.apply(this,arguments)}(yield Tf(e),n)})),n.promise}(Js(i=Vr(i,cs)))}function qv(i){return function Af(i){return i.asyncQueue.enqueue((0,c.Z)(function*(){const e=yield Fg(i),n=yield bf(i);return e.setNetworkEnabled(!0),function(o){const u=qt(o);return u._u.delete(0),Pd(u)}(n)}))}(Js(i=Vr(i,cs)))}function Wc(i){return function wy(i){return i.asyncQueue.enqueue((0,c.Z)(function*(){const e=yield Fg(i),n=yield bf(i);return e.setNetworkEnabled(!1),(o=(0,c.Z)(function*(u){const d=qt(u);d._u.add(0),yield al(d),d.gu.set("Offline")}),function(u){return o.apply(this,arguments)})(n);var o}))}(Js(i=Vr(i,cs)))}function Sy(i,e){const n=Js(i=Vr(i,cs)),o=new $g;return function Gv(i,e,n,o){const u=function(d,g){let C;return C="string"==typeof d?(new TextEncoder).encode(d):d,V=function(V,W){if(V instanceof Uint8Array)return Rg(V,W);if(V instanceof ArrayBuffer)return Rg(new Uint8Array(V),W);if(V instanceof ReadableStream)return V.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(C),new _y(V,g);var V}(n,zl(e));i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){!function yy(i,e,n){const o=qt(i);var u;(u=(0,c.Z)(function*(d,g,C){try{const V=yield g.getMetadata();if(yield function(ot,Tt){const Mt=qt(ot),gn=wo(Tt.createTime);return Mt.persistence.runTransaction("hasNewerBundle","readonly",Nn=>Mt.Ns.getBundleMetadata(Nn,Tt.id)).then(Nn=>!!Nn&&Nn.createTime.compareTo(gn)>=0)}(d.localStore,V))return yield g.close(),C._completeWith({taskState:"Success",documentsLoaded:(ot=V).totalDocuments,bytesLoaded:ot.totalBytes,totalDocuments:ot.totalDocuments,totalBytes:ot.totalBytes}),Promise.resolve(new Set);C._updateProgress(dg(V));const W=new dy(V,d.localStore,g.It);let ne=yield g.wc();for(;ne;){const ot=yield W.Ou(ne);ot&&C._updateProgress(ot),ne=yield g.wc()}const Ce=yield W.complete();return yield Iu(d,Ce.Bu,void 0),yield function(ot,Tt){const Mt=qt(ot);return Mt.persistence.runTransaction("Save bundle","readwrite",gn=>Mt.Ns.saveBundleMetadata(gn,Tt))}(d.localStore,V),C._completeWith(Ce.progress),Promise.resolve(Ce.$u)}catch(V){return yo("SyncEngine",`Loading bundle failed with ${V}`),C._failWith(V),Promise.resolve(new Set)}var ot}),function(d,g,C){return u.apply(this,arguments)})(o,e,n).then(u=>{o.sharedClientState.notifyBundleLoaded(u)})}(yield Tf(i),u,o)}))}(n,i._databaseId,e,o),o}function kf(i,e){return function Lg(i,e){return i.asyncQueue.enqueue((0,c.Z)(function*(){return function(n,o){const u=qt(n);return u.persistence.runTransaction("Get named query","readonly",d=>u.Ns.getNamedQuery(d,o))}(yield Cf(i),e)}))}(Js(i=Vr(i,cs)),e).then(n=>n?new Wo(i,null,n.query):null)}function Wg(i){if(i._initialized||i._terminated)throw new Lt(pt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Po{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new Lt(pt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Es{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Es(lt.fromBase64String(e))}catch(n){throw new Lt(pt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Es(lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ca{constructor(e){this._methodName=e}}class yl{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Lt(pt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Lt(pt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Dn(this._lat,e._lat)||Dn(this._long,e._long)}}const ka=/^__.*__$/;class Ff{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return null!==this.fieldMask?new qe(e,this.data,this.fieldMask,n,this.fieldTransforms):new re(e,this.data,n,this.fieldTransforms)}}class vl{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return new qe(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function _l(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vn()}}class Du{constructor(e,n,o,u,d,g){this.settings=e,this.databaseId=n,this.It=o,this.ignoreUndefinedProperties=u,void 0===d&&this.ea(),this.fieldTransforms=d||[],this.fieldMask=g||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new Du(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.sa({path:o,ra:!1});return u.oa(e),u}ua(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.sa({path:o,ra:!1});return u.ea(),u}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return Kc(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(_l(this.na)&&ka.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class rc{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.It=o||zl(e)}fa(e,n,o,u=!1){return new Du({na:e,methodName:n,la:o,path:zr.emptyPath(),ra:!1,ha:u},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Fa(i){const e=i._freezeSettings(),n=zl(i._databaseId);return new rc(i._databaseId,!!e.ignoreUndefinedProperties,n)}function Cu(i,e,n,o,u,d={}){const g=i.fa(d.merge||d.mergeFields?2:0,e,n,u);Bf("Data must be an object, but it was:",g,o);const C=Vf(o,g);let V,W;if(d.merge)V=new De(g.fieldMask),W=g.fieldTransforms;else if(d.mergeFields){const ne=[];for(const Ce of d.mergeFields){const ot=jf(e,Ce,n);if(!g.contains(ot))throw new Lt(pt.INVALID_ARGUMENT,`Field '${ot}' is specified in your field mask but missing from your input data.`);nh(ne,ot)||ne.push(ot)}V=new De(ne),W=g.fieldTransforms.filter(Ce=>V.covers(Ce.field))}else V=null,W=g.fieldTransforms;return new Ff(new Fr(C),V,W)}class su extends Ca{_toFieldTransform(e){if(2!==e.na)throw e.aa(1===e.na?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof su}}function El(i,e,n){return new Du({na:3,la:e.settings.la,methodName:i._methodName,ra:n},e.databaseId,e.It,e.ignoreUndefinedProperties)}class zu extends Ca{_toFieldTransform(e){return new Ia(e.path,new $a)}isEqual(e){return e instanceof zu}}class Kg extends Ca{constructor(e,n){super(e),this.da=n}_toFieldTransform(e){const n=El(this,e,!0),o=this.da.map(d=>Wu(d,n)),u=new ra(o);return new Ia(e.path,u)}isEqual(e){return this===e}}class qg extends Ca{constructor(e,n){super(e),this.da=n}_toFieldTransform(e){const n=El(this,e,!0),o=this.da.map(d=>Wu(d,n)),u=new gu(o);return new Ia(e.path,u)}isEqual(e){return this===e}}class Zg extends Ca{constructor(e,n){super(e),this._a=n}_toFieldTransform(e){const n=new Ou(e.It,rd(e.It,this._a));return new Ia(e.path,n)}isEqual(e){return this===e}}function Xd(i,e,n,o){const u=i.fa(1,e,n);Bf("Data must be an object, but it was:",u,o);const d=[],g=Fr.empty();Ho(o,(V,W)=>{const ne=th(e,V,n);W=(0,ve.m9)(W);const Ce=u.ua(ne);if(W instanceof su)d.push(ne);else{const ot=Wu(W,Ce);null!=ot&&(d.push(ne),g.set(ne,ot))}});const C=new De(d);return new vl(g,C,u.fieldTransforms)}function eh(i,e,n,o,u,d){const g=i.fa(1,e,n),C=[jf(e,o,n)],V=[u];if(d.length%2!=0)throw new Lt(pt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ot=0;ot<d.length;ot+=2)C.push(jf(e,d[ot])),V.push(d[ot+1]);const W=[],ne=Fr.empty();for(let ot=C.length-1;ot>=0;--ot)if(!nh(W,C[ot])){const Tt=C[ot];let Mt=V[ot];Mt=(0,ve.m9)(Mt);const gn=g.ua(Tt);if(Mt instanceof su)W.push(Tt);else{const Nn=Wu(Mt,gn);null!=Nn&&(W.push(Tt),ne.set(Tt,Nn))}}const Ce=new De(W);return new vl(ne,Ce,g.fieldTransforms)}function Lf(i,e,n,o=!1){return Wu(n,i.fa(o?4:3,e))}function Wu(i,e){if(Uf(i=(0,ve.m9)(i)))return Bf("Unsupported field value:",e,i),Vf(i,e);if(i instanceof Ca)return function(n,o){if(!_l(o.na))throw o.aa(`${n._methodName}() can only be used with update() and set()`);if(!o.path)throw o.aa(`${n._methodName}() is not currently supported inside arrays`);const u=n._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.ra&&4!==e.na)throw e.aa("Nested arrays are not supported");return function(n,o){const u=[];let d=0;for(const g of n){let C=Wu(g,o.ca(d));null==C&&(C={nullValue:"NULL_VALUE"}),u.push(C),d++}return{arrayValue:{values:u}}}(i,e)}return function(n,o){if(null===(n=(0,ve.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return rd(o.It,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const u=xr.fromDate(n);return{timestampValue:Ol(o.It,u)}}if(n instanceof xr){const u=new xr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Ol(o.It,u)}}if(n instanceof yl)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Es)return{bytesValue:gh(o.It,n._byteString)};if(n instanceof Ms){const u=o.databaseId,d=n.firestore._databaseId;if(!d.isEqual(u))throw o.aa(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ad(n.firestore._databaseId||o.databaseId,n._key.path)}}throw o.aa(`Unsupported field value: ${pl(n)}`)}(i,e)}function Vf(i,e){const n={};return $(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ho(i,(o,u)=>{const d=Wu(u,e.ia(o));null!=d&&(n[o]=d)}),{mapValue:{fields:n}}}function Uf(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof xr||i instanceof yl||i instanceof Es||i instanceof Ms||i instanceof Ca)}function Bf(i,e,n){if(!Uf(n)||"object"!=typeof(o=n)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=pl(n);throw e.aa("an object"===o?i+" a custom object":i+" "+o)}var o}function jf(i,e,n){if((e=(0,ve.m9)(e))instanceof Po)return e._internalPath;if("string"==typeof e)return th(i,e);throw Kc("Field path arguments must be of type string or ",i,!1,void 0,n)}const Yg=new RegExp("[~\\*/\\[\\]]");function th(i,e,n){if(e.search(Yg)>=0)throw Kc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Po(...e.split("."))._internalPath}catch{throw Kc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Kc(i,e,n,o,u){const d=o&&!o.isEmpty(),g=void 0!==u;let C=`Function ${e}() called with invalid data`;n&&(C+=" (via `toFirestore()`)"),C+=". ";let V="";return(d||g)&&(V+=" (found",d&&(V+=` in field ${o}`),g&&(V+=` in document ${u}`),V+=")"),new Lt(pt.INVALID_ARGUMENT,C+i+V)}function nh(i,e){return i.some(n=>n.isEqual(e))}class wl{constructor(e,n,o,u,d){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=u,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new Ms(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ay(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Il("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Ay extends wl{data(){return super.data()}}function Il(i,e){return"string"==typeof e?th(i,e):e instanceof Po?e._internalPath:e._delegate._internalPath}class ou{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bu extends wl{constructor(e,n,o,u,d,g){super(e,n,o,u,g),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(Il("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class qc extends bu{data(e={}){return super.data(e)}}class au{constructor(e,n,o,u){this._firestore=e,this._userDataWriter=n,this._snapshot=u,this.metadata=new ou(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new qc(this._firestore,this._userDataWriter,o.key,o,new ou(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Lt(pt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>({type:"added",doc:new qc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new ou(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:d++}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>u||3!==g.type).map(g=>{const C=new qc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new ou(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let V=-1,W=-1;return 0!==g.type&&(V=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),1!==g.type&&(d=d.add(g.doc),W=d.indexOf(g.doc.key)),{type:rh(g.type),doc:C,oldIndex:V,newIndex:W}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function rh(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vn()}}function Qg(i,e){return i instanceof bu&&e instanceof bu?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof au&&e instanceof au&&i._firestore===e._firestore&&jg(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function $f(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new Lt(pt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dl{}function Jg(i,...e){for(const n of e)i=n._apply(i);return i}class Xg extends Dl{constructor(e,n,o){super(),this.wa=e,this.ma=n,this.ga=o,this.type="where"}_apply(e){const n=Fa(e.firestore),o=function(u,d,g,C,V,W,ne){let Ce;if(V.isKeyField()){if("array-contains"===W||"array-contains-any"===W)throw new Lt(pt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${W}' queries on documentId().`);if("in"===W||"not-in"===W){Zf(ne,W);const Tt=[];for(const Mt of ne)Tt.push(qf(C,u,Mt));Ce={arrayValue:{values:Tt}}}else Ce=qf(C,u,ne)}else"in"!==W&&"not-in"!==W&&"array-contains-any"!==W||Zf(ne,W),Ce=Lf(g,"where",ne,"in"===W||"not-in"===W);const ot=Cn.create(V,W,Ce);return function(Tt,Mt){if(Mt.dt()){const Nn=bl(Tt);if(null!==Nn&&!Nn.isEqual(Mt.field))throw new Lt(pt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Nn.toString()}' and '${Mt.field.toString()}'`);const ai=ja(Tt);null!==ai&&Yf(0,Mt.field,ai)}const gn=function(Nn,ai){for(const Mi of Nn.filters)if(ai.indexOf(Mi.op)>=0)return Mi.op;return null}(Tt,function(Nn){switch(Nn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Mt.op));if(null!==gn)throw new Lt(pt.INVALID_ARGUMENT,gn===Mt.op?`Invalid query. You cannot use more than one '${Mt.op.toString()}' filter.`:`Invalid query. You cannot use '${Mt.op.toString()}' filters with '${gn.toString()}' filters.`)}(u,ot),ot}(e._query,0,n,e.firestore._databaseId,this.wa,this.ma,this.ga);return new Wo(e.firestore,e.converter,function(u,d){const g=u.filters.concat([d]);return new Ja(u.path,u.collectionGroup,u.explicitOrderBy.slice(),g,u.limit,u.limitType,u.startAt,u.endAt)}(e._query,o))}}function Hf(i,e,n){const o=e,u=Il("where",i);return new Xg(u,o,n)}class em extends Dl{constructor(e,n){super(),this.wa=e,this.ya=n,this.type="orderBy"}_apply(e){const n=function(o,u,d){if(null!==o.startAt)throw new Lt(pt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new Lt(pt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const g=new ha(u,d);return function(C,V){if(null===ja(C)){const W=bl(C);null!==W&&Yf(0,W,V.field)}}(o,g),g}(e._query,this.wa,this.ya);return new Wo(e.firestore,e.converter,function(o,u){const d=o.explicitOrderBy.concat([u]);return new Ja(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function My(i,e="asc"){const n=e,o=Il("orderBy",i);return new em(o,n)}class Gf extends Dl{constructor(e,n,o){super(),this.type=e,this.pa=n,this.Ia=o}_apply(e){return new Wo(e.firestore,e.converter,Yu(e._query,this.pa,this.Ia))}}function tm(i){return nc("limit",i),new Gf("limit",i,"F")}function nm(i){return nc("limitToLast",i),new Gf("limitToLast",i,"L")}class zf extends Dl{constructor(e,n,o){super(),this.type=e,this.Ta=n,this.Ea=o}_apply(e){const n=Kf(e,this.type,this.Ta,this.Ea);return new Wo(e.firestore,e.converter,(u=n,new Ja((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)));var o,u}}function xy(...i){return new zf("startAt",i,!0)}function Ny(...i){return new zf("startAfter",i,!1)}class rm extends Dl{constructor(e,n,o){super(),this.type=e,this.Ta=n,this.Ea=o}_apply(e){const n=Kf(e,this.type,this.Ta,this.Ea);return new Wo(e.firestore,e.converter,(u=n,new Ja((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,u)));var o,u}}function im(...i){return new rm("endBefore",i,!1)}function Wf(...i){return new rm("endAt",i,!0)}function Kf(i,e,n,o){if(n[0]=(0,ve.m9)(n[0]),n[0]instanceof wl)return function(u,d,g,C,V){if(!C)throw new Lt(pt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${g}().`);const W=[];for(const ne of fu(u))if(ne.field.isKeyField())W.push(Ht(d,C.key));else{const Ce=C.data.field(ne.field);if(Pn(Ce))throw new Lt(pt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ne.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ce){const ot=ne.field.canonicalString();throw new Lt(pt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${ot}' (used as the orderBy) does not exist.`)}W.push(Ce)}return new Qs(W,V)}(i._query,i.firestore._databaseId,e,n[0]._document,o);{const u=Fa(i.firestore);return function(d,g,C,V,W,ne){const Ce=d.explicitOrderBy;if(W.length>Ce.length)throw new Lt(pt.INVALID_ARGUMENT,`Too many arguments provided to ${V}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const ot=[];for(let Tt=0;Tt<W.length;Tt++){const Mt=W[Tt];if(Ce[Tt].field.isKeyField()){if("string"!=typeof Mt)throw new Lt(pt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${V}(), but got a ${typeof Mt}`);if(!uc(d)&&-1!==Mt.indexOf("/"))throw new Lt(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${V}() must be a plain document ID, but '${Mt}' contains a slash.`);const gn=d.path.child(or.fromString(Mt));if(!zt.isDocumentKey(gn))throw new Lt(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${V}() must result in a valid document path, but '${gn}' is not because it contains an odd number of segments.`);const Nn=new zt(gn);ot.push(Ht(g,Nn))}else{const gn=Lf(C,V,Mt);ot.push(gn)}}return new Qs(ot,ne)}(i._query,i.firestore._databaseId,u,e,n,o)}}function qf(i,e,n){if("string"==typeof(n=(0,ve.m9)(n))){if(""===n)throw new Lt(pt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uc(e)&&-1!==n.indexOf("/"))throw new Lt(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const o=e.path.child(or.fromString(n));if(!zt.isDocumentKey(o))throw new Lt(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Ht(i,new zt(o))}if(n instanceof Ms)return Ht(i,n._key);throw new Lt(pt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pl(n)}.`)}function Zf(i,e){if(!Array.isArray(i)||0===i.length)throw new Lt(pt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new Lt(pt.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Yf(i,e,n){if(!n.isEqual(e))throw new Lt(pt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}const sm={maxAttempts:5};class ih{convertValue(e,n="none"){switch(y(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _n(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Fn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw vn()}}convertObject(e,n){const o={};return Ho(e.fields,(u,d)=>{o[u]=this.convertValue(d,n)}),o}convertGeoPoint(e){return new yl(_n(e.latitude),_n(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=Kn(e);return null==o?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(Cr(e));default:return null}}convertTimestamp(e){const n=un(e);return new xr(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=or.fromString(e);Gn(mp(o));const u=new ni(o.get(1),o.get(3)),d=new zt(o.popFirst(5));return u.isEqual(n)||er(`Document ${d} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),d}}function Zc(i,e,n){let o;return o=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,o}class om extends ih{constructor(e){super(),this.firestore=e}convertBytes(e){return new Es(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ms(this.firestore,null,n)}}class Ry{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Fa(e)}set(e,n,o){this._verifyNotCommitted();const u=Ku(e,this._firestore),d=Zc(u.converter,n,o),g=Cu(this._dataReader,"WriteBatch.set",u._key,d,null!==u.converter,o);return this._mutations.push(g.toMutation(u._key,qi.none())),this}update(e,n,o,...u){this._verifyNotCommitted();const d=Ku(e,this._firestore);let g;return g="string"==typeof(n=(0,ve.m9)(n))||n instanceof Po?eh(this._dataReader,"WriteBatch.update",d._key,n,o,u):Xd(this._dataReader,"WriteBatch.update",d._key,n),this._mutations.push(g.toMutation(d._key,qi.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Ku(e,this._firestore);return this._mutations=this._mutations.concat(new ar(n._key,qi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Lt(pt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ku(i,e){if((i=(0,ve.m9)(i)).firestore!==e)throw new Lt(pt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}function Oy(i){i=Vr(i,Ms);const e=Vr(i.firestore,cs);return Gc(Js(e),i._key).then(n=>sh(e,i,n))}class qu extends ih{constructor(e){super(),this.firestore=e}convertBytes(e){return new Es(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ms(this.firestore,null,n)}}function Py(i){i=Vr(i,Ms);const e=Vr(i.firestore,cs),n=Js(e),o=new qu(e);return function Iy(i,e){const n=new Dr;return i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return(o=(0,c.Z)(function*(u,d,g){try{const C=yield function(V,W){const ne=qt(V);return ne.persistence.runTransaction("read document","readonly",Ce=>ne.localDocuments.getDocument(Ce,W))}(u,d);C.isFoundDocument()?g.resolve(C):C.isNoDocument()?g.resolve(null):g.reject(new Lt(pt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(C){const V=Gu(C,`Failed to get document '${d} from cache`);g.reject(V)}}),function(u,d,g){return o.apply(this,arguments)})(yield Cf(i),e,n);var o})),n.promise}(n,i._key).then(u=>new bu(e,o,i._key,u,new ou(null!==u&&u.hasLocalMutations,!0),i.converter))}function lo(i){i=Vr(i,Ms);const e=Vr(i.firestore,cs);return Gc(Js(e),i._key,{source:"server"}).then(n=>sh(e,i,n))}function am(i){i=Vr(i,Wo);const e=Vr(i.firestore,cs),n=Js(e),o=new qu(e);return $f(i._query),zc(n,i._query).then(u=>new au(e,o,i,u))}function ky(i){i=Vr(i,Wo);const e=Vr(i.firestore,cs),n=Js(e),o=new qu(e);return function Mf(i,e){const n=new Dr;return i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return(o=(0,c.Z)(function*(u,d,g){try{const C=yield Rd(u,d,!0),V=new hg(d,C.Hi),W=V.ju(C.documents),ne=V.applyChanges(W,!1);g.resolve(ne.snapshot)}catch(C){const V=Gu(C,`Failed to execute query '${d} against cache`);g.reject(V)}}),function(u,d,g){return o.apply(this,arguments)})(yield Cf(i),e,n);var o})),n.promise}(n,i._query).then(u=>new au(e,o,i,u))}function Fy(i){i=Vr(i,Wo);const e=Vr(i.firestore,cs),n=Js(e),o=new qu(e);return zc(n,i._query,{source:"server"}).then(u=>new au(e,o,i,u))}function um(i,e,n){i=Vr(i,Ms);const o=Vr(i.firestore,cs),u=Zc(i.converter,e,n);return sc(o,[Cu(Fa(o),"setDoc",i._key,u,null!==i.converter,n).toMutation(i._key,qi.none())])}function Ly(i,e,n,...o){i=Vr(i,Ms);const u=Vr(i.firestore,cs),d=Fa(u);let g;return g="string"==typeof(e=(0,ve.m9)(e))||e instanceof Po?eh(d,"updateDoc",i._key,e,n,o):Xd(d,"updateDoc",i._key,e),sc(u,[g.toMutation(i._key,qi.exists(!0))])}function lm(i){return sc(Vr(i.firestore,cs),[new ar(i._key,qi.none())])}function cm(i,e){const n=Vr(i.firestore,cs),o=Bg(i),u=Zc(i.converter,e);return sc(n,[Cu(Fa(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,qi.exists(!1))]).then(()=>o)}function ic(i,...e){var n,o,u;i=(0,ve.m9)(i);let d={includeMetadataChanges:!1},g=0;"object"!=typeof e[g]||Of(e[g])||(d=e[g],g++);const C={includeMetadataChanges:d.includeMetadataChanges};if(Of(e[g])){const Ce=e[g];e[g]=null===(n=Ce.next)||void 0===n?void 0:n.bind(Ce),e[g+1]=null===(o=Ce.error)||void 0===o?void 0:o.bind(Ce),e[g+2]=null===(u=Ce.complete)||void 0===u?void 0:u.bind(Ce)}let V,W,ne;if(i instanceof Ms)W=Vr(i.firestore,cs),ne=hu(i._key.path),V={next:Ce=>{e[g]&&e[g](sh(W,i,Ce))},error:e[g+1],complete:e[g+2]};else{const Ce=Vr(i,Wo);W=Vr(Ce.firestore,cs),ne=Ce._query;const ot=new qu(W);V={next:Tt=>{e[g]&&e[g](new au(W,ot,Ce,Tt))},error:e[g+1],complete:e[g+2]},$f(i._query)}return function(Ce,ot,Tt,Mt){const gn=new Kd(Mt),Nn=new lg(ot,gn,Tt);return Ce.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return $d(yield tc(Ce),Nn)})),()=>{gn.Rc(),Ce.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return ql(yield tc(Ce),Nn)}))}}(Js(W),ne,C,V)}function Vy(i,e){return function Hv(i,e){const n=new Kd(e);return i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return o=yield tc(i),u=n,qt(o).Ru.add(u),void u.next();var o,u})),()=>{n.Rc(),i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return o=yield tc(i),u=n,void qt(o).Ru.delete(u);var o,u}))}}(Js(i=Vr(i,cs)),Of(e)?e:{next:e})}function sc(i,e){return function(n,o){const u=new Dr;return n.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return function jv(i,e,n){return vg.apply(this,arguments)}(yield Tf(n),o,u)})),u.promise}(Js(i),e)}function sh(i,e,n){const o=n.docs.get(e._key),u=new qu(i);return new bu(i,u,e._key,o,new ou(n.hasPendingWrites,n.fromCache),e.converter)}class Uy extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Fa(e)}get(e){const n=Ku(e,this._firestore),o=new om(this._firestore);return this._transaction.lookup([n._key]).then(u=>{if(!u||1!==u.length)return vn();const d=u[0];if(d.isFoundDocument())return new wl(this._firestore,o,d.key,d,n.converter);if(d.isNoDocument())return new wl(this._firestore,o,n._key,null,n.converter);throw vn()})}set(e,n,o){const u=Ku(e,this._firestore),d=Zc(u.converter,n,o),g=Cu(this._dataReader,"Transaction.set",u._key,d,null!==u.converter,o);return this._transaction.set(u._key,g),this}update(e,n,o,...u){const d=Ku(e,this._firestore);let g;return g="string"==typeof(n=(0,ve.m9)(n))||n instanceof Po?eh(this._dataReader,"Transaction.update",d._key,n,o,u):Xd(this._dataReader,"Transaction.update",d._key,n),this._transaction.update(d._key,g),this}delete(e){const n=Ku(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Ku(e,this._firestore),o=new qu(this._firestore);return super.get(e).then(u=>new bu(this._firestore,o,n._key,u._document,new ou(!1,!1),n.converter))}}function dm(i,e,n){i=Vr(i,cs);const o=Object.assign(Object.assign({},sm),n);return function(u){if(u.maxAttempts<1)throw new Lt(pt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function xf(i,e,n){const o=new Dr;return i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){const u=yield(d=i,ec(d).then(g=>g.datastore));var d;new Ey(i.asyncQueue,u,n,e,o).run()})),o.promise}(Js(i),u=>e(new Uy(i,u)),o)}function Yv(){return new su("deleteField")}function Qf(){return new zu("serverTimestamp")}function Jf(...i){return new Kg("arrayUnion",i)}function uu(...i){return new qg("arrayRemove",i)}function By(i){return new Zg("increment",i)}!function(i,e=!0){Ts=F.SDK_VERSION,(0,F._registerComponent)(new H.wA("firestore",(n,{instanceIdentifier:o,options:u})=>{const d=n.getProvider("app").getImmediate(),g=new cs(new Au(n.getProvider("auth-internal")),new Sa(n.getProvider("app-check-internal")),function(C,V){if(!Object.prototype.hasOwnProperty.apply(C.options,["projectId"]))throw new Lt(pt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ni(C.options.projectId,V)}(d,o),d);return u=Object.assign({useFetchStreams:e},u),g._setSettings(u),g},"PUBLIC").setMultipleInstances(!0)),(0,F.registerVersion)(Vs,"3.5.0",i),(0,F.registerVersion)(Vs,"3.5.0","esm2017")}()},2090:(Jt,tt,U)=>{U.d(tt,{$s:()=>ii,BH:()=>ft,G6:()=>Re,L:()=>he,LL:()=>wt,Sg:()=>ct,UG:()=>Ye,US:()=>Pe,ZB:()=>fe,ZR:()=>$e,b$:()=>Ct,eu:()=>st,hl:()=>ze,jU:()=>Ze,m9:()=>Hn,ne:()=>dr,pd:()=>On,r3:()=>Se,ru:()=>Dt,tV:()=>Ge,uI:()=>jt,vZ:()=>Yn,w1:()=>Ae,xO:()=>gr,xb:()=>$t,z$:()=>Je,zI:()=>Te,zd:()=>Xt});const we=function(Ne){const ce=[];let pe=0;for(let Ie=0;Ie<Ne.length;Ie++){let ee=Ne.charCodeAt(Ie);ee<128?ce[pe++]=ee:ee<2048?(ce[pe++]=ee>>6|192,ce[pe++]=63&ee|128):55296==(64512&ee)&&Ie+1<Ne.length&&56320==(64512&Ne.charCodeAt(Ie+1))?(ee=65536+((1023&ee)<<10)+(1023&Ne.charCodeAt(++Ie)),ce[pe++]=ee>>18|240,ce[pe++]=ee>>12&63|128,ce[pe++]=ee>>6&63|128,ce[pe++]=63&ee|128):(ce[pe++]=ee>>12|224,ce[pe++]=ee>>6&63|128,ce[pe++]=63&ee|128)}return ce},Pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ne,ce){if(!Array.isArray(Ne))throw Error("encodeByteArray takes an array as a parameter");this.init_();const pe=ce?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ie=[];for(let ee=0;ee<Ne.length;ee+=3){const j=Ne[ee],X=ee+1<Ne.length,Ve=X?Ne[ee+1]:0,It=ee+2<Ne.length,nn=It?Ne[ee+2]:0;let me=(15&Ve)<<2|nn>>6,Ee=63&nn;It||(Ee=64,X||(me=64)),Ie.push(pe[j>>2],pe[(3&j)<<4|Ve>>4],pe[me],pe[Ee])}return Ie.join("")},encodeString(Ne,ce){return this.HAS_NATIVE_SUPPORT&&!ce?btoa(Ne):this.encodeByteArray(we(Ne),ce)},decodeString(Ne,ce){return this.HAS_NATIVE_SUPPORT&&!ce?atob(Ne):function(Ne){const ce=[];let pe=0,Ie=0;for(;pe<Ne.length;){const ee=Ne[pe++];if(ee<128)ce[Ie++]=String.fromCharCode(ee);else if(ee>191&&ee<224){const j=Ne[pe++];ce[Ie++]=String.fromCharCode((31&ee)<<6|63&j)}else if(ee>239&&ee<365){const It=((7&ee)<<18|(63&Ne[pe++])<<12|(63&Ne[pe++])<<6|63&Ne[pe++])-65536;ce[Ie++]=String.fromCharCode(55296+(It>>10)),ce[Ie++]=String.fromCharCode(56320+(1023&It))}else{const j=Ne[pe++],X=Ne[pe++];ce[Ie++]=String.fromCharCode((15&ee)<<12|(63&j)<<6|63&X)}}return ce.join("")}(this.decodeStringToByteArray(Ne,ce))},decodeStringToByteArray(Ne,ce){this.init_();const pe=ce?this.charToByteMapWebSafe_:this.charToByteMap_,Ie=[];for(let ee=0;ee<Ne.length;){const j=pe[Ne.charAt(ee++)],Ve=ee<Ne.length?pe[Ne.charAt(ee)]:0;++ee;const nn=ee<Ne.length?pe[Ne.charAt(ee)]:64;++ee;const Ue=ee<Ne.length?pe[Ne.charAt(ee)]:64;if(++ee,null==j||null==Ve||null==nn||null==Ue)throw Error();Ie.push(j<<2|Ve>>4),64!==nn&&(Ie.push(Ve<<4&240|nn>>2),64!==Ue&&Ie.push(nn<<6&192|Ue))}return Ie},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ne=0;Ne<this.ENCODED_VALS.length;Ne++)this.byteToCharMap_[Ne]=this.ENCODED_VALS.charAt(Ne),this.charToByteMap_[this.byteToCharMap_[Ne]]=Ne,this.byteToCharMapWebSafe_[Ne]=this.ENCODED_VALS_WEBSAFE.charAt(Ne),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ne]]=Ne,Ne>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ne)]=Ne,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ne)]=Ne)}}},he=function(Ne){return function(Ne){const ce=we(Ne);return Pe.encodeByteArray(ce,!0)}(Ne).replace(/\./g,"")},Ge=function(Ne){try{return Pe.decodeString(Ne,!0)}catch(ce){console.error("base64Decode failed: ",ce)}return null};function fe(Ne,ce){if(!(ce instanceof Object))return ce;switch(ce.constructor){case Date:return new Date(ce.getTime());case Object:void 0===Ne&&(Ne={});break;case Array:Ne=[];break;default:return ce}for(const pe in ce)!ce.hasOwnProperty(pe)||!xe(pe)||(Ne[pe]=fe(Ne[pe],ce[pe]));return Ne}function xe(Ne){return"__proto__"!==Ne}class ft{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ce,pe)=>{this.resolve=ce,this.reject=pe})}wrapCallback(ce){return(pe,Ie)=>{pe?this.reject(pe):this.resolve(Ie),"function"==typeof ce&&(this.promise.catch(()=>{}),1===ce.length?ce(pe):ce(pe,Ie))}}}function ct(Ne,ce){if(Ne.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ie=ce||"demo-project",ee=Ne.iat||0,j=Ne.sub||Ne.user_id;if(!j)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const X=Object.assign({iss:`https://securetoken.google.com/${Ie}`,aud:Ie,iat:ee,exp:ee+3600,auth_time:ee,sub:j,user_id:j,firebase:{sign_in_provider:"custom",identities:{}}},Ne);return[he(JSON.stringify({alg:"none",type:"JWT"})),he(JSON.stringify(X)),""].join(".")}function Je(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function jt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function Ye(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ze(){return"object"==typeof self&&self.self===self}function Dt(){const Ne="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ne&&void 0!==Ne.id}function Ct(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ae(){const Ne=Je();return Ne.indexOf("MSIE ")>=0||Ne.indexOf("Trident/")>=0}function Re(){return!Ye()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ze(){return"object"==typeof indexedDB}function st(){return new Promise((Ne,ce)=>{try{let pe=!0;const Ie="validate-browser-context-for-indexeddb-analytics-module",ee=self.indexedDB.open(Ie);ee.onsuccess=()=>{ee.result.close(),pe||self.indexedDB.deleteDatabase(Ie),Ne(!0)},ee.onupgradeneeded=()=>{pe=!1},ee.onerror=()=>{var j;ce((null===(j=ee.error)||void 0===j?void 0:j.message)||"")}}catch(pe){ce(pe)}})}function Te(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class $e extends Error{constructor(ce,pe,Ie){super(pe),this.code=ce,this.customData=Ie,this.name="FirebaseError",Object.setPrototypeOf(this,$e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wt.prototype.create)}}class wt{constructor(ce,pe,Ie){this.service=ce,this.serviceName=pe,this.errors=Ie}create(ce,...pe){const Ie=pe[0]||{},ee=`${this.service}/${ce}`,j=this.errors[ce],X=j?function xt(Ne,ce){return Ne.replace(Ot,(pe,Ie)=>{const ee=ce[Ie];return null!=ee?String(ee):`<${Ie}?>`})}(j,Ie):"Error";return new $e(ee,`${this.serviceName}: ${X} (${ee}).`,Ie)}}const Ot=/\{\$([^}]+)}/g;function Se(Ne,ce){return Object.prototype.hasOwnProperty.call(Ne,ce)}function $t(Ne){for(const ce in Ne)if(Object.prototype.hasOwnProperty.call(Ne,ce))return!1;return!0}function Yn(Ne,ce){if(Ne===ce)return!0;const pe=Object.keys(Ne),Ie=Object.keys(ce);for(const ee of pe){if(!Ie.includes(ee))return!1;const j=Ne[ee],X=ce[ee];if($n(j)&&$n(X)){if(!Yn(j,X))return!1}else if(j!==X)return!1}for(const ee of Ie)if(!pe.includes(ee))return!1;return!0}function $n(Ne){return null!==Ne&&"object"==typeof Ne}function gr(Ne){const ce=[];for(const[pe,Ie]of Object.entries(Ne))Array.isArray(Ie)?Ie.forEach(ee=>{ce.push(encodeURIComponent(pe)+"="+encodeURIComponent(ee))}):ce.push(encodeURIComponent(pe)+"="+encodeURIComponent(Ie));return ce.length?"&"+ce.join("&"):""}function Xt(Ne){const ce={};return Ne.replace(/^\?/,"").split("&").forEach(Ie=>{if(Ie){const[ee,j]=Ie.split("=");ce[decodeURIComponent(ee)]=decodeURIComponent(j)}}),ce}function On(Ne){const ce=Ne.indexOf("?");if(!ce)return"";const pe=Ne.indexOf("#",ce);return Ne.substring(ce,pe>0?pe:void 0)}function dr(Ne,ce){const pe=new Ft(Ne,ce);return pe.subscribe.bind(pe)}class Ft{constructor(ce,pe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=pe,this.task.then(()=>{ce(this)}).catch(Ie=>{this.error(Ie)})}next(ce){this.forEachObserver(pe=>{pe.next(ce)})}error(ce){this.forEachObserver(pe=>{pe.error(ce)}),this.close(ce)}complete(){this.forEachObserver(ce=>{ce.complete()}),this.close()}subscribe(ce,pe,Ie){let ee;if(void 0===ce&&void 0===pe&&void 0===Ie)throw new Error("Missing Observer.");ee=function wn(Ne,ce){if("object"!=typeof Ne||null===Ne)return!1;for(const pe of ce)if(pe in Ne&&"function"==typeof Ne[pe])return!0;return!1}(ce,["next","error","complete"])?ce:{next:ce,error:pe,complete:Ie},void 0===ee.next&&(ee.next=qn),void 0===ee.error&&(ee.error=qn),void 0===ee.complete&&(ee.complete=qn);const j=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ee.error(this.finalError):ee.complete()}catch{}}),this.observers.push(ee),j}unsubscribeOne(ce){void 0===this.observers||void 0===this.observers[ce]||(delete this.observers[ce],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ce){if(!this.finalized)for(let pe=0;pe<this.observers.length;pe++)this.sendOne(pe,ce)}sendOne(ce,pe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ce])try{pe(this.observers[ce])}catch(Ie){typeof console<"u"&&console.error&&console.error(Ie)}})}close(ce){this.finalized||(this.finalized=!0,void 0!==ce&&(this.finalError=ce),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qn(){}function ii(Ne,ce=1e3,pe=2){const Ie=ce*Math.pow(pe,Ne),ee=Math.round(.5*Ie*(Math.random()-.5)*2);return Math.min(144e5,Ie+ee)}function Hn(Ne){return Ne&&Ne._delegate?Ne._delegate:Ne}},5269:(Jt,tt,U)=>{U.r(tt),U.d(tt,{ComponentsModule:()=>Pe});var c=U(6895),F=U(9051),H=U(4650);const we=[{path:"chat",loadChildren:()=>U.e(592).then(U.bind(U,3139)).then(Me=>Me.ChatModule)}];let ve=(()=>{class Me{}return Me.\u0275fac=function(Ge){return new(Ge||Me)},Me.\u0275mod=H.oAB({type:Me}),Me.\u0275inj=H.cJS({imports:[F.Bz.forChild(we),F.Bz]}),Me})(),Pe=(()=>{class Me{}return Me.\u0275fac=function(Ge){return new(Ge||Me)},Me.\u0275mod=H.oAB({type:Me}),Me.\u0275inj=H.cJS({imports:[c.ez,ve]}),Me})()},6400:(Jt,tt,U)=>{U.d(tt,{e:()=>ct});var c=U(5861),F=U(7143),Me=(U(2090),U(9681),U(1877),U(4859),U(590)),he=U(2731),Ge=U(4650),se=U(9051),fe=U(1894),xe=U(1205),ft=U(7185);let ct=(()=>{class Je{constructor(Ye,Ze,Dt,Ct){this.router=Ye,this.afs=Ze,this.afAuth=Dt,this.toastr=Ct,this.miUser={},this.afAuth.authState.subscribe(oe=>{console.log("estado:",oe),oe&&(this.miUser.name=oe?.displayName,this.miUser.id=oe?.uid,this.miUser.email=oe?.email)})}estadoLog(){}guardarColeccion(Ye,Ze){var Dt=this;return(0,c.Z)(function*(){try{const Ct=yield(0,he.ET)((0,he.hJ)(Dt.afs.firestore,"Usuarios"),{correo:Ye,pass:Ze,fecha:new Date});console.log("Documento escrito en colecci\xf3n: ",Ct.id)}catch(Ct){console.error("Error al agregar document: ",Ct)}})()}loguearGoogle(){this.afAuth.signInWithPopup(new F.Q).then(()=>{console.log("Se logueo bien con google"),this.router.navigateByUrl("home")}).catch(Ye=>{console.log(Ye)})}loguear(Ye,Ze){var Dt=this;return(0,c.Z)(function*(){return yield Dt.afAuth.signInWithEmailAndPassword(Ye,Ze).then(oe=>{Dt.toastr.success("El usuario se logue\xf3 satistactoriamente","Exito",{timeOut:1500,progressAnimation:"increasing",positionClass:"toast-top-center"}),console.log(oe)}).catch(oe=>{console.log(oe),Dt.toastr.error(Dt.firebaseError(oe.code),"Error",{timeOut:1500,progressAnimation:"decreasing",positionClass:"toast-bottom-center"})})})()}getIdToken(){var Ye=this;return(0,c.Z)(function*(){return yield Ye.afAuth.idTokenResult})()}registrar(Ye,Ze){var Dt=this;return(0,c.Z)(function*(){try{return yield Dt.afAuth.createUserWithEmailAndPassword(Ye,Ze).then(function(){var oe=(0,c.Z)(function*(Ae){console.log("user: "+Ae),yield Dt.guardarColeccion(Ye,Ze)});return function(Ae){return oe.apply(this,arguments)}}()).catch(oe=>{console.log(oe),Dt.toastr.error(Dt.firebaseError(oe.code),"Error",{timeOut:2e3,progressAnimation:"decreasing",positionClass:"toast-bottom-center"})})}catch{return"error"}return""})()}firebaseError(Ye){switch(Ye){case"auth/email-already-in-use":return"El usuario ya se encuentra registrado";case"auth/weak-password":return"La contrase\xf1a debe ser m\xednimo de 6 caracteres";case"auth/invalid-email":return"El correo es inv\xe1lido";case"auth/wrong-password":return"La contrase\xf1a es incorrecta";case"auth/user-not-found":return"El usuario no se encuentra registado";default:return"Error desconocido"}}desloguear(){var Ye=this;return(0,c.Z)(function*(){try{Ye.miUser={},yield Ye.afAuth.signOut()}catch(Ze){console.log(Ze)}})()}getUserLog(){return this.afAuth.authState.pipe((0,Me.P)()).toPromise()}}return Je.\u0275fac=function(Ye){return new(Ye||Je)(Ge.LFG(se.F0),Ge.LFG(fe.ST),Ge.LFG(xe.zQ),Ge.LFG(ft._W))},Je.\u0275prov=Ge.Yz7({token:Je,factory:Je.\u0275fac,providedIn:"root"}),Je})()},3991:(Jt,tt,U)=>{var c=U(1481),F=U(4650),H=U(9051);const we=[{path:"pages",loadChildren:()=>Promise.all([U.e(592),U.e(36)]).then(U.bind(U,5036)).then($=>$.PagesModule)},{path:"components",loadChildren:()=>Promise.resolve().then(U.bind(U,5269)).then($=>$.ComponentsModule)},{path:"**",redirectTo:"pages/home",pathMatch:"full"}];let ve=(()=>{class ${}return $.\u0275fac=function(E){return new(E||$)},$.\u0275mod=F.oAB({type:$}),$.\u0275inj=F.cJS({imports:[H.Bz.forRoot(we),H.Bz]}),$})();var Pe=U(5861),Me=U(6400),he=U(6895);function Ge($,m){if(1&$&&(F.TgZ(0,"h5"),F._uU(1),F.qZA()),2&$){const E=F.oxw().ngIf;F.xp6(1),F.Oqu(E.displayName)}}function se($,m){if(1&$&&(F.TgZ(0,"h5"),F._uU(1),F.qZA()),2&$){const E=F.oxw().ngIf;F.xp6(1),F.Oqu(E.email)}}function fe($,m){if(1&$&&(F.TgZ(0,"a",7),F.YNc(1,Ge,2,1,"h5",8),F.YNc(2,se,2,1,"ng-template",null,9,F.W1O),F.qZA()),2&$){const E=m.ngIf,R=F.MAs(3);F.xp6(1),F.Q6J("ngIf",E.displayName)("ngIfElse",R)}}let xe=(()=>{class ${constructor(E,R){this.auth=E,this.router=R,this.item="",this.user$=this.auth.afAuth.user}ngOnInit(){var E=this;return(0,Pe.Z)(function*(){E.user=yield E.auth.getUserLog()})()}desloguear(){this.auth.desloguear(),this.router.navigateByUrl("home")}}return $.\u0275fac=function(E){return new(E||$)(F.Y36(Me.e),F.Y36(H.F0))},$.\u0275cmp=F.Xpm({type:$,selectors:[["app-navbar"]],inputs:{item:"item"},decls:8,vars:3,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],["class","navbar-brand",4,"ngIf"],["type","button","data-toggle","collapse","data-target","#navbarText","aria-controls","navbarText","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarText",1,"collapse","navbar-collapse"],[1,"navbar-text","ml-lg-5"],[1,"nav-link","active"],[1,"navbar-brand"],[4,"ngIf","ngIfElse"],["notDisplay",""]],template:function(E,R){1&E&&(F.TgZ(0,"nav",0),F.YNc(1,fe,4,2,"a",1),F.ALo(2,"async"),F.TgZ(3,"button",2),F._UZ(4,"span",3),F.qZA(),F.TgZ(5,"div",4)(6,"span",5),F._UZ(7,"a",6),F.qZA()()()),2&E&&(F.xp6(1),F.Q6J("ngIf",F.lcZ(2,1,R.user$)))},dependencies:[he.O5,he.Ov],styles:[".titles[_ngcontent-%COMP%]{color:#7e4e1e;font-family:Poppins,sans-serif;text-shadow:1px 1px 1px #251709;display:flex;text-align:center;align-items:center;font-weight:200px;font-size:40px;left:500px;top:0;position:fixed}"]}),$})(),ft=(()=>{class ${constructor(){this.title="saladejuegos"}}return $.\u0275fac=function(E){return new(E||$)},$.\u0275cmp=F.Xpm({type:$,selectors:[["app-root"]],decls:2,vars:0,template:function(E,R){1&E&&F._UZ(0,"app-navbar")(1,"router-outlet")},dependencies:[H.lC,xe],styles:[".titles[_ngcontent-%COMP%]{color:#7e4e1e;font-family:Poppins,sans-serif;text-shadow:2px 2px 2px #251709;display:flex;align-items:center}.miNav[_ngcontent-%COMP%]{color:#f3f1ef}"]}),$})();var ct=U(5813),Je=U(3692),jt=U(5867);U(2731);class Ze{constructor(m){return m}}const Dt="firestore",Ae=new F.OlP("angularfire2.firestore-instances"),Re={provide:class Ct{constructor(){return(0,ct.vb)(Dt)}},deps:[[new F.FiY,Ae]]},ze={provide:Ze,useFactory:function Ke($,m){const E=(0,ct.JM)(Dt,$,m);return E&&new Ze(E)},deps:[[new F.FiY,Ae],Je.Ot]};let st=(()=>{class ${constructor(){(0,jt.KN)("angularfire",ct.q4.full,"fst")}}return $.\u0275fac=function(E){return new(E||$)},$.\u0275mod=F.oAB({type:$}),$.\u0275inj=F.cJS({providers:[ze,Re]}),$})();var me=U(2011),Ee=U(1894);const dt={apiKey:"AIzaSyDV7IISCTLDhPYu-M8it-uvLa3oEuQe9HI",authDomain:"saladejuegos-559fa.firebaseapp.com",projectId:"saladejuegos-559fa",storageBucket:"saladejuegos-559fa.appspot.com",messagingSenderId:"182674480705",appId:"1:182674480705:web:5533daedbe0ac8632ab0c0"};var Vt=U(433),pn=U(7185),Gt=U(7340);function de($){return new F.vHH(3e3,!1)}function eo(){return typeof window<"u"&&typeof window.document<"u"}function ns(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Jr($){switch($.length){case 0:return new Gt.ZN;case 1:return $[0];default:return new Gt.ZE($)}}function Ns($,m,E,R,z=new Map,te=new Map){const be=[],De=[];let nt=-1,lt=null;if(R.forEach(en=>{const un=en.get("offset"),_n=un==nt,Fn=_n&&lt||new Map;en.forEach((Pn,Kn)=>{let Cr=Kn,Nr=Pn;if("offset"!==Kn)switch(Cr=m.normalizePropertyName(Cr,be),Nr){case Gt.k1:Nr=z.get(Kn);break;case Gt.l3:Nr=te.get(Kn);break;default:Nr=m.normalizeStyleValue(Kn,Cr,Nr,be)}Fn.set(Cr,Nr)}),_n||De.push(Fn),lt=Fn,nt=un}),be.length)throw function Zi($){return new F.vHH(3502,!1)}();return De}function Ui($,m,E,R){switch(m){case"start":$.onStart(()=>R(E&&ko(E,"start",$)));break;case"done":$.onDone(()=>R(E&&ko(E,"done",$)));break;case"destroy":$.onDestroy(()=>R(E&&ko(E,"destroy",$)))}}function ko($,m,E){const te=rs($.element,$.triggerName,$.fromState,$.toState,m||$.phaseName,E.totalTime??$.totalTime,!!E.disabled),be=$._data;return null!=be&&(te._data=be),te}function rs($,m,E,R,z="",te=0,be){return{element:$,triggerName:m,fromState:E,toState:R,phaseName:z,totalTime:te,disabled:!!be}}function Yi($,m,E){let R=$.get(m);return R||$.set(m,R=E),R}function Rs($){const m=$.indexOf(":");return[$.substring(1,m),$.slice(m+1)]}let Do=($,m)=>!1,Os=($,m,E)=>[],is=null;function Ds($){const m=$.parentNode||$.host;return m===is?null:m}(ns()||typeof Element<"u")&&(eo()?(is=(()=>document.documentElement)(),Do=($,m)=>{for(;m;){if(m===$)return!0;m=Ds(m)}return!1}):Do=($,m)=>$.contains(m),Os=($,m,E)=>{if(E)return Array.from($.querySelectorAll(m));const R=$.querySelector(m);return R?[R]:[]});let Gs=null,Cs=!1;const Qi=Do,bs=Os;let ds=(()=>{class ${validateStyleProperty(E){return function Co($){Gs||(Gs=function Xr(){return typeof document<"u"?document.body:null}()||{},Cs=!!Gs.style&&"WebkitAppearance"in Gs.style);let m=!0;return Gs.style&&!function oa($){return"ebkit"==$.substring(1,6)}($)&&(m=$ in Gs.style,!m&&Cs&&(m="Webkit"+$.charAt(0).toUpperCase()+$.slice(1)in Gs.style)),m}(E)}matchesElement(E,R){return!1}containsElement(E,R){return Qi(E,R)}getParentElement(E){return Ds(E)}query(E,R,z){return bs(E,R,z)}computeStyle(E,R,z){return z||""}animate(E,R,z,te,be,De=[],nt){return new Gt.ZN(z,te)}}return $.\u0275fac=function(E){return new(E||$)},$.\u0275prov=F.Yz7({token:$,factory:$.\u0275fac}),$})(),Qn=(()=>{class ${}return $.NOOP=new ds,$})();const co="ng-enter",os="ng-leave",ho="ng-trigger",bi=".ng-trigger",Ji="ng-animating",Bi=".ng-animating";function Br($){if("number"==typeof $)return $;const m=$.match(/^(-?[\.\d]+)(m?s)/);return!m||m.length<2?0:li(parseFloat(m[1]),m[2])}function li($,m){return"s"===m?1e3*$:$}function ks($,m,E){return $.hasOwnProperty("duration")?$:function Lo($,m,E){let z,te=0,be="";if("string"==typeof $){const De=$.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===De)return m.push(de()),{duration:0,delay:0,easing:""};z=li(parseFloat(De[1]),De[2]);const nt=De[3];null!=nt&&(te=li(parseFloat(nt),De[4]));const lt=De[5];lt&&(be=lt)}else z=$;if(!E){let De=!1,nt=m.length;z<0&&(m.push(function ie(){return new F.vHH(3100,!1)}()),De=!0),te<0&&(m.push(function Le(){return new F.vHH(3101,!1)}()),De=!0),De&&m.splice(nt,0,de())}return{duration:z,delay:te,easing:be}}($,m,E)}function Fs($,m={}){return Object.keys($).forEach(E=>{m[E]=$[E]}),m}function Ar($){const m=new Map;return Object.keys($).forEach(E=>{m.set(E,$[E])}),m}function ci($,m=new Map,E){if(E)for(let[R,z]of E)m.set(R,z);for(let[R,z]of $)m.set(R,z);return m}function ei($,m,E){return E?m+":"+E+";":""}function ji($){let m="";for(let E=0;E<$.style.length;E++){const R=$.style.item(E);m+=ei(0,R,$.style.getPropertyValue(R))}for(const E in $.style)$.style.hasOwnProperty(E)&&!E.startsWith("_")&&(m+=ei(0,Ls(E),$.style[E]));$.setAttribute("style",m)}function Ei($,m,E){$.style&&(m.forEach((R,z)=>{const te=Sn(z);E&&!E.has(z)&&E.set(z,$.style[te]),$.style[te]=R}),ns()&&ji($))}function yi($,m){$.style&&(m.forEach((E,R)=>{const z=Sn(R);$.style[z]=""}),ns()&&ji($))}function Xn($){return Array.isArray($)?1==$.length?$[0]:(0,Gt.vP)($):$}const as=new RegExp("{{\\s*(.+?)\\s*}}","g");function To($){let m=[];if("string"==typeof $){let E;for(;E=as.exec($);)m.push(E[1]);as.lastIndex=0}return m}function Ti($,m,E){const R=$.toString(),z=R.replace(as,(te,be)=>{let De=m[be];return null==De&&(E.push(function Kt($){return new F.vHH(3003,!1)}()),De=""),De.toString()});return z==R?$:z}function Ws($){const m=[];let E=$.next();for(;!E.done;)m.push(E.value),E=$.next();return m}const di=/-+([a-z0-9])/g;function Sn($){return $.replace(di,(...m)=>m[1].toUpperCase())}function Ls($){return $.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function wi($,m,E){switch(m.type){case 7:return $.visitTrigger(m,E);case 0:return $.visitState(m,E);case 1:return $.visitTransition(m,E);case 2:return $.visitSequence(m,E);case 3:return $.visitGroup(m,E);case 4:return $.visitAnimate(m,E);case 5:return $.visitKeyframes(m,E);case 6:return $.visitStyle(m,E);case 8:return $.visitReference(m,E);case 9:return $.visitAnimateChild(m,E);case 10:return $.visitAnimateRef(m,E);case 11:return $.visitQuery(m,E);case 12:return $.visitStagger(m,E);default:throw function Tn($){return new F.vHH(3004,!1)}()}}function si($,m){return window.getComputedStyle($)[m]}function fs($,m){const E=[];return"string"==typeof $?$.split(/\s*,\s*/).forEach(R=>function Ks($,m,E){if(":"==$[0]){const nt=function Ii($,m){switch($){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(E,R)=>parseFloat(R)>parseFloat(E);case":decrement":return(E,R)=>parseFloat(R)<parseFloat(E);default:return m.push(function nr($){return new F.vHH(3016,!1)}()),"* => *"}}($,E);if("function"==typeof nt)return void m.push(nt);$=nt}const R=$.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==R||R.length<4)return E.push(function Is($){return new F.vHH(3015,!1)}()),m;const z=R[1],te=R[2],be=R[3];m.push(po(z,be));"<"==te[0]&&!("*"==z&&"*"==be)&&m.push(po(be,z))}(R,E,m)):E.push($),E}const qs=new Set(["true","1"]),hi=new Set(["false","0"]);function po($,m){const E=qs.has($)||hi.has($),R=qs.has(m)||hi.has(m);return(z,te)=>{let be="*"==$||$==z,De="*"==m||m==te;return!be&&E&&"boolean"==typeof z&&(be=z?qs.has($):hi.has($)),!De&&R&&"boolean"==typeof te&&(De=te?qs.has(m):hi.has(m)),be&&De}}const L=new RegExp("s*:selfs*,?","g");function O($,m,E,R){return new Q($).build(m,E,R)}class Q{constructor(m){this._driver=m}build(m,E,R){const z=new lr(E);return this._resetContextStyleTimingState(z),wi(this,Xn(m),z)}_resetContextStyleTimingState(m){m.currentQuerySelector="",m.collectedStyles=new Map,m.collectedStyles.set("",new Map),m.currentTime=0}visitTrigger(m,E){let R=E.queryCount=0,z=E.depCount=0;const te=[],be=[];return"@"==m.name.charAt(0)&&E.errors.push(function Sr(){return new F.vHH(3006,!1)}()),m.definitions.forEach(De=>{if(this._resetContextStyleTimingState(E),0==De.type){const nt=De,lt=nt.name;lt.toString().split(/\s*,\s*/).forEach(en=>{nt.name=en,te.push(this.visitState(nt,E))}),nt.name=lt}else if(1==De.type){const nt=this.visitTransition(De,E);R+=nt.queryCount,z+=nt.depCount,be.push(nt)}else E.errors.push(function ui(){return new F.vHH(3007,!1)}())}),{type:7,name:m.name,states:te,transitions:be,queryCount:R,depCount:z,options:null}}visitState(m,E){const R=this.visitStyle(m.styles,E),z=m.options&&m.options.params||null;if(R.containsDynamicStyles){const te=new Set,be=z||{};R.styles.forEach(De=>{De instanceof Map&&De.forEach(nt=>{To(nt).forEach(lt=>{be.hasOwnProperty(lt)||te.add(lt)})})}),te.size&&(Ws(te.values()),E.errors.push(function dn($,m){return new F.vHH(3008,!1)}()))}return{type:0,name:m.name,style:R,options:z?{params:z}:null}}visitTransition(m,E){E.queryCount=0,E.depCount=0;const R=wi(this,Xn(m.animation),E);return{type:1,matchers:fs(m.expr,E.errors),animation:R,queryCount:E.queryCount,depCount:E.depCount,options:ti(m.options)}}visitSequence(m,E){return{type:2,steps:m.steps.map(R=>wi(this,R,E)),options:ti(m.options)}}visitGroup(m,E){const R=E.currentTime;let z=0;const te=m.steps.map(be=>{E.currentTime=R;const De=wi(this,be,E);return z=Math.max(z,E.currentTime),De});return E.currentTime=z,{type:3,steps:te,options:ti(m.options)}}visitAnimate(m,E){const R=function Xi($,m){if($.hasOwnProperty("duration"))return $;if("number"==typeof $)return ro(ks($,m).duration,0,"");const E=$;if(E.split(/\s+/).some(te=>"{"==te.charAt(0)&&"{"==te.charAt(1))){const te=ro(0,0,"");return te.dynamic=!0,te.strValue=E,te}const z=ks(E,m);return ro(z.duration,z.delay,z.easing)}(m.timings,E.errors);E.currentAnimateTimings=R;let z,te=m.styles?m.styles:(0,Gt.oB)({});if(5==te.type)z=this.visitKeyframes(te,E);else{let be=m.styles,De=!1;if(!be){De=!0;const lt={};R.easing&&(lt.easing=R.easing),be=(0,Gt.oB)(lt)}E.currentTime+=R.duration+R.delay;const nt=this.visitStyle(be,E);nt.isEmptyStep=De,z=nt}return E.currentAnimateTimings=null,{type:4,timings:R,style:z,options:null}}visitStyle(m,E){const R=this._makeStyleAst(m,E);return this._validateStyleAst(R,E),R}_makeStyleAst(m,E){const R=[],z=Array.isArray(m.styles)?m.styles:[m.styles];for(let De of z)"string"==typeof De?De===Gt.l3?R.push(De):E.errors.push(new F.vHH(3002,!1)):R.push(Ar(De));let te=!1,be=null;return R.forEach(De=>{if(De instanceof Map&&(De.has("easing")&&(be=De.get("easing"),De.delete("easing")),!te))for(let nt of De.values())if(nt.toString().indexOf("{{")>=0){te=!0;break}}),{type:6,styles:R,easing:be,offset:m.offset,containsDynamicStyles:te,options:null}}_validateStyleAst(m,E){const R=E.currentAnimateTimings;let z=E.currentTime,te=E.currentTime;R&&te>0&&(te-=R.duration+R.delay),m.styles.forEach(be=>{"string"!=typeof be&&be.forEach((De,nt)=>{const lt=E.collectedStyles.get(E.currentQuerySelector),en=lt.get(nt);let un=!0;en&&(te!=z&&te>=en.startTime&&z<=en.endTime&&(E.errors.push(function ws($,m,E,R,z){return new F.vHH(3010,!1)}()),un=!1),te=en.startTime),un&&lt.set(nt,{startTime:te,endTime:z}),E.options&&function to($,m,E){const R=m.params||{},z=To($);z.length&&z.forEach(te=>{R.hasOwnProperty(te)||E.push(function rt($){return new F.vHH(3001,!1)}())})}(De,E.options,E.errors)})})}visitKeyframes(m,E){const R={type:5,styles:[],options:null};if(!E.currentAnimateTimings)return E.errors.push(function Gi(){return new F.vHH(3011,!1)}()),R;let te=0;const be=[];let De=!1,nt=!1,lt=0;const en=m.steps.map(Nr=>{const ni=this._makeStyleAst(Nr,E);let Si=null!=ni.offset?ni.offset:function Wi($){if("string"==typeof $)return null;let m=null;if(Array.isArray($))$.forEach(E=>{if(E instanceof Map&&E.has("offset")){const R=E;m=parseFloat(R.get("offset")),R.delete("offset")}});else if($ instanceof Map&&$.has("offset")){const E=$;m=parseFloat(E.get("offset")),E.delete("offset")}return m}(ni.styles),br=0;return null!=Si&&(te++,br=ni.offset=Si),nt=nt||br<0||br>1,De=De||br<lt,lt=br,be.push(br),ni});nt&&E.errors.push(function Zr(){return new F.vHH(3012,!1)}()),De&&E.errors.push(function Hs(){return new F.vHH(3200,!1)}());const un=m.steps.length;let _n=0;te>0&&te<un?E.errors.push(function Qr(){return new F.vHH(3202,!1)}()):0==te&&(_n=1/(un-1));const Fn=un-1,Pn=E.currentTime,Kn=E.currentAnimateTimings,Cr=Kn.duration;return en.forEach((Nr,ni)=>{const Si=_n>0?ni==Fn?1:_n*ni:be[ni],br=Si*Cr;E.currentTime=Pn+Kn.delay+br,Kn.duration=br,this._validateStyleAst(Nr,E),Nr.offset=Si,R.styles.push(Nr)}),R}visitReference(m,E){return{type:8,animation:wi(this,Xn(m.animation),E),options:ti(m.options)}}visitAnimateChild(m,E){return E.depCount++,{type:9,options:ti(m.options)}}visitAnimateRef(m,E){return{type:10,animation:this.visitReference(m.animation,E),options:ti(m.options)}}visitQuery(m,E){const R=E.currentQuerySelector,z=m.options||{};E.queryCount++,E.currentQuery=m;const[te,be]=function at($){const m=!!$.split(/\s*,\s*/).find(E=>":self"==E);return m&&($=$.replace(L,"")),$=$.replace(/@\*/g,bi).replace(/@\w+/g,E=>bi+"-"+E.slice(1)).replace(/:animating/g,Bi),[$,m]}(m.selector);E.currentQuerySelector=R.length?R+" "+te:te,Yi(E.collectedStyles,E.currentQuerySelector,new Map);const De=wi(this,Xn(m.animation),E);return E.currentQuery=null,E.currentQuerySelector=R,{type:11,selector:te,limit:z.limit||0,optional:!!z.optional,includeSelf:be,animation:De,originalSelector:m.selector,options:ti(m.options)}}visitStagger(m,E){E.currentQuery||E.errors.push(function gi(){return new F.vHH(3013,!1)}());const R="full"===m.timings?{duration:0,delay:0,easing:"full"}:ks(m.timings,E.errors,!0);return{type:12,animation:wi(this,Xn(m.animation),E),timings:R,options:null}}}class lr{constructor(m){this.errors=m,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ti($){return $?($=Fs($)).params&&($.params=function an($){return $?Fs($):null}($.params)):$={},$}function ro($,m,E){return{duration:$,delay:m,easing:E}}function ps($,m,E,R,z,te,be=null,De=!1){return{type:1,element:$,keyframes:m,preStyleProps:E,postStyleProps:R,duration:z,delay:te,totalTime:z+te,easing:be,subTimeline:De}}class Zs{constructor(){this._map=new Map}get(m){return this._map.get(m)||[]}append(m,E){let R=this._map.get(m);R||this._map.set(m,R=[]),R.push(...E)}has(m){return this._map.has(m)}clear(){this._map.clear()}}const mo=new RegExp(":enter","g"),Ao=new RegExp(":leave","g");function io($,m,E,R,z,te=new Map,be=new Map,De,nt,lt=[]){return(new Mo).buildKeyframes($,m,E,R,z,te,be,De,nt,lt)}class Mo{buildKeyframes(m,E,R,z,te,be,De,nt,lt,en=[]){lt=lt||new Zs;const un=new S(m,E,lt,z,te,en,[]);un.options=nt;const _n=nt.delay?Br(nt.delay):0;un.currentTimeline.delayNextStep(_n),un.currentTimeline.setStyles([be],null,un.errors,nt),wi(this,R,un);const Fn=un.timelines.filter(Pn=>Pn.containsAnimation());if(Fn.length&&De.size){let Pn;for(let Kn=Fn.length-1;Kn>=0;Kn--){const Cr=Fn[Kn];if(Cr.element===E){Pn=Cr;break}}Pn&&!Pn.allowOnlyTimelineStyles()&&Pn.setStyles([De],null,un.errors,nt)}return Fn.length?Fn.map(Pn=>Pn.buildKeyframes()):[ps(E,[],[],[],0,_n,"",!1)]}visitTrigger(m,E){}visitState(m,E){}visitTransition(m,E){}visitAnimateChild(m,E){const R=E.subInstructions.get(E.element);if(R){const z=E.createSubContext(m.options),te=E.currentTimeline.currentTime,be=this._visitSubInstructions(R,z,z.options);te!=be&&E.transformIntoNewTimeline(be)}E.previousNode=m}visitAnimateRef(m,E){const R=E.createSubContext(m.options);R.transformIntoNewTimeline(),this._applyAnimateRefDelay(m.animation,E,R),this.visitReference(m.animation,R),E.transformIntoNewTimeline(R.currentTimeline.currentTime),E.previousNode=m}_applyAnimateRefDelay(m,E,R){const z=m.options?.delay;if(!z)return;let te;te="string"==typeof z?Br(Ti(z,m.options?.params??{},E.errors)):z,R.delayNextStep(te)}_visitSubInstructions(m,E,R){let te=E.currentTimeline.currentTime;const be=null!=R.duration?Br(R.duration):null,De=null!=R.delay?Br(R.delay):null;return 0!==be&&m.forEach(nt=>{const lt=E.appendInstructionToTimeline(nt,be,De);te=Math.max(te,lt.duration+lt.delay)}),te}visitReference(m,E){E.updateOptions(m.options,!0),wi(this,m.animation,E),E.previousNode=m}visitSequence(m,E){const R=E.subContextCount;let z=E;const te=m.options;if(te&&(te.params||te.delay)&&(z=E.createSubContext(te),z.transformIntoNewTimeline(),null!=te.delay)){6==z.previousNode.type&&(z.currentTimeline.snapshotCurrentStyles(),z.previousNode=Yo);const be=Br(te.delay);z.delayNextStep(be)}m.steps.length&&(m.steps.forEach(be=>wi(this,be,z)),z.currentTimeline.applyStylesToKeyframe(),z.subContextCount>R&&z.transformIntoNewTimeline()),E.previousNode=m}visitGroup(m,E){const R=[];let z=E.currentTimeline.currentTime;const te=m.options&&m.options.delay?Br(m.options.delay):0;m.steps.forEach(be=>{const De=E.createSubContext(m.options);te&&De.delayNextStep(te),wi(this,be,De),z=Math.max(z,De.currentTimeline.currentTime),R.push(De.currentTimeline)}),R.forEach(be=>E.currentTimeline.mergeTimelineCollectedStyles(be)),E.transformIntoNewTimeline(z),E.previousNode=m}_visitTiming(m,E){if(m.dynamic){const R=m.strValue;return ks(E.params?Ti(R,E.params,E.errors):R,E.errors)}return{duration:m.duration,delay:m.delay,easing:m.easing}}visitAnimate(m,E){const R=E.currentAnimateTimings=this._visitTiming(m.timings,E),z=E.currentTimeline;R.delay&&(E.incrementTime(R.delay),z.snapshotCurrentStyles());const te=m.style;5==te.type?this.visitKeyframes(te,E):(E.incrementTime(R.duration),this.visitStyle(te,E),z.applyStylesToKeyframe()),E.currentAnimateTimings=null,E.previousNode=m}visitStyle(m,E){const R=E.currentTimeline,z=E.currentAnimateTimings;!z&&R.hasCurrentStyleProperties()&&R.forwardFrame();const te=z&&z.easing||m.easing;m.isEmptyStep?R.applyEmptyStep(te):R.setStyles(m.styles,te,E.errors,E.options),E.previousNode=m}visitKeyframes(m,E){const R=E.currentAnimateTimings,z=E.currentTimeline.duration,te=R.duration,De=E.createSubContext().currentTimeline;De.easing=R.easing,m.styles.forEach(nt=>{De.forwardTime((nt.offset||0)*te),De.setStyles(nt.styles,nt.easing,E.errors,E.options),De.applyStylesToKeyframe()}),E.currentTimeline.mergeTimelineCollectedStyles(De),E.transformIntoNewTimeline(z+te),E.previousNode=m}visitQuery(m,E){const R=E.currentTimeline.currentTime,z=m.options||{},te=z.delay?Br(z.delay):0;te&&(6===E.previousNode.type||0==R&&E.currentTimeline.hasCurrentStyleProperties())&&(E.currentTimeline.snapshotCurrentStyles(),E.previousNode=Yo);let be=R;const De=E.invokeQuery(m.selector,m.originalSelector,m.limit,m.includeSelf,!!z.optional,E.errors);E.currentQueryTotal=De.length;let nt=null;De.forEach((lt,en)=>{E.currentQueryIndex=en;const un=E.createSubContext(m.options,lt);te&&un.delayNextStep(te),lt===E.element&&(nt=un.currentTimeline),wi(this,m.animation,un),un.currentTimeline.applyStylesToKeyframe(),be=Math.max(be,un.currentTimeline.currentTime)}),E.currentQueryIndex=0,E.currentQueryTotal=0,E.transformIntoNewTimeline(be),nt&&(E.currentTimeline.mergeTimelineCollectedStyles(nt),E.currentTimeline.snapshotCurrentStyles()),E.previousNode=m}visitStagger(m,E){const R=E.parentContext,z=E.currentTimeline,te=m.timings,be=Math.abs(te.duration),De=be*(E.currentQueryTotal-1);let nt=be*E.currentQueryIndex;switch(te.duration<0?"reverse":te.easing){case"reverse":nt=De-nt;break;case"full":nt=R.currentStaggerTime}const en=E.currentTimeline;nt&&en.delayNextStep(nt);const un=en.currentTime;wi(this,m.animation,E),E.previousNode=m,R.currentStaggerTime=z.currentTime-un+(z.startTime-R.currentTimeline.startTime)}}const Yo={};class S{constructor(m,E,R,z,te,be,De,nt){this._driver=m,this.element=E,this.subInstructions=R,this._enterClassName=z,this._leaveClassName=te,this.errors=be,this.timelines=De,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Yo,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=nt||new G(this._driver,E,0),De.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(m,E){if(!m)return;const R=m;let z=this.options;null!=R.duration&&(z.duration=Br(R.duration)),null!=R.delay&&(z.delay=Br(R.delay));const te=R.params;if(te){let be=z.params;be||(be=this.options.params={}),Object.keys(te).forEach(De=>{(!E||!be.hasOwnProperty(De))&&(be[De]=Ti(te[De],be,this.errors))})}}_copyOptions(){const m={};if(this.options){const E=this.options.params;if(E){const R=m.params={};Object.keys(E).forEach(z=>{R[z]=E[z]})}}return m}createSubContext(m=null,E,R){const z=E||this.element,te=new S(this._driver,z,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(z,R||0));return te.previousNode=this.previousNode,te.currentAnimateTimings=this.currentAnimateTimings,te.options=this._copyOptions(),te.updateOptions(m),te.currentQueryIndex=this.currentQueryIndex,te.currentQueryTotal=this.currentQueryTotal,te.parentContext=this,this.subContextCount++,te}transformIntoNewTimeline(m){return this.previousNode=Yo,this.currentTimeline=this.currentTimeline.fork(this.element,m),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(m,E,R){const z={duration:E??m.duration,delay:this.currentTimeline.currentTime+(R??0)+m.delay,easing:""},te=new N(this._driver,m.element,m.keyframes,m.preStyleProps,m.postStyleProps,z,m.stretchStartingKeyframe);return this.timelines.push(te),z}incrementTime(m){this.currentTimeline.forwardTime(this.currentTimeline.duration+m)}delayNextStep(m){m>0&&this.currentTimeline.delayNextStep(m)}invokeQuery(m,E,R,z,te,be){let De=[];if(z&&De.push(this.element),m.length>0){m=(m=m.replace(mo,"."+this._enterClassName)).replace(Ao,"."+this._leaveClassName);let lt=this._driver.query(this.element,m,1!=R);0!==R&&(lt=R<0?lt.slice(lt.length+R,lt.length):lt.slice(0,R)),De.push(...lt)}return!te&&0==De.length&&be.push(function Mr($){return new F.vHH(3014,!1)}()),De}}class G{constructor(m,E,R,z){this._driver=m,this.element=E,this.startTime=R,this._elementTimelineStylesLookup=z,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(E),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(E,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(m){const E=1===this._keyframes.size&&this._pendingStyles.size;this.duration||E?(this.forwardTime(this.currentTime+m),E&&this.snapshotCurrentStyles()):this.startTime+=m}fork(m,E){return this.applyStylesToKeyframe(),new G(this._driver,m,E||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(m){this.applyStylesToKeyframe(),this.duration=m,this._loadKeyframe()}_updateStyle(m,E){this._localTimelineStyles.set(m,E),this._globalTimelineStyles.set(m,E),this._styleSummary.set(m,{time:this.currentTime,value:E})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(m){m&&this._previousKeyframe.set("easing",m);for(let[E,R]of this._globalTimelineStyles)this._backFill.set(E,R||Gt.l3),this._currentKeyframe.set(E,Gt.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(m,E,R,z){E&&this._previousKeyframe.set("easing",E);const te=z&&z.params||{},be=function _e($,m){const E=new Map;let R;return $.forEach(z=>{if("*"===z){R=R||m.keys();for(let te of R)E.set(te,Gt.l3)}else ci(z,E)}),E}(m,this._globalTimelineStyles);for(let[De,nt]of be){const lt=Ti(nt,te,R);this._pendingStyles.set(De,lt),this._localTimelineStyles.has(De)||this._backFill.set(De,this._globalTimelineStyles.get(De)??Gt.l3),this._updateStyle(De,lt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((m,E)=>{this._currentKeyframe.set(E,m)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((m,E)=>{this._currentKeyframe.has(E)||this._currentKeyframe.set(E,m)}))}snapshotCurrentStyles(){for(let[m,E]of this._localTimelineStyles)this._pendingStyles.set(m,E),this._updateStyle(m,E)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const m=[];for(let E in this._currentKeyframe)m.push(E);return m}mergeTimelineCollectedStyles(m){m._styleSummary.forEach((E,R)=>{const z=this._styleSummary.get(R);(!z||E.time>z.time)&&this._updateStyle(R,E.value)})}buildKeyframes(){this.applyStylesToKeyframe();const m=new Set,E=new Set,R=1===this._keyframes.size&&0===this.duration;let z=[];this._keyframes.forEach((De,nt)=>{const lt=ci(De,new Map,this._backFill);lt.forEach((en,un)=>{en===Gt.k1?m.add(un):en===Gt.l3&&E.add(un)}),R||lt.set("offset",nt/this.duration),z.push(lt)});const te=m.size?Ws(m.values()):[],be=E.size?Ws(E.values()):[];if(R){const De=z[0],nt=new Map(De);De.set("offset",0),nt.set("offset",1),z=[De,nt]}return ps(this.element,z,te,be,this.duration,this.startTime,this.easing,!1)}}class N extends G{constructor(m,E,R,z,te,be,De=!1){super(m,E,be.delay),this.keyframes=R,this.preStyleProps=z,this.postStyleProps=te,this._stretchStartingKeyframe=De,this.timings={duration:be.duration,delay:be.delay,easing:be.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let m=this.keyframes,{delay:E,duration:R,easing:z}=this.timings;if(this._stretchStartingKeyframe&&E){const te=[],be=R+E,De=E/be,nt=ci(m[0]);nt.set("offset",0),te.push(nt);const lt=ci(m[0]);lt.set("offset",Y(De)),te.push(lt);const en=m.length-1;for(let un=1;un<=en;un++){let _n=ci(m[un]);const Fn=_n.get("offset");_n.set("offset",Y((E+Fn*R)/be)),te.push(_n)}R=be,E=0,z="",m=te}return ps(this.element,m,this.preStyleProps,this.postStyleProps,R,E,z,!0)}}function Y($,m=3){const E=Math.pow(10,m-1);return Math.round($*E)/E}class mt{}const fr=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class vr extends mt{normalizePropertyName(m,E){return Sn(m)}normalizeStyleValue(m,E,R,z){let te="";const be=R.toString().trim();if(fr.has(E)&&0!==R&&"0"!==R)if("number"==typeof R)te="px";else{const De=R.match(/^[+-]?[\d\.]+([a-z]*)$/);De&&0==De[1].length&&z.push(function In($,m){return new F.vHH(3005,!1)}())}return be+te}}function _r($,m,E,R,z,te,be,De,nt,lt,en,un,_n){return{type:0,element:$,triggerName:m,isRemovalTransition:z,fromState:E,fromStyles:te,toState:R,toStyles:be,timelines:De,queriedElements:nt,preStyleProps:lt,postStyleProps:en,totalTime:un,errors:_n}}const ir={};class fi{constructor(m,E,R){this._triggerName=m,this.ast=E,this._stateStyles=R}match(m,E,R,z){return function Pr($,m,E,R,z){return $.some(te=>te(m,E,R,z))}(this.ast.matchers,m,E,R,z)}buildStyles(m,E,R){let z=this._stateStyles.get("*");return void 0!==m&&(z=this._stateStyles.get(m?.toString())||z),z?z.buildStyles(E,R):new Map}build(m,E,R,z,te,be,De,nt,lt,en){const un=[],_n=this.ast.options&&this.ast.options.params||ir,Pn=this.buildStyles(R,De&&De.params||ir,un),Kn=nt&&nt.params||ir,Cr=this.buildStyles(z,Kn,un),Nr=new Set,ni=new Map,Si=new Map,br="void"===z,Eo={params:so(Kn,_n),delay:this.ast.options?.delay},_=en?[]:io(m,E,this.ast.animation,te,be,Pn,Cr,Eo,lt,un);let w=0;if(_.forEach(T=>{w=Math.max(T.duration+T.delay,w)}),un.length)return _r(E,this._triggerName,R,z,br,Pn,Cr,[],[],ni,Si,w,un);_.forEach(T=>{const P=T.element,K=Yi(ni,P,new Set);T.preStyleProps.forEach(ye=>K.add(ye));const le=Yi(Si,P,new Set);T.postStyleProps.forEach(ye=>le.add(ye)),P!==E&&Nr.add(P)});const y=Ws(Nr.values());return _r(E,this._triggerName,R,z,br,Pn,Cr,_,y,ni,Si,w)}}function so($,m){const E=Fs(m);for(const R in $)$.hasOwnProperty(R)&&null!=$[R]&&(E[R]=$[R]);return E}class Vs{constructor(m,E,R){this.styles=m,this.defaultParams=E,this.normalizer=R}buildStyles(m,E){const R=new Map,z=Fs(this.defaultParams);return Object.keys(m).forEach(te=>{const be=m[te];null!==be&&(z[te]=be)}),this.styles.styles.forEach(te=>{"string"!=typeof te&&te.forEach((be,De)=>{be&&(be=Ti(be,z,E));const nt=this.normalizer.normalizePropertyName(De,E);be=this.normalizer.normalizeStyleValue(De,nt,be,E),R.set(nt,be)})}),R}}class Ts{constructor(m,E,R){this.name=m,this.ast=E,this._normalizer=R,this.transitionFactories=[],this.states=new Map,E.states.forEach(z=>{this.states.set(z.name,new Vs(z.style,z.options&&z.options.params||{},R))}),Ki(this.states,"true","1"),Ki(this.states,"false","0"),E.transitions.forEach(z=>{this.transitionFactories.push(new fi(m,z,this.states))}),this.fallbackTransition=function Di($,m,E){return new fi($,{type:1,animation:{type:2,steps:[],options:null},matchers:[(be,De)=>!0],options:null,queryCount:0,depCount:0},m)}(m,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(m,E,R,z){return this.transitionFactories.find(be=>be.match(m,E,R,z))||null}matchStyles(m,E,R){return this.fallbackTransition.buildStyles(m,E,R)}}function Ki($,m,E){$.has(m)?$.has(E)||$.set(E,$.get(m)):$.has(E)&&$.set(m,$.get(E))}const xo=new Zs;class Bt{constructor(m,E,R){this.bodyNode=m,this._driver=E,this._normalizer=R,this._animations=new Map,this._playersById=new Map,this.players=[]}register(m,E){const R=[],te=O(this._driver,E,R,[]);if(R.length)throw function zi($){return new F.vHH(3503,!1)}();this._animations.set(m,te)}_buildPlayer(m,E,R){const z=m.element,te=Ns(0,this._normalizer,0,m.keyframes,E,R);return this._driver.animate(z,te,m.duration,m.delay,m.easing,[],!0)}create(m,E,R={}){const z=[],te=this._animations.get(m);let be;const De=new Map;if(te?(be=io(this._driver,E,te,co,os,new Map,new Map,R,xo,z),be.forEach(en=>{const un=Yi(De,en.element,new Map);en.postStyleProps.forEach(_n=>un.set(_n,null))})):(z.push(function He(){return new F.vHH(3300,!1)}()),be=[]),z.length)throw function Fe($){return new F.vHH(3504,!1)}();De.forEach((en,un)=>{en.forEach((_n,Fn)=>{en.set(Fn,this._driver.computeStyle(un,Fn,Gt.l3))})});const lt=Jr(be.map(en=>{const un=De.get(en.element);return this._buildPlayer(en,new Map,un)}));return this._playersById.set(m,lt),lt.onDestroy(()=>this.destroy(m)),this.players.push(lt),lt}destroy(m){const E=this._getPlayer(m);E.destroy(),this._playersById.delete(m);const R=this.players.indexOf(E);R>=0&&this.players.splice(R,1)}_getPlayer(m){const E=this._playersById.get(m);if(!E)throw function Qe($){return new F.vHH(3301,!1)}();return E}listen(m,E,R,z){const te=rs(E,"","","");return Ui(this._getPlayer(m),R,te,z),()=>{}}command(m,E,R,z){if("register"==R)return void this.register(m,z[0]);if("create"==R)return void this.create(m,E,z[0]||{});const te=this._getPlayer(m);switch(R){case"play":te.play();break;case"pause":te.pause();break;case"reset":te.reset();break;case"restart":te.restart();break;case"finish":te.finish();break;case"init":te.init();break;case"setPosition":te.setPosition(parseFloat(z[0]));break;case"destroy":this.destroy(m)}}}const er="ng-animate-queued",va="ng-animate-disabled",qt=[],pt={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Lt={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Dr="__ng_removed";class ua{constructor(m,E=""){this.namespaceId=E;const R=m&&m.hasOwnProperty("value");if(this.value=function Sa($){return $??null}(R?m.value:m),R){const te=Fs(m);delete te.value,this.options=te}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(m){const E=m.params;if(E){const R=this.options.params;Object.keys(E).forEach(z=>{null==R[z]&&(R[z]=E[z])})}}}const la="void",Ci=new ua(la);class Au{constructor(m,E,R){this.id=m,this.hostElement=E,this._engine=R,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+m,ki(E,this._hostClassName)}listen(m,E,R,z){if(!this._triggers.has(E))throw function Et($,m){return new F.vHH(3302,!1)}();if(null==R||0==R.length)throw function Rt($){return new F.vHH(3303,!1)}();if(!function vi($){return"start"==$||"done"==$}(R))throw function Qt($,m){return new F.vHH(3400,!1)}();const te=Yi(this._elementListeners,m,[]),be={name:E,phase:R,callback:z};te.push(be);const De=Yi(this._engine.statesByElement,m,new Map);return De.has(E)||(ki(m,ho),ki(m,ho+"-"+E),De.set(E,Ci)),()=>{this._engine.afterFlush(()=>{const nt=te.indexOf(be);nt>=0&&te.splice(nt,1),this._triggers.has(E)||De.delete(E)})}}register(m,E){return!this._triggers.has(m)&&(this._triggers.set(m,E),!0)}_getTrigger(m){const E=this._triggers.get(m);if(!E)throw function Wn($){return new F.vHH(3401,!1)}();return E}trigger(m,E,R,z=!0){const te=this._getTrigger(E),be=new _a(this.id,E,m);let De=this._engine.statesByElement.get(m);De||(ki(m,ho),ki(m,ho+"-"+E),this._engine.statesByElement.set(m,De=new Map));let nt=De.get(E);const lt=new ua(R,this.id);if(!(R&&R.hasOwnProperty("value"))&&nt&&lt.absorbOptions(nt.options),De.set(E,lt),nt||(nt=Ci),lt.value!==la&&nt.value===lt.value){if(!function Qo($,m){const E=Object.keys($),R=Object.keys(m);if(E.length!=R.length)return!1;for(let z=0;z<E.length;z++){const te=E[z];if(!m.hasOwnProperty(te)||$[te]!==m[te])return!1}return!0}(nt.params,lt.params)){const Kn=[],Cr=te.matchStyles(nt.value,nt.params,Kn),Nr=te.matchStyles(lt.value,lt.params,Kn);Kn.length?this._engine.reportError(Kn):this._engine.afterFlush(()=>{yi(m,Cr),Ei(m,Nr)})}return}const _n=Yi(this._engine.playersByElement,m,[]);_n.forEach(Kn=>{Kn.namespaceId==this.id&&Kn.triggerName==E&&Kn.queued&&Kn.destroy()});let Fn=te.matchTransition(nt.value,lt.value,m,lt.params),Pn=!1;if(!Fn){if(!z)return;Fn=te.fallbackTransition,Pn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:m,triggerName:E,transition:Fn,fromState:nt,toState:lt,player:be,isFallbackTransition:Pn}),Pn||(ki(m,er),be.onStart(()=>{xr(m,er)})),be.onDone(()=>{let Kn=this.players.indexOf(be);Kn>=0&&this.players.splice(Kn,1);const Cr=this._engine.playersByElement.get(m);if(Cr){let Nr=Cr.indexOf(be);Nr>=0&&Cr.splice(Nr,1)}}),this.players.push(be),_n.push(be),be}deregister(m){this._triggers.delete(m),this._engine.statesByElement.forEach(E=>E.delete(m)),this._elementListeners.forEach((E,R)=>{this._elementListeners.set(R,E.filter(z=>z.name!=m))})}clearElementCache(m){this._engine.statesByElement.delete(m),this._elementListeners.delete(m);const E=this._engine.playersByElement.get(m);E&&(E.forEach(R=>R.destroy()),this._engine.playersByElement.delete(m))}_signalRemovalForInnerTriggers(m,E){const R=this._engine.driver.query(m,bi,!0);R.forEach(z=>{if(z[Dr])return;const te=this._engine.fetchNamespacesByElement(z);te.size?te.forEach(be=>be.triggerLeaveAnimation(z,E,!1,!0)):this.clearElementCache(z)}),this._engine.afterFlushAnimationsDone(()=>R.forEach(z=>this.clearElementCache(z)))}triggerLeaveAnimation(m,E,R,z){const te=this._engine.statesByElement.get(m),be=new Map;if(te){const De=[];if(te.forEach((nt,lt)=>{if(be.set(lt,nt.value),this._triggers.has(lt)){const en=this.trigger(m,lt,la,z);en&&De.push(en)}}),De.length)return this._engine.markElementAsRemoved(this.id,m,!0,E,be),R&&Jr(De).onDone(()=>this._engine.processLeaveNode(m)),!0}return!1}prepareLeaveAnimationListeners(m){const E=this._elementListeners.get(m),R=this._engine.statesByElement.get(m);if(E&&R){const z=new Set;E.forEach(te=>{const be=te.name;if(z.has(be))return;z.add(be);const nt=this._triggers.get(be).fallbackTransition,lt=R.get(be)||Ci,en=new ua(la),un=new _a(this.id,be,m);this._engine.totalQueuedPlayers++,this._queue.push({element:m,triggerName:be,transition:nt,fromState:lt,toState:en,player:un,isFallbackTransition:!0})})}}removeNode(m,E){const R=this._engine;if(m.childElementCount&&this._signalRemovalForInnerTriggers(m,E),this.triggerLeaveAnimation(m,E,!0))return;let z=!1;if(R.totalAnimations){const te=R.players.length?R.playersByQueriedElement.get(m):[];if(te&&te.length)z=!0;else{let be=m;for(;be=be.parentNode;)if(R.statesByElement.get(be)){z=!0;break}}}if(this.prepareLeaveAnimationListeners(m),z)R.markElementAsRemoved(this.id,m,!1,E);else{const te=m[Dr];(!te||te===pt)&&(R.afterFlush(()=>this.clearElementCache(m)),R.destroyInnerAnimations(m),R._onRemovalComplete(m,E))}}insertNode(m,E){ki(m,this._hostClassName)}drainQueuedTransitions(m){const E=[];return this._queue.forEach(R=>{const z=R.player;if(z.destroyed)return;const te=R.element,be=this._elementListeners.get(te);be&&be.forEach(De=>{if(De.name==R.triggerName){const nt=rs(te,R.triggerName,R.fromState.value,R.toState.value);nt._data=m,Ui(R.player,De.phase,nt,De.callback)}}),z.markedForDestroy?this._engine.afterFlush(()=>{z.destroy()}):E.push(R)}),this._queue=[],E.sort((R,z)=>{const te=R.transition.ast.depCount,be=z.transition.ast.depCount;return 0==te||0==be?te-be:this._engine.driver.containsElement(R.element,z.element)?1:-1})}destroy(m){this.players.forEach(E=>E.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,m)}elementContainsData(m){let E=!1;return this._elementListeners.has(m)&&(E=!0),E=!!this._queue.find(R=>R.element===m)||E,E}}class Uo{constructor(m,E,R){this.bodyNode=m,this.driver=E,this._normalizer=R,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(z,te)=>{}}_onRemovalComplete(m,E){this.onRemovalComplete(m,E)}get queuedPlayers(){const m=[];return this._namespaceList.forEach(E=>{E.players.forEach(R=>{R.queued&&m.push(R)})}),m}createNamespace(m,E){const R=new Au(m,E,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,E)?this._balanceNamespaceList(R,E):(this.newHostElements.set(E,R),this.collectEnterElement(E)),this._namespaceLookup[m]=R}_balanceNamespaceList(m,E){const R=this._namespaceList,z=this.namespacesByHostElement;if(R.length-1>=0){let be=!1,De=this.driver.getParentElement(E);for(;De;){const nt=z.get(De);if(nt){const lt=R.indexOf(nt);R.splice(lt+1,0,m),be=!0;break}De=this.driver.getParentElement(De)}be||R.unshift(m)}else R.push(m);return z.set(E,m),m}register(m,E){let R=this._namespaceLookup[m];return R||(R=this.createNamespace(m,E)),R}registerTrigger(m,E,R){let z=this._namespaceLookup[m];z&&z.register(E,R)&&this.totalAnimations++}destroy(m,E){if(!m)return;const R=this._fetchNamespace(m);this.afterFlush(()=>{this.namespacesByHostElement.delete(R.hostElement),delete this._namespaceLookup[m];const z=this._namespaceList.indexOf(R);z>=0&&this._namespaceList.splice(z,1)}),this.afterFlushAnimationsDone(()=>R.destroy(E))}_fetchNamespace(m){return this._namespaceLookup[m]}fetchNamespacesByElement(m){const E=new Set,R=this.statesByElement.get(m);if(R)for(let z of R.values())if(z.namespaceId){const te=this._fetchNamespace(z.namespaceId);te&&E.add(te)}return E}trigger(m,E,R,z){if(Aa(E)){const te=this._fetchNamespace(m);if(te)return te.trigger(E,R,z),!0}return!1}insertNode(m,E,R,z){if(!Aa(E))return;const te=E[Dr];if(te&&te.setForRemoval){te.setForRemoval=!1,te.setForMove=!0;const be=this.collectedLeaveElements.indexOf(E);be>=0&&this.collectedLeaveElements.splice(be,1)}if(m){const be=this._fetchNamespace(m);be&&be.insertNode(E,R)}z&&this.collectEnterElement(E)}collectEnterElement(m){this.collectedEnterElements.push(m)}markElementAsDisabled(m,E){E?this.disabledNodes.has(m)||(this.disabledNodes.add(m),ki(m,va)):this.disabledNodes.has(m)&&(this.disabledNodes.delete(m),xr(m,va))}removeNode(m,E,R,z){if(Aa(E)){const te=m?this._fetchNamespace(m):null;if(te?te.removeNode(E,z):this.markElementAsRemoved(m,E,!1,z),R){const be=this.namespacesByHostElement.get(E);be&&be.id!==m&&be.removeNode(E,z)}}else this._onRemovalComplete(E,z)}markElementAsRemoved(m,E,R,z,te){this.collectedLeaveElements.push(E),E[Dr]={namespaceId:m,setForRemoval:z,hasAnimation:R,removedBeforeQueried:!1,previousTriggersValues:te}}listen(m,E,R,z,te){return Aa(E)?this._fetchNamespace(m).listen(E,R,z,te):()=>{}}_buildInstruction(m,E,R,z,te){return m.transition.build(this.driver,m.element,m.fromState.value,m.toState.value,R,z,m.fromState.options,m.toState.options,E,te)}destroyInnerAnimations(m){let E=this.driver.query(m,bi,!0);E.forEach(R=>this.destroyActiveAnimationsForElement(R)),0!=this.playersByQueriedElement.size&&(E=this.driver.query(m,Bi,!0),E.forEach(R=>this.finishActiveQueriedAnimationOnElement(R)))}destroyActiveAnimationsForElement(m){const E=this.playersByElement.get(m);E&&E.forEach(R=>{R.queued?R.markedForDestroy=!0:R.destroy()})}finishActiveQueriedAnimationOnElement(m){const E=this.playersByQueriedElement.get(m);E&&E.forEach(R=>R.finish())}whenRenderingDone(){return new Promise(m=>{if(this.players.length)return Jr(this.players).onDone(()=>m());m()})}processLeaveNode(m){const E=m[Dr];if(E&&E.setForRemoval){if(m[Dr]=pt,E.namespaceId){this.destroyInnerAnimations(m);const R=this._fetchNamespace(E.namespaceId);R&&R.clearElementCache(m)}this._onRemovalComplete(m,E.setForRemoval)}m.classList?.contains(va)&&this.markElementAsDisabled(m,!1),this.driver.query(m,".ng-animate-disabled",!0).forEach(R=>{this.markElementAsDisabled(R,!1)})}flush(m=-1){let E=[];if(this.newHostElements.size&&(this.newHostElements.forEach((R,z)=>this._balanceNamespaceList(R,z)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let R=0;R<this.collectedEnterElements.length;R++)ki(this.collectedEnterElements[R],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const R=[];try{E=this._flushAnimations(R,m)}finally{for(let z=0;z<R.length;z++)R[z]()}}else for(let R=0;R<this.collectedLeaveElements.length;R++)this.processLeaveNode(this.collectedLeaveElements[R]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(R=>R()),this._flushFns=[],this._whenQuietFns.length){const R=this._whenQuietFns;this._whenQuietFns=[],E.length?Jr(E).onDone(()=>{R.forEach(z=>z())}):R.forEach(z=>z())}}reportError(m){throw function Ur($){return new F.vHH(3402,!1)}()}_flushAnimations(m,E){const R=new Zs,z=[],te=new Map,be=[],De=new Map,nt=new Map,lt=new Map,en=new Set;this.disabledNodes.forEach(Pt=>{en.add(Pt);const yt=this.driver.query(Pt,".ng-animate-queued",!0);for(let Zt=0;Zt<yt.length;Zt++)en.add(yt[Zt])});const un=this.bodyNode,_n=Array.from(this.statesByElement.keys()),Fn=No(_n,this.collectedEnterElements),Pn=new Map;let Kn=0;Fn.forEach((Pt,yt)=>{const Zt=co+Kn++;Pn.set(yt,Zt),Pt.forEach(zn=>ki(zn,Zt))});const Cr=[],Nr=new Set,ni=new Set;for(let Pt=0;Pt<this.collectedLeaveElements.length;Pt++){const yt=this.collectedLeaveElements[Pt],Zt=yt[Dr];Zt&&Zt.setForRemoval&&(Cr.push(yt),Nr.add(yt),Zt.hasAnimation?this.driver.query(yt,".ng-star-inserted",!0).forEach(zn=>Nr.add(zn)):ni.add(yt))}const Si=new Map,br=No(_n,Array.from(Nr));br.forEach((Pt,yt)=>{const Zt=os+Kn++;Si.set(yt,Zt),Pt.forEach(zn=>ki(zn,Zt))}),m.push(()=>{Fn.forEach((Pt,yt)=>{const Zt=Pn.get(yt);Pt.forEach(zn=>xr(zn,Zt))}),br.forEach((Pt,yt)=>{const Zt=Si.get(yt);Pt.forEach(zn=>xr(zn,Zt))}),Cr.forEach(Pt=>{this.processLeaveNode(Pt)})});const Eo=[],_=[];for(let Pt=this._namespaceList.length-1;Pt>=0;Pt--)this._namespaceList[Pt].drainQueuedTransitions(E).forEach(Zt=>{const zn=Zt.player,Er=Zt.element;if(Eo.push(zn),this.collectedEnterElements.length){const Fr=Er[Dr];if(Fr&&Fr.setForMove){if(Fr.previousTriggersValues&&Fr.previousTriggersValues.has(Zt.triggerName)){const oi=Fr.previousTriggersValues.get(Zt.triggerName),pr=this.statesByElement.get(Zt.element);if(pr&&pr.has(Zt.triggerName)){const x=pr.get(Zt.triggerName);x.value=oi,pr.set(Zt.triggerName,x)}}return void zn.destroy()}}const Wr=!un||!this.driver.containsElement(un,Er),ri=Si.get(Er),_s=Pn.get(Er),Kr=this._buildInstruction(Zt,R,_s,ri,Wr);if(Kr.errors&&Kr.errors.length)return void _.push(Kr);if(Wr)return zn.onStart(()=>yi(Er,Kr.fromStyles)),zn.onDestroy(()=>Ei(Er,Kr.toStyles)),void z.push(zn);if(Zt.isFallbackTransition)return zn.onStart(()=>yi(Er,Kr.fromStyles)),zn.onDestroy(()=>Ei(Er,Kr.toStyles)),void z.push(zn);const ea=[];Kr.timelines.forEach(Fr=>{Fr.stretchStartingKeyframe=!0,this.disabledNodes.has(Fr.element)||ea.push(Fr)}),Kr.timelines=ea,R.append(Er,Kr.timelines),be.push({instruction:Kr,player:zn,element:Er}),Kr.queriedElements.forEach(Fr=>Yi(De,Fr,[]).push(zn)),Kr.preStyleProps.forEach((Fr,oi)=>{if(Fr.size){let pr=nt.get(oi);pr||nt.set(oi,pr=new Set),Fr.forEach((x,k)=>pr.add(k))}}),Kr.postStyleProps.forEach((Fr,oi)=>{let pr=lt.get(oi);pr||lt.set(oi,pr=new Set),Fr.forEach((x,k)=>pr.add(k))})});if(_.length){const Pt=[];_.forEach(yt=>{Pt.push(function sr($,m){return new F.vHH(3505,!1)}())}),Eo.forEach(yt=>yt.destroy()),this.reportError(Pt)}const w=new Map,y=new Map;be.forEach(Pt=>{const yt=Pt.element;R.has(yt)&&(y.set(yt,yt),this._beforeAnimationBuild(Pt.player.namespaceId,Pt.instruction,w))}),z.forEach(Pt=>{const yt=Pt.element;this._getPreviousPlayers(yt,!1,Pt.namespaceId,Pt.triggerName,null).forEach(zn=>{Yi(w,yt,[]).push(zn),zn.destroy()})});const T=Cr.filter(Pt=>zr(Pt,nt,lt)),P=new Map;Dn(P,this.driver,ni,lt,Gt.l3).forEach(Pt=>{zr(Pt,nt,lt)&&T.push(Pt)});const le=new Map;Fn.forEach((Pt,yt)=>{Dn(le,this.driver,new Set(Pt),nt,Gt.k1)}),T.forEach(Pt=>{const yt=P.get(Pt),Zt=le.get(Pt);P.set(Pt,new Map([...Array.from(yt?.entries()??[]),...Array.from(Zt?.entries()??[])]))});const ye=[],gt=[],Ht={};be.forEach(Pt=>{const{element:yt,player:Zt,instruction:zn}=Pt;if(R.has(yt)){if(en.has(yt))return Zt.onDestroy(()=>Ei(yt,zn.toStyles)),Zt.disabled=!0,Zt.overrideTotalTime(zn.totalTime),void z.push(Zt);let Er=Ht;if(y.size>1){let ri=yt;const _s=[];for(;ri=ri.parentNode;){const Kr=y.get(ri);if(Kr){Er=Kr;break}_s.push(ri)}_s.forEach(Kr=>y.set(Kr,Er))}const Wr=this._buildAnimation(Zt.namespaceId,zn,w,te,le,P);if(Zt.setRealPlayer(Wr),Er===Ht)ye.push(Zt);else{const ri=this.playersByElement.get(Er);ri&&ri.length&&(Zt.parentPlayer=Jr(ri)),z.push(Zt)}}else yi(yt,zn.fromStyles),Zt.onDestroy(()=>Ei(yt,zn.toStyles)),gt.push(Zt),en.has(yt)&&z.push(Zt)}),gt.forEach(Pt=>{const yt=te.get(Pt.element);if(yt&&yt.length){const Zt=Jr(yt);Pt.setRealPlayer(Zt)}}),z.forEach(Pt=>{Pt.parentPlayer?Pt.syncPlayerEvents(Pt.parentPlayer):Pt.destroy()});for(let Pt=0;Pt<Cr.length;Pt++){const yt=Cr[Pt],Zt=yt[Dr];if(xr(yt,os),Zt&&Zt.hasAnimation)continue;let zn=[];if(De.size){let Wr=De.get(yt);Wr&&Wr.length&&zn.push(...Wr);let ri=this.driver.query(yt,Bi,!0);for(let _s=0;_s<ri.length;_s++){let Kr=De.get(ri[_s]);Kr&&Kr.length&&zn.push(...Kr)}}const Er=zn.filter(Wr=>!Wr.destroyed);Er.length?kn(this,yt,Er):this.processLeaveNode(yt)}return Cr.length=0,ye.forEach(Pt=>{this.players.push(Pt),Pt.onDone(()=>{Pt.destroy();const yt=this.players.indexOf(Pt);this.players.splice(yt,1)}),Pt.play()}),ye}elementContainsData(m,E){let R=!1;const z=E[Dr];return z&&z.setForRemoval&&(R=!0),this.playersByElement.has(E)&&(R=!0),this.playersByQueriedElement.has(E)&&(R=!0),this.statesByElement.has(E)&&(R=!0),this._fetchNamespace(m).elementContainsData(E)||R}afterFlush(m){this._flushFns.push(m)}afterFlushAnimationsDone(m){this._whenQuietFns.push(m)}_getPreviousPlayers(m,E,R,z,te){let be=[];if(E){const De=this.playersByQueriedElement.get(m);De&&(be=De)}else{const De=this.playersByElement.get(m);if(De){const nt=!te||te==la;De.forEach(lt=>{lt.queued||!nt&&lt.triggerName!=z||be.push(lt)})}}return(R||z)&&(be=be.filter(De=>!(R&&R!=De.namespaceId||z&&z!=De.triggerName))),be}_beforeAnimationBuild(m,E,R){const te=E.element,be=E.isRemovalTransition?void 0:m,De=E.isRemovalTransition?void 0:E.triggerName;for(const nt of E.timelines){const lt=nt.element,en=lt!==te,un=Yi(R,lt,[]);this._getPreviousPlayers(lt,en,be,De,E.toState).forEach(Fn=>{const Pn=Fn.getRealPlayer();Pn.beforeDestroy&&Pn.beforeDestroy(),Fn.destroy(),un.push(Fn)})}yi(te,E.fromStyles)}_buildAnimation(m,E,R,z,te,be){const De=E.triggerName,nt=E.element,lt=[],en=new Set,un=new Set,_n=E.timelines.map(Pn=>{const Kn=Pn.element;en.add(Kn);const Cr=Kn[Dr];if(Cr&&Cr.removedBeforeQueried)return new Gt.ZN(Pn.duration,Pn.delay);const Nr=Kn!==nt,ni=function Ro($){const m=[];return or($,m),m}((R.get(Kn)||qt).map(w=>w.getRealPlayer())).filter(w=>!!w.element&&w.element===Kn),Si=te.get(Kn),br=be.get(Kn),Eo=Ns(0,this._normalizer,0,Pn.keyframes,Si,br),_=this._buildPlayer(Pn,Eo,ni);if(Pn.subTimeline&&z&&un.add(Kn),Nr){const w=new _a(m,De,Kn);w.setRealPlayer(_),lt.push(w)}return _});lt.forEach(Pn=>{Yi(this.playersByQueriedElement,Pn.element,[]).push(Pn),Pn.onDone(()=>function ca($,m,E){let R=$.get(m);if(R){if(R.length){const z=R.indexOf(E);R.splice(z,1)}0==R.length&&$.delete(m)}return R}(this.playersByQueriedElement,Pn.element,Pn))}),en.forEach(Pn=>ki(Pn,Ji));const Fn=Jr(_n);return Fn.onDestroy(()=>{en.forEach(Pn=>xr(Pn,Ji)),Ei(nt,E.toStyles)}),un.forEach(Pn=>{Yi(z,Pn,[]).push(Fn)}),Fn}_buildPlayer(m,E,R){return E.length>0?this.driver.animate(m.element,E,m.duration,m.delay,m.easing,R):new Gt.ZN(m.duration,m.delay)}}class _a{constructor(m,E,R){this.namespaceId=m,this.triggerName=E,this.element=R,this._player=new Gt.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(m){this._containsRealPlayer||(this._player=m,this._queuedCallbacks.forEach((E,R)=>{E.forEach(z=>Ui(m,R,void 0,z))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(m.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(m){this.totalTime=m}syncPlayerEvents(m){const E=this._player;E.triggerCallback&&m.onStart(()=>E.triggerCallback("start")),m.onDone(()=>this.finish()),m.onDestroy(()=>this.destroy())}_queueEvent(m,E){Yi(this._queuedCallbacks,m,[]).push(E)}onDone(m){this.queued&&this._queueEvent("done",m),this._player.onDone(m)}onStart(m){this.queued&&this._queueEvent("start",m),this._player.onStart(m)}onDestroy(m){this.queued&&this._queueEvent("destroy",m),this._player.onDestroy(m)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(m){this.queued||this._player.setPosition(m)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(m){const E=this._player;E.triggerCallback&&E.triggerCallback(m)}}function Aa($){return $&&1===$.nodeType}function Ea($,m){const E=$.style.display;return $.style.display=m??"none",E}function Dn($,m,E,R,z){const te=[];E.forEach(nt=>te.push(Ea(nt)));const be=[];R.forEach((nt,lt)=>{const en=new Map;nt.forEach(un=>{const _n=m.computeStyle(lt,un,z);en.set(un,_n),(!_n||0==_n.length)&&(lt[Dr]=Lt,be.push(lt))}),$.set(lt,en)});let De=0;return E.forEach(nt=>Ea(nt,te[De++])),be}function No($,m){const E=new Map;if($.forEach(De=>E.set(De,[])),0==m.length)return E;const z=new Set(m),te=new Map;function be(De){if(!De)return 1;let nt=te.get(De);if(nt)return nt;const lt=De.parentNode;return nt=E.has(lt)?lt:z.has(lt)?1:be(lt),te.set(De,nt),nt}return m.forEach(De=>{const nt=be(De);1!==nt&&E.get(nt).push(De)}),E}function ki($,m){$.classList?.add(m)}function xr($,m){$.classList?.remove(m)}function kn($,m,E){Jr(E).onDone(()=>$.processLeaveNode(m))}function or($,m){for(let E=0;E<$.length;E++){const R=$[E];R instanceof Gt.ZE?or(R.players,m):m.push(R)}}function zr($,m,E){const R=E.get($);if(!R)return!1;let z=m.get($);return z?R.forEach(te=>z.add(te)):m.set($,R),E.delete($),!0}class zt{constructor(m,E,R){this.bodyNode=m,this._driver=E,this._normalizer=R,this._triggerCache={},this.onRemovalComplete=(z,te)=>{},this._transitionEngine=new Uo(m,E,R),this._timelineEngine=new Bt(m,E,R),this._transitionEngine.onRemovalComplete=(z,te)=>this.onRemovalComplete(z,te)}registerTrigger(m,E,R,z,te){const be=m+"-"+z;let De=this._triggerCache[be];if(!De){const nt=[],en=O(this._driver,te,nt,[]);if(nt.length)throw function es($,m){return new F.vHH(3404,!1)}();De=function $r($,m,E){return new Ts($,m,E)}(z,en,this._normalizer),this._triggerCache[be]=De}this._transitionEngine.registerTrigger(E,z,De)}register(m,E){this._transitionEngine.register(m,E)}destroy(m,E){this._transitionEngine.destroy(m,E)}onInsert(m,E,R,z){this._transitionEngine.insertNode(m,E,R,z)}onRemove(m,E,R,z){this._transitionEngine.removeNode(m,E,z||!1,R)}disableAnimations(m,E){this._transitionEngine.markElementAsDisabled(m,E)}process(m,E,R,z){if("@"==R.charAt(0)){const[te,be]=Rs(R);this._timelineEngine.command(te,E,be,z)}else this._transitionEngine.trigger(m,E,R,z)}listen(m,E,R,z,te){if("@"==R.charAt(0)){const[be,De]=Rs(R);return this._timelineEngine.listen(be,E,De,te)}return this._transitionEngine.listen(m,E,R,z,te)}flush(m=-1){this._transitionEngine.flush(m)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Ma=(()=>{class ${constructor(E,R,z){this._element=E,this._startStyles=R,this._endStyles=z,this._state=0;let te=$.initialStylesByElement.get(E);te||$.initialStylesByElement.set(E,te=new Map),this._initialStyles=te}start(){this._state<1&&(this._startStyles&&Ei(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ei(this._element,this._initialStyles),this._endStyles&&(Ei(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&($.initialStylesByElement.delete(this._element),this._startStyles&&(yi(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(yi(this._element,this._endStyles),this._endStyles=null),Ei(this._element,this._initialStyles),this._state=3)}}return $.initialStylesByElement=new WeakMap,$})();function Us($){let m=null;return $.forEach((E,R)=>{(function Bo($){return"display"===$||"position"===$})(R)&&(m=m||new Map,m.set(R,E))}),m}class Bs{constructor(m,E,R,z){this.element=m,this.keyframes=E,this.options=R,this._specialStyles=z,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=R.duration,this._delay=R.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(m=>m()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const m=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,m,this.options),this._finalKeyframe=m.length?m[m.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(m){const E=[];return m.forEach(R=>{E.push(Object.fromEntries(R))}),E}_triggerWebAnimation(m,E,R){return m.animate(this._convertKeyframesToObject(E),R)}onStart(m){this._originalOnStartFns.push(m),this._onStartFns.push(m)}onDone(m){this._originalOnDoneFns.push(m),this._onDoneFns.push(m)}onDestroy(m){this._onDestroyFns.push(m)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(m=>m()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(m=>m()),this._onDestroyFns=[])}setPosition(m){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=m*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const m=new Map;this.hasStarted()&&this._finalKeyframe.forEach((R,z)=>{"offset"!==z&&m.set(z,this._finished?R:si(this.element,z))}),this.currentSnapshot=m}triggerCallback(m){const E="start"===m?this._onStartFns:this._onDoneFns;E.forEach(R=>R()),E.length=0}}class cu{validateStyleProperty(m){return!0}validateAnimatableStyleProperty(m){return!0}matchesElement(m,E){return!1}containsElement(m,E){return Qi(m,E)}getParentElement(m){return Ds(m)}query(m,E,R){return bs(m,E,R)}computeStyle(m,E,R){return window.getComputedStyle(m)[E]}animate(m,E,R,z,te,be=[]){const nt={duration:R,delay:z,fill:0==z?"both":"forwards"};te&&(nt.easing=te);const lt=new Map,en=be.filter(Fn=>Fn instanceof Bs);(function Vo($,m){return 0===$||0===m})(R,z)&&en.forEach(Fn=>{Fn.currentSnapshot.forEach((Pn,Kn)=>lt.set(Kn,Pn))});let un=function bo($){return $.length?$[0]instanceof Map?$:$.map(m=>Ar(m)):[]}(E).map(Fn=>ci(Fn));un=function no($,m,E){if(E.size&&m.length){let R=m[0],z=[];if(E.forEach((te,be)=>{R.has(be)||z.push(be),R.set(be,te)}),z.length)for(let te=1;te<m.length;te++){let be=m[te];z.forEach(De=>be.set(De,si($,De)))}}return m}(m,un,lt);const _n=function Ys($,m){let E=null,R=null;return Array.isArray(m)&&m.length?(E=Us(m[0]),m.length>1&&(R=Us(m[m.length-1]))):m instanceof Map&&(E=Us(m)),E||R?new Ma($,E,R):null}(m,un);return new Bs(m,un,nt,_n)}}let vo=(()=>{class $ extends Gt._j{constructor(E,R){super(),this._nextAnimationId=0,this._renderer=E.createRenderer(R.body,{id:"0",encapsulation:F.ifc.None,styles:[],data:{animation:[]}})}build(E){const R=this._nextAnimationId.toString();this._nextAnimationId++;const z=Array.isArray(E)?(0,Gt.vP)(E):E;return us(this._renderer,null,R,"register",[z]),new da(R,this._renderer)}}return $.\u0275fac=function(E){return new(E||$)(F.LFG(F.FYo),F.LFG(he.K0))},$.\u0275prov=F.Yz7({token:$,factory:$.\u0275fac}),$})();class da extends Gt.LC{constructor(m,E){super(),this._id=m,this._renderer=E}create(m,E){return new jo(this._id,m,E||{},this._renderer)}}class jo{constructor(m,E,R,z){this.id=m,this.element=E,this._renderer=z,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",R)}_listen(m,E){return this._renderer.listen(this.element,`@@${this.id}:${m}`,E)}_command(m,...E){return us(this._renderer,this.element,this.id,m,E)}onDone(m){this._listen("done",m)}onStart(m){this._listen("start",m)}onDestroy(m){this._listen("destroy",m)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(m){this._command("setPosition",m)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function us($,m,E,R,z){return $.setProperty(m,`@@${E}:${R}`,z)}const $o="@.disabled";let Va=(()=>{class ${constructor(E,R,z){this.delegate=E,this.engine=R,this._zone=z,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),R.onRemovalComplete=(te,be)=>{const De=be?.parentNode(te);De&&be.removeChild(De,te)}}createRenderer(E,R){const te=this.delegate.createRenderer(E,R);if(!(E&&R&&R.data&&R.data.animation)){let en=this._rendererCache.get(te);return en||(en=new gs("",te,this.engine),this._rendererCache.set(te,en)),en}const be=R.id,De=R.id+"-"+this._currentId;this._currentId++,this.engine.register(De,E);const nt=en=>{Array.isArray(en)?en.forEach(nt):this.engine.registerTrigger(be,De,E,en.name,en)};return R.data.animation.forEach(nt),new Jo(this,De,te,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(E,R,z){E>=0&&E<this._microtaskId?this._zone.run(()=>R(z)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(te=>{const[be,De]=te;be(De)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([R,z]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return $.\u0275fac=function(E){return new(E||$)(F.LFG(F.FYo),F.LFG(zt),F.LFG(F.R0b))},$.\u0275prov=F.Yz7({token:$,factory:$.\u0275fac}),$})();class gs{constructor(m,E,R){this.namespaceId=m,this.delegate=E,this.engine=R,this.destroyNode=this.delegate.destroyNode?z=>E.destroyNode(z):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(m,E){return this.delegate.createElement(m,E)}createComment(m){return this.delegate.createComment(m)}createText(m){return this.delegate.createText(m)}appendChild(m,E){this.delegate.appendChild(m,E),this.engine.onInsert(this.namespaceId,E,m,!1)}insertBefore(m,E,R,z=!0){this.delegate.insertBefore(m,E,R),this.engine.onInsert(this.namespaceId,E,m,z)}removeChild(m,E,R){this.engine.onRemove(this.namespaceId,E,this.delegate,R)}selectRootElement(m,E){return this.delegate.selectRootElement(m,E)}parentNode(m){return this.delegate.parentNode(m)}nextSibling(m){return this.delegate.nextSibling(m)}setAttribute(m,E,R,z){this.delegate.setAttribute(m,E,R,z)}removeAttribute(m,E,R){this.delegate.removeAttribute(m,E,R)}addClass(m,E){this.delegate.addClass(m,E)}removeClass(m,E){this.delegate.removeClass(m,E)}setStyle(m,E,R,z){this.delegate.setStyle(m,E,R,z)}removeStyle(m,E,R){this.delegate.removeStyle(m,E,R)}setProperty(m,E,R){"@"==E.charAt(0)&&E==$o?this.disableAnimations(m,!!R):this.delegate.setProperty(m,E,R)}setValue(m,E){this.delegate.setValue(m,E)}listen(m,E,R){return this.delegate.listen(m,E,R)}disableAnimations(m,E){this.engine.disableAnimations(m,E)}}class Jo extends gs{constructor(m,E,R,z){super(E,R,z),this.factory=m,this.namespaceId=E}setProperty(m,E,R){"@"==E.charAt(0)?"."==E.charAt(1)&&E==$o?this.disableAnimations(m,R=void 0===R||!!R):this.engine.process(this.namespaceId,m,E.slice(1),R):this.delegate.setProperty(m,E,R)}listen(m,E,R){if("@"==E.charAt(0)){const z=function et($){switch($){case"body":return document.body;case"document":return document;case"window":return window;default:return $}}(m);let te=E.slice(1),be="";return"@"!=te.charAt(0)&&([te,be]=function _o($){const m=$.indexOf(".");return[$.substring(0,m),$.slice(m+1)]}(te)),this.engine.listen(this.namespaceId,z,te,be,De=>{this.factory.scheduleListenerCallback(De._data||-1,R,De)})}return this.delegate.listen(m,E,R)}}const ms=[{provide:Gt._j,useClass:vo},{provide:mt,useFactory:function wa(){return new vr}},{provide:zt,useClass:(()=>{class $ extends zt{constructor(E,R,z,te){super(E.body,R,z)}ngOnDestroy(){this.flush()}}return $.\u0275fac=function(E){return new(E||$)(F.LFG(he.K0),F.LFG(Qn),F.LFG(mt),F.LFG(F.z2F))},$.\u0275prov=F.Yz7({token:$,factory:$.\u0275fac}),$})()},{provide:F.FYo,useFactory:function Xo($,m,E){return new Va($,m,E)},deps:[c.se,zt,F.R0b]}],ys=[{provide:Qn,useFactory:()=>new cu},{provide:F.QbO,useValue:"BrowserAnimations"},...ms],oo=[{provide:Qn,useClass:ds},{provide:F.QbO,useValue:"NoopAnimations"},...ms];let kr=(()=>{class ${static withConfig(E){return{ngModule:$,providers:E.disableAnimations?oo:ys}}}return $.\u0275fac=function(E){return new(E||$)},$.\u0275mod=F.oAB({type:$}),$.\u0275inj=F.cJS({providers:ys,imports:[c.b2]}),$})();var vs=U(5269);let xu=(()=>{class ${}return $.\u0275fac=function(E){return new(E||$)},$.\u0275mod=F.oAB({type:$,bootstrap:[ft]}),$.\u0275inj=F.cJS({imports:[c.b2,ve,H.Bz,vs.ComponentsModule,Vt.u5,st,me.hO,Ee.yb,Vt.UX,pn.Rh.forRoot(),kr,me.hO.initializeApp(dt)]}),$})();(0,F.G48)(),c.q6().bootstrapModule(xu).catch($=>console.error($))},5867:(Jt,tt,U)=>{U.d(tt,{C6:()=>c.getApps,KN:()=>c.registerVersion,Mq:()=>c.getApp});var c=U(9681);(0,c.registerVersion)("firebase","9.10.0","app")},127:(Jt,tt,U)=>{U.d(tt,{Z:()=>c.Z});var c=U(3942);c.Z.registerVersion("firebase","9.10.0","app-compat")},5881:(Jt,tt,U)=>{U.r(tt);var c=U(5861),F=U(3942),H=U(7143),we=U(2090),Me=(U(9681),U(1877),U(4859));function he(){return window}function fe(){return(fe=(0,c.Z)(function*(Ue,me,Ee){var dt;const{BuildInfo:Vt}=he();(0,H.aq)(me.sessionId,"AuthEvent did not contain a session ID");const pn=yield Ze(me.sessionId),Gt={};return(0,H.ar)()?Gt.ibi=Vt.packageName:(0,H.as)()?Gt.apn=Vt.packageName:(0,H.at)(Ue,"operation-not-supported-in-this-environment"),Vt.displayName&&(Gt.appDisplayName=Vt.displayName),Gt.sessionId=pn,(0,H.au)(Ue,Ee,me.type,void 0,null!==(dt=me.eventId)&&void 0!==dt?dt:void 0,Gt)})).apply(this,arguments)}function ft(){return(ft=(0,c.Z)(function*(Ue){const{BuildInfo:me}=he(),Ee={};(0,H.ar)()?Ee.iosBundleId=me.packageName:(0,H.as)()?Ee.androidPackageName=me.packageName:(0,H.at)(Ue,"operation-not-supported-in-this-environment"),yield(0,H.av)(Ue,Ee)})).apply(this,arguments)}function jt(){return(jt=(0,c.Z)(function*(Ue,me,Ee){const{cordova:dt}=he();let Vt=()=>{};try{yield new Promise((pn,Gt)=>{let ue=null;function de(){var rt;pn();const Kt=null===(rt=dt.plugins.browsertab)||void 0===rt?void 0:rt.close;"function"==typeof Kt&&Kt(),"function"==typeof Ee?.close&&Ee.close()}function ie(){ue||(ue=window.setTimeout(()=>{Gt((0,H.aw)(Ue,"redirect-cancelled-by-user"))},2e3))}function Le(){"visible"===document?.visibilityState&&ie()}me.addPassiveListener(de),document.addEventListener("resume",ie,!1),(0,H.as)()&&document.addEventListener("visibilitychange",Le,!1),Vt=()=>{me.removePassiveListener(de),document.removeEventListener("resume",ie,!1),document.removeEventListener("visibilitychange",Le,!1),ue&&window.clearTimeout(ue)}})}finally{Vt()}})).apply(this,arguments)}function Ze(Ue){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,c.Z)(function*(Ue){const me=Ct(Ue),Ee=yield crypto.subtle.digest("SHA-256",me);return Array.from(new Uint8Array(Ee)).map(Vt=>Vt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ct(Ue){if((0,H.aq)(/[0-9a-zA-Z]+/.test(Ue),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(Ue);const me=new ArrayBuffer(Ue.length),Ee=new Uint8Array(me);for(let dt=0;dt<Ue.length;dt++)Ee[dt]=Ue.charCodeAt(dt);return Ee}class Ae extends H.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(me=>{this.resolveInialized=me})}addPassiveListener(me){this.passiveListeners.add(me)}removePassiveListener(me){this.passiveListeners.delete(me)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(me){return this.resolveInialized(),this.passiveListeners.forEach(Ee=>Ee(me)),super.onEvent(me)}initialized(){var me=this;return(0,c.Z)(function*(){yield me.initPromise})()}}function Re(Ue){return ze.apply(this,arguments)}function ze(){return(ze=(0,c.Z)(function*(Ue){const me=yield Oe()._get(Be(Ue));return me&&(yield Oe()._remove(Be(Ue))),me})).apply(this,arguments)}function Te(){const Ue=[],me="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let Ee=0;Ee<20;Ee++){const dt=Math.floor(Math.random()*me.length);Ue.push(me.charAt(dt))}return Ue.join("")}function Oe(){return(0,H.ay)(H.b)}function Be(Ue){return(0,H.az)("authEvent",Ue.config.apiKey,Ue.name)}function xt(Ue){if(!Ue?.includes("?"))return{};const[me,...Ee]=Ue.split("?");return(0,we.zd)(Ee.join("?"))}function _t(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,H.aw)("no-auth-event")}}function Se(){var Ue;return(null===(Ue=self?.location)||void 0===Ue?void 0:Ue.protocol)||null}function $t(Ue=(0,we.z$)()){return!("file:"!==Se()&&"ionic:"!==Se()&&"capacitor:"!==Se()||!Ue.toLowerCase().match(/iphone|ipad|ipod|android/))}function gr(){try{const Ue=self.localStorage,me=H.aI();if(Ue)return Ue.setItem(me,"1"),Ue.removeItem(me),!function cr(Ue=(0,we.z$)()){return function Yn(){return(0,we.w1)()&&11===document?.documentMode}()||function $n(Ue=(0,we.z$)()){return/Edge\/\d+/.test(Ue)}(Ue)}()||(0,we.hl)()}catch{return Xt()&&(0,we.hl)()}return!1}function Xt(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function On(){return(function je(){return"http:"===Se()||"https:"===Se()}()||(0,we.ru)()||$t())&&!function mn(){return(0,we.b$)()||(0,we.UG)()}()&&gr()&&!Xt()}function Rr(){return $t()&&typeof document<"u"}function Ft(){return(Ft=(0,c.Z)(function*(){return!!Rr()&&new Promise(Ue=>{const me=setTimeout(()=>{Ue(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(me),Ue(!0)})})})).apply(this,arguments)}const wn={LOCAL:"local",NONE:"none",SESSION:"session"},qn=H.ax,Tr="persistence";function Ir(Ue){return xn.apply(this,arguments)}function xn(){return(xn=(0,c.Z)(function*(Ue){yield Ue._initializationPromise;const me=on(),Ee=H.az(Tr,Ue.config.apiKey,Ue.name);me&&me.setItem(Ee,Ue._getPersistence())})).apply(this,arguments)}function on(){var Ue;try{return(null===(Ue=function An(){return typeof window<"u"?window:null}())||void 0===Ue?void 0:Ue.sessionStorage)||null}catch{return null}}const cn=H.ax;class bn{constructor(){this.browserResolver=H.ay(H.k),this.cordovaResolver=H.ay(class Wt{constructor(){this._redirectPersistence=H.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=H.aB,this._overrideRedirectResult=H.aC}_initialize(me){var Ee=this;return(0,c.Z)(function*(){const dt=me._key();let Vt=Ee.eventManagers.get(dt);return Vt||(Vt=new Ae(me),Ee.eventManagers.set(dt,Vt),Ee.attachCallbackListeners(me,Vt)),Vt})()}_openPopup(me){(0,H.at)(me,"operation-not-supported-in-this-environment")}_openRedirect(me,Ee,dt,Vt){var pn=this;return(0,c.Z)(function*(){!function Ye(Ue){var me,Ee,dt,Vt,pn,Gt,ue,de,ie,Le;const rt=he();(0,H.ax)("function"==typeof(null===(me=rt?.universalLinks)||void 0===me?void 0:me.subscribe),Ue,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,H.ax)(typeof(null===(Ee=rt?.BuildInfo)||void 0===Ee?void 0:Ee.packageName)<"u",Ue,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,H.ax)("function"==typeof(null===(pn=null===(Vt=null===(dt=rt?.cordova)||void 0===dt?void 0:dt.plugins)||void 0===Vt?void 0:Vt.browsertab)||void 0===pn?void 0:pn.openUrl),Ue,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,H.ax)("function"==typeof(null===(de=null===(ue=null===(Gt=rt?.cordova)||void 0===Gt?void 0:Gt.plugins)||void 0===ue?void 0:ue.browsertab)||void 0===de?void 0:de.isAvailable),Ue,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,H.ax)("function"==typeof(null===(Le=null===(ie=rt?.cordova)||void 0===ie?void 0:ie.InAppBrowser)||void 0===Le?void 0:Le.open),Ue,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(me);const Gt=yield pn._initialize(me);yield Gt.initialized(),Gt.resetRedirect(),(0,H.aD)(),yield pn._originValidation(me);const ue=function Ke(Ue,me,Ee=null){return{type:me,eventId:Ee,urlResponse:null,sessionId:Te(),postBody:null,tenantId:Ue.tenantId,error:(0,H.aw)(Ue,"no-auth-event")}}(me,dt,Vt);yield function St(Ue,me){return Oe()._set(Be(Ue),me)}(me,ue);const de=yield function se(Ue,me,Ee){return fe.apply(this,arguments)}(me,ue,Ee),ie=yield function ct(Ue){const{cordova:me}=he();return new Promise(Ee=>{me.plugins.browsertab.isAvailable(dt=>{let Vt=null;dt?me.plugins.browsertab.openUrl(Ue):Vt=me.InAppBrowser.open(Ue,(0,H.ap)()?"_blank":"_system","location=yes"),Ee(Vt)})})}(de);return function Je(Ue,me,Ee){return jt.apply(this,arguments)}(me,Gt,ie)})()}_isIframeWebStorageSupported(me,Ee){throw new Error("Method not implemented.")}_originValidation(me){const Ee=me._key();return this.originValidationPromises[Ee]||(this.originValidationPromises[Ee]=function xe(Ue){return ft.apply(this,arguments)}(me)),this.originValidationPromises[Ee]}attachCallbackListeners(me,Ee){const{universalLinks:dt,handleOpenURL:Vt,BuildInfo:pn}=he(),Gt=setTimeout((0,c.Z)(function*(){yield Re(me),Ee.onEvent(_t())}),500),ue=function(){var Le=(0,c.Z)(function*(rt){clearTimeout(Gt);const Kt=yield Re(me);let Tn=null;Kt&&rt?.url&&(Tn=function st(Ue,me){var Ee,dt;const Vt=function wt(Ue){const me=xt(Ue),Ee=me.link?decodeURIComponent(me.link):void 0,dt=xt(Ee).link,Vt=me.deep_link_id?decodeURIComponent(me.deep_link_id):void 0;return xt(Vt).link||Vt||dt||Ee||Ue}(me);if(Vt.includes("/__/auth/callback")){const pn=xt(Vt),Gt=pn.firebaseError?function $e(Ue){try{return JSON.parse(Ue)}catch{return null}}(decodeURIComponent(pn.firebaseError)):null,ue=null===(dt=null===(Ee=Gt?.code)||void 0===Ee?void 0:Ee.split("auth/"))||void 0===dt?void 0:dt[1],de=ue?(0,H.aw)(ue):null;return de?{type:Ue.type,eventId:Ue.eventId,tenantId:Ue.tenantId,error:de,urlResponse:null,sessionId:null,postBody:null}:{type:Ue.type,eventId:Ue.eventId,tenantId:Ue.tenantId,sessionId:Ue.sessionId,urlResponse:Vt,postBody:null}}return null}(Kt,rt.url)),Ee.onEvent(Tn||_t())});return function(Kt){return Le.apply(this,arguments)}}();typeof dt<"u"&&"function"==typeof dt.subscribe&&dt.subscribe(null,ue);const de=Vt,ie=`${pn.packageName.toLowerCase()}://`;he().handleOpenURL=function(){var Le=(0,c.Z)(function*(rt){if(rt.toLowerCase().startsWith(ie)&&ue({url:rt}),"function"==typeof de)try{de(rt)}catch(Kt){console.error(Kt)}});return function(rt){return Le.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=H.a,this._completeRedirectFn=H.aB,this._overrideRedirectResult=H.aC}_initialize(me){var Ee=this;return(0,c.Z)(function*(){return yield Ee.selectUnderlyingResolver(),Ee.assertedUnderlyingResolver._initialize(me)})()}_openPopup(me,Ee,dt,Vt){var pn=this;return(0,c.Z)(function*(){return yield pn.selectUnderlyingResolver(),pn.assertedUnderlyingResolver._openPopup(me,Ee,dt,Vt)})()}_openRedirect(me,Ee,dt,Vt){var pn=this;return(0,c.Z)(function*(){return yield pn.selectUnderlyingResolver(),pn.assertedUnderlyingResolver._openRedirect(me,Ee,dt,Vt)})()}_isIframeWebStorageSupported(me,Ee){this.assertedUnderlyingResolver._isIframeWebStorageSupported(me,Ee)}_originValidation(me){return this.assertedUnderlyingResolver._originValidation(me)}get _shouldInitProactively(){return Rr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return cn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var me=this;return(0,c.Z)(function*(){if(me.underlyingResolver)return;const Ee=yield function dr(){return Ft.apply(this,arguments)}();me.underlyingResolver=Ee?me.cordovaResolver:me.browserResolver})()}}function Or(Ue){return Ue.unwrap()}function qr(Ue){return ii(Ue)}function ii(Ue){const{_tokenResponse:me}=Ue instanceof we.ZR?Ue.customData:Ue;if(!me)return null;if(!(Ue instanceof we.ZR)&&"temporaryProof"in me&&"phoneNumber"in me)return H.P.credentialFromResult(Ue);const Ee=me.providerId;if(!Ee||Ee===H.o.PASSWORD)return null;let dt;switch(Ee){case H.o.GOOGLE:dt=H.Q;break;case H.o.FACEBOOK:dt=H.N;break;case H.o.GITHUB:dt=H.T;break;case H.o.TWITTER:dt=H.W;break;default:const{oauthIdToken:Vt,oauthAccessToken:pn,oauthTokenSecret:Gt,pendingToken:ue,nonce:de}=me;return pn||Gt||Vt||ue?ue?Ee.startsWith("saml.")?H.aL._create(Ee,ue):H.J._fromParams({providerId:Ee,signInMethod:Ee,pendingToken:ue,idToken:Vt,accessToken:pn}):new H.U(Ee).credential({idToken:Vt,accessToken:pn,rawNonce:de}):null}return Ue instanceof we.ZR?dt.credentialFromError(Ue):dt.credentialFromResult(Ue)}function Mn(Ue,me){return me.catch(Ee=>{throw Ee instanceof we.ZR&&function En(Ue,me){var Ee,dt;const Vt=null===(Ee=me.customData)||void 0===Ee?void 0:Ee._tokenResponse;if("auth/multi-factor-auth-required"===(null===(dt=me)||void 0===dt?void 0:dt.code))me.resolver=new Ne(Ue,H.an(Ue,me));else if(Vt){const pn=ii(me),Gt=me;pn&&(Gt.credential=pn,Gt.tenantId=Vt.tenantId||void 0,Gt.email=Vt.email||void 0,Gt.phoneNumber=Vt.phoneNumber||void 0)}}(Ue,Ee),Ee}).then(Ee=>{const Vt=Ee.user;return{operationType:Ee.operationType,credential:qr(Ee),additionalUserInfo:H.al(Ee),user:ce.getOrCreate(Vt)}})}function pi(Ue,me){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,c.Z)(function*(Ue,me){const Ee=yield me;return{verificationId:Ee.verificationId,confirm:dt=>Mn(Ue,Ee.confirm(dt))}})).apply(this,arguments)}class Ne{constructor(me,Ee){this.resolver=Ee,this.auth=function hr(Ue){return Ue.wrapped()}(me)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(me){return Mn(Or(this.auth),this.resolver.resolveSignIn(me))}}class ce{constructor(me){this._delegate=me,this.multiFactor=H.ao(me)}static getOrCreate(me){return ce.USER_MAP.has(me)||ce.USER_MAP.set(me,new ce(me)),ce.USER_MAP.get(me)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(me){return this._delegate.getIdTokenResult(me)}getIdToken(me){return this._delegate.getIdToken(me)}linkAndRetrieveDataWithCredential(me){return this.linkWithCredential(me)}linkWithCredential(me){var Ee=this;return(0,c.Z)(function*(){return Mn(Ee.auth,H.Z(Ee._delegate,me))})()}linkWithPhoneNumber(me,Ee){var dt=this;return(0,c.Z)(function*(){return pi(dt.auth,H.l(dt._delegate,me,Ee))})()}linkWithPopup(me){var Ee=this;return(0,c.Z)(function*(){return Mn(Ee.auth,H.d(Ee._delegate,me,bn))})()}linkWithRedirect(me){var Ee=this;return(0,c.Z)(function*(){return yield Ir(H.aE(Ee.auth)),H.g(Ee._delegate,me,bn)})()}reauthenticateAndRetrieveDataWithCredential(me){return this.reauthenticateWithCredential(me)}reauthenticateWithCredential(me){var Ee=this;return(0,c.Z)(function*(){return Mn(Ee.auth,H._(Ee._delegate,me))})()}reauthenticateWithPhoneNumber(me,Ee){return pi(this.auth,H.r(this._delegate,me,Ee))}reauthenticateWithPopup(me){return Mn(this.auth,H.e(this._delegate,me,bn))}reauthenticateWithRedirect(me){var Ee=this;return(0,c.Z)(function*(){return yield Ir(H.aE(Ee.auth)),H.h(Ee._delegate,me,bn)})()}sendEmailVerification(me){return H.ab(this._delegate,me)}unlink(me){var Ee=this;return(0,c.Z)(function*(){return yield H.ak(Ee._delegate,me),Ee})()}updateEmail(me){return H.ag(this._delegate,me)}updatePassword(me){return H.ah(this._delegate,me)}updatePhoneNumber(me){return H.u(this._delegate,me)}updateProfile(me){return H.af(this._delegate,me)}verifyBeforeUpdateEmail(me,Ee){return H.ac(this._delegate,me,Ee)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ce.USER_MAP=new WeakMap;const pe=H.ax;let Ie=(()=>{class Ue{constructor(Ee,dt){if(this.app=Ee,dt.isInitialized())return this._delegate=dt.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Vt}=Ee.options;pe(Vt,"invalid-api-key",{appName:Ee.name}),pe(Vt,"invalid-api-key",{appName:Ee.name});const pn=typeof window<"u"?bn:void 0;this._delegate=dt.initialize({options:{persistence:j(Vt,Ee.name),popupRedirectResolver:pn}}),this._delegate._updateErrorMap(H.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ce.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(Ee){this._delegate.languageCode=Ee}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(Ee){this._delegate.tenantId=Ee}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(Ee,dt){H.G(this._delegate,Ee,dt)}applyActionCode(Ee){return H.a2(this._delegate,Ee)}checkActionCode(Ee){return H.a3(this._delegate,Ee)}confirmPasswordReset(Ee,dt){return H.a1(this._delegate,Ee,dt)}createUserWithEmailAndPassword(Ee,dt){var Vt=this;return(0,c.Z)(function*(){return Mn(Vt._delegate,H.a5(Vt._delegate,Ee,dt))})()}fetchProvidersForEmail(Ee){return this.fetchSignInMethodsForEmail(Ee)}fetchSignInMethodsForEmail(Ee){return H.aa(this._delegate,Ee)}isSignInWithEmailLink(Ee){return H.a8(this._delegate,Ee)}getRedirectResult(){var Ee=this;return(0,c.Z)(function*(){pe(On(),Ee._delegate,"operation-not-supported-in-this-environment");const dt=yield H.j(Ee._delegate,bn);return dt?Mn(Ee._delegate,Promise.resolve(dt)):{credential:null,user:null}})()}addFrameworkForLogging(Ee){!function tn(Ue,me){(0,H.aE)(Ue)._logFramework(me)}(this._delegate,Ee)}onAuthStateChanged(Ee,dt,Vt){const{next:pn,error:Gt,complete:ue}=ee(Ee,dt,Vt);return this._delegate.onAuthStateChanged(pn,Gt,ue)}onIdTokenChanged(Ee,dt,Vt){const{next:pn,error:Gt,complete:ue}=ee(Ee,dt,Vt);return this._delegate.onIdTokenChanged(pn,Gt,ue)}sendSignInLinkToEmail(Ee,dt){return H.a7(this._delegate,Ee,dt)}sendPasswordResetEmail(Ee,dt){return H.a0(this._delegate,Ee,dt||void 0)}setPersistence(Ee){var dt=this;return(0,c.Z)(function*(){let Vt;switch(function Oi(Ue,me){qn(Object.values(wn).includes(me),Ue,"invalid-persistence-type"),(0,we.b$)()?qn(me!==wn.SESSION,Ue,"unsupported-persistence-type"):(0,we.UG)()?qn(me===wn.NONE,Ue,"unsupported-persistence-type"):Xt()?qn(me===wn.NONE||me===wn.LOCAL&&(0,we.hl)(),Ue,"unsupported-persistence-type"):qn(me===wn.NONE||gr(),Ue,"unsupported-persistence-type")}(dt._delegate,Ee),Ee){case wn.SESSION:Vt=H.a;break;case wn.LOCAL:Vt=(yield H.ay(H.i)._isAvailable())?H.i:H.b;break;case wn.NONE:Vt=H.L;break;default:return H.at("argument-error",{appName:dt._delegate.name})}return dt._delegate.setPersistence(Vt)})()}signInAndRetrieveDataWithCredential(Ee){return this.signInWithCredential(Ee)}signInAnonymously(){return Mn(this._delegate,H.X(this._delegate))}signInWithCredential(Ee){return Mn(this._delegate,H.Y(this._delegate,Ee))}signInWithCustomToken(Ee){return Mn(this._delegate,H.$(this._delegate,Ee))}signInWithEmailAndPassword(Ee,dt){return Mn(this._delegate,H.a6(this._delegate,Ee,dt))}signInWithEmailLink(Ee,dt){return Mn(this._delegate,H.a9(this._delegate,Ee,dt))}signInWithPhoneNumber(Ee,dt){return pi(this._delegate,H.s(this._delegate,Ee,dt))}signInWithPopup(Ee){var dt=this;return(0,c.Z)(function*(){return pe(On(),dt._delegate,"operation-not-supported-in-this-environment"),Mn(dt._delegate,H.c(dt._delegate,Ee,bn))})()}signInWithRedirect(Ee){var dt=this;return(0,c.Z)(function*(){return pe(On(),dt._delegate,"operation-not-supported-in-this-environment"),yield Ir(dt._delegate),H.f(dt._delegate,Ee,bn)})()}updateCurrentUser(Ee){return this._delegate.updateCurrentUser(Ee)}verifyPasswordResetCode(Ee){return H.a4(this._delegate,Ee)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return Ue.Persistence=wn,Ue})();function ee(Ue,me,Ee){let dt=Ue;"function"!=typeof Ue&&({next:dt,error:me,complete:Ee}=Ue);const Vt=dt;return{next:Gt=>Vt(Gt&&ce.getOrCreate(Gt)),error:me,complete:Ee}}function j(Ue,me){const Ee=function Bn(Ue,me){const Ee=on();if(!Ee)return[];const dt=H.az(Tr,Ue,me);switch(Ee.getItem(dt)){case wn.NONE:return[H.L];case wn.LOCAL:return[H.i,H.a];case wn.SESSION:return[H.a];default:return[]}}(Ue,me);if(typeof self<"u"&&!Ee.includes(H.i)&&Ee.push(H.i),typeof window<"u")for(const dt of[H.b,H.a])Ee.includes(dt)||Ee.push(dt);return Ee.includes(H.L)||Ee.push(H.L),Ee}class X{constructor(){this.providerId="phone",this._delegate=new H.P(Or(F.Z.auth()))}static credential(me,Ee){return H.P.credential(me,Ee)}verifyPhoneNumber(me,Ee){return this._delegate.verifyPhoneNumber(me,Ee)}unwrap(){return this._delegate}}X.PHONE_SIGN_IN_METHOD=H.P.PHONE_SIGN_IN_METHOD,X.PROVIDER_ID=H.P.PROVIDER_ID;const Ve=H.ax;class It{constructor(me,Ee,dt=F.Z.app()){var Vt;Ve(null===(Vt=dt.options)||void 0===Vt?void 0:Vt.apiKey,"invalid-api-key",{appName:dt.name}),this._delegate=new H.R(me,Ee,dt.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Vn(Ue){Ue.INTERNAL.registerComponent(new Me.wA("auth-compat",me=>{const Ee=me.getProvider("app-compat").getImmediate(),dt=me.getProvider("auth");return new Ie(Ee,dt)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:H.A.EMAIL_SIGNIN,PASSWORD_RESET:H.A.PASSWORD_RESET,RECOVER_EMAIL:H.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:H.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:H.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:H.A.VERIFY_EMAIL}},EmailAuthProvider:H.M,FacebookAuthProvider:H.N,GithubAuthProvider:H.T,GoogleAuthProvider:H.Q,OAuthProvider:H.U,SAMLAuthProvider:H.V,PhoneAuthProvider:X,PhoneMultiFactorGenerator:H.m,RecaptchaVerifier:It,TwitterAuthProvider:H.W,Auth:Ie,AuthCredential:H.H,Error:we.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Ue.registerVersion("@firebase/auth-compat","0.2.20")}(F.Z)},2731:(Jt,tt,U)=>{U.d(tt,{ET:()=>c.ET,hJ:()=>c.hJ});var c=U(5525)},9751:(Jt,tt,U)=>{U.d(tt,{y:()=>he});var c=U(2961),F=U(727),H=U(8822),we=U(9635),ve=U(2416),Pe=U(576),Me=U(2806);let he=(()=>{class xe{constructor(ct){ct&&(this._subscribe=ct)}lift(ct){const Je=new xe;return Je.source=this,Je.operator=ct,Je}subscribe(ct,Je,jt){const Ye=function fe(xe){return xe&&xe instanceof c.Lv||function se(xe){return xe&&(0,Pe.m)(xe.next)&&(0,Pe.m)(xe.error)&&(0,Pe.m)(xe.complete)}(xe)&&(0,F.Nn)(xe)}(ct)?ct:new c.Hp(ct,Je,jt);return(0,Me.x)(()=>{const{operator:Ze,source:Dt}=this;Ye.add(Ze?Ze.call(Ye,Dt):Dt?this._subscribe(Ye):this._trySubscribe(Ye))}),Ye}_trySubscribe(ct){try{return this._subscribe(ct)}catch(Je){ct.error(Je)}}forEach(ct,Je){return new(Je=Ge(Je))((jt,Ye)=>{const Ze=new c.Hp({next:Dt=>{try{ct(Dt)}catch(Ct){Ye(Ct),Ze.unsubscribe()}},error:Ye,complete:jt});this.subscribe(Ze)})}_subscribe(ct){var Je;return null===(Je=this.source)||void 0===Je?void 0:Je.subscribe(ct)}[H.L](){return this}pipe(...ct){return(0,we.U)(ct)(this)}toPromise(ct){return new(ct=Ge(ct))((Je,jt)=>{let Ye;this.subscribe(Ze=>Ye=Ze,Ze=>jt(Ze),()=>Je(Ye))})}}return xe.create=ft=>new xe(ft),xe})();function Ge(xe){var ft;return null!==(ft=xe??ve.v.Promise)&&void 0!==ft?ft:Promise}},7579:(Jt,tt,U)=>{U.d(tt,{x:()=>Me});var c=U(9751),F=U(727);const we=(0,U(3888).d)(Ge=>function(){Ge(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ve=U(8737),Pe=U(2806);let Me=(()=>{class Ge extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(fe){const xe=new he(this,this);return xe.operator=fe,xe}_throwIfClosed(){if(this.closed)throw new we}next(fe){(0,Pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const xe of this.currentObservers)xe.next(fe)}})}error(fe){(0,Pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=fe;const{observers:xe}=this;for(;xe.length;)xe.shift().error(fe)}})}complete(){(0,Pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:fe}=this;for(;fe.length;)fe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var fe;return(null===(fe=this.observers)||void 0===fe?void 0:fe.length)>0}_trySubscribe(fe){return this._throwIfClosed(),super._trySubscribe(fe)}_subscribe(fe){return this._throwIfClosed(),this._checkFinalizedStatuses(fe),this._innerSubscribe(fe)}_innerSubscribe(fe){const{hasError:xe,isStopped:ft,observers:ct}=this;return xe||ft?F.Lc:(this.currentObservers=null,ct.push(fe),new F.w0(()=>{this.currentObservers=null,(0,ve.P)(ct,fe)}))}_checkFinalizedStatuses(fe){const{hasError:xe,thrownError:ft,isStopped:ct}=this;xe?fe.error(ft):ct&&fe.complete()}asObservable(){const fe=new c.y;return fe.source=this,fe}}return Ge.create=(se,fe)=>new he(se,fe),Ge})();class he extends Me{constructor(se,fe){super(),this.destination=se,this.source=fe}next(se){var fe,xe;null===(xe=null===(fe=this.destination)||void 0===fe?void 0:fe.next)||void 0===xe||xe.call(fe,se)}error(se){var fe,xe;null===(xe=null===(fe=this.destination)||void 0===fe?void 0:fe.error)||void 0===xe||xe.call(fe,se)}complete(){var se,fe;null===(fe=null===(se=this.destination)||void 0===se?void 0:se.complete)||void 0===fe||fe.call(se)}_subscribe(se){var fe,xe;return null!==(xe=null===(fe=this.source)||void 0===fe?void 0:fe.subscribe(se))&&void 0!==xe?xe:F.Lc}}},2961:(Jt,tt,U)=>{U.d(tt,{Hp:()=>jt,Lv:()=>xe});var c=U(576),F=U(727),H=U(2416),we=U(7849);function ve(){}const Pe=Ge("C",void 0,void 0);function Ge(oe,Ae,Ke){return{kind:oe,value:Ae,error:Ke}}var se=U(3410),fe=U(2806);class xe extends F.w0{constructor(Ae){super(),this.isStopped=!1,Ae?(this.destination=Ae,(0,F.Nn)(Ae)&&Ae.add(this)):this.destination=Ct}static create(Ae,Ke,St){return new jt(Ae,Ke,St)}next(Ae){this.isStopped?Dt(function he(oe){return Ge("N",oe,void 0)}(Ae),this):this._next(Ae)}error(Ae){this.isStopped?Dt(function Me(oe){return Ge("E",void 0,oe)}(Ae),this):(this.isStopped=!0,this._error(Ae))}complete(){this.isStopped?Dt(Pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ae){this.destination.next(Ae)}_error(Ae){try{this.destination.error(Ae)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ft=Function.prototype.bind;function ct(oe,Ae){return ft.call(oe,Ae)}class Je{constructor(Ae){this.partialObserver=Ae}next(Ae){const{partialObserver:Ke}=this;if(Ke.next)try{Ke.next(Ae)}catch(St){Ye(St)}}error(Ae){const{partialObserver:Ke}=this;if(Ke.error)try{Ke.error(Ae)}catch(St){Ye(St)}else Ye(Ae)}complete(){const{partialObserver:Ae}=this;if(Ae.complete)try{Ae.complete()}catch(Ke){Ye(Ke)}}}class jt extends xe{constructor(Ae,Ke,St){let Re;if(super(),(0,c.m)(Ae)||!Ae)Re={next:Ae??void 0,error:Ke??void 0,complete:St??void 0};else{let ze;this&&H.v.useDeprecatedNextContext?(ze=Object.create(Ae),ze.unsubscribe=()=>this.unsubscribe(),Re={next:Ae.next&&ct(Ae.next,ze),error:Ae.error&&ct(Ae.error,ze),complete:Ae.complete&&ct(Ae.complete,ze)}):Re=Ae}this.destination=new Je(Re)}}function Ye(oe){H.v.useDeprecatedSynchronousErrorHandling?(0,fe.O)(oe):(0,we.h)(oe)}function Dt(oe,Ae){const{onStoppedNotification:Ke}=H.v;Ke&&se.z.setTimeout(()=>Ke(oe,Ae))}const Ct={closed:!0,next:ve,error:function Ze(oe){throw oe},complete:ve}},727:(Jt,tt,U)=>{U.d(tt,{Lc:()=>Pe,w0:()=>ve,Nn:()=>Me});var c=U(576);const H=(0,U(3888).d)(Ge=>function(fe){Ge(this),this.message=fe?`${fe.length} errors occurred during unsubscription:\n${fe.map((xe,ft)=>`${ft+1}) ${xe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=fe});var we=U(8737);class ve{constructor(se){this.initialTeardown=se,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let se;if(!this.closed){this.closed=!0;const{_parentage:fe}=this;if(fe)if(this._parentage=null,Array.isArray(fe))for(const ct of fe)ct.remove(this);else fe.remove(this);const{initialTeardown:xe}=this;if((0,c.m)(xe))try{xe()}catch(ct){se=ct instanceof H?ct.errors:[ct]}const{_finalizers:ft}=this;if(ft){this._finalizers=null;for(const ct of ft)try{he(ct)}catch(Je){se=se??[],Je instanceof H?se=[...se,...Je.errors]:se.push(Je)}}if(se)throw new H(se)}}add(se){var fe;if(se&&se!==this)if(this.closed)he(se);else{if(se instanceof ve){if(se.closed||se._hasParent(this))return;se._addParent(this)}(this._finalizers=null!==(fe=this._finalizers)&&void 0!==fe?fe:[]).push(se)}}_hasParent(se){const{_parentage:fe}=this;return fe===se||Array.isArray(fe)&&fe.includes(se)}_addParent(se){const{_parentage:fe}=this;this._parentage=Array.isArray(fe)?(fe.push(se),fe):fe?[fe,se]:se}_removeParent(se){const{_parentage:fe}=this;fe===se?this._parentage=null:Array.isArray(fe)&&(0,we.P)(fe,se)}remove(se){const{_finalizers:fe}=this;fe&&(0,we.P)(fe,se),se instanceof ve&&se._removeParent(this)}}ve.EMPTY=(()=>{const Ge=new ve;return Ge.closed=!0,Ge})();const Pe=ve.EMPTY;function Me(Ge){return Ge instanceof ve||Ge&&"closed"in Ge&&(0,c.m)(Ge.remove)&&(0,c.m)(Ge.add)&&(0,c.m)(Ge.unsubscribe)}function he(Ge){(0,c.m)(Ge)?Ge():Ge.unsubscribe()}},2416:(Jt,tt,U)=>{U.d(tt,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(Jt,tt,U)=>{U.d(tt,{z:()=>ve});var c=U(8189),H=U(7669),we=U(8996);function ve(...Pe){return function F(){return(0,c.J)(1)}()((0,we.D)(Pe,(0,H.yG)(Pe)))}},515:(Jt,tt,U)=>{U.d(tt,{E:()=>F});const F=new(U(9751).y)(ve=>ve.complete())},8996:(Jt,tt,U)=>{U.d(tt,{D:()=>Ae});var c=U(8421),F=U(5363),H=U(9468),Pe=U(9751),he=U(2202),Ge=U(576),se=U(9672);function xe(Ke,St){if(!Ke)throw new Error("Iterable cannot be null");return new Pe.y(Re=>{(0,se.f)(Re,St,()=>{const ze=Ke[Symbol.asyncIterator]();(0,se.f)(Re,St,()=>{ze.next().then(st=>{st.done?Re.complete():Re.next(st.value)})},0,!0)})})}var ft=U(3670),ct=U(8239),Je=U(1144),jt=U(6495),Ye=U(2206),Ze=U(4532),Dt=U(3260);function Ae(Ke,St){return St?function oe(Ke,St){if(null!=Ke){if((0,ft.c)(Ke))return function we(Ke,St){return(0,c.Xf)(Ke).pipe((0,H.R)(St),(0,F.Q)(St))}(Ke,St);if((0,Je.z)(Ke))return function Me(Ke,St){return new Pe.y(Re=>{let ze=0;return St.schedule(function(){ze===Ke.length?Re.complete():(Re.next(Ke[ze++]),Re.closed||this.schedule())})})}(Ke,St);if((0,ct.t)(Ke))return function ve(Ke,St){return(0,c.Xf)(Ke).pipe((0,H.R)(St),(0,F.Q)(St))}(Ke,St);if((0,Ye.D)(Ke))return xe(Ke,St);if((0,jt.T)(Ke))return function fe(Ke,St){return new Pe.y(Re=>{let ze;return(0,se.f)(Re,St,()=>{ze=Ke[he.h](),(0,se.f)(Re,St,()=>{let st,Te;try{({value:st,done:Te}=ze.next())}catch(Oe){return void Re.error(Oe)}Te?Re.complete():Re.next(st)},0,!0)}),()=>(0,Ge.m)(ze?.return)&&ze.return()})}(Ke,St);if((0,Dt.L)(Ke))return function Ct(Ke,St){return xe((0,Dt.Q)(Ke),St)}(Ke,St)}throw(0,Ze.z)(Ke)}(Ke,St):(0,c.Xf)(Ke)}},8421:(Jt,tt,U)=>{U.d(tt,{Xf:()=>ft});var c=U(655),F=U(1144),H=U(8239),we=U(9751),ve=U(3670),Pe=U(2206),Me=U(4532),he=U(6495),Ge=U(3260),se=U(576),fe=U(7849),xe=U(8822);function ft(oe){if(oe instanceof we.y)return oe;if(null!=oe){if((0,ve.c)(oe))return function ct(oe){return new we.y(Ae=>{const Ke=oe[xe.L]();if((0,se.m)(Ke.subscribe))return Ke.subscribe(Ae);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(oe);if((0,F.z)(oe))return function Je(oe){return new we.y(Ae=>{for(let Ke=0;Ke<oe.length&&!Ae.closed;Ke++)Ae.next(oe[Ke]);Ae.complete()})}(oe);if((0,H.t)(oe))return function jt(oe){return new we.y(Ae=>{oe.then(Ke=>{Ae.closed||(Ae.next(Ke),Ae.complete())},Ke=>Ae.error(Ke)).then(null,fe.h)})}(oe);if((0,Pe.D)(oe))return Ze(oe);if((0,he.T)(oe))return function Ye(oe){return new we.y(Ae=>{for(const Ke of oe)if(Ae.next(Ke),Ae.closed)return;Ae.complete()})}(oe);if((0,Ge.L)(oe))return function Dt(oe){return Ze((0,Ge.Q)(oe))}(oe)}throw(0,Me.z)(oe)}function Ze(oe){return new we.y(Ae=>{(function Ct(oe,Ae){var Ke,St,Re,ze;return(0,c.mG)(this,void 0,void 0,function*(){try{for(Ke=(0,c.KL)(oe);!(St=yield Ke.next()).done;)if(Ae.next(St.value),Ae.closed)return}catch(st){Re={error:st}}finally{try{St&&!St.done&&(ze=Ke.return)&&(yield ze.call(Ke))}finally{if(Re)throw Re.error}}Ae.complete()})})(oe,Ae).catch(Ke=>Ae.error(Ke))})}},6451:(Jt,tt,U)=>{U.d(tt,{T:()=>Pe});var c=U(8189),F=U(8421),H=U(515),we=U(7669),ve=U(8996);function Pe(...Me){const he=(0,we.yG)(Me),Ge=(0,we._6)(Me,1/0),se=Me;return se.length?1===se.length?(0,F.Xf)(se[0]):(0,c.J)(Ge)((0,ve.D)(se,he)):H.E}},9646:(Jt,tt,U)=>{U.d(tt,{of:()=>H});var c=U(7669),F=U(8996);function H(...we){const ve=(0,c.yG)(we);return(0,F.D)(we,ve)}},5403:(Jt,tt,U)=>{U.d(tt,{x:()=>F});var c=U(2961);function F(we,ve,Pe,Me,he){return new H(we,ve,Pe,Me,he)}class H extends c.Lv{constructor(ve,Pe,Me,he,Ge,se){super(ve),this.onFinalize=Ge,this.shouldUnsubscribe=se,this._next=Pe?function(fe){try{Pe(fe)}catch(xe){ve.error(xe)}}:super._next,this._error=he?function(fe){try{he(fe)}catch(xe){ve.error(xe)}finally{this.unsubscribe()}}:super._error,this._complete=Me?function(){try{Me()}catch(fe){ve.error(fe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ve;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Pe}=this;super.unsubscribe(),!Pe&&(null===(ve=this.onFinalize)||void 0===ve||ve.call(this))}}}},6590:(Jt,tt,U)=>{U.d(tt,{d:()=>H});var c=U(4482),F=U(5403);function H(we){return(0,c.e)((ve,Pe)=>{let Me=!1;ve.subscribe((0,F.x)(Pe,he=>{Me=!0,Pe.next(he)},()=>{Me||Pe.next(we),Pe.complete()}))})}},9300:(Jt,tt,U)=>{U.d(tt,{h:()=>H});var c=U(4482),F=U(5403);function H(we,ve){return(0,c.e)((Pe,Me)=>{let he=0;Pe.subscribe((0,F.x)(Me,Ge=>we.call(ve,Ge,he++)&&Me.next(Ge)))})}},590:(Jt,tt,U)=>{U.d(tt,{P:()=>Me});var c=U(6805),F=U(9300),H=U(5698),we=U(6590),ve=U(8068),Pe=U(4671);function Me(he,Ge){const se=arguments.length>=2;return fe=>fe.pipe(he?(0,F.h)((xe,ft)=>he(xe,ft,fe)):Pe.y,(0,H.q)(1),se?(0,we.d)(Ge):(0,ve.T)(()=>new c.K))}},4004:(Jt,tt,U)=>{U.d(tt,{U:()=>H});var c=U(4482),F=U(5403);function H(we,ve){return(0,c.e)((Pe,Me)=>{let he=0;Pe.subscribe((0,F.x)(Me,Ge=>{Me.next(we.call(ve,Ge,he++))}))})}},8189:(Jt,tt,U)=>{U.d(tt,{J:()=>H});var c=U(5577),F=U(4671);function H(we=1/0){return(0,c.z)(F.y,we)}},5577:(Jt,tt,U)=>{U.d(tt,{z:()=>he});var c=U(4004),F=U(8421),H=U(4482),we=U(9672),ve=U(5403),Me=U(576);function he(Ge,se,fe=1/0){return(0,Me.m)(se)?he((xe,ft)=>(0,c.U)((ct,Je)=>se(xe,ct,ft,Je))((0,F.Xf)(Ge(xe,ft))),fe):("number"==typeof se&&(fe=se),(0,H.e)((xe,ft)=>function Pe(Ge,se,fe,xe,ft,ct,Je,jt){const Ye=[];let Ze=0,Dt=0,Ct=!1;const oe=()=>{Ct&&!Ye.length&&!Ze&&se.complete()},Ae=St=>Ze<xe?Ke(St):Ye.push(St),Ke=St=>{ct&&se.next(St),Ze++;let Re=!1;(0,F.Xf)(fe(St,Dt++)).subscribe((0,ve.x)(se,ze=>{ft?.(ze),ct?Ae(ze):se.next(ze)},()=>{Re=!0},void 0,()=>{if(Re)try{for(Ze--;Ye.length&&Ze<xe;){const ze=Ye.shift();Je?(0,we.f)(se,Je,()=>Ke(ze)):Ke(ze)}oe()}catch(ze){se.error(ze)}}))};return Ge.subscribe((0,ve.x)(se,Ae,()=>{Ct=!0,oe()})),()=>{jt?.()}}(xe,ft,Ge,fe)))}},5363:(Jt,tt,U)=>{U.d(tt,{Q:()=>we});var c=U(9672),F=U(4482),H=U(5403);function we(ve,Pe=0){return(0,F.e)((Me,he)=>{Me.subscribe((0,H.x)(he,Ge=>(0,c.f)(he,ve,()=>he.next(Ge),Pe),()=>(0,c.f)(he,ve,()=>he.complete(),Pe),Ge=>(0,c.f)(he,ve,()=>he.error(Ge),Pe)))})}},5026:(Jt,tt,U)=>{U.d(tt,{R:()=>we});var c=U(4482),F=U(5403);function H(ve,Pe,Me,he,Ge){return(se,fe)=>{let xe=Me,ft=Pe,ct=0;se.subscribe((0,F.x)(fe,Je=>{const jt=ct++;ft=xe?ve(ft,Je,jt):(xe=!0,Je),he&&fe.next(ft)},Ge&&(()=>{xe&&fe.next(ft),fe.complete()})))}}function we(ve,Pe){return(0,c.e)(H(ve,Pe,arguments.length>=2,!0))}},3099:(Jt,tt,U)=>{U.d(tt,{B:()=>ve});var c=U(8421),F=U(7579),H=U(2961),we=U(4482);function ve(Me={}){const{connector:he=(()=>new F.x),resetOnError:Ge=!0,resetOnComplete:se=!0,resetOnRefCountZero:fe=!0}=Me;return xe=>{let ft,ct,Je,jt=0,Ye=!1,Ze=!1;const Dt=()=>{ct?.unsubscribe(),ct=void 0},Ct=()=>{Dt(),ft=Je=void 0,Ye=Ze=!1},oe=()=>{const Ae=ft;Ct(),Ae?.unsubscribe()};return(0,we.e)((Ae,Ke)=>{jt++,!Ze&&!Ye&&Dt();const St=Je=Je??he();Ke.add(()=>{jt--,0===jt&&!Ze&&!Ye&&(ct=Pe(oe,fe))}),St.subscribe(Ke),!ft&&jt>0&&(ft=new H.Hp({next:Re=>St.next(Re),error:Re=>{Ze=!0,Dt(),ct=Pe(Ct,Ge,Re),St.error(Re)},complete:()=>{Ye=!0,Dt(),ct=Pe(Ct,se),St.complete()}}),(0,c.Xf)(Ae).subscribe(ft))})(xe)}}function Pe(Me,he,...Ge){if(!0===he)return void Me();if(!1===he)return;const se=new H.Hp({next:()=>{se.unsubscribe(),Me()}});return he(...Ge).subscribe(se)}},8675:(Jt,tt,U)=>{U.d(tt,{O:()=>we});var c=U(7272),F=U(7669),H=U(4482);function we(...ve){const Pe=(0,F.yG)(ve);return(0,H.e)((Me,he)=>{(Pe?(0,c.z)(ve,Me,Pe):(0,c.z)(ve,Me)).subscribe(he)})}},9468:(Jt,tt,U)=>{U.d(tt,{R:()=>F});var c=U(4482);function F(H,we=0){return(0,c.e)((ve,Pe)=>{Pe.add(H.schedule(()=>ve.subscribe(Pe),we))})}},3900:(Jt,tt,U)=>{U.d(tt,{w:()=>we});var c=U(8421),F=U(4482),H=U(5403);function we(ve,Pe){return(0,F.e)((Me,he)=>{let Ge=null,se=0,fe=!1;const xe=()=>fe&&!Ge&&he.complete();Me.subscribe((0,H.x)(he,ft=>{Ge?.unsubscribe();let ct=0;const Je=se++;(0,c.Xf)(ve(ft,Je)).subscribe(Ge=(0,H.x)(he,jt=>he.next(Pe?Pe(ft,jt,Je,ct++):jt),()=>{Ge=null,xe()}))},()=>{fe=!0,xe()}))})}},5698:(Jt,tt,U)=>{U.d(tt,{q:()=>we});var c=U(515),F=U(4482),H=U(5403);function we(ve){return ve<=0?()=>c.E:(0,F.e)((Pe,Me)=>{let he=0;Pe.subscribe((0,H.x)(Me,Ge=>{++he<=ve&&(Me.next(Ge),ve<=he&&Me.complete())}))})}},8505:(Jt,tt,U)=>{U.d(tt,{b:()=>ve});var c=U(576),F=U(4482),H=U(5403),we=U(4671);function ve(Pe,Me,he){const Ge=(0,c.m)(Pe)||Me||he?{next:Pe,error:Me,complete:he}:Pe;return Ge?(0,F.e)((se,fe)=>{var xe;null===(xe=Ge.subscribe)||void 0===xe||xe.call(Ge);let ft=!0;se.subscribe((0,H.x)(fe,ct=>{var Je;null===(Je=Ge.next)||void 0===Je||Je.call(Ge,ct),fe.next(ct)},()=>{var ct;ft=!1,null===(ct=Ge.complete)||void 0===ct||ct.call(Ge),fe.complete()},ct=>{var Je;ft=!1,null===(Je=Ge.error)||void 0===Je||Je.call(Ge,ct),fe.error(ct)},()=>{var ct,Je;ft&&(null===(ct=Ge.unsubscribe)||void 0===ct||ct.call(Ge)),null===(Je=Ge.finalize)||void 0===Je||Je.call(Ge)}))}):we.y}},8068:(Jt,tt,U)=>{U.d(tt,{T:()=>we});var c=U(6805),F=U(4482),H=U(5403);function we(Pe=ve){return(0,F.e)((Me,he)=>{let Ge=!1;Me.subscribe((0,H.x)(he,se=>{Ge=!0,he.next(se)},()=>Ge?he.complete():he.error(Pe())))})}function ve(){return new c.K}},4408:(Jt,tt,U)=>{U.d(tt,{o:()=>ve});var c=U(727);class F extends c.w0{constructor(Me,he){super()}schedule(Me,he=0){return this}}const H={setInterval(Pe,Me,...he){const{delegate:Ge}=H;return Ge?.setInterval?Ge.setInterval(Pe,Me,...he):setInterval(Pe,Me,...he)},clearInterval(Pe){const{delegate:Me}=H;return(Me?.clearInterval||clearInterval)(Pe)},delegate:void 0};var we=U(8737);class ve extends F{constructor(Me,he){super(Me,he),this.scheduler=Me,this.work=he,this.pending=!1}schedule(Me,he=0){if(this.closed)return this;this.state=Me;const Ge=this.id,se=this.scheduler;return null!=Ge&&(this.id=this.recycleAsyncId(se,Ge,he)),this.pending=!0,this.delay=he,this.id=this.id||this.requestAsyncId(se,this.id,he),this}requestAsyncId(Me,he,Ge=0){return H.setInterval(Me.flush.bind(Me,this),Ge)}recycleAsyncId(Me,he,Ge=0){if(null!=Ge&&this.delay===Ge&&!1===this.pending)return he;H.clearInterval(he)}execute(Me,he){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ge=this._execute(Me,he);if(Ge)return Ge;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Me,he){let se,Ge=!1;try{this.work(Me)}catch(fe){Ge=!0,se=fe||new Error("Scheduled action threw falsy error")}if(Ge)return this.unsubscribe(),se}unsubscribe(){if(!this.closed){const{id:Me,scheduler:he}=this,{actions:Ge}=he;this.work=this.state=this.scheduler=null,this.pending=!1,(0,we.P)(Ge,this),null!=Me&&(this.id=this.recycleAsyncId(he,Me,null)),this.delay=null,super.unsubscribe()}}}},7565:(Jt,tt,U)=>{U.d(tt,{v:()=>H});var c=U(6063);class F{constructor(ve,Pe=F.now){this.schedulerActionCtor=ve,this.now=Pe}schedule(ve,Pe=0,Me){return new this.schedulerActionCtor(this,ve).schedule(Me,Pe)}}F.now=c.l.now;class H extends F{constructor(ve,Pe=F.now){super(ve,Pe),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ve){const{actions:Pe}=this;if(this._active)return void Pe.push(ve);let Me;this._active=!0;do{if(Me=ve.execute(ve.state,ve.delay))break}while(ve=Pe.shift());if(this._active=!1,Me){for(;ve=Pe.shift();)ve.unsubscribe();throw Me}}}},4986:(Jt,tt,U)=>{U.d(tt,{z:()=>H});var c=U(4408);const H=new(U(7565).v)(c.o)},6063:(Jt,tt,U)=>{U.d(tt,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(Jt,tt,U)=>{U.d(tt,{z:()=>c});const c={setTimeout(F,H,...we){const{delegate:ve}=c;return ve?.setTimeout?ve.setTimeout(F,H,...we):setTimeout(F,H,...we)},clearTimeout(F){const{delegate:H}=c;return(H?.clearTimeout||clearTimeout)(F)},delegate:void 0}},2202:(Jt,tt,U)=>{U.d(tt,{h:()=>F});const F=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Jt,tt,U)=>{U.d(tt,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Jt,tt,U)=>{U.d(tt,{K:()=>F});const F=(0,U(3888).d)(H=>function(){H(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(Jt,tt,U)=>{U.d(tt,{_6:()=>Pe,jO:()=>we,yG:()=>ve});var c=U(576);function H(Me){return Me[Me.length-1]}function we(Me){return(0,c.m)(H(Me))?Me.pop():void 0}function ve(Me){return function F(Me){return Me&&(0,c.m)(Me.schedule)}(H(Me))?Me.pop():void 0}function Pe(Me,he){return"number"==typeof H(Me)?Me.pop():he}},4742:(Jt,tt,U)=>{U.d(tt,{D:()=>ve});const{isArray:c}=Array,{getPrototypeOf:F,prototype:H,keys:we}=Object;function ve(Me){if(1===Me.length){const he=Me[0];if(c(he))return{args:he,keys:null};if(function Pe(Me){return Me&&"object"==typeof Me&&F(Me)===H}(he)){const Ge=we(he);return{args:Ge.map(se=>he[se]),keys:Ge}}}return{args:Me,keys:null}}},8737:(Jt,tt,U)=>{function c(F,H){if(F){const we=F.indexOf(H);0<=we&&F.splice(we,1)}}U.d(tt,{P:()=>c})},3888:(Jt,tt,U)=>{function c(F){const we=F(ve=>{Error.call(ve),ve.stack=(new Error).stack});return we.prototype=Object.create(Error.prototype),we.prototype.constructor=we,we}U.d(tt,{d:()=>c})},1810:(Jt,tt,U)=>{function c(F,H){return F.reduce((we,ve,Pe)=>(we[ve]=H[Pe],we),{})}U.d(tt,{n:()=>c})},2806:(Jt,tt,U)=>{U.d(tt,{O:()=>we,x:()=>H});var c=U(2416);let F=null;function H(ve){if(c.v.useDeprecatedSynchronousErrorHandling){const Pe=!F;if(Pe&&(F={errorThrown:!1,error:null}),ve(),Pe){const{errorThrown:Me,error:he}=F;if(F=null,Me)throw he}}else ve()}function we(ve){c.v.useDeprecatedSynchronousErrorHandling&&F&&(F.errorThrown=!0,F.error=ve)}},9672:(Jt,tt,U)=>{function c(F,H,we,ve=0,Pe=!1){const Me=H.schedule(function(){we(),Pe?F.add(this.schedule(null,ve)):this.unsubscribe()},ve);if(F.add(Me),!Pe)return Me}U.d(tt,{f:()=>c})},4671:(Jt,tt,U)=>{function c(F){return F}U.d(tt,{y:()=>c})},1144:(Jt,tt,U)=>{U.d(tt,{z:()=>c});const c=F=>F&&"number"==typeof F.length&&"function"!=typeof F},2206:(Jt,tt,U)=>{U.d(tt,{D:()=>F});var c=U(576);function F(H){return Symbol.asyncIterator&&(0,c.m)(H?.[Symbol.asyncIterator])}},576:(Jt,tt,U)=>{function c(F){return"function"==typeof F}U.d(tt,{m:()=>c})},3670:(Jt,tt,U)=>{U.d(tt,{c:()=>H});var c=U(8822),F=U(576);function H(we){return(0,F.m)(we[c.L])}},6495:(Jt,tt,U)=>{U.d(tt,{T:()=>H});var c=U(2202),F=U(576);function H(we){return(0,F.m)(we?.[c.h])}},8239:(Jt,tt,U)=>{U.d(tt,{t:()=>F});var c=U(576);function F(H){return(0,c.m)(H?.then)}},3260:(Jt,tt,U)=>{U.d(tt,{L:()=>we,Q:()=>H});var c=U(655),F=U(576);function H(ve){return(0,c.FC)(this,arguments,function*(){const Me=ve.getReader();try{for(;;){const{value:he,done:Ge}=yield(0,c.qq)(Me.read());if(Ge)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(he)}}finally{Me.releaseLock()}})}function we(ve){return(0,F.m)(ve?.getReader)}},4482:(Jt,tt,U)=>{U.d(tt,{A:()=>F,e:()=>H});var c=U(576);function F(we){return(0,c.m)(we?.lift)}function H(we){return ve=>{if(F(ve))return ve.lift(function(Pe){try{return we(Pe,this)}catch(Me){this.error(Me)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Jt,tt,U)=>{U.d(tt,{Z:()=>we});var c=U(4004);const{isArray:F}=Array;function we(ve){return(0,c.U)(Pe=>function H(ve,Pe){return F(Pe)?ve(...Pe):ve(Pe)}(ve,Pe))}},9635:(Jt,tt,U)=>{U.d(tt,{U:()=>H,z:()=>F});var c=U(4671);function F(...we){return H(we)}function H(we){return 0===we.length?c.y:1===we.length?we[0]:function(Pe){return we.reduce((Me,he)=>he(Me),Pe)}}},7849:(Jt,tt,U)=>{U.d(tt,{h:()=>H});var c=U(2416),F=U(3410);function H(we){F.z.setTimeout(()=>{const{onUnhandledError:ve}=c.v;if(!ve)throw we;ve(we)})}},4532:(Jt,tt,U)=>{function c(F){return new TypeError(`You provided ${null!==F&&"object"==typeof F?"an invalid object":`'${F}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}U.d(tt,{z:()=>c})},655:(Jt,tt,U)=>{function we(Te,Oe){var Be={};for(var $e in Te)Object.prototype.hasOwnProperty.call(Te,$e)&&Oe.indexOf($e)<0&&(Be[$e]=Te[$e]);if(null!=Te&&"function"==typeof Object.getOwnPropertySymbols){var wt=0;for($e=Object.getOwnPropertySymbols(Te);wt<$e.length;wt++)Oe.indexOf($e[wt])<0&&Object.prototype.propertyIsEnumerable.call(Te,$e[wt])&&(Be[$e[wt]]=Te[$e[wt]])}return Be}function he(Te,Oe,Be,$e){return new(Be||(Be=Promise))(function(xt,Ot){function Wt(tn){try{_t($e.next(tn))}catch(ln){Ot(ln)}}function sn(tn){try{_t($e.throw(tn))}catch(ln){Ot(ln)}}function _t(tn){tn.done?xt(tn.value):function wt(xt){return xt instanceof Be?xt:new Be(function(Ot){Ot(xt)})}(tn.value).then(Wt,sn)}_t(($e=$e.apply(Te,Oe||[])).next())})}function Ye(Te){return this instanceof Ye?(this.v=Te,this):new Ye(Te)}function Ze(Te,Oe,Be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var wt,$e=Be.apply(Te,Oe||[]),xt=[];return wt={},Ot("next"),Ot("throw"),Ot("return"),wt[Symbol.asyncIterator]=function(){return this},wt;function Ot(Xe){$e[Xe]&&(wt[Xe]=function(vt){return new Promise(function(Se,je){xt.push([Xe,vt,Se,je])>1||Wt(Xe,vt)})})}function Wt(Xe,vt){try{!function sn(Xe){Xe.value instanceof Ye?Promise.resolve(Xe.value.v).then(_t,tn):ln(xt[0][2],Xe)}($e[Xe](vt))}catch(Se){ln(xt[0][3],Se)}}function _t(Xe){Wt("next",Xe)}function tn(Xe){Wt("throw",Xe)}function ln(Xe,vt){Xe(vt),xt.shift(),xt.length&&Wt(xt[0][0],xt[0][1])}}function Ct(Te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Be,Oe=Te[Symbol.asyncIterator];return Oe?Oe.call(Te):(Te=function xe(Te){var Oe="function"==typeof Symbol&&Symbol.iterator,Be=Oe&&Te[Oe],$e=0;if(Be)return Be.call(Te);if(Te&&"number"==typeof Te.length)return{next:function(){return Te&&$e>=Te.length&&(Te=void 0),{value:Te&&Te[$e++],done:!Te}}};throw new TypeError(Oe?"Object is not iterable.":"Symbol.iterator is not defined.")}(Te),Be={},$e("next"),$e("throw"),$e("return"),Be[Symbol.asyncIterator]=function(){return this},Be);function $e(xt){Be[xt]=Te[xt]&&function(Ot){return new Promise(function(Wt,sn){!function wt(xt,Ot,Wt,sn){Promise.resolve(sn).then(function(_t){xt({value:_t,done:Wt})},Ot)}(Wt,sn,(Ot=Te[xt](Ot)).done,Ot.value)})}}}U.d(tt,{FC:()=>Ze,KL:()=>Ct,_T:()=>we,mG:()=>he,qq:()=>Ye})},7340:(Jt,tt,U)=>{U.d(tt,{LC:()=>F,SB:()=>Ge,X$:()=>we,ZE:()=>Dt,ZN:()=>Ze,_j:()=>c,eR:()=>fe,jt:()=>ve,k1:()=>Ct,l3:()=>H,oB:()=>he,vP:()=>Me});class c{}class F{}const H="*";function we(oe,Ae){return{type:7,name:oe,definitions:Ae,options:{}}}function ve(oe,Ae=null){return{type:4,styles:Ae,timings:oe}}function Me(oe,Ae=null){return{type:2,steps:oe,options:Ae}}function he(oe){return{type:6,styles:oe,offset:null}}function Ge(oe,Ae,Ke){return{type:0,name:oe,styles:Ae,options:Ke}}function fe(oe,Ae,Ke=null){return{type:1,expr:oe,animation:Ae,options:Ke}}function Ye(oe){Promise.resolve().then(oe)}class Ze{constructor(Ae=0,Ke=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Ae+Ke}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ae=>Ae()),this._onDoneFns=[])}onStart(Ae){this._originalOnStartFns.push(Ae),this._onStartFns.push(Ae)}onDone(Ae){this._originalOnDoneFns.push(Ae),this._onDoneFns.push(Ae)}onDestroy(Ae){this._onDestroyFns.push(Ae)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ye(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Ae=>Ae()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Ae=>Ae()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Ae){this._position=this.totalTime?Ae*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Ae){const Ke="start"==Ae?this._onStartFns:this._onDoneFns;Ke.forEach(St=>St()),Ke.length=0}}class Dt{constructor(Ae){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Ae;let Ke=0,St=0,Re=0;const ze=this.players.length;0==ze?Ye(()=>this._onFinish()):this.players.forEach(st=>{st.onDone(()=>{++Ke==ze&&this._onFinish()}),st.onDestroy(()=>{++St==ze&&this._onDestroy()}),st.onStart(()=>{++Re==ze&&this._onStart()})}),this.totalTime=this.players.reduce((st,Te)=>Math.max(st,Te.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ae=>Ae()),this._onDoneFns=[])}init(){this.players.forEach(Ae=>Ae.init())}onStart(Ae){this._onStartFns.push(Ae)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Ae=>Ae()),this._onStartFns=[])}onDone(Ae){this._onDoneFns.push(Ae)}onDestroy(Ae){this._onDestroyFns.push(Ae)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Ae=>Ae.play())}pause(){this.players.forEach(Ae=>Ae.pause())}restart(){this.players.forEach(Ae=>Ae.restart())}finish(){this._onFinish(),this.players.forEach(Ae=>Ae.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Ae=>Ae.destroy()),this._onDestroyFns.forEach(Ae=>Ae()),this._onDestroyFns=[])}reset(){this.players.forEach(Ae=>Ae.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Ae){const Ke=Ae*this.totalTime;this.players.forEach(St=>{const Re=St.totalTime?Math.min(1,Ke/St.totalTime):1;St.setPosition(Re)})}getPosition(){const Ae=this.players.reduce((Ke,St)=>null===Ke||St.totalTime>Ke.totalTime?St:Ke,null);return null!=Ae?Ae.getPosition():0}beforeDestroy(){this.players.forEach(Ae=>{Ae.beforeDestroy&&Ae.beforeDestroy()})}triggerCallback(Ae){const Ke="start"==Ae?this._onStartFns:this._onDoneFns;Ke.forEach(St=>St()),Ke.length=0}}const Ct="!"},6895:(Jt,tt,U)=>{U.d(tt,{Do:()=>Ct,EM:()=>bo,HT:()=>ve,JF:()=>Ei,K0:()=>Me,Mx:()=>Is,O5:()=>Qe,Ov:()=>Do,PM:()=>ks,S$:()=>Ye,V_:()=>se,Ye:()=>oe,b0:()=>Dt,bD:()=>bi,ez:()=>ho,mk:()=>nr,q:()=>H,sg:()=>zi,w_:()=>Pe});var c=U(4650);let F=null;function H(){return F}function ve(S){F||(F=S)}class Pe{}const Me=new c.OlP("DocumentToken");let he=(()=>{class S{historyGo(N){throw new Error("Not implemented")}}return S.\u0275fac=function(N){return new(N||S)},S.\u0275prov=c.Yz7({token:S,factory:function(){return function Ge(){return(0,c.LFG)(fe)}()},providedIn:"platform"}),S})();const se=new c.OlP("Location Initialized");let fe=(()=>{class S extends he{constructor(N){super(),this._doc=N,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return H().getBaseHref(this._doc)}onPopState(N){const Y=H().getGlobalEventTarget(this._doc,"window");return Y.addEventListener("popstate",N,!1),()=>Y.removeEventListener("popstate",N)}onHashChange(N){const Y=H().getGlobalEventTarget(this._doc,"window");return Y.addEventListener("hashchange",N,!1),()=>Y.removeEventListener("hashchange",N)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(N){this.location.pathname=N}pushState(N,Y,_e){xe()?this._history.pushState(N,Y,_e):this.location.hash=_e}replaceState(N,Y,_e){xe()?this._history.replaceState(N,Y,_e):this.location.hash=_e}forward(){this._history.forward()}back(){this._history.back()}historyGo(N=0){this._history.go(N)}getState(){return this._history.state}}return S.\u0275fac=function(N){return new(N||S)(c.LFG(Me))},S.\u0275prov=c.Yz7({token:S,factory:function(){return function ft(){return new fe((0,c.LFG)(Me))}()},providedIn:"platform"}),S})();function xe(){return!!window.history.pushState}function ct(S,G){if(0==S.length)return G;if(0==G.length)return S;let N=0;return S.endsWith("/")&&N++,G.startsWith("/")&&N++,2==N?S+G.substring(1):1==N?S+G:S+"/"+G}function Je(S){const G=S.match(/#|\?|$/),N=G&&G.index||S.length;return S.slice(0,N-("/"===S[N-1]?1:0))+S.slice(N)}function jt(S){return S&&"?"!==S[0]?"?"+S:S}let Ye=(()=>{class S{historyGo(N){throw new Error("Not implemented")}}return S.\u0275fac=function(N){return new(N||S)},S.\u0275prov=c.Yz7({token:S,factory:function(){return(0,c.f3M)(Dt)},providedIn:"root"}),S})();const Ze=new c.OlP("appBaseHref");let Dt=(()=>{class S extends Ye{constructor(N,Y){super(),this._platformLocation=N,this._removeListenerFns=[],this._baseHref=Y??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(Me).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(N){this._removeListenerFns.push(this._platformLocation.onPopState(N),this._platformLocation.onHashChange(N))}getBaseHref(){return this._baseHref}prepareExternalUrl(N){return ct(this._baseHref,N)}path(N=!1){const Y=this._platformLocation.pathname+jt(this._platformLocation.search),_e=this._platformLocation.hash;return _e&&N?`${Y}${_e}`:Y}pushState(N,Y,_e,ut){const mt=this.prepareExternalUrl(_e+jt(ut));this._platformLocation.pushState(N,Y,mt)}replaceState(N,Y,_e,ut){const mt=this.prepareExternalUrl(_e+jt(ut));this._platformLocation.replaceState(N,Y,mt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(N=0){this._platformLocation.historyGo?.(N)}}return S.\u0275fac=function(N){return new(N||S)(c.LFG(he),c.LFG(Ze,8))},S.\u0275prov=c.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})(),Ct=(()=>{class S extends Ye{constructor(N,Y){super(),this._platformLocation=N,this._baseHref="",this._removeListenerFns=[],null!=Y&&(this._baseHref=Y)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(N){this._removeListenerFns.push(this._platformLocation.onPopState(N),this._platformLocation.onHashChange(N))}getBaseHref(){return this._baseHref}path(N=!1){let Y=this._platformLocation.hash;return null==Y&&(Y="#"),Y.length>0?Y.substring(1):Y}prepareExternalUrl(N){const Y=ct(this._baseHref,N);return Y.length>0?"#"+Y:Y}pushState(N,Y,_e,ut){let mt=this.prepareExternalUrl(_e+jt(ut));0==mt.length&&(mt=this._platformLocation.pathname),this._platformLocation.pushState(N,Y,mt)}replaceState(N,Y,_e,ut){let mt=this.prepareExternalUrl(_e+jt(ut));0==mt.length&&(mt=this._platformLocation.pathname),this._platformLocation.replaceState(N,Y,mt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(N=0){this._platformLocation.historyGo?.(N)}}return S.\u0275fac=function(N){return new(N||S)(c.LFG(he),c.LFG(Ze,8))},S.\u0275prov=c.Yz7({token:S,factory:S.\u0275fac}),S})(),oe=(()=>{class S{constructor(N){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=N;const Y=this._locationStrategy.getBaseHref();this._baseHref=Je(St(Y)),this._locationStrategy.onPopState(_e=>{this._subject.emit({url:this.path(!0),pop:!0,state:_e.state,type:_e.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(N=!1){return this.normalize(this._locationStrategy.path(N))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(N,Y=""){return this.path()==this.normalize(N+jt(Y))}normalize(N){return S.stripTrailingSlash(function Ke(S,G){return S&&G.startsWith(S)?G.substring(S.length):G}(this._baseHref,St(N)))}prepareExternalUrl(N){return N&&"/"!==N[0]&&(N="/"+N),this._locationStrategy.prepareExternalUrl(N)}go(N,Y="",_e=null){this._locationStrategy.pushState(_e,"",N,Y),this._notifyUrlChangeListeners(this.prepareExternalUrl(N+jt(Y)),_e)}replaceState(N,Y="",_e=null){this._locationStrategy.replaceState(_e,"",N,Y),this._notifyUrlChangeListeners(this.prepareExternalUrl(N+jt(Y)),_e)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(N=0){this._locationStrategy.historyGo?.(N)}onUrlChange(N){return this._urlChangeListeners.push(N),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Y=>{this._notifyUrlChangeListeners(Y.url,Y.state)})),()=>{const Y=this._urlChangeListeners.indexOf(N);this._urlChangeListeners.splice(Y,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(N="",Y){this._urlChangeListeners.forEach(_e=>_e(N,Y))}subscribe(N,Y,_e){return this._subject.subscribe({next:N,error:Y,complete:_e})}}return S.normalizeQueryParams=jt,S.joinWithSlash=ct,S.stripTrailingSlash=Je,S.\u0275fac=function(N){return new(N||S)(c.LFG(Ye))},S.\u0275prov=c.Yz7({token:S,factory:function(){return function Ae(){return new oe((0,c.LFG)(Ye))}()},providedIn:"root"}),S})();function St(S){return S.replace(/\/index.html$/,"")}function Is(S,G){G=encodeURIComponent(G);for(const N of S.split(";")){const Y=N.indexOf("="),[_e,ut]=-1==Y?[N,""]:[N.slice(0,Y),N.slice(Y+1)];if(_e.trim()===G)return decodeURIComponent(ut)}return null}let nr=(()=>{class S{constructor(N,Y,_e,ut){this._iterableDiffers=N,this._keyValueDiffers=Y,this._ngEl=_e,this._renderer=ut,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(N){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof N?N.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(N){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof N?N.split(/\s+/):N,this._rawClass&&((0,c.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const N=this._iterableDiffer.diff(this._rawClass);N&&this._applyIterableChanges(N)}else if(this._keyValueDiffer){const N=this._keyValueDiffer.diff(this._rawClass);N&&this._applyKeyValueChanges(N)}}_applyKeyValueChanges(N){N.forEachAddedItem(Y=>this._toggleClass(Y.key,Y.currentValue)),N.forEachChangedItem(Y=>this._toggleClass(Y.key,Y.currentValue)),N.forEachRemovedItem(Y=>{Y.previousValue&&this._toggleClass(Y.key,!1)})}_applyIterableChanges(N){N.forEachAddedItem(Y=>{if("string"!=typeof Y.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,c.AaK)(Y.item)}`);this._toggleClass(Y.item,!0)}),N.forEachRemovedItem(Y=>this._toggleClass(Y.item,!1))}_applyClasses(N){N&&(Array.isArray(N)||N instanceof Set?N.forEach(Y=>this._toggleClass(Y,!0)):Object.keys(N).forEach(Y=>this._toggleClass(Y,!!N[Y])))}_removeClasses(N){N&&(Array.isArray(N)||N instanceof Set?N.forEach(Y=>this._toggleClass(Y,!1)):Object.keys(N).forEach(Y=>this._toggleClass(Y,!1)))}_toggleClass(N,Y){(N=N.trim())&&N.split(/\s+/g).forEach(_e=>{Y?this._renderer.addClass(this._ngEl.nativeElement,_e):this._renderer.removeClass(this._ngEl.nativeElement,_e)})}}return S.\u0275fac=function(N){return new(N||S)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},S.\u0275dir=c.lG2({type:S,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),S})();class Zi{constructor(G,N,Y,_e){this.$implicit=G,this.ngForOf=N,this.index=Y,this.count=_e}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let zi=(()=>{class S{constructor(N,Y,_e){this._viewContainer=N,this._template=Y,this._differs=_e,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(N){this._ngForOf=N,this._ngForOfDirty=!0}set ngForTrackBy(N){this._trackByFn=N}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(N){N&&(this._template=N)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const N=this._ngForOf;!this._differ&&N&&(this._differ=this._differs.find(N).create(this.ngForTrackBy))}if(this._differ){const N=this._differ.diff(this._ngForOf);N&&this._applyChanges(N)}}_applyChanges(N){const Y=this._viewContainer;N.forEachOperation((_e,ut,mt)=>{if(null==_e.previousIndex)Y.createEmbeddedView(this._template,new Zi(_e.item,this._ngForOf,-1,-1),null===mt?void 0:mt);else if(null==mt)Y.remove(null===ut?void 0:ut);else if(null!==ut){const yn=Y.get(ut);Y.move(yn,mt),He(yn,_e)}});for(let _e=0,ut=Y.length;_e<ut;_e++){const yn=Y.get(_e).context;yn.index=_e,yn.count=ut,yn.ngForOf=this._ngForOf}N.forEachIdentityChange(_e=>{He(Y.get(_e.currentIndex),_e)})}static ngTemplateContextGuard(N,Y){return!0}}return S.\u0275fac=function(N){return new(N||S)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},S.\u0275dir=c.lG2({type:S,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),S})();function He(S,G){S.context.$implicit=G.item}let Qe=(()=>{class S{constructor(N,Y){this._viewContainer=N,this._context=new Et,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Y}set ngIf(N){this._context.$implicit=this._context.ngIf=N,this._updateView()}set ngIfThen(N){Rt("ngIfThen",N),this._thenTemplateRef=N,this._thenViewRef=null,this._updateView()}set ngIfElse(N){Rt("ngIfElse",N),this._elseTemplateRef=N,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(N,Y){return!0}}return S.\u0275fac=function(N){return new(N||S)(c.Y36(c.s_b),c.Y36(c.Rgc))},S.\u0275dir=c.lG2({type:S,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),S})();class Et{constructor(){this.$implicit=null,this.ngIf=null}}function Rt(S,G){if(G&&!G.createEmbeddedView)throw new Error(`${S} must be a TemplateRef, but received '${(0,c.AaK)(G)}'.`)}class ko{createSubscription(G,N){return G.subscribe({next:N,error:Y=>{throw Y}})}dispose(G){G.unsubscribe()}}class rs{createSubscription(G,N){return G.then(N,Y=>{throw Y})}dispose(G){}}const Yi=new rs,Rs=new ko;let Do=(()=>{class S{constructor(N){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=N}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(N){return this._obj?N!==this._obj?(this._dispose(),this.transform(N)):this._latestValue:(N&&this._subscribe(N),this._latestValue)}_subscribe(N){this._obj=N,this._strategy=this._selectStrategy(N),this._subscription=this._strategy.createSubscription(N,Y=>this._updateLatestValue(N,Y))}_selectStrategy(N){if((0,c.QGY)(N))return Yi;if((0,c.F4k)(N))return Rs;throw function Ui(S,G){return new c.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(N,Y){N===this._obj&&(this._latestValue=Y,this._ref.markForCheck())}}return S.\u0275fac=function(N){return new(N||S)(c.Y36(c.sBO,16))},S.\u0275pipe=c.Yjl({name:"async",type:S,pure:!1,standalone:!0}),S})(),ho=(()=>{class S{}return S.\u0275fac=function(N){return new(N||S)},S.\u0275mod=c.oAB({type:S}),S.\u0275inj=c.cJS({}),S})();const bi="browser";function ks(S){return"server"===S}let bo=(()=>{class S{}return S.\u0275prov=(0,c.Yz7)({token:S,providedIn:"root",factory:()=>new qo((0,c.LFG)(Me),window)}),S})();class qo{constructor(G,N){this.document=G,this.window=N,this.offset=()=>[0,0]}setOffset(G){this.offset=Array.isArray(G)?()=>G:G}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(G){this.supportsScrolling()&&this.window.scrollTo(G[0],G[1])}scrollToAnchor(G){if(!this.supportsScrolling())return;const N=function ei(S,G){const N=S.getElementById(G)||S.getElementsByName(G)[0];if(N)return N;if("function"==typeof S.createTreeWalker&&S.body&&(S.body.createShadowRoot||S.body.attachShadow)){const Y=S.createTreeWalker(S.body,NodeFilter.SHOW_ELEMENT);let _e=Y.currentNode;for(;_e;){const ut=_e.shadowRoot;if(ut){const mt=ut.getElementById(G)||ut.querySelector(`[name="${G}"]`);if(mt)return mt}_e=Y.nextNode()}}return null}(this.document,G);N&&(this.scrollToElement(N),N.focus())}setHistoryScrollRestoration(G){if(this.supportScrollRestoration()){const N=this.window.history;N&&N.scrollRestoration&&(N.scrollRestoration=G)}}scrollToElement(G){const N=G.getBoundingClientRect(),Y=N.left+this.window.pageXOffset,_e=N.top+this.window.pageYOffset,ut=this.offset();this.window.scrollTo(Y-ut[0],_e-ut[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const G=ci(this.window.history)||ci(Object.getPrototypeOf(this.window.history));return!(!G||!G.writable&&!G.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ci(S){return Object.getOwnPropertyDescriptor(S,"scrollRestoration")}class Ei{}},4650:(Jt,tt,U)=>{U.d(tt,{$8M:()=>Jo,$Z:()=>Ud,AFp:()=>P0,ALo:()=>e0,AaK:()=>he,AsE:()=>$s,BQk:()=>rh,CHM:()=>Zo,CRH:()=>c0,CZH:()=>Em,CqO:()=>Xg,D6c:()=>bD,EJc:()=>BI,EiD:()=>od,EpF:()=>$f,F4k:()=>Jg,FYo:()=>_p,FiY:()=>rn,G48:()=>aD,GfV:()=>Ep,Gpc:()=>fe,JOm:()=>eu,JVY:()=>dh,KtG:()=>fo,L6k:()=>qi,LAX:()=>fc,LFG:()=>oi,LSH:()=>Xu,Lbi:()=>FI,Lck:()=>xw,MAs:()=>Kc,MMx:()=>Qy,NdJ:()=>Hf,OlP:()=>kr,Oqu:()=>Mi,PXZ:()=>tD,Q6J:()=>nh,QGY:()=>Dl,QP$:()=>Vt,QbO:()=>LI,Qsj:()=>Om,R0b:()=>lu,RDi:()=>lc,Rgc:()=>op,SBq:()=>Ic,Sil:()=>$I,Suo:()=>l0,TTD:()=>Qn,TgZ:()=>Il,Tol:()=>jy,Udp:()=>Qf,W1O:()=>p0,WLB:()=>q_,X6Q:()=>oD,XFs:()=>Ft,Xpm:()=>Ie,Xts:()=>ph,Y36:()=>dl,YKP:()=>U_,YNc:()=>Yg,Yjl:()=>Ue,Yz7:()=>vt,Z0I:()=>mn,ZZ4:()=>Iv,_Bn:()=>V_,_UZ:()=>bu,_Vd:()=>Vu,_c5:()=>DD,_uU:()=>ai,aQg:()=>Dv,c2e:()=>VI,cJS:()=>je,cg1:()=>Hy,d8E:()=>$y,dDg:()=>QI,dqk:()=>bn,eBb:()=>Nl,eFA:()=>K0,ekj:()=>Jf,eoX:()=>G0,f3M:()=>x,g9A:()=>F0,h0i:()=>uh,hGG:()=>CD,hij:()=>xi,iGM:()=>u0,ifc:()=>cn,ip1:()=>O0,jDz:()=>j_,kL8:()=>c_,lG2:()=>Vn,lcZ:()=>t0,lqb:()=>Lu,lri:()=>$0,mCW:()=>qe,n5z:()=>_i,oAB:()=>Ve,oJD:()=>mc,oxw:()=>zf,pB0:()=>I,q3G:()=>js,q4F:()=>wp,qLn:()=>Ga,qOj:()=>Pf,qZA:()=>ou,qzn:()=>Ia,rWj:()=>H0,sBO:()=>uD,sIi:()=>Wc,s_b:()=>ym,soG:()=>wm,tb:()=>L0,tp0:()=>Cn,uIk:()=>Ff,vHH:()=>Je,vpe:()=>Zu,wAp:()=>tr,xp6:()=>Jh,ynx:()=>au,z2F:()=>Im,z3N:()=>Na,zSh:()=>_h,zs3:()=>Eu});var c=U(7579),F=U(727),H=U(9751),we=U(6451),ve=U(3099);function Pe(t){for(let r in t)if(t[r]===Pe)return r;throw Error("Could not find renamed property on target object.")}function Me(t,r){for(const s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=r[s])}function he(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(he).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function Ge(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const se=Pe({__forward_ref__:Pe});function fe(t){return t.__forward_ref__=fe,t.toString=function(){return he(this())},t}function xe(t){return ft(t)?t():t}function ft(t){return"function"==typeof t&&t.hasOwnProperty(se)&&t.__forward_ref__===fe}class Je extends Error{constructor(r,s){super(function jt(t,r){return`NG0${Math.abs(t)}${r?": "+r.trim():""}`}(r,s)),this.code=r}}function Ye(t){return"string"==typeof t?t:null==t?"":String(t)}function Ae(t,r){throw new Je(-201,!1)}function sn(t,r){null==t&&function _t(t,r,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,t,null,"!=")}function vt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function je(t){return{providers:t.providers||[],imports:t.imports||[]}}function $t(t){return Yn(t,Xt)||Yn(t,Rr)}function mn(t){return null!==$t(t)}function Yn(t,r){return t.hasOwnProperty(r)?t[r]:null}function gr(t){return t&&(t.hasOwnProperty(On)||t.hasOwnProperty(dr))?t[On]:null}const Xt=Pe({\u0275prov:Pe}),On=Pe({\u0275inj:Pe}),Rr=Pe({ngInjectableDef:Pe}),dr=Pe({ngInjectorDef:Pe});var Ft=(()=>((Ft=Ft||{})[Ft.Default=0]="Default",Ft[Ft.Host=1]="Host",Ft[Ft.Self=2]="Self",Ft[Ft.SkipSelf=4]="SkipSelf",Ft[Ft.Optional=8]="Optional",Ft))();let An;function qn(t){const r=An;return An=t,r}function Tr(t,r,s){const a=$t(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&Ft.Optional?null:void 0!==r?r:void Ae(he(t))}function Ir(t){return{toString:t}.toString()}var xn=(()=>((xn=xn||{})[xn.OnPush=0]="OnPush",xn[xn.Default=1]="Default",xn))(),cn=(()=>{return(t=cn||(cn={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",cn;var t})();const bn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),qr={},En=[],ii=Pe({\u0275cmp:Pe}),Mn=Pe({\u0275dir:Pe}),pi=Pe({\u0275pipe:Pe}),Hn=Pe({\u0275mod:Pe}),Ne=Pe({\u0275fac:Pe}),ce=Pe({__NG_ELEMENT_ID__:Pe});let pe=0;function Ie(t){return Ir(()=>{const s=!0===t.standalone,a={},l={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===xn.OnPush,directiveDefs:null,pipeDefs:null,standalone:s,dependencies:s&&t.dependencies||null,getStandaloneInjector:null,selectors:t.selectors||En,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||cn.Emulated,id:"c"+pe++,styles:t.styles||En,_:null,setInput:null,schemas:t.schemas||null,tView:null},h=t.dependencies,v=t.features;return l.inputs=nn(t.inputs,a),l.outputs=nn(t.outputs),v&&v.forEach(D=>D(l)),l.directiveDefs=h?()=>("function"==typeof h?h():h).map(j).filter(X):null,l.pipeDefs=h?()=>("function"==typeof h?h():h).map(dt).filter(X):null,l})}function j(t){return me(t)||Ee(t)}function X(t){return null!==t}function Ve(t){return Ir(()=>({type:t.type,bootstrap:t.bootstrap||En,declarations:t.declarations||En,imports:t.imports||En,exports:t.exports||En,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function nn(t,r){if(null==t)return qr;const s={};for(const a in t)if(t.hasOwnProperty(a)){let l=t[a],h=l;Array.isArray(l)&&(h=l[1],l=l[0]),s[l]=a,r&&(r[l]=h)}return s}const Vn=Ie;function Ue(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function me(t){return t[ii]||null}function Ee(t){return t[Mn]||null}function dt(t){return t[pi]||null}function Vt(t){const r=me(t)||Ee(t)||dt(t);return null!==r&&r.standalone}function pn(t,r){const s=t[Hn]||null;if(!s&&!0===r)throw new Error(`Type ${he(t)} does not have '\u0275mod' property.`);return s}function Rt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Qt(t){return Array.isArray(t)&&!0===t[1]}function Wn(t){return 0!=(8&t.flags)}function Ur(t){return 2==(2&t.flags)}function rr(t){return 1==(1&t.flags)}function sr(t){return null!==t.template}function ts(t){return 0!=(256&t[2])}function mi(t,r){return t.hasOwnProperty(Ne)?t[Ne]:null}class ds{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function Qn(){return zs}function zs(t){return t.type.prototype.ngOnChanges&&(t.setInput=ss),Ps}function Ps(){const t=os(this),r=t?.current;if(r){const s=t.previous;if(s===qr)t.previous=r;else for(let a in r)s[a]=r[a];t.current=null,this.ngOnChanges(r)}}function ss(t,r,s,a){const l=os(t)||function ho(t,r){return t[co]=r}(t,{previous:qr,current:null}),h=l.current||(l.current={}),v=l.previous,D=this.declaredInputs[s],M=v[D];h[D]=new ds(M&&M.currentValue,r,v===qr),t[a]=r}Qn.ngInherit=!0;const co="__ngSimpleChanges__";function os(t){return t[co]||null}function Ar(t){for(;Array.isArray(t);)t=t[0];return t}function ci(t,r){return Ar(r[t])}function ei(t,r){return Ar(r[t.index])}function Ei(t,r){return t.data[r]}function yi(t,r){return t[r]}function Xn(t,r){const s=r[t];return Rt(s)?s:s[0]}function as(t){return 64==(64&t[2])}function Ti(t,r){return null==r?null:t[r]}function Ws(t){t[18]=0}function di(t,r){t[5]+=r;let s=t,a=t[3];for(;null!==a&&(1===r&&1===s[5]||-1===r&&0===s[5]);)a[5]+=r,s=a,a=a[3]}const Sn={lFrame:Mo(null),bindingsEnabled:!0};function Pi(){return Sn.bindingsEnabled}function Nt(){return Sn.lFrame.lView}function Jn(){return Sn.lFrame.tView}function Zo(t){return Sn.lFrame.contextLView=t,t[8]}function fo(t){return Sn.lFrame.contextLView=null,t}function Gr(){let t=fs();for(;null!==t&&64===t.type;)t=t.parent;return t}function fs(){return Sn.lFrame.currentTNode}function Ii(t,r){const s=Sn.lFrame;s.currentTNode=t,s.isParent=r}function qs(){return Sn.lFrame.isParent}function hi(){Sn.lFrame.isParent=!1}function A(){const t=Sn.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function an(){return Sn.lFrame.bindingIndex++}function lr(t){const r=Sn.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,s}function ti(t,r){const s=Sn.lFrame;s.bindingIndex=s.bindingRootIndex=t,ps(r)}function ps(t){Sn.lFrame.currentDirectiveIndex=t}function Zs(t){const r=Sn.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}function So(){return Sn.lFrame.currentQueryIndex}function aa(t){Sn.lFrame.currentQueryIndex=t}function mo(t){const r=t[1];return 2===r.type?r.declTNode:1===r.type?t[6]:null}function ya(t,r,s){if(s&Ft.SkipSelf){let l=r,h=t;for(;!(l=l.parent,null!==l||s&Ft.Host||(l=mo(h),null===l||(h=h[15],10&l.type))););if(null===l)return!1;r=l,t=h}const a=Sn.lFrame=io();return a.currentTNode=r,a.lView=t,!0}function Ao(t){const r=io(),s=t[1];Sn.lFrame=r,r.currentTNode=s.firstChild,r.lView=t,r.tView=s,r.contextLView=t,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function io(){const t=Sn.lFrame,r=null===t?null:t.child;return null===r?Mo(t):r}function Mo(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function Yo(){const t=Sn.lFrame;return Sn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const S=Yo;function G(){const t=Yo();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function _e(){return Sn.lFrame.selectedIndex}function ut(t){Sn.lFrame.selectedIndex=t}function mt(){const t=Sn.lFrame;return Ei(t.tView,t.selectedIndex)}function jr(t,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const h=t.data[s].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:D,ngAfterViewInit:M,ngAfterViewChecked:B,ngOnDestroy:J}=h;v&&(t.contentHooks||(t.contentHooks=[])).push(-s,v),D&&((t.contentHooks||(t.contentHooks=[])).push(s,D),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(s,D)),M&&(t.viewHooks||(t.viewHooks=[])).push(-s,M),B&&((t.viewHooks||(t.viewHooks=[])).push(s,B),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(s,B)),null!=J&&(t.destroyHooks||(t.destroyHooks=[])).push(s,J)}}function Pr(t,r,s){$r(t,r,3,s)}function so(t,r,s,a){(3&t[2])===s&&$r(t,r,s,a)}function Vs(t,r){let s=t[2];(3&s)===r&&(s&=2047,s+=1,t[2]=s)}function $r(t,r,s,a){const h=a??-1,v=r.length-1;let D=0;for(let M=void 0!==a?65535&t[18]:0;M<v;M++)if("number"==typeof r[M+1]){if(D=r[M],null!=a&&D>=a)break}else r[M]<0&&(t[18]+=65536),(D<h||-1==h)&&(Ts(t,s,r,M),t[18]=(4294901760&t[18])+M+2),M++}function Ts(t,r,s,a){const l=s[a]<0,h=s[a+1],D=t[l?-s[a]:s[a]];if(l){if(t[2]>>11<t[18]>>16&&(3&t[2])===r){t[2]+=2048;try{h.call(D)}finally{}}}else try{h.call(D)}finally{}}class Ki{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function qt(t,r,s){let a=0;for(;a<s.length;){const l=s[a];if("number"==typeof l){if(0!==l)break;a++;const h=s[a++],v=s[a++],D=s[a++];t.setAttribute(r,v,D,h)}else{const h=l,v=s[++a];Lt(h)?t.setProperty(r,h,v):t.setAttribute(r,h,v),a++}}return a}function pt(t){return 3===t||4===t||6===t}function Lt(t){return 64===t.charCodeAt(0)}function Dr(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const l=r[a];"number"==typeof l?s=l:0===s||ua(t,s,l,null,-1===s||2===s?r[++a]:null)}}return t}function ua(t,r,s,a,l){let h=0,v=t.length;if(-1===r)v=-1;else for(;h<t.length;){const D=t[h++];if("number"==typeof D){if(D===r){v=-1;break}if(D>r){v=h-1;break}}}for(;h<t.length;){const D=t[h];if("number"==typeof D)break;if(D===s){if(null===a)return void(null!==l&&(t[h+1]=l));if(a===t[h+1])return void(t[h+2]=l)}h++,null!==a&&h++,null!==l&&h++}-1!==v&&(t.splice(v,0,r),h=v+1),t.splice(h++,0,s),null!==a&&t.splice(h++,0,a),null!==l&&t.splice(h++,0,l)}function la(t){return-1!==t}function Ci(t){return 32767&t}function Uo(t,r){let s=function Au(t){return t>>16}(t),a=r;for(;s>0;)a=a[15],s--;return a}let _a=!0;function ca(t){const r=_a;return _a=t,r}let Ea=0;const Dn={};function ki(t,r){const s=kn(t,r);if(-1!==s)return s;const a=r[1];a.firstCreatePass&&(t.injectorIndex=r.length,xr(a.data,t),xr(r,null),xr(a.blueprint,null));const l=Ro(t,r),h=t.injectorIndex;if(la(l)){const v=Ci(l),D=Uo(l,r),M=D[1].data;for(let B=0;B<8;B++)r[h+B]=D[v+B]|M[v+B]}return r[h+8]=l,h}function xr(t,r){t.push(0,0,0,0,0,0,0,0,r)}function kn(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function Ro(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,l=r;for(;null!==l;){if(a=gs(l),null===a)return-1;if(s++,l=l[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function or(t,r,s){!function No(t,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(ce)&&(a=s[ce]),null==a&&(a=s[ce]=Ea++);const l=255&a;r.data[t+(l>>5)]|=1<<l}(t,r,s)}function zr(t,r,s){if(s&Ft.Optional||void 0!==t)return t;Ae()}function zt(t,r,s,a){if(s&Ft.Optional&&void 0===a&&(a=null),0==(s&(Ft.Self|Ft.Host))){const l=t[9],h=qn(void 0);try{return l?l.get(r,a,s&Ft.Optional):Tr(r,a,s&Ft.Optional)}finally{qn(h)}}return zr(a,0,s)}function Ys(t,r,s,a=Ft.Default,l){if(null!==t){if(1024&r[2]){const v=function Va(t,r,s,a,l){let h=t,v=r;for(;null!==h&&null!==v&&1024&v[2]&&!(256&v[2]);){const D=Ma(h,v,s,a|Ft.Self,Dn);if(D!==Dn)return D;let M=h.parent;if(!M){const B=v[21];if(B){const J=B.get(s,Dn,a);if(J!==Dn)return J}M=gs(v),v=v[15]}h=M}return l}(t,r,s,a,Dn);if(v!==Dn)return v}const h=Ma(t,r,s,a,Dn);if(h!==Dn)return h}return zt(r,s,a,l)}function Ma(t,r,s,a,l){const h=function cu(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(ce)?t[ce]:void 0;return"number"==typeof r?r>=0?255&r:us:r}(s);if("function"==typeof h){if(!ya(r,t,a))return a&Ft.Host?zr(l,0,a):zt(r,s,a,l);try{const v=h(a);if(null!=v||a&Ft.Optional)return v;Ae()}finally{S()}}else if("number"==typeof h){let v=null,D=kn(t,r),M=-1,B=a&Ft.Host?r[16][6]:null;for((-1===D||a&Ft.SkipSelf)&&(M=-1===D?Ro(t,r):r[D+8],-1!==M&&da(a,!1)?(v=r[1],D=Ci(M),r=Uo(M,r)):D=-1);-1!==D;){const J=r[1];if(vo(h,D,J.data)){const ae=Us(D,r,s,v,a,B);if(ae!==Dn)return ae}M=r[D+8],-1!==M&&da(a,r[1].data[D+8]===B)&&vo(h,D,r)?(v=J,D=Ci(M),r=Uo(M,r)):D=-1}}return l}function Us(t,r,s,a,l,h){const v=r[1],D=v.data[t+8],J=Bo(D,v,s,null==a?Ur(D)&&_a:a!=v&&0!=(3&D.type),l&Ft.Host&&h===D);return null!==J?Bs(r,v,J,D):Dn}function Bo(t,r,s,a,l){const h=t.providerIndexes,v=r.data,D=1048575&h,M=t.directiveStart,J=h>>20,ke=l?D+J:t.directiveEnd;for(let it=a?D:D+J;it<ke;it++){const At=v[it];if(it<M&&s===At||it>=M&&At.type===s)return it}if(l){const it=v[M];if(it&&sr(it)&&it.type===s)return M}return null}function Bs(t,r,s,a){let l=t[s];const h=r.data;if(function xo(t){return t instanceof Ki}(l)){const v=l;v.resolving&&function Dt(t,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new Je(-200,`Circular dependency in DI detected for ${t}${s}`)}(function Ze(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ye(t)}(h[s]));const D=ca(v.canSeeViewProviders);v.resolving=!0;const M=v.injectImpl?qn(v.injectImpl):null;ya(t,a,Ft.Default);try{l=t[s]=v.factory(void 0,h,t,a),r.firstCreatePass&&s>=a.directiveStart&&function fi(t,r,s){const{ngOnChanges:a,ngOnInit:l,ngDoCheck:h}=r.type.prototype;if(a){const v=zs(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(t,v),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,v)}l&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-t,l),h&&((s.preOrderHooks||(s.preOrderHooks=[])).push(t,h),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,h))}(s,h[s],r)}finally{null!==M&&qn(M),ca(D),v.resolving=!1,S()}}return l}function vo(t,r,s){return!!(s[r+(t>>5)]&1<<t)}function da(t,r){return!(t&Ft.Self||t&Ft.Host&&r)}class jo{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return Ys(this._tNode,this._lView,r,a,s)}}function us(){return new jo(Gr(),Nt())}function _i(t){return Ir(()=>{const r=t.prototype.constructor,s=r[Ne]||$o(r),a=Object.prototype;let l=Object.getPrototypeOf(t.prototype).constructor;for(;l&&l!==a;){const h=l[Ne]||$o(l);if(h&&h!==s)return h;l=Object.getPrototypeOf(l)}return h=>new h})}function $o(t){return ft(t)?()=>{const r=$o(xe(t));return r&&r()}:mi(t)}function gs(t){const r=t[1],s=r.type;return 2===s?r.declTNode:1===s?t[6]:null}function Jo(t){return function Qo(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const s=t.attrs;if(s){const a=s.length;let l=0;for(;l<a;){const h=s[l];if(pt(h))break;if(0===h)l+=2;else if("number"==typeof h)for(l++;l<a&&"string"==typeof s[l];)l++;else{if(h===r)return s[l+1];l+=2}}}return null}(Gr(),t)}const _o="__parameters__";function ms(t,r,s){return Ir(()=>{const a=function Xo(t){return function(...s){if(t){const a=t(...s);for(const l in a)this[l]=a[l]}}}(r);function l(...h){if(this instanceof l)return a.apply(this,h),this;const v=new l(...h);return D.annotation=v,D;function D(M,B,J){const ae=M.hasOwnProperty(_o)?M[_o]:Object.defineProperty(M,_o,{value:[]})[_o];for(;ae.length<=J;)ae.push(null);return(ae[J]=ae[J]||[]).push(v),M}}return s&&(l.prototype=Object.create(s.prototype)),l.prototype.ngMetadataName=t,l.annotationCls=l,l})}class kr{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=vt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function lt(t,r){void 0===r&&(r=t);for(let s=0;s<t.length;s++){let a=t[s];Array.isArray(a)?(r===t&&(r=t.slice(0,s)),lt(a,r)):r!==t&&r.push(a)}return r}function en(t,r){t.forEach(s=>Array.isArray(s)?en(s,r):r(s))}function un(t,r,s){r>=t.length?t.push(s):t.splice(r,0,s)}function _n(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function br(t,r,s){let a=_(t,r);return a>=0?t[1|a]=s:(a=~a,function Cr(t,r,s,a){let l=t.length;if(l==r)t.push(s,a);else if(1===l)t.push(a,t[0]),t[0]=s;else{for(l--,t.push(t[l-1],t[l]);l>r;)t[l]=t[l-2],l--;t[r]=s,t[r+1]=a}}(t,a,r,s)),a}function Eo(t,r){const s=_(t,r);if(s>=0)return t[1|s]}function _(t,r){return function y(t,r,s){let a=0,l=t.length>>s;for(;l!==a;){const h=a+(l-a>>1),v=t[h<<s];if(r===v)return h<<s;v>r?l=h:a=h+1}return~(l<<s)}(t,r,1)}const Zt={},zn="__NG_DI_FLAG__",Er="ngTempTokenPath",ri=/\n/gm,Kr="__source";let ea;function ta(t){const r=ea;return ea=t,r}function Fr(t,r=Ft.Default){if(void 0===ea)throw new Je(-203,!1);return null===ea?Tr(t,void 0,r):ea.get(t,r&Ft.Optional?null:void 0,r)}function oi(t,r=Ft.Default){return(function wn(){return An}()||Fr)(xe(t),r)}function x(t,r=Ft.Default){return"number"!=typeof r&&(r=0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)),oi(t,r)}function k(t){const r=[];for(let s=0;s<t.length;s++){const a=xe(t[s]);if(Array.isArray(a)){if(0===a.length)throw new Je(900,!1);let l,h=Ft.Default;for(let v=0;v<a.length;v++){const D=a[v],M=ge(D);"number"==typeof M?-1===M?l=D.token:h|=M:l=D}r.push(oi(l,h))}else r.push(oi(a))}return r}function Z(t,r){return t[zn]=r,t.prototype[zn]=r,t}function ge(t){return t[zn]}const rn=Z(ms("Optional"),8),Cn=Z(ms("SkipSelf"),4);let Sl,Qu,pu;function lc(t){Sl=t}function Ru(t){return function Al(){if(void 0===Qu&&(Qu=null,bn.trustedTypes))try{Qu=bn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Qu}()?.createHTML(t)||t}function id(t){return function cc(){if(void 0===pu&&(pu=null,bn.trustedTypes))try{pu=bn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return pu}()?.createHTML(t)||t}class ra{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Ml extends ra{getTypeName(){return"HTML"}}class gu extends ra{getTypeName(){return"Style"}}class hc extends ra{getTypeName(){return"Script"}}class Ou extends ra{getTypeName(){return"URL"}}class xl extends ra{getTypeName(){return"ResourceURL"}}function Na(t){return t instanceof ra?t.changingThisBreaksApplicationSecurity:t}function Ia(t,r){const s=function sd(t){return t instanceof ra&&t.getTypeName()||null}(t);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}function dh(t){return new Ml(t)}function qi(t){return new gu(t)}function Nl(t){return new hc(t)}function fc(t){return new Ou(t)}function I(t){return new xl(t)}class p{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const s=(new window.DOMParser).parseFromString(Ru(r),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(r):(s.removeChild(s.firstChild),s)}catch{return null}}}class b{constructor(r){if(this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const a=this.inertDocument.createElement("body");s.appendChild(a)}}getInertBodyElement(r){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=Ru(r),s;const a=this.inertDocument.createElement("body");return a.innerHTML=Ru(r),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(a),a}stripCustomNsAttrs(r){const s=r.attributes;for(let l=s.length-1;0<l;l--){const v=s.item(l).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&r.removeAttribute(v)}let a=r.firstChild;for(;a;)a.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(a),a=a.nextSibling}}const re=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function qe(t){return(t=String(t)).match(re)?t:"unsafe:"+t}function bt(t){const r={};for(const s of t.split(","))r[s]=!0;return r}function hn(...t){const r={};for(const s of t)for(const a in s)s.hasOwnProperty(a)&&(r[a]=!0);return r}const Ln=bt("area,br,col,hr,img,wbr"),ar=bt("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ai=bt("rp,rt"),Ju=hn(Ln,hn(ar,bt("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),hn(Ai,bt("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),hn(Ai,ar)),Pu=bt("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ao=hn(Pu,bt("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),bt("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),pc=bt("script,style,template");class ku{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let s=r.firstChild,a=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?a=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,a&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let l=this.checkClobberedElement(s,s.nextSibling);if(l){s=l;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(r){const s=r.nodeName.toLowerCase();if(!Ju.hasOwnProperty(s))return this.sanitizedSomething=!0,!pc.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const a=r.attributes;for(let l=0;l<a.length;l++){const h=a.item(l),v=h.name,D=v.toLowerCase();if(!ao.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let M=h.value;Pu[D]&&(M=qe(M)),this.buf.push(" ",v,'="',gc(M),'"')}return this.buf.push(">"),!0}endElement(r){const s=r.nodeName.toLowerCase();Ju.hasOwnProperty(s)&&!Ln.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(r){this.buf.push(gc(r))}checkClobberedElement(r,s){if(s&&(r.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return s}}const Rl=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Da=/([^\#-~ |!])/g;function gc(t){return t.replace(/&/g,"&amp;").replace(Rl,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(Da,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ra;function od(t,r){let s=null;try{Ra=Ra||function f(t){const r=new b(t);return function q(){try{return!!(new window.DOMParser).parseFromString(Ru(""),"text/html")}catch{return!1}}()?new p(r):r}(t);let a=r?String(r):"";s=Ra.getInertBodyElement(a);let l=5,h=a;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,a=h,h=s.innerHTML,s=Ra.getInertBodyElement(a)}while(a!==h);return Ru((new ku).sanitizeChildren(fh(s)||s))}finally{if(s){const a=fh(s)||s;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function fh(t){return"content"in t&&function wr(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var js=(()=>((js=js||{})[js.NONE=0]="NONE",js[js.HTML=1]="HTML",js[js.STYLE=2]="STYLE",js[js.SCRIPT=3]="SCRIPT",js[js.URL=4]="URL",js[js.RESOURCE_URL=5]="RESOURCE_URL",js))();function mc(t){const r=_c();return r?id(r.sanitize(js.HTML,t)||""):Ia(t,"HTML")?id(Na(t)):od(function Nu(){return void 0!==Sl?Sl:typeof document<"u"?document:void 0}(),Ye(t))}function Xu(t){const r=_c();return r?r.sanitize(js.URL,t)||"":Ia(t,"URL")?Na(t):qe(Ye(t))}function _c(){const t=Nt();return t&&t[12]}const ph=new kr("ENVIRONMENT_INITIALIZER"),Ol=new kr("INJECTOR",-1),gh=new kr("INJECTOR_DEF_TYPES");class hp{get(r,s=Zt){if(s===Zt){const a=new Error(`NullInjectorError: No provider for ${he(r)}!`);throw a.name="NullInjectorError",a}return s}}function wo(...t){return{\u0275providers:ad(0,t)}}function ad(t,...r){const s=[],a=new Set;let l;return en(r,h=>{const v=h;el(v,s,[],a)&&(l||(l=[]),l.push(v))}),void 0!==l&&mh(l,s),s}function mh(t,r){for(let s=0;s<t.length;s++){const{providers:l}=t[s];en(l,h=>{r.push(h)})}}function el(t,r,s,a){if(!(t=xe(t)))return!1;let l=null,h=gr(t);const v=!h&&me(t);if(h||v){if(v&&!v.standalone)return!1;l=t}else{const M=t.ngModule;if(h=gr(M),!h)return!1;l=M}const D=a.has(l);if(v){if(D)return!1;if(a.add(l),v.dependencies){const M="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const B of M)el(B,r,s,a)}}else{if(!h)return!1;{if(null!=h.imports&&!D){let B;a.add(l);try{en(h.imports,J=>{el(J,r,s,a)&&(B||(B=[]),B.push(J))})}finally{}void 0!==B&&mh(B,r)}if(!D){const B=mi(l)||(()=>new l);r.push({provide:l,useFactory:B,deps:En},{provide:gh,useValue:l,multi:!0},{provide:ph,useValue:()=>oi(l),multi:!0})}const M=h.providers;null==M||D||en(M,J=>{r.push(J)})}}return l!==t&&void 0!==t.providers}const yh=Pe({provide:String,useValue:Pe});function ud(t){return null!==t&&"object"==typeof t&&yh in t}function Fu(t){return"function"==typeof t}const _h=new kr("Set Injector scope."),ld={},Ec={};let wc;function cd(){return void 0===wc&&(wc=new hp),wc}class Lu{}class Eh extends Lu{constructor(r,s,a,l){super(),this.parent=s,this.source=a,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,wh(r,v=>this.processProvider(v)),this.records.set(Ol,kl(void 0,this)),l.has("environment")&&this.records.set(Lu,kl(void 0,this));const h=this.records.get(_h);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(gh.multi,En,Ft.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const s=ta(this),a=qn(void 0);try{return r()}finally{ta(s),qn(a)}}get(r,s=Zt,a=Ft.Default){this.assertNotDestroyed();const l=ta(this),h=qn(void 0);try{if(!(a&Ft.SkipSelf)){let D=this.records.get(r);if(void 0===D){const M=function Mm(t){return"function"==typeof t||"object"==typeof t&&t instanceof kr}(r)&&$t(r);D=M&&this.injectableDefInScope(M)?kl(dd(r),ld):null,this.records.set(r,D)}if(null!=D)return this.hydrate(r,D)}return(a&Ft.Self?cd():this.parent).get(r,s=a&Ft.Optional&&s===Zt?null:s)}catch(v){if("NullInjectorError"===v.name){if((v[Er]=v[Er]||[]).unshift(he(r)),l)throw v;return function We(t,r,s,a){const l=t[Er];throw r[Kr]&&l.unshift(r[Kr]),t.message=function ht(t,r,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let l=he(r);if(Array.isArray(r))l=r.map(he).join(" -> ");else if("object"==typeof r){let h=[];for(let v in r)if(r.hasOwnProperty(v)){let D=r[v];h.push(v+":"+("string"==typeof D?JSON.stringify(D):he(D)))}l=`{${h.join(", ")}}`}return`${s}${a?"("+a+")":""}[${l}]: ${t.replace(ri,"\n  ")}`}("\n"+t.message,l,s,a),t.ngTokenPath=l,t[Er]=null,t}(v,r,"R3InjectorError",this.source)}throw v}finally{qn(h),ta(l)}}resolveInjectorInitializers(){const r=ta(this),s=qn(void 0);try{const a=this.get(ph.multi,En,Ft.Self);for(const l of a)l()}finally{ta(r),qn(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(he(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Je(205,!1)}processProvider(r){let s=Fu(r=xe(r))?r:xe(r&&r.provide);const a=function pp(t){return ud(t)?kl(void 0,t.useValue):kl(gp(t),ld)}(r);if(Fu(r)||!0!==r.multi)this.records.get(s);else{let l=this.records.get(s);l||(l=kl(void 0,ld,!0),l.factory=()=>k(l.multi),this.records.set(s,l)),s=r,l.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===ld&&(s.value=Ec,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Ll(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=xe(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function dd(t){const r=$t(t),s=null!==r?r.factory:mi(t);if(null!==s)return s;if(t instanceof kr)throw new Je(204,!1);if(t instanceof Function)return function Am(t){const r=t.length;if(r>0)throw function Fn(t,r){const s=[];for(let a=0;a<t;a++)s.push(r);return s}(r,"?"),new Je(204,!1);const s=function $n(t){const r=t&&(t[Xt]||t[Rr]);if(r){const s=function cr(t){if(t.hasOwnProperty("name"))return t.name;const r=(""+t).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new Je(204,!1)}function gp(t,r,s){let a;if(Fu(t)){const l=xe(t);return mi(l)||dd(l)}if(ud(t))a=()=>xe(t.useValue);else if(function vh(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...k(t.deps||[]));else if(function Pl(t){return!(!t||!t.useExisting)}(t))a=()=>oi(xe(t.useExisting));else{const l=xe(t&&(t.useClass||t.provide));if(!function Fl(t){return!!t.deps}(t))return mi(l)||dd(l);a=()=>new l(...k(t.deps))}return a}function kl(t,r,s=!1){return{factory:t,value:r,multi:s?[]:void 0}}function xm(t){return!!t.\u0275providers}function wh(t,r){for(const s of t)Array.isArray(s)?wh(s,r):xm(s)?wh(s.\u0275providers,r):r(s)}class Go{}class yp{resolveComponentFactory(r){throw function Nm(t){const r=Error(`No component factory found for ${he(t)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=t,r}(r)}}let Vu=(()=>{class t{}return t.NULL=new yp,t})();function vp(){return Vl(Gr(),Nt())}function Vl(t,r){return new Ic(ei(t,r))}let Ic=(()=>{class t{constructor(s){this.nativeElement=s}}return t.__NG_ELEMENT_ID__=vp,t})();function Rm(t){return t instanceof Ic?t.nativeElement:t}class _p{}let Om=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function Pm(){const t=Nt(),s=Xn(Gr().index,t);return(Rt(s)?s:t)[11]}(),t})(),km=(()=>{class t{}return t.\u0275prov=vt({token:t,providedIn:"root",factory:()=>null}),t})();class Ep{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const wp=new Ep("14.2.2"),Dh={};function _u(t){return t.ngOriginalError}class Ga{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&_u(r);for(;s&&_u(s);)s=_u(s);return s||null}}const md=new Map;let Sp=0;const nl="__ngContext__";function As(t,r){Rt(r)?(t[nl]=r[20],function bc(t){md.set(t[20],t)}(r)):t[nl]=r}function Oa(t){return t instanceof Function?t():t}var eu=(()=>((eu=eu||{})[eu.Important=1]="Important",eu[eu.DashCase=2]="DashCase",eu))();function Id(t,r){return undefined(t,r)}function Ac(t){const r=t[3];return Qt(r)?r[3]:r}function jl(t){return kp(t[13])}function Dd(t){return kp(t[4])}function kp(t){for(;null!==t&&!Qt(t);)t=t[4];return t}function $l(t,r,s,a,l){if(null!=a){let h,v=!1;Qt(a)?h=a:Rt(a)&&(v=!0,a=a[0]);const D=Ar(a);0===t&&null!==s?null==l?Fh(r,s,D):sl(r,s,D,l||null,!0):1===t&&null!==s?sl(r,s,D,l||null,!0):2===t?function Hh(t,r,s){const a=ol(t,r);a&&function Lh(t,r,s,a){t.removeChild(r,s,a)}(t,a,r,s)}(r,D,v):3===t&&r.destroyNode(D),null!=h&&function Rd(t,r,s,a,l){const h=s[7];h!==Ar(s)&&$l(r,t,a,h,l);for(let D=10;D<s.length;D++){const M=s[D];tu(M[1],M,t,r,a,h)}}(r,t,h,s,l)}}function bd(t,r,s){return t.createElement(r,s)}function uo(t,r){const s=t[9],a=s.indexOf(r),l=r[3];512&r[2]&&(r[2]&=-513,di(l,-1)),s.splice(a,1)}function Ph(t,r){if(t.length<=10)return;const s=10+r,a=t[s];if(a){const l=a[17];null!==l&&l!==t&&uo(l,a),r>0&&(t[s-1][4]=a[4]);const h=_n(t,10+r);!function Fp(t,r){tu(t,r,r[11],2,null,null),r[0]=null,r[6]=null}(a[1],a);const v=h[19];null!==v&&v.detachView(h[1]),a[3]=null,a[4]=null,a[2]&=-65}return a}function Vp(t,r){if(!(128&r[2])){const s=r[11];s.destroyNode&&tu(t,r,s,3,null,null),function Ym(t){let r=t[13];if(!r)return kh(t[1],t);for(;r;){let s=null;if(Rt(r))s=r[13];else{const a=r[10];a&&(s=a)}if(!s){for(;r&&!r[4]&&r!==t;)Rt(r)&&kh(r[1],r),r=r[3];null===r&&(r=t),Rt(r)&&kh(r[1],r),s=r&&r[4]}r=s}}(r)}}function kh(t,r){if(!(128&r[2])){r[2]&=-65,r[2]|=128,function Up(t,r){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const l=r[s[a]];if(!(l instanceof Ki)){const h=s[a+1];if(Array.isArray(h))for(let v=0;v<h.length;v+=2){const D=l[h[v]],M=h[v+1];try{M.call(D)}finally{}}else try{h.call(l)}finally{}}}}(t,r),function Jm(t,r){const s=t.cleanup,a=r[7];let l=-1;if(null!==s)for(let h=0;h<s.length-1;h+=2)if("string"==typeof s[h]){const v=s[h+1],D="function"==typeof v?v(r):Ar(r[v]),M=a[l=s[h+2]],B=s[h+3];"boolean"==typeof B?D.removeEventListener(s[h],M,B):B>=0?a[l=B]():a[l=-B].unsubscribe(),h+=2}else{const v=a[l=s[h+1]];s[h].call(v)}if(null!==a){for(let h=l+1;h<a.length;h++)(0,a[h])();r[7]=null}}(t,r),1===r[1].type&&r[11].destroy();const s=r[17];if(null!==s&&Qt(r[3])){s!==r[3]&&uo(s,r);const a=r[19];null!==a&&a.detachView(t)}!function $m(t){md.delete(t[20])}(r)}}function Bp(t,r,s){return function xc(t,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[0];if(2&a.flags){const l=t.data[a.directiveStart].encapsulation;if(l===cn.None||l===cn.Emulated)return null}return ei(a,s)}(t,r.parent,s)}function sl(t,r,s,a,l){t.insertBefore(r,s,a,l)}function Fh(t,r,s){t.appendChild(r,s)}function Td(t,r,s,a,l){null!==a?sl(t,r,s,a,l):Fh(t,r,s)}function ol(t,r){return t.parentNode(r)}let jp=function Uh(t,r,s){return 40&t.type?ei(t,s):null};function Hl(t,r,s,a){const l=Bp(t,a,r),h=r[11],D=function Ad(t,r,s){return jp(t,r,s)}(a.parent||r[6],a,r);if(null!=l)if(Array.isArray(s))for(let M=0;M<s.length;M++)Td(h,l,s[M],D,!1);else Td(h,l,s,D,!1)}function xd(t,r){if(null!==r){const s=r.type;if(3&s)return ei(r,t);if(4&s)return $h(-1,t[r.index]);if(8&s){const a=r.child;if(null!==a)return xd(t,a);{const l=t[r.index];return Qt(l)?$h(-1,l):Ar(l)}}if(32&s)return Id(r,t)()||Ar(t[r.index]);{const a=jh(t,r);return null!==a?Array.isArray(a)?a[0]:xd(Ac(t[16]),a):xd(t,r.next)}}return null}function jh(t,r){return null!==r?t[16][6].projection[r.projection]:null}function $h(t,r){const s=10+t+1;if(s<r.length){const a=r[s],l=a[1].firstChild;if(null!==l)return xd(a,l)}return r[7]}function Gh(t,r,s,a,l,h,v){for(;null!=s;){const D=a[s.index],M=s.type;if(v&&0===r&&(D&&As(Ar(D),a),s.flags|=4),64!=(64&s.flags))if(8&M)Gh(t,r,s.child,a,l,h,!1),$l(r,t,l,D,h);else if(32&M){const B=Id(s,a);let J;for(;J=B();)$l(r,t,l,J,h);$l(r,t,l,D,h)}else 16&M?Nd(t,r,a,s,l,h):$l(r,t,l,D,h);s=v?s.projectionNext:s.next}}function tu(t,r,s,a,l,h){Gh(s,a,t.firstChild,r,l,h,!1)}function Nd(t,r,s,a,l,h){const v=s[16],M=v[6].projection[a.projection];if(Array.isArray(M))for(let B=0;B<M.length;B++)$l(r,t,l,M[B],h);else Gh(t,r,M,v[3],l,h,!0)}function zh(t,r,s){t.setAttribute(r,"style",s)}function Od(t,r,s){""===s?t.removeAttribute(r,"class"):t.setAttribute(r,"class",s)}function Hp(t,r,s){let a=t.length;for(;;){const l=t.indexOf(r,s);if(-1===l)return l;if(0===l||t.charCodeAt(l-1)<=32){const h=r.length;if(l+h===a||t.charCodeAt(l+h)<=32)return l}s=l+1}}const zp="ng-template";function Wh(t,r,s){let a=0;for(;a<t.length;){let l=t[a++];if(s&&"class"===l){if(l=t[a],-1!==Hp(l.toLowerCase(),r,0))return!0}else if(1===l){for(;a<t.length&&"string"==typeof(l=t[a++]);)if(l.toLowerCase()===r)return!0;return!1}}return!1}function Kh(t){return 4===t.type&&t.value!==zp}function Wp(t,r,s){return r===(4!==t.type||s?t.value:zp)}function qh(t,r,s){let a=4;const l=t.attrs||[],h=function Yh(t){for(let r=0;r<t.length;r++)if(pt(t[r]))return r;return t.length}(l);let v=!1;for(let D=0;D<r.length;D++){const M=r[D];if("number"!=typeof M){if(!v)if(4&a){if(a=2|1&a,""!==M&&!Wp(t,M,s)||""===M&&1===r.length){if(pa(a))return!1;v=!0}}else{const B=8&a?M:r[++D];if(8&a&&null!==t.attrs){if(!Wh(t.attrs,B,s)){if(pa(a))return!1;v=!0}continue}const ae=Nc(8&a?"class":M,l,Kh(t),s);if(-1===ae){if(pa(a))return!1;v=!0;continue}if(""!==B){let ke;ke=ae>h?"":l[ae+1].toLowerCase();const it=8&a?ke:null;if(it&&-1!==Hp(it,B,0)||2&a&&B!==ke){if(pa(a))return!1;v=!0}}}}else{if(!v&&!pa(a)&&!pa(M))return!1;if(v&&pa(M))continue;v=!1,a=M|1&a}}return pa(a)||v}function pa(t){return 0==(1&t)}function Nc(t,r,s,a){if(null===r)return-1;let l=0;if(a||!s){let h=!1;for(;l<r.length;){const v=r[l];if(v===t)return l;if(3===v||6===v)h=!0;else{if(1===v||2===v){let D=r[++l];for(;"string"==typeof D;)D=r[++l];continue}if(4===v)break;if(0===v){l+=4;continue}}l+=h?1:2}return-1}return function Qh(t,r){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,t)}function Rc(t,r,s=!1){for(let a=0;a<r.length;a++)if(qh(t,r[a],s))return!0;return!1}function qp(t,r){return t?":not("+r.trim()+")":r}function Zp(t){let r=t[0],s=1,a=2,l="",h=!1;for(;s<t.length;){let v=t[s];if("string"==typeof v)if(2&a){const D=t[++s];l+="["+v+(D.length>0?'="'+D+'"':"")+"]"}else 8&a?l+="."+v:4&a&&(l+=" "+v);else""!==l&&!pa(v)&&(r+=qp(h,l),l=""),a=v,h=h||!pa(a);s++}return""!==l&&(r+=qp(h,l)),r}const yr={};function Jh(t){Oc(Jn(),Nt(),_e()+t,!1)}function Oc(t,r,s,a){if(!a)if(3==(3&r[2])){const h=t.preOrderCheckHooks;null!==h&&Pr(r,h,s)}else{const h=t.preOrderHooks;null!==h&&so(r,h,0,s)}ut(s)}function kd(t,r=null,s=null,a){const l=al(t,r,s,a);return l.resolveInjectorInitializers(),l}function al(t,r=null,s=null,a,l=new Set){const h=[s||En,wo(t)];return a=a||("object"==typeof t?void 0:he(t)),new Eh(h,r||cd(),a||null,l)}let Eu=(()=>{class t{static create(s,a){if(Array.isArray(s))return kd({name:""},a,s,"");{const l=s.name??"";return kd({name:l},s.parent,s.providers,l)}}}return t.THROW_IF_NOT_FOUND=Zt,t.NULL=new hp,t.\u0275prov=vt({token:t,providedIn:"any",factory:()=>oi(Ol)}),t.__NG_ELEMENT_ID__=-1,t})();function dl(t,r=Ft.Default){const s=Nt();return null===s?oi(t,r):Ys(Gr(),s,xe(t),r)}function Ud(){throw new Error("invalid")}function Kl(t,r){return t<<17|r<<2}function zo(t){return t>>17&32767}function Gu(t){return 2|t}function ga(t){return(131068&t)>>2}function jd(t,r){return-131069&t|r<<2}function af(t){return 1|t}function Dg(t,r){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const l=s[a],h=s[a+1];if(-1!==h){const v=t.data[h];aa(l),v.contentQueries(2,r[h],h)}}}function Yl(t,r,s,a,l,h,v,D,M,B,J){const ae=r.blueprint.slice();return ae[0]=l,ae[2]=76|a,(null!==J||t&&1024&t[2])&&(ae[2]|=1024),Ws(ae),ae[3]=ae[15]=t,ae[8]=s,ae[10]=v||t&&t[10],ae[11]=D||t&&t[11],ae[12]=M||t&&t[12]||null,ae[9]=B||t&&t[9]||null,ae[6]=h,ae[20]=function yd(){return Sp++}(),ae[21]=J,ae[16]=2==r.type?t[16]:ae,ae}function Ql(t,r,s,a,l){let h=t.data[r];if(null===h)h=function jc(t,r,s,a,l){const h=fs(),v=qs(),M=t.data[r]=function my(t,r,s,a,l,h){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?h:h&&h.parent,s,r,a,l);return null===t.firstChild&&(t.firstChild=M),null!==h&&(v?null==h.child&&null!==M.parent&&(h.child=M):null===h.next&&(h.next=M)),M}(t,r,s,a,l),function Wi(){return Sn.lFrame.inI18n}()&&(h.flags|=64);else if(64&h.type){h.type=s,h.value=a,h.attrs=l;const v=function Ks(){const t=Sn.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();h.injectorIndex=null===v?-1:v.injectorIndex}return Ii(h,!0),h}function Jl(t,r,s,a){if(0===s)return-1;const l=r.length;for(let h=0;h<s;h++)r.push(a),t.blueprint.push(a),t.data.push(null);return l}function mf(t,r,s){Ao(r);try{const a=t.viewQuery;null!==a&&xf(1,a,s);const l=t.template;null!==l&&Cg(t,r,l,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Dg(t,r),t.staticViewQueries&&xf(2,t.viewQuery,s);const h=t.components;null!==h&&function Iu(t,r){for(let s=0;s<r.length;s++)wy(t,r[s])}(r,h)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[2]&=-5,G()}}function Xl(t,r,s,a){const l=r[2];if(128!=(128&l)){Ao(r);try{Ws(r),function at(t){return Sn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&Cg(t,r,s,2,a);const v=3==(3&l);if(v){const B=t.preOrderCheckHooks;null!==B&&Pr(r,B,null)}else{const B=t.preOrderHooks;null!==B&&so(r,B,0,null),Vs(r,0)}if(function tc(t){for(let r=jl(t);null!==r;r=Dd(r)){if(!r[2])continue;const s=r[9];for(let a=0;a<s.length;a++){const l=s[a],h=l[3];0==(512&l[2])&&di(h,1),l[2]|=512}}}(r),function Tf(t){for(let r=jl(t);null!==r;r=Dd(r))for(let s=10;s<r.length;s++){const a=r[s],l=a[1];as(a)&&Xl(l,a,l.template,a[8])}}(r),null!==t.contentQueries&&Dg(t,r),v){const B=t.contentCheckHooks;null!==B&&Pr(r,B)}else{const B=t.contentHooks;null!==B&&so(r,B,1),Vs(r,1)}!function pf(t,r){const s=t.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const l=s[a];if(l<0)ut(~l);else{const h=l,v=s[++a],D=s[++a];ti(v,h),D(2,r[h])}}}finally{ut(-1)}}(t,r);const D=t.components;null!==D&&function gf(t,r){for(let s=0;s<r.length;s++)Sf(t,r[s])}(r,D);const M=t.viewQuery;if(null!==M&&xf(2,M,a),v){const B=t.viewCheckHooks;null!==B&&Pr(r,B)}else{const B=t.viewHooks;null!==B&&so(r,B,2),Vs(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[2]&=-41,512&r[2]&&(r[2]&=-513,di(r[3],-1))}finally{G()}}}function Cg(t,r,s,a,l){const h=_e(),v=2&a;try{ut(-1),v&&r.length>22&&Oc(t,r,22,!1),s(a,l)}finally{ut(h)}}function Hd(t,r,s){if(Wn(r)){const l=r.directiveEnd;for(let h=r.directiveStart;h<l;h++){const v=t.data[h];v.contentQueries&&v.contentQueries(1,s[h],h)}}}function yf(t,r,s){!Pi()||(function Kd(t,r,s,a){const l=s.directiveStart,h=s.directiveEnd;t.firstCreatePass||ki(s,r),As(a,r);const v=s.initialInputs;for(let D=l;D<h;D++){const M=t.data[D],B=sr(M);B&&If(r,s,M);const J=Bs(r,t,D,s);As(J,r),null!==v&&Df(0,D-l,J,M,0,v),B&&(Xn(s.index,r)[8]=J)}}(t,r,s,ei(s,r)),128==(128&s.flags)&&function _y(t,r,s){const a=s.directiveStart,l=s.directiveEnd,h=s.index,v=function ro(){return Sn.lFrame.currentDirectiveIndex}();try{ut(h);for(let D=a;D<l;D++){const M=t.data[D],B=r[D];ps(D),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&Og(M,B)}}finally{ut(-1),ps(v)}}(t,r,s))}function $c(t,r,s=ei){const a=r.localNames;if(null!==a){let l=r.index+1;for(let h=0;h<a.length;h+=2){const v=a[h+1],D=-1===v?s(r,t):t[v];t[l++]=D}}}function bg(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=Hc(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):r}function Hc(t,r,s,a,l,h,v,D,M,B){const J=22+a,ae=J+l,ke=function Tg(t,r){const s=[];for(let a=0;a<r;a++)s.push(a<t?null:yr);return s}(J,ae),it="function"==typeof B?B():B;return ke[1]={type:t,blueprint:ke,template:s,queries:null,viewQuery:D,declTNode:r,data:ke.slice().fill(null,J),bindingStartIndex:J,expandoStartIndex:ae,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:M,consts:it,incompleteFirstPass:!1}}function Mg(t,r,s,a){const l=Lg(r);null===s?l.push(a):(l.push(s),t.firstCreatePass&&Nf(t).push(a,l.length-1))}function Gd(t,r,s){for(let a in t)if(t.hasOwnProperty(a)){const l=t[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(r,l):s[a]=[r,l]}return s}function xg(t,r){const a=r.directiveEnd,l=t.data,h=r.attrs,v=[];let D=null,M=null;for(let B=r.directiveStart;B<a;B++){const J=l[B],ae=J.inputs,ke=null===h||Kh(r)?null:Fg(ae,h);v.push(ke),D=Gd(ae,B,D),M=Gd(J.outputs,B,M)}null!==D&&(D.hasOwnProperty("class")&&(r.flags|=16),D.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=v,r.inputs=D,r.outputs=M}function sa(t,r,s,a,l,h,v,D){const M=ei(r,s);let J,B=r.inputs;!D&&null!=B&&(J=B[a])?(Yd(t,s,J,a,l),Ur(r)&&zd(s,r.index)):3&r.type&&(a=function vf(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),l=null!=v?v(l,r.value||"",a):l,h.setProperty(M,a,l))}function zd(t,r){const s=Xn(r,t);16&s[2]||(s[2]|=32)}function _f(t,r,s,a){let l=!1;if(Pi()){const h=function Ey(t,r,s){const a=t.directiveRegistry;let l=null;if(a)for(let h=0;h<a.length;h++){const v=a[h];Rc(s,v.selectors,!1)&&(l||(l=[]),or(ki(s,r),t,v.type),sr(v)?(Pg(t,s),l.unshift(v)):l.push(v))}return l}(t,r,s),v=null===a?null:{"":-1};if(null!==h){l=!0,wf(s,t.data.length,h.length);for(let J=0;J<h.length;J++){const ae=h[J];ae.providersResolver&&ae.providersResolver(ae)}let D=!1,M=!1,B=Jl(t,r,h.length,null);for(let J=0;J<h.length;J++){const ae=h[J];s.mergedAttrs=Dr(s.mergedAttrs,ae.hostAttrs),qd(t,s,r,B,ae),Ef(B,ae,v),null!==ae.contentQueries&&(s.flags|=8),(null!==ae.hostBindings||null!==ae.hostAttrs||0!==ae.hostVars)&&(s.flags|=128);const ke=ae.type.prototype;!D&&(ke.ngOnChanges||ke.ngOnInit||ke.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(s.index),D=!0),!M&&(ke.ngOnChanges||ke.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(s.index),M=!0),B++}xg(t,s)}v&&function kg(t,r,s){if(r){const a=t.localNames=[];for(let l=0;l<r.length;l+=2){const h=s[r[l+1]];if(null==h)throw new Je(-301,!1);a.push(r[l],h)}}}(s,a,v)}return s.mergedAttrs=Dr(s.mergedAttrs,s.attrs),l}function Wd(t,r,s,a,l,h){const v=h.hostBindings;if(v){let D=t.hostBindingOpCodes;null===D&&(D=t.hostBindingOpCodes=[]);const M=~r.index;(function Rg(t){let r=t.length;for(;r>0;){const s=t[--r];if("number"==typeof s&&s<0)return s}return 0})(D)!=M&&D.push(M),D.push(a,l,v)}}function Og(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function Pg(t,r){r.flags|=2,(t.components||(t.components=[])).push(r.index)}function Ef(t,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=t;sr(r)&&(s[""]=t)}}function wf(t,r,s){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+s,t.providerIndexes=r}function qd(t,r,s,a,l){t.data[a]=l;const h=l.factory||(l.factory=mi(l.type)),v=new Ki(h,sr(l),dl);t.blueprint[a]=v,s[a]=v,Wd(t,r,0,a,Jl(t,s,l.hostVars,yr),l)}function If(t,r,s){const a=ei(r,t),l=bg(s),h=t[10],v=Gc(t,Yl(t,l,null,s.onPush?32:16,a,r,h,h.createRenderer(a,s),null,null,null));t[r.index]=v}function Pa(t,r,s,a,l,h){const v=ei(t,r);!function ec(t,r,s,a,l,h,v){if(null==h)t.removeAttribute(r,l,s);else{const D=null==v?Ye(h):v(h,a||"",l);t.setAttribute(r,l,D,s)}}(r[11],v,h,t.value,s,a,l)}function Df(t,r,s,a,l,h){const v=h[r];if(null!==v){const D=a.setInput;for(let M=0;M<v.length;){const B=v[M++],J=v[M++],ae=v[M++];null!==D?a.setInput(s,ae,B,J):s[J]=ae}}}function Fg(t,r){let s=null,a=0;for(;a<r.length;){const l=r[a];if(0!==l)if(5!==l){if("number"==typeof l)break;t.hasOwnProperty(l)&&(null===s&&(s=[]),s.push(l,t[l],r[a+1])),a+=2}else a+=2;else a+=4}return s}function bf(t,r,s,a){return new Array(t,!0,!1,r,null,0,a,s,null,null)}function Sf(t,r){const s=Xn(r,t);if(as(s)){const a=s[1];48&s[2]?Xl(a,s,a.template,s[8]):s[5]>0&&Af(s)}}function Af(t){for(let a=jl(t);null!==a;a=Dd(a))for(let l=10;l<a.length;l++){const h=a[l];if(as(h))if(512&h[2]){const v=h[1];Xl(v,h,v.template,h[8])}else h[5]>0&&Af(h)}const s=t[1].components;if(null!==s)for(let a=0;a<s.length;a++){const l=Xn(s[a],t);as(l)&&l[5]>0&&Af(l)}}function wy(t,r){const s=Xn(r,t),a=s[1];(function Iy(t,r){for(let s=r.length;s<t.blueprint.length;s++)r.push(t.blueprint[s])})(a,s),mf(a,s,s[8])}function Gc(t,r){return t[13]?t[14][4]=r:t[13]=r,t[14]=r,r}function Mf(t){for(;t;){t[2]|=32;const r=Ac(t);if(ts(t)&&!r)return t;t=r}return null}function zc(t,r,s,a=!0){const l=r[10];l.begin&&l.begin();try{Xl(t,r,t.template,s)}catch(v){throw a&&Rf(r,v),v}finally{l.end&&l.end()}}function xf(t,r,s){aa(0),r(t,s)}function Lg(t){return t[7]||(t[7]=[])}function Nf(t){return t.cleanup||(t.cleanup=[])}function Rf(t,r){const s=t[9],a=s?s.get(Ga,null):null;a&&a.handleError(r)}function Yd(t,r,s,a,l){for(let h=0;h<s.length;){const v=s[h++],D=s[h++],M=r[v],B=t.data[v];null!==B.setInput?B.setInput(M,l,a,D):M[D]=l}}function iu(t,r,s){const a=ci(r,t);!function $u(t,r,s){t.setValue(r,s)}(t[11],a,s)}function pl(t,r,s){let a=s?t.styles:null,l=s?t.classes:null,h=0;if(null!==r)for(let v=0;v<r.length;v++){const D=r[v];"number"==typeof D?h=D:1==h?l=Ge(l,D):2==h&&(a=Ge(a,D+": "+r[++v]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=l:t.classesWithoutHost=l}function Vr(t,r,s,a,l=!1){for(;null!==s;){const h=r[s.index];if(null!==h&&a.push(Ar(h)),Qt(h))for(let D=10;D<h.length;D++){const M=h[D],B=M[1].firstChild;null!==B&&Vr(M[1],M,B,a)}const v=s.type;if(8&v)Vr(t,r,s.child,a);else if(32&v){const D=Id(s,r);let M;for(;M=D();)a.push(M)}else if(16&v){const D=jh(r,s);if(Array.isArray(D))a.push(...D);else{const M=Ac(r[16]);Vr(M[1],M,D,a,!0)}}s=l?s.projectionNext:s.next}return a}class nc{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return Vr(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(Qt(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(Ph(r,a),_n(s,a))}this._attachedToViewContainer=!1}Vp(this._lView[1],this._lView)}onDestroy(r){Mg(this._lView[1],this._lView,null,r)}markForCheck(){Mf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){zc(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Je(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Lp(t,r){tu(t,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Je(902,!1);this._appRef=r}}class Vg extends nc{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;zc(r[1],r,r[8],!1)}checkNoChanges(){}get context(){return null}}class gl extends Vu{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=me(r);return new ma(s,this.ngModule)}}function Ug(t){const r=[];for(let s in t)t.hasOwnProperty(s)&&r.push({propName:t[s],templateName:s});return r}class Wo{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){const l=this.injector.get(r,Dh,a);return l!==Dh||s===Dh?l:this.parentInjector.get(r,s,a)}}class ma extends Go{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function Xm(t){return t.map(Zp).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return Ug(this.componentDef.inputs)}get outputs(){return Ug(this.componentDef.outputs)}create(r,s,a,l){let h=(l=l||this.ngModule)instanceof Lu?l:l?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const v=h?new Wo(r,h):r,D=v.get(_p,null);if(null===D)throw new Je(407,!1);const M=v.get(km,null),B=D.createRenderer(null,this.componentDef),J=this.componentDef.selectors[0][0]||"div",ae=a?function Ag(t,r,s){return t.selectRootElement(r,s===cn.ShadowDom)}(B,a,this.componentDef.encapsulation):bd(D.createRenderer(null,this.componentDef),J,function Ms(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(J)),ke=this.componentDef.onPush?288:272,it=Hc(0,null,null,1,0,null,null,null,null,null),At=Yl(null,it,null,ke,null,null,D,B,M,v,null);let Yt,fn;Ao(At);try{const Rn=function jg(t,r,s,a,l,h){const v=s[1];s[22]=t;const M=Ql(v,22,2,"#host",null),B=M.mergedAttrs=r.hostAttrs;null!==B&&(pl(M,B,!0),null!==t&&(qt(l,t,B),null!==M.classes&&Od(l,t,M.classes),null!==M.styles&&zh(l,t,M.styles)));const J=a.createRenderer(t,r),ae=Yl(s,bg(r),null,r.onPush?32:16,s[22],M,a,J,h||null,null,null);return v.firstCreatePass&&(or(ki(M,s),v,r.type),Pg(v,M),wf(M,s.length,1)),Gc(s,ae),s[22]=ae}(ae,this.componentDef,At,D,B);if(ae)if(a)qt(B,ae,["ng-version",wp.full]);else{const{attrs:Zn,classes:Ut}=function ey(t){const r=[],s=[];let a=1,l=2;for(;a<t.length;){let h=t[a];if("string"==typeof h)2===l?""!==h&&r.push(h,t[++a]):8===l&&s.push(h);else{if(!pa(l))break;l=h}a++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);Zn&&qt(B,ae,Zn),Ut&&Ut.length>0&&Od(B,ae,Ut.join(" "))}if(fn=Ei(it,22),void 0!==s){const Zn=fn.projection=[];for(let Ut=0;Ut<this.ngContentSelectors.length;Ut++){const ur=s[Ut];Zn.push(null!=ur?Array.from(ur):null)}}Yt=function Cy(t,r,s,a){const l=s[1],h=function Ng(t,r,s){const a=Gr();t.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),qd(t,a,r,Jl(t,r,1,null),s),xg(t,a));const l=Bs(r,t,a.directiveStart,a);As(l,r);const h=ei(a,r);return h&&As(h,r),l}(l,s,r);if(t[8]=s[8]=h,null!==a)for(const D of a)D(h,r);if(r.contentQueries){const D=Gr();r.contentQueries(1,h,D.directiveStart)}const v=Gr();return!l.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(ut(v.index),Wd(s[1],v,0,v.directiveStart,v.directiveEnd,r),Og(r,h)),h}(Rn,this.componentDef,At,[Of]),mf(it,At,null)}finally{G()}return new Bg(this.componentType,Yt,Vl(fn,At),At,fn)}}class Bg extends class mp{}{constructor(r,s,a,l,h){super(),this.location=a,this._rootLView=l,this._tNode=h,this.instance=s,this.hostView=this.changeDetectorRef=new Vg(l),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let l;if(null!==a&&(l=a[r])){const h=this._rootLView;Yd(h[1],h,l,r,s),zd(h,this._tNode.index)}}get injector(){return new jo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function Of(){const t=Gr();jr(Nt()[1],t)}function Pf(t){let r=function $g(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;r;){let l;if(sr(t))l=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Je(903,!1);l=r.\u0275dir}if(l){if(s){a.push(l);const v=t;v.inputs=Hg(t.inputs),v.declaredInputs=Hg(t.declaredInputs),v.outputs=Hg(t.outputs);const D=l.hostBindings;D&&Gg(t,D);const M=l.viewQuery,B=l.contentQueries;if(M&&Kv(t,M),B&&Js(t,B),Me(t.inputs,l.inputs),Me(t.declaredInputs,l.declaredInputs),Me(t.outputs,l.outputs),sr(l)&&l.data.animation){const J=t.data;J.animation=(J.animation||[]).concat(l.data.animation)}}const h=l.features;if(h)for(let v=0;v<h.length;v++){const D=h[v];D&&D.ngInherit&&D(t),D===Pf&&(s=!1)}}r=Object.getPrototypeOf(r)}!function cs(t){let r=0,s=null;for(let a=t.length-1;a>=0;a--){const l=t[a];l.hostVars=r+=l.hostVars,l.hostAttrs=Dr(l.hostAttrs,s=Dr(s,l.hostAttrs))}}(a)}function Hg(t){return t===qr?{}:t===En?[]:t}function Kv(t,r){const s=t.viewQuery;t.viewQuery=s?(a,l)=>{r(a,l),s(a,l)}:r}function Js(t,r){const s=t.contentQueries;t.contentQueries=s?(a,l,h)=>{r(a,l,h),s(a,l,h)}:r}function Gg(t,r){const s=t.hostBindings;t.hostBindings=s?(a,l)=>{r(a,l),s(a,l)}:r}let Qd=null;function ml(){if(!Qd){const t=bn.Symbol;if(t&&t.iterator)Qd=t.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const a=r[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(Qd=a)}}}return Qd}function Wc(t){return!!kf(t)&&(Array.isArray(t)||!(t instanceof Map)&&ml()in t)}function kf(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Po(t,r,s){return t[r]=s}function Es(t,r,s){return!Object.is(t[r],s)&&(t[r]=s,!0)}function Ca(t,r,s,a){const l=Es(t,r,s);return Es(t,r+1,a)||l}function Ff(t,r,s,a){const l=Nt();return Es(l,an(),r)&&(Jn(),Pa(mt(),l,t,r,s,a)),Ff}function Du(t,r,s,a,l,h){const D=Ca(t,function Q(){return Sn.lFrame.bindingIndex}(),s,l);return lr(2),D?r+Ye(s)+a+Ye(l)+h:yr}function Yg(t,r,s,a,l,h,v,D){const M=Nt(),B=Jn(),J=t+22,ae=B.firstCreatePass?function jf(t,r,s,a,l,h,v,D,M){const B=r.consts,J=Ql(r,t,4,v||null,Ti(B,D));_f(r,s,J,Ti(B,M)),jr(r,J);const ae=J.tViews=Hc(2,J,a,l,h,r.directiveRegistry,r.pipeRegistry,null,r.schemas,B);return null!==r.queries&&(r.queries.template(r,J),ae.queries=r.queries.embeddedTView(J)),J}(J,B,M,r,s,a,l,h,v):B.data[J];Ii(ae,!1);const ke=M[11].createComment("");Hl(B,M,ke,ae),As(ke,M),Gc(M,M[J]=bf(ke,M,ke,ae)),rr(ae)&&yf(B,M,ae),null!=v&&$c(M,ae,D)}function Kc(t){return yi(function go(){return Sn.lFrame.contextLView}(),22+t)}function nh(t,r,s){const a=Nt();return Es(a,an(),r)&&sa(Jn(),mt(),a,t,r,a[11],s,!1),nh}function wl(t,r,s,a,l){const v=l?"class":"style";Yd(t,s,r.inputs[v],v,a)}function Il(t,r,s,a){const l=Nt(),h=Jn(),v=22+t,D=l[11],M=l[v]=bd(D,r,function ir(){return Sn.lFrame.currentNamespace}()),B=h.firstCreatePass?function Ay(t,r,s,a,l,h,v){const D=r.consts,B=Ql(r,t,2,l,Ti(D,h));return _f(r,s,B,Ti(D,v)),null!==B.attrs&&pl(B,B.attrs,!1),null!==B.mergedAttrs&&pl(B,B.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,B),B}(v,h,l,0,r,s,a):h.data[v];Ii(B,!0);const J=B.mergedAttrs;null!==J&&qt(D,M,J);const ae=B.classes;null!==ae&&Od(D,M,ae);const ke=B.styles;return null!==ke&&zh(D,M,ke),64!=(64&B.flags)&&Hl(h,l,M,B),0===function no(){return Sn.lFrame.elementDepthCount}()&&As(M,l),function wi(){Sn.lFrame.elementDepthCount++}(),rr(B)&&(yf(h,l,B),Hd(h,B,l)),null!==a&&$c(l,B),Il}function ou(){let t=Gr();qs()?hi():(t=t.parent,Ii(t,!1));const r=t;!function si(){Sn.lFrame.elementDepthCount--}();const s=Jn();return s.firstCreatePass&&(jr(s,t),Wn(t)&&s.queries.elementEnd(t)),null!=r.classesWithoutHost&&function va(t){return 0!=(16&t.flags)}(r)&&wl(s,r,Nt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function vn(t){return 0!=(32&t.flags)}(r)&&wl(s,r,Nt(),r.stylesWithoutHost,!1),ou}function bu(t,r,s,a){return Il(t,r,s,a),ou(),bu}function au(t,r,s){const a=Nt(),l=Jn(),h=t+22,v=l.firstCreatePass?function qc(t,r,s,a,l){const h=r.consts,v=Ti(h,a),D=Ql(r,t,8,"ng-container",v);return null!==v&&pl(D,v,!0),_f(r,s,D,Ti(h,l)),null!==r.queries&&r.queries.elementStart(r,D),D}(h,l,a,r,s):l.data[h];Ii(v,!0);const D=a[h]=a[11].createComment("");return Hl(l,a,D,v),As(D,a),rr(v)&&(yf(l,a,v),Hd(l,v,a)),null!=s&&$c(a,v),au}function rh(){let t=Gr();const r=Jn();return qs()?hi():(t=t.parent,Ii(t,!1)),r.firstCreatePass&&(jr(r,t),Wn(t)&&r.queries.elementEnd(t)),rh}function $f(){return Nt()}function Dl(t){return!!t&&"function"==typeof t.then}function Jg(t){return!!t&&"function"==typeof t.subscribe}const Xg=Jg;function Hf(t,r,s,a){const l=Nt(),h=Jn(),v=Gr();return function Gf(t,r,s,a,l,h,v,D){const M=rr(a),J=t.firstCreatePass&&Nf(t),ae=r[8],ke=Lg(r);let it=!0;if(3&a.type||D){const fn=ei(a,r),Rn=D?D(fn):fn,Zn=ke.length,Ut=D?Ri=>D(Ar(Ri[a.index])):a.index;let ur=null;if(!D&&M&&(ur=function My(t,r,s,a){const l=t.cleanup;if(null!=l)for(let h=0;h<l.length-1;h+=2){const v=l[h];if(v===s&&l[h+1]===a){const D=r[7],M=l[h+2];return D.length>M?D[M]:null}"string"==typeof v&&(h+=2)}return null}(t,r,l,a.index)),null!==ur)(ur.__ngLastListenerFn__||ur).__ngNextListenerFn__=h,ur.__ngLastListenerFn__=h,it=!1;else{h=nm(a,r,ae,h,!1);const Ri=s.listen(Rn,l,h);ke.push(h,Ri),J&&J.push(l,Ut,Zn,Zn+1)}}else h=nm(a,r,ae,h,!1);const At=a.outputs;let Yt;if(it&&null!==At&&(Yt=At[l])){const fn=Yt.length;if(fn)for(let Rn=0;Rn<fn;Rn+=2){const xs=r[Yt[Rn]][Yt[Rn+1]].subscribe(h),Jc=ke.length;ke.push(h,xs),J&&J.push(l,a.index,Jc,-(Jc+1))}}}(h,l,l[11],v,t,r,0,a),Hf}function tm(t,r,s,a){try{return!1!==s(a)}catch(l){return Rf(t,l),!1}}function nm(t,r,s,a,l){return function h(v){if(v===Function)return a;Mf(2&t.flags?Xn(t.index,r):r);let M=tm(r,0,a,v),B=h.__ngNextListenerFn__;for(;B;)M=tm(r,0,B,v)&&M,B=B.__ngNextListenerFn__;return l&&!1===M&&(v.preventDefault(),v.returnValue=!1),M}}function zf(t=1){return function N(t){return(Sn.lFrame.contextLView=function Y(t,r){for(;t>0;)r=r[15],t--;return r}(t,Sn.lFrame.contextLView))[8]}(t)}function qu(t,r,s,a,l){const h=t[s+1],v=null===r;let D=a?zo(h):ga(h),M=!1;for(;0!==D&&(!1===M||v);){const J=t[D+1];Py(t[D],r)&&(M=!0,t[D+1]=a?af(J):Gu(J)),D=a?zo(J):ga(J)}M&&(t[s+1]=a?Gu(h):af(h))}function Py(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&_(t,r)>=0}const lo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function am(t){return t.substring(lo.key,lo.keyEnd)}function um(t,r){const s=lo.textEnd;return s===r?-1:(r=lo.keyEnd=function Vy(t,r,s){for(;r<s&&t.charCodeAt(r)>32;)r++;return r}(t,lo.key=r,s),ic(t,r,s))}function ic(t,r,s){for(;r<s&&t.charCodeAt(r)<=32;)r++;return r}function Qf(t,r,s){return La(t,r,s,!1),Qf}function Jf(t,r){return La(t,r,null,!0),Jf}function jy(t){!function i(t,r,s,a){const l=Jn(),h=lr(2);l.firstUpdatePass&&n(l,null,h,a);const v=Nt();if(s!==yr&&Es(v,h,s)){const D=l.data[_e()];if(Nn(D,a)&&!e(l,h)){let M=a?D.classesWithoutHost:D.stylesWithoutHost;null!==M&&(s=Ge(M,s||"")),wl(l,D,v,s,a)}else!function Ce(t,r,s,a,l,h,v,D){l===yr&&(l=En);let M=0,B=0,J=0<l.length?l[0]:null,ae=0<h.length?h[0]:null;for(;null!==J||null!==ae;){const ke=M<l.length?l[M+1]:void 0,it=B<h.length?h[B+1]:void 0;let Yt,At=null;J===ae?(M+=2,B+=2,ke!==it&&(At=ae,Yt=it)):null===ae||null!==J&&J<ae?(M+=2,At=J):(B+=2,At=ae,Yt=it),null!==At&&ot(t,r,s,a,At,Yt,v,D),J=M<l.length?l[M]:null,ae=B<h.length?h[B]:null}}(l,D,v,v[11],v[h+1],v[h+1]=function W(t,r,s){if(null==s||""===s)return En;const a=[],l=Na(s);if(Array.isArray(l))for(let h=0;h<l.length;h++)t(a,l[h],!0);else if("object"==typeof l)for(const h in l)l.hasOwnProperty(h)&&t(a,h,l[h]);else"string"==typeof l&&r(a,l);return a}(t,r,s),a,h)}}(br,Tu,t,!0)}function Tu(t,r){for(let s=function Fy(t){return function cm(t){lo.key=0,lo.keyEnd=0,lo.value=0,lo.valueEnd=0,lo.textEnd=t.length}(t),um(t,ic(t,0,lo.textEnd))}(r);s>=0;s=um(r,s))br(t,am(r),!0)}function La(t,r,s,a){const l=Nt(),h=Jn(),v=lr(2);h.firstUpdatePass&&n(h,t,v,a),r!==yr&&Es(l,v,r)&&ot(h,h.data[_e()],l,l[11],t,l[v+1]=function gn(t,r){return null==t||("string"==typeof r?t+=r:"object"==typeof t&&(t=he(Na(t)))),t}(r,s),a,v)}function e(t,r){return r>=t.expandoStartIndex}function n(t,r,s,a){const l=t.data;if(null===l[s+1]){const h=l[_e()],v=e(t,s);Nn(h,a)&&null===r&&!v&&(r=!1),r=function o(t,r,s,a){const l=Zs(t);let h=a?r.residualClasses:r.residualStyles;if(null===l)0===(a?r.classBindings:r.styleBindings)&&(s=V(s=C(null,t,r,s,a),r.attrs,a),h=null);else{const v=r.directiveStylingLast;if(-1===v||t[v]!==l)if(s=C(l,t,r,s,a),null===h){let M=function u(t,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==ga(a))return t[zo(a)]}(t,r,a);void 0!==M&&Array.isArray(M)&&(M=C(null,t,r,M[1],a),M=V(M,r.attrs,a),function d(t,r,s,a){t[zo(s?r.classBindings:r.styleBindings)]=a}(t,r,a,M))}else h=function g(t,r,s){let a;const l=r.directiveEnd;for(let h=1+r.directiveStylingLast;h<l;h++)a=V(a,t[h].hostAttrs,s);return V(a,r.attrs,s)}(t,r,a)}return void 0!==h&&(a?r.residualClasses=h:r.residualStyles=h),s}(l,h,r,a),function Ku(t,r,s,a,l,h){let v=h?r.classBindings:r.styleBindings,D=zo(v),M=ga(v);t[a]=s;let J,B=!1;if(Array.isArray(s)){const ae=s;J=ae[1],(null===J||_(ae,J)>0)&&(B=!0)}else J=s;if(l)if(0!==M){const ke=zo(t[D+1]);t[a+1]=Kl(ke,D),0!==ke&&(t[ke+1]=jd(t[ke+1],a)),t[D+1]=function sf(t,r){return 131071&t|r<<17}(t[D+1],a)}else t[a+1]=Kl(D,0),0!==D&&(t[D+1]=jd(t[D+1],a)),D=a;else t[a+1]=Kl(M,0),0===D?D=a:t[M+1]=jd(t[M+1],a),M=a;B&&(t[a+1]=Gu(t[a+1])),qu(t,J,a,!0),qu(t,J,a,!1),function Oy(t,r,s,a,l){const h=l?t.residualClasses:t.residualStyles;null!=h&&"string"==typeof r&&_(h,r)>=0&&(s[a+1]=af(s[a+1]))}(r,J,t,a,h),v=Kl(D,M),h?r.classBindings=v:r.styleBindings=v}(l,h,r,s,v,a)}}function C(t,r,s,a,l){let h=null;const v=s.directiveEnd;let D=s.directiveStylingLast;for(-1===D?D=s.directiveStart:D++;D<v&&(h=r[D],a=V(a,h.hostAttrs,l),h!==t);)D++;return null!==t&&(s.directiveStylingLast=D),a}function V(t,r,s){const a=s?1:2;let l=-1;if(null!==r)for(let h=0;h<r.length;h++){const v=r[h];"number"==typeof v?l=v:l===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),br(t,v,!!s||r[++h]))}return void 0===t?null:t}function ot(t,r,s,a,l,h,v,D){if(!(3&r.type))return;const M=t.data,B=M[D+1];Mt(function hl(t){return 1==(1&t)}(B)?Tt(M,r,s,l,ga(B),v):void 0)||(Mt(h)||function wu(t){return 2==(2&t)}(B)&&(h=Tt(M,null,s,l,D,v)),function $p(t,r,s,a,l){if(r)l?t.addClass(s,a):t.removeClass(s,a);else{let h=-1===a.indexOf("-")?void 0:eu.DashCase;null==l?t.removeStyle(s,a,h):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),h|=eu.Important),t.setStyle(s,a,l,h))}}(a,v,ci(_e(),s),l,h))}function Tt(t,r,s,a,l,h){const v=null===r;let D;for(;l>0;){const M=t[l],B=Array.isArray(M),J=B?M[1]:M,ae=null===J;let ke=s[l+1];ke===yr&&(ke=ae?En:void 0);let it=ae?Eo(ke,a):J===a?ke:void 0;if(B&&!Mt(it)&&(it=Eo(M,a)),Mt(it)&&(D=it,v))return D;const At=t[l+1];l=v?zo(At):ga(At)}if(null!==r){let M=h?r.residualClasses:r.residualStyles;null!=M&&(D=Eo(M,a))}return D}function Mt(t){return void 0!==t}function Nn(t,r){return 0!=(t.flags&(r?16:32))}function ai(t,r=""){const s=Nt(),a=Jn(),l=t+22,h=a.firstCreatePass?Ql(a,l,1,r,null):a.data[l],v=s[l]=function Cd(t,r){return t.createText(r)}(s[11],r);Hl(a,s,v,h),Ii(h,!1)}function Mi(t){return xi("",t,""),Mi}function xi(t,r,s){const a=Nt(),l=function _l(t,r,s,a){return Es(t,an(),s)?r+Ye(s)+a:yr}(a,t,r,s);return l!==yr&&iu(a,_e(),l),xi}function $s(t,r,s,a,l){const h=Nt(),v=Du(h,t,r,s,a,l);return v!==yr&&iu(h,_e(),v),$s}function $y(t,r,s){const a=Nt();if(Es(a,an(),r)){const h=Jn(),v=mt();sa(h,v,a,t,r,function Zd(t,r,s){return(null===t||sr(t))&&(s=function bo(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(s[r.index])),s[11]}(Zs(h.data),v,a),s,!0)}return $y}const Yc=void 0;var NE=["en",[["a","p"],["AM","PM"],Yc],[["AM","PM"],Yc,Yc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Yc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Yc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Yc,"{1} 'at' {0}",Yc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function xE(t){const s=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let oh={};function Hy(t){const r=function RE(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=d_(r);if(s)return s;const a=r.split("-")[0];if(s=d_(a),s)return s;if("en"===a)return NE;throw new Je(701,!1)}function c_(t){return Hy(t)[tr.PluralCase]}function d_(t){return t in oh||(oh[t]=bn.ng&&bn.ng.common&&bn.ng.common.locales&&bn.ng.common.locales[t]),oh[t]}var tr=(()=>((tr=tr||{})[tr.LocaleId=0]="LocaleId",tr[tr.DayPeriodsFormat=1]="DayPeriodsFormat",tr[tr.DayPeriodsStandalone=2]="DayPeriodsStandalone",tr[tr.DaysFormat=3]="DaysFormat",tr[tr.DaysStandalone=4]="DaysStandalone",tr[tr.MonthsFormat=5]="MonthsFormat",tr[tr.MonthsStandalone=6]="MonthsStandalone",tr[tr.Eras=7]="Eras",tr[tr.FirstDayOfWeek=8]="FirstDayOfWeek",tr[tr.WeekendRange=9]="WeekendRange",tr[tr.DateFormat=10]="DateFormat",tr[tr.TimeFormat=11]="TimeFormat",tr[tr.DateTimeFormat=12]="DateTimeFormat",tr[tr.NumberSymbols=13]="NumberSymbols",tr[tr.NumberFormats=14]="NumberFormats",tr[tr.CurrencyCode=15]="CurrencyCode",tr[tr.CurrencySymbol=16]="CurrencySymbol",tr[tr.CurrencyName=17]="CurrencyName",tr[tr.Currencies=18]="Currencies",tr[tr.Directionality=19]="Directionality",tr[tr.PluralCase=20]="PluralCase",tr[tr.ExtraData=21]="ExtraData",tr))();const ah="en-US";let h_=ah;function Wy(t,r,s,a,l){if(t=xe(t),Array.isArray(t))for(let h=0;h<t.length;h++)Wy(t[h],r,s,a,l);else{const h=Jn(),v=Nt();let D=Fu(t)?t:xe(t.provide),M=gp(t);const B=Gr(),J=1048575&B.providerIndexes,ae=B.directiveStart,ke=B.providerIndexes>>20;if(Fu(t)||!t.multi){const it=new Ki(M,l,dl),At=qy(D,r,l?J:J+ke,ae);-1===At?(or(ki(B,v),h,D),Ky(h,t,r.length),r.push(D),B.directiveStart++,B.directiveEnd++,l&&(B.providerIndexes+=1048576),s.push(it),v.push(it)):(s[At]=it,v[At]=it)}else{const it=qy(D,r,J+ke,ae),At=qy(D,r,J,J+ke),Yt=it>=0&&s[it],fn=At>=0&&s[At];if(l&&!fn||!l&&!Yt){or(ki(B,v),h,D);const Rn=function Mw(t,r,s,a,l){const h=new Ki(t,s,dl);return h.multi=[],h.index=r,h.componentProviders=0,L_(h,l,a&&!s),h}(l?Aw:Sw,s.length,l,a,M);!l&&fn&&(s[At].providerFactory=Rn),Ky(h,t,r.length,0),r.push(D),B.directiveStart++,B.directiveEnd++,l&&(B.providerIndexes+=1048576),s.push(Rn),v.push(Rn)}else Ky(h,t,it>-1?it:At,L_(s[l?At:it],M,!l&&a));!l&&a&&fn&&s[At].componentProviders++}}}function Ky(t,r,s,a){const l=Fu(r),h=function fp(t){return!!t.useClass}(r);if(l||h){const M=(h?xe(r.useClass):r).prototype.ngOnDestroy;if(M){const B=t.destroyHooks||(t.destroyHooks=[]);if(!l&&r.multi){const J=B.indexOf(s);-1===J?B.push(s,[a,M]):B[J+1].push(a,M)}else B.push(s,M)}}}function L_(t,r,s){return s&&t.componentProviders++,t.multi.push(r)-1}function qy(t,r,s,a){for(let l=s;l<a;l++)if(r[l]===t)return l;return-1}function Sw(t,r,s,a){return Zy(this.multi,[])}function Aw(t,r,s,a){const l=this.multi;let h;if(this.providerFactory){const v=this.providerFactory.componentProviders,D=Bs(s,s[1],this.providerFactory.index,a);h=D.slice(0,v),Zy(l,h);for(let M=v;M<D.length;M++)h.push(D[M])}else h=[],Zy(l,h);return h}function Zy(t,r){for(let s=0;s<t.length;s++)r.push((0,t[s])());return r}function V_(t,r=[]){return s=>{s.providersResolver=(a,l)=>function Tw(t,r,s){const a=Jn();if(a.firstCreatePass){const l=sr(t);Wy(s,a.data,a.blueprint,l,!0),Wy(r,a.data,a.blueprint,l,!1)}}(a,l?l(t):t,r)}}class uh{}class U_{}function xw(t,r){return new B_(t,r??null)}class B_ extends uh{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new gl(this);const a=pn(r);this._bootstrapComponents=Oa(a.bootstrap),this._r3Injector=al(r,s,[{provide:uh,useValue:this},{provide:Vu,useValue:this.componentFactoryResolver}],he(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class Yy extends U_{constructor(r){super(),this.moduleType=r}create(r){return new B_(this.moduleType,r)}}class Nw extends uh{constructor(r,s,a){super(),this.componentFactoryResolver=new gl(this),this.instance=null;const l=new Eh([...r,{provide:uh,useValue:this},{provide:Vu,useValue:this.componentFactoryResolver}],s||cd(),a,new Set(["environment"]));this.injector=l,l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function Qy(t,r,s=null){return new Nw(t,r,s).injector}let Rw=(()=>{class t{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s.id)){const a=ad(0,s.type),l=a.length>0?Qy([a],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s.id,l)}return this.cachedInjectors.get(s.id)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=vt({token:t,providedIn:"environment",factory:()=>new t(oi(Lu))}),t})();function j_(t){t.getStandaloneInjector=r=>r.get(Rw).getOrCreateStandaloneInjector(t)}function q_(t,r,s,a,l){return function Y_(t,r,s,a,l,h,v){const D=r+s;return Ca(t,D,l,h)?Po(t,D+2,v?a.call(v,l,h):a(l,h)):ip(t,D+2)}(Nt(),A(),t,r,s,a,l)}function ip(t,r){const s=t[r];return s===yr?void 0:s}function e0(t,r){const s=Jn();let a;const l=t+22;s.firstCreatePass?(a=function Yw(t,r){if(r)for(let s=r.length-1;s>=0;s--){const a=r[s];if(t===a.name)return a}}(r,s.pipeRegistry),s.data[l]=a,a.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(l,a.onDestroy)):a=s.data[l];const h=a.factory||(a.factory=mi(a.type)),v=qn(dl);try{const D=ca(!1),M=h();return ca(D),function th(t,r,s,a){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),r[s]=a}(s,Nt(),l,M),M}finally{qn(v)}}function t0(t,r,s){const a=t+22,l=Nt(),h=yi(l,a);return function sp(t,r){return t[1].data[r].pure}(l,a)?function Z_(t,r,s,a,l,h){const v=r+s;return Es(t,v,l)?Po(t,v+1,h?a.call(h,l):a(l)):ip(t,v+1)}(l,A(),r,h.transform,s,h):h.transform(s)}function Xy(t){return r=>{setTimeout(t,void 0,r)}}const Zu=class tI extends c.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){let l=r,h=s||(()=>null),v=a;if(r&&"object"==typeof r){const M=r;l=M.next?.bind(M),h=M.error?.bind(M),v=M.complete?.bind(M)}this.__isAsync&&(h=Xy(h),l&&(l=Xy(l)),v&&(v=Xy(v)));const D=super.subscribe({next:l,error:h,complete:v});return r instanceof F.w0&&r.add(D),D}};function nI(){return this._results[ml()]()}class ev{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=ml(),a=ev.prototype;a[s]||(a[s]=nI)}get changes(){return this._changes||(this._changes=new Zu)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const l=lt(r);(this._changesDetected=!function nt(t,r,s){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let l=t[a],h=r[a];if(s&&(l=s(l),h=s(h)),h!==l)return!1}return!0}(a._results,l,s))&&(a._results=l,a.length=l.length,a.last=l[this.length-1],a.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let op=(()=>{class t{}return t.__NG_ELEMENT_ID__=sI,t})();const rI=op,iI=class extends rI{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(r,s){const a=this._declarationTContainer.tViews,l=Yl(this._declarationLView,a,r,16,null,a.declTNode,null,null,null,null,s||null);l[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(l[19]=v.createEmbeddedView(a)),mf(a,l,r),new nc(l)}};function sI(){return mm(Gr(),Nt())}function mm(t,r){return 4&t.type?new iI(r,t,Vl(t,r)):null}let ym=(()=>{class t{}return t.__NG_ELEMENT_ID__=oI,t})();function oI(){return s0(Gr(),Nt())}const aI=ym,n0=class extends aI{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return Vl(this._hostTNode,this._hostLView)}get injector(){return new jo(this._hostTNode,this._hostLView)}get parentInjector(){const r=Ro(this._hostTNode,this._hostLView);if(la(r)){const s=Uo(r,this._hostLView),a=Ci(r);return new jo(s[1].data[a+8],s)}return new jo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=r0(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,a){let l,h;"number"==typeof a?l=a:null!=a&&(l=a.index,h=a.injector);const v=r.createEmbeddedView(s||{},h);return this.insert(v,l),v}createComponent(r,s,a,l,h){const v=r&&!function be(t){return"function"==typeof t}(r);let D;if(v)D=s;else{const ae=s||{};D=ae.index,a=ae.injector,l=ae.projectableNodes,h=ae.environmentInjector||ae.ngModuleRef}const M=v?r:new ma(me(r)),B=a||this.parentInjector;if(!h&&null==M.ngModule){const ke=(v?B:this.parentInjector).get(Lu,null);ke&&(h=ke)}const J=M.create(B,l,void 0,h);return this.insert(J.hostView,D),J}insert(r,s){const a=r._lView,l=a[1];if(function To(t){return Qt(t[3])}(a)){const J=this.indexOf(r);if(-1!==J)this.detach(J);else{const ae=a[3],ke=new n0(ae,ae[6],ae[3]);ke.detach(ke.indexOf(r))}}const h=this._adjustIndex(s),v=this._lContainer;!function Qm(t,r,s,a){const l=10+a,h=s.length;a>0&&(s[l-1][4]=r),a<h-10?(r[4]=s[l],un(s,10+a,r)):(s.push(r),r[4]=null),r[3]=s;const v=r[17];null!==v&&s!==v&&function Oh(t,r){const s=t[9];r[16]!==r[3][3][16]&&(t[2]=!0),null===s?t[9]=[r]:s.push(r)}(v,r);const D=r[19];null!==D&&D.insertView(t),r[2]|=64}(l,a,v,h);const D=$h(h,v),M=a[11],B=ol(M,v[7]);return null!==B&&function Zm(t,r,s,a,l,h){a[0]=l,a[6]=r,tu(t,a,s,1,l,h)}(l,v[6],M,a,B,D),r.attachToViewContainerRef(),un(tv(v),h,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=r0(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=Ph(this._lContainer,s);a&&(_n(tv(this._lContainer),s),Vp(a[1],a))}detach(r){const s=this._adjustIndex(r,-1),a=Ph(this._lContainer,s);return a&&null!=_n(tv(this._lContainer),s)?new nc(a):null}_adjustIndex(r,s=0){return r??this.length+s}};function r0(t){return t[8]}function tv(t){return t[8]||(t[8]=[])}function s0(t,r){let s;const a=r[t.index];if(Qt(a))s=a;else{let l;if(8&t.type)l=Ar(a);else{const h=r[11];l=h.createComment("");const v=ei(t,r);sl(h,ol(h,v),l,function Vh(t,r){return t.nextSibling(r)}(h,v),!1)}r[t.index]=s=bf(a,r,l,t),Gc(r,s)}return new n0(s,t,r)}class nv{constructor(r){this.queryList=r,this.matches=null}clone(){return new nv(this.queryList)}setDirty(){this.queryList.setDirty()}}class rv{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,l=[];for(let h=0;h<a;h++){const v=s.getByIndex(h);l.push(this.queries[v.indexInDeclarationView].clone())}return new rv(l)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==f0(r,s).matches&&this.queries[s].setDirty()}}class o0{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class iv{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const l=null!==s?s.length:0,h=this.getByIndex(a).embeddedTView(r,l);h&&(h.indexInDeclarationView=a,null!==s?s.push(h):s=[h])}return null!==s?new iv(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class sv{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new sv(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let l=0;l<a.length;l++){const h=a[l];this.matchTNodeWithReadOption(r,s,cI(s,h)),this.matchTNodeWithReadOption(r,s,Bo(s,r,h,!1,!1))}else a===op?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,Bo(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const l=this.metadata.read;if(null!==l)if(l===Ic||l===ym||l===op&&4&s.type)this.addMatch(s.index,-2);else{const h=Bo(s,r,l,!1,!1);null!==h&&this.addMatch(s.index,h)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function cI(t,r){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function hI(t,r,s,a){return-1===s?function dI(t,r){return 11&t.type?Vl(t,r):4&t.type?mm(t,r):null}(r,t):-2===s?function fI(t,r,s){return s===Ic?Vl(r,t):s===op?mm(r,t):s===ym?s0(r,t):void 0}(t,r,a):Bs(t,t[1],s,r)}function a0(t,r,s,a){const l=r[19].queries[a];if(null===l.matches){const h=t.data,v=s.matches,D=[];for(let M=0;M<v.length;M+=2){const B=v[M];D.push(B<0?null:hI(r,h[B],v[M+1],s.metadata.read))}l.matches=D}return l.matches}function ov(t,r,s,a){const l=t.queries.getByIndex(s),h=l.matches;if(null!==h){const v=a0(t,r,l,s);for(let D=0;D<h.length;D+=2){const M=h[D];if(M>0)a.push(v[D/2]);else{const B=h[D+1],J=r[-M];for(let ae=10;ae<J.length;ae++){const ke=J[ae];ke[17]===ke[3]&&ov(ke[1],ke,B,a)}if(null!==J[9]){const ae=J[9];for(let ke=0;ke<ae.length;ke++){const it=ae[ke];ov(it[1],it,B,a)}}}}}return a}function u0(t){const r=Nt(),s=Jn(),a=So();aa(a+1);const l=f0(s,a);if(t.dirty&&function to(t){return 4==(4&t[2])}(r)===(2==(2&l.metadata.flags))){if(null===l.matches)t.reset([]);else{const h=l.crossesNgTemplate?ov(s,r,a,[]):a0(s,r,l,a);t.reset(h,Rm),t.notifyOnChanges()}return!0}return!1}function l0(t,r,s,a){const l=Jn();if(l.firstCreatePass){const h=Gr();(function h0(t,r,s){null===t.queries&&(t.queries=new iv),t.queries.track(new sv(r,s))})(l,new o0(r,s,a),h.index),function mI(t,r){const s=t.contentQueries||(t.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,r)}(l,t),2==(2&s)&&(l.staticContentQueries=!0)}!function d0(t,r,s){const a=new ev(4==(4&s));Mg(t,r,a,a.destroy),null===r[19]&&(r[19]=new rv),r[19].queries.push(new nv(a))}(l,Nt(),s)}function c0(){return function gI(t,r){return t[19].queries[r].queryList}(Nt(),So())}function f0(t,r){return t.queries.getByIndex(r)}function p0(t,r){return mm(t,r)}function _m(...t){}const O0=new kr("Application Initializer");let Em=(()=>{class t{constructor(s){this.appInits=s,this.resolve=_m,this.reject=_m,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,l)=>{this.resolve=a,this.reject=l})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const h=this.appInits[l]();if(Dl(h))s.push(h);else if(Xg(h)){const v=new Promise((D,M)=>{h.subscribe({complete:D,error:M})});s.push(v)}}Promise.all(s).then(()=>{a()}).catch(l=>{this.reject(l)}),0===s.length&&a(),this.initialized=!0}}return t.\u0275fac=function(s){return new(s||t)(oi(O0,8))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const P0=new kr("AppId",{providedIn:"root",factory:function k0(){return`${dv()}${dv()}${dv()}`}});function dv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const F0=new kr("Platform Initializer"),FI=new kr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),L0=new kr("appBootstrapListener"),LI=new kr("AnimationModuleType");let VI=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const wm=new kr("LocaleId",{providedIn:"root",factory:()=>x(wm,Ft.Optional|Ft.SkipSelf)||function UI(){return typeof $localize<"u"&&$localize.locale||ah}()}),BI=new kr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class jI{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let $I=(()=>{class t{compileModuleSync(s){return new Yy(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),h=Oa(pn(s).declarations).reduce((v,D)=>{const M=me(D);return M&&v.push(new ma(M)),v},[]);return new jI(a,h)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const zI=(()=>Promise.resolve(0))();function hv(t){typeof Zone>"u"?zI.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class lu{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Zu(!1),this.onMicrotaskEmpty=new Zu(!1),this.onStable=new Zu(!1),this.onError=new Zu(!1),typeof Zone>"u")throw new Je(908,!1);Zone.assertZonePatched();const l=this;if(l._nesting=0,l._outer=l._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const h=Zone.AsyncStackTaggingZoneSpec;l._inner=l._inner.fork(new h("Angular"))}Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!a&&s,l.shouldCoalesceRunChangeDetection=a,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function WI(){let t=bn.requestAnimationFrame,r=bn.cancelAnimationFrame;if(typeof Zone<"u"&&t&&r){const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function ZI(t){const r=()=>{!function qI(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(bn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,pv(t),t.isCheckStableRunning=!0,fv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),pv(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,l,h,v,D)=>{try{return B0(t),s.invokeTask(l,h,v,D)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||t.shouldCoalesceRunChangeDetection)&&r(),j0(t)}},onInvoke:(s,a,l,h,v,D,M)=>{try{return B0(t),s.invoke(l,h,v,D,M)}finally{t.shouldCoalesceRunChangeDetection&&r(),j0(t)}},onHasTask:(s,a,l,h)=>{s.hasTask(l,h),a===l&&("microTask"==h.change?(t._hasPendingMicrotasks=h.microTask,pv(t),fv(t)):"macroTask"==h.change&&(t.hasPendingMacrotasks=h.macroTask))},onHandleError:(s,a,l,h)=>(s.handleError(l,h),t.runOutsideAngular(()=>t.onError.emit(h)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!lu.isInAngularZone())throw new Je(909,!1)}static assertNotInAngularZone(){if(lu.isInAngularZone())throw new Je(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,l){const h=this._inner,v=h.scheduleEventTask("NgZoneEvent: "+l,r,KI,_m,_m);try{return h.runTask(v,s,a)}finally{h.cancelTask(v)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const KI={};function fv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function pv(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function B0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function j0(t){t._nesting--,fv(t)}class YI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Zu,this.onMicrotaskEmpty=new Zu,this.onStable=new Zu,this.onError=new Zu}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,l){return r.apply(s,a)}}const $0=new kr(""),H0=new kr("");let gv,QI=(()=>{class t{constructor(s,a,l){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,gv||(function JI(t){gv=t}(l),l.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{lu.assertNotInAngularZone(),hv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())hv(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,l){let h=-1;a&&a>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==h),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:h,updateCb:l})}whenStable(s,a,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,l){return[]}}return t.\u0275fac=function(s){return new(s||t)(oi(lu),oi(G0),oi(H0))},t.\u0275prov=vt({token:t,factory:t.\u0275fac}),t})(),G0=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return gv?.findTestabilityInTree(this,s,a)??null}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),ac=null;const z0=new kr("AllowMultipleToken"),mv=new kr("PlatformDestroyListeners");class tD{constructor(r,s){this.name=r,this.token=s}}function K0(t,r,s=[]){const a=`Platform: ${r}`,l=new kr(a);return(h=[])=>{let v=yv();if(!v||v.injector.get(z0,!1)){const D=[...s,...h,{provide:l,useValue:!0}];t?t(D):function nD(t){if(ac&&!ac.get(z0,!1))throw new Je(400,!1);ac=t;const r=t.get(Z0);(function W0(t){const r=t.get(F0,null);r&&r.forEach(s=>s())})(t)}(function q0(t=[],r){return Eu.create({name:r,providers:[{provide:_h,useValue:"platform"},{provide:mv,useValue:new Set([()=>ac=null])},...t]})}(D,a))}return function iD(t){const r=yv();if(!r)throw new Je(401,!1);return r}()}}function yv(){return ac?.get(Z0)??null}let Z0=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const l=function Q0(t,r){let s;return s="noop"===t?new YI:("zone.js"===t?void 0:t)||new lu(r),s}(a?.ngZone,function Y0(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(a)),h=[{provide:lu,useValue:l}];return l.run(()=>{const v=Eu.create({providers:h,parent:this.injector,name:s.moduleType.name}),D=s.create(v),M=D.injector.get(Ga,null);if(!M)throw new Je(402,!1);return l.runOutsideAngular(()=>{const B=l.onError.subscribe({next:J=>{M.handleError(J)}});D.onDestroy(()=>{Dm(this._modules,D),B.unsubscribe()})}),function J0(t,r,s){try{const a=s();return Dl(a)?a.catch(l=>{throw r.runOutsideAngular(()=>t.handleError(l)),l}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(M,l,()=>{const B=D.injector.get(Em);return B.runInitializers(),B.donePromise.then(()=>(function f_(t){sn(t,"Expected localeId to be defined"),"string"==typeof t&&(h_=t.toLowerCase().replace(/_/g,"-"))}(D.injector.get(wm,ah)||ah),this._moduleDoBootstrap(D),D))})})}bootstrapModule(s,a=[]){const l=X0({},a);return function XI(t,r,s){const a=new Yy(s);return Promise.resolve(a)}(0,0,s).then(h=>this.bootstrapModuleFactory(h,l))}_moduleDoBootstrap(s){const a=s.injector.get(Im);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(l=>a.bootstrap(l));else{if(!s.instance.ngDoBootstrap)throw new Je(403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Je(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(mv,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(s){return new(s||t)(oi(Eu))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function X0(t,r){return Array.isArray(r)?r.reduce(X0,t):{...t,...r}}let Im=(()=>{class t{constructor(s,a,l){this._zone=s,this._injector=a,this._exceptionHandler=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new H.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),v=new H.y(D=>{let M;this._zone.runOutsideAngular(()=>{M=this._zone.onStable.subscribe(()=>{lu.assertNotInAngularZone(),hv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const B=this._zone.onUnstable.subscribe(()=>{lu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{M.unsubscribe(),B.unsubscribe()}});this.isStable=(0,we.T)(h,v.pipe((0,ve.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,a){const l=s instanceof Go;if(!this._injector.get(Em).done)throw!l&&Vt(s),new Je(405,false);let v;v=l?s:this._injector.get(Vu).resolveComponentFactory(s),this.componentTypes.push(v.componentType);const D=function eD(t){return t.isBoundToModule}(v)?void 0:this._injector.get(uh),B=v.create(Eu.NULL,[],a||v.selector,D),J=B.location.nativeElement,ae=B.injector.get($0,null);return ae?.registerApplication(J),B.onDestroy(()=>{this.detachView(B.hostView),Dm(this.components,B),ae?.unregisterApplication(J)}),this._loadComponent(B),B}tick(){if(this._runningTick)throw new Je(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;Dm(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(L0,[]).concat(this._bootstrapListeners).forEach(l=>l(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>Dm(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new Je(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(s){return new(s||t)(oi(lu),oi(Lu),oi(Ga))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Dm(t,r){const s=t.indexOf(r);s>-1&&t.splice(s,1)}let tE=!0,nE=!1;function oD(){return nE=!0,tE}function aD(){if(nE)throw new Error("Cannot enable prod mode after platform setup.");tE=!1}let uD=(()=>{class t{}return t.__NG_ELEMENT_ID__=lD,t})();function lD(t){return function cD(t,r,s){if(Ur(t)&&!s){const a=Xn(t.index,r);return new nc(a,a)}return 47&t.type?new nc(r[16],r):null}(Gr(),Nt(),16==(16&t))}class oE{constructor(){}supports(r){return Wc(r)}create(r){return new mD(r)}}const gD=(t,r)=>r;class mD{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||gD}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,l=0,h=null;for(;s||a;){const v=!a||s&&s.currentIndex<uE(a,l,h)?s:a,D=uE(v,l,h),M=v.currentIndex;if(v===a)l--,a=a._nextRemoved;else if(s=s._next,null==v.previousIndex)l++;else{h||(h=[]);const B=D-l,J=M-l;if(B!=J){for(let ke=0;ke<B;ke++){const it=ke<h.length?h[ke]:h[ke]=0,At=it+ke;J<=At&&At<B&&(h[ke]=it+1)}h[v.previousIndex]=J-B}}D!==M&&r(v,D,M)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!Wc(r))throw new Je(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let l,h,v,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let D=0;D<this.length;D++)h=r[D],v=this._trackByFn(D,h),null!==s&&Object.is(s.trackById,v)?(a&&(s=this._verifyReinsertion(s,h,v,D)),Object.is(s.item,h)||this._addIdentityChange(s,h)):(s=this._mismatch(s,h,v,D),a=!0),s=s._next}else l=0,function Sy(t,r){if(Array.isArray(t))for(let s=0;s<t.length;s++)r(t[s]);else{const s=t[ml()]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,D=>{v=this._trackByFn(l,D),null!==s&&Object.is(s.trackById,v)?(a&&(s=this._verifyReinsertion(s,D,v,l)),Object.is(s.item,D)||this._addIdentityChange(s,D)):(s=this._mismatch(s,D,v,l),a=!0),s=s._next,l++}),this.length=l;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,l){let h;return null===r?h=this._itTail:(h=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,h,l)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,l))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,h,l)):r=this._addAfter(new yD(s,a),h,l),r}_verifyReinsertion(r,s,a,l){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==h?r=this._reinsertAfter(h,r._prev,l):r.currentIndex!=l&&(r.currentIndex=l,this._addToMoves(r,l)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const l=r._prevRemoved,h=r._nextRemoved;return null===l?this._removalsHead=h:l._nextRemoved=h,null===h?this._removalsTail=l:h._prevRemoved=l,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const l=null===s?this._itHead:s._next;return r._next=l,r._prev=s,null===l?this._itTail=r:l._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new aE),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new aE),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class yD{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class vD{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class aE{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new vD,this.map.set(s,a)),a.add(r)}get(r,s){const l=this.map.get(r);return l?l.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function uE(t,r,s){const a=t.previousIndex;if(null===a)return a;let l=0;return s&&a<s.length&&(l=s[a]),a+r+l}class lE{constructor(){}supports(r){return r instanceof Map||kf(r)}create(){return new _D}}class _D{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||kf(r)))throw new Je(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,l)=>{if(s&&s.key===l)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const h=this._getOrCreateRecordForKey(l,a);s=this._insertBeforeOrAppend(s,h)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const l=this._records.get(r);this._maybeAddToChanges(l,s);const h=l._prev,v=l._next;return h&&(h._next=v),v&&(v._prev=h),l._next=null,l._prev=null,l}const a=new ED(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class ED{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function cE(){return new Iv([new oE])}let Iv=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(null!=a){const l=a.factories.slice();s=s.concat(l)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||cE()),deps:[[t,new Cn,new rn]]}}find(s){const a=this.factories.find(l=>l.supports(s));if(null!=a)return a;throw new Je(901,!1)}}return t.\u0275prov=vt({token:t,providedIn:"root",factory:cE}),t})();function dE(){return new Dv([new lE])}let Dv=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(a){const l=a.factories.slice();s=s.concat(l)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||dE()),deps:[[t,new Cn,new rn]]}}find(s){const a=this.factories.find(l=>l.supports(s));if(a)return a;throw new Je(901,!1)}}return t.\u0275prov=vt({token:t,providedIn:"root",factory:dE}),t})();const DD=K0(null,"core",[]);let CD=(()=>{class t{constructor(s){}}return t.\u0275fac=function(s){return new(s||t)(oi(Im))},t.\u0275mod=Ve({type:t}),t.\u0275inj=je({}),t})();function bD(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}},433:(Jt,tt,U)=>{U.d(tt,{Fj:()=>oe,qu:()=>qs,u:()=>ho,sg:()=>ds,u5:()=>Zo,JJ:()=>xn,JL:()=>Bn,On:()=>Rs,UX:()=>fo,kI:()=>Te,_Y:()=>Do});var c=U(4650),F=U(6895),H=U(8996),we=U(9751),ve=U(4742),Pe=U(8421),Me=U(7669),he=U(5403),Ge=U(3268),se=U(1810),xe=U(4004);let ft=(()=>{class L{constructor(A,Q){this._renderer=A,this._elementRef=Q,this.onChange=at=>{},this.onTouched=()=>{}}setProperty(A,Q){this._renderer.setProperty(this._elementRef.nativeElement,A,Q)}registerOnTouched(A){this.onTouched=A}registerOnChange(A){this.onChange=A}setDisabledState(A){this.setProperty("disabled",A)}}return L.\u0275fac=function(A){return new(A||L)(c.Y36(c.Qsj),c.Y36(c.SBq))},L.\u0275dir=c.lG2({type:L}),L})(),ct=(()=>{class L extends ft{}return L.\u0275fac=function(){let O;return function(Q){return(O||(O=c.n5z(L)))(Q||L)}}(),L.\u0275dir=c.lG2({type:L,features:[c.qOj]}),L})();const Je=new c.OlP("NgValueAccessor"),Ze={provide:Je,useExisting:(0,c.Gpc)(()=>oe),multi:!0},Ct=new c.OlP("CompositionEventMode");let oe=(()=>{class L extends ft{constructor(A,Q,at){super(A,Q),this._compositionMode=at,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Dt(){const L=(0,F.q)()?(0,F.q)().getUserAgent():"";return/android (\d+)/.test(L.toLowerCase())}())}writeValue(A){this.setProperty("value",A??"")}_handleInput(A){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(A)}_compositionStart(){this._composing=!0}_compositionEnd(A){this._composing=!1,this._compositionMode&&this.onChange(A)}}return L.\u0275fac=function(A){return new(A||L)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(Ct,8))},L.\u0275dir=c.lG2({type:L,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(A,Q){1&A&&c.NdJ("input",function(an){return Q._handleInput(an.target.value)})("blur",function(){return Q.onTouched()})("compositionstart",function(){return Q._compositionStart()})("compositionend",function(an){return Q._compositionEnd(an.target.value)})},features:[c._Bn([Ze]),c.qOj]}),L})();function Ke(L){return null==L||("string"==typeof L||Array.isArray(L))&&0===L.length}function St(L){return null!=L&&"number"==typeof L.length}const Re=new c.OlP("NgValidators"),ze=new c.OlP("NgAsyncValidators"),st=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Te{static min(O){return function Oe(L){return O=>{if(Ke(O.value)||Ke(L))return null;const A=parseFloat(O.value);return!isNaN(A)&&A<L?{min:{min:L,actual:O.value}}:null}}(O)}static max(O){return function Be(L){return O=>{if(Ke(O.value)||Ke(L))return null;const A=parseFloat(O.value);return!isNaN(A)&&A>L?{max:{max:L,actual:O.value}}:null}}(O)}static required(O){return function $e(L){return Ke(L.value)?{required:!0}:null}(O)}static requiredTrue(O){return function wt(L){return!0===L.value?null:{required:!0}}(O)}static email(O){return function xt(L){return Ke(L.value)||st.test(L.value)?null:{email:!0}}(O)}static minLength(O){return function Ot(L){return O=>Ke(O.value)||!St(O.value)?null:O.value.length<L?{minlength:{requiredLength:L,actualLength:O.value.length}}:null}(O)}static maxLength(O){return function Wt(L){return O=>St(O.value)&&O.value.length>L?{maxlength:{requiredLength:L,actualLength:O.value.length}}:null}(O)}static pattern(O){return function sn(L){if(!L)return _t;let O,A;return"string"==typeof L?(A="","^"!==L.charAt(0)&&(A+="^"),A+=L,"$"!==L.charAt(L.length-1)&&(A+="$"),O=new RegExp(A)):(A=L.toString(),O=L),Q=>{if(Ke(Q.value))return null;const at=Q.value;return O.test(at)?null:{pattern:{requiredPattern:A,actualValue:at}}}}(O)}static nullValidator(O){return null}static compose(O){return $t(O)}static composeAsync(O){return Yn(O)}}function _t(L){return null}function tn(L){return null!=L}function ln(L){return(0,c.QGY)(L)?(0,H.D)(L):L}function Xe(L){let O={};return L.forEach(A=>{O=null!=A?{...O,...A}:O}),0===Object.keys(O).length?null:O}function vt(L,O){return O.map(A=>A(L))}function je(L){return L.map(O=>function Se(L){return!L.validate}(O)?O:A=>O.validate(A))}function $t(L){if(!L)return null;const O=L.filter(tn);return 0==O.length?null:function(A){return Xe(vt(A,O))}}function mn(L){return null!=L?$t(je(L)):null}function Yn(L){if(!L)return null;const O=L.filter(tn);return 0==O.length?null:function(A){return function fe(...L){const O=(0,Me.jO)(L),{args:A,keys:Q}=(0,ve.D)(L),at=new we.y(an=>{const{length:lr}=A;if(!lr)return void an.complete();const Wi=new Array(lr);let Xi=lr,ti=lr;for(let ro=0;ro<lr;ro++){let ps=!1;(0,Pe.Xf)(A[ro]).subscribe((0,he.x)(an,Zs=>{ps||(ps=!0,ti--),Wi[ro]=Zs},()=>Xi--,void 0,()=>{(!Xi||!ps)&&(ti||an.next(Q?(0,se.n)(Q,Wi):Wi),an.complete())}))}});return O?at.pipe((0,Ge.Z)(O)):at}(vt(A,O).map(ln)).pipe((0,xe.U)(Xe))}}function $n(L){return null!=L?Yn(je(L)):null}function cr(L,O){return null===L?[O]:Array.isArray(L)?[...L,O]:[L,O]}function gr(L){return L._rawValidators}function Xt(L){return L._rawAsyncValidators}function On(L){return L?Array.isArray(L)?L:[L]:[]}function Rr(L,O){return Array.isArray(L)?L.includes(O):L===O}function dr(L,O){const A=On(O);return On(L).forEach(at=>{Rr(A,at)||A.push(at)}),A}function Ft(L,O){return On(O).filter(A=>!Rr(L,A))}class An{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(O){this._rawValidators=O||[],this._composedValidatorFn=mn(this._rawValidators)}_setAsyncValidators(O){this._rawAsyncValidators=O||[],this._composedAsyncValidatorFn=$n(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(O){this._onDestroyCallbacks.push(O)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(O=>O()),this._onDestroyCallbacks=[]}reset(O){this.control&&this.control.reset(O)}hasError(O,A){return!!this.control&&this.control.hasError(O,A)}getError(O,A){return this.control?this.control.getError(O,A):null}}class wn extends An{get formDirective(){return null}get path(){return null}}class qn extends An{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Tr{constructor(O){this._cd=O}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let xn=(()=>{class L extends Tr{constructor(A){super(A)}}return L.\u0275fac=function(A){return new(A||L)(c.Y36(qn,2))},L.\u0275dir=c.lG2({type:L,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(A,Q){2&A&&c.ekj("ng-untouched",Q.isUntouched)("ng-touched",Q.isTouched)("ng-pristine",Q.isPristine)("ng-dirty",Q.isDirty)("ng-valid",Q.isValid)("ng-invalid",Q.isInvalid)("ng-pending",Q.isPending)},features:[c.qOj]}),L})(),Bn=(()=>{class L extends Tr{constructor(A){super(A)}}return L.\u0275fac=function(A){return new(A||L)(c.Y36(wn,10))},L.\u0275dir=c.lG2({type:L,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(A,Q){2&A&&c.ekj("ng-untouched",Q.isUntouched)("ng-touched",Q.isTouched)("ng-pristine",Q.isPristine)("ng-dirty",Q.isDirty)("ng-valid",Q.isValid)("ng-invalid",Q.isInvalid)("ng-pending",Q.isPending)("ng-submitted",Q.isSubmitted)},features:[c.qOj]}),L})();const Ve="VALID",It="INVALID",nn="PENDING",Vn="DISABLED";function Ue(L){return(Vt(L)?L.validators:L)||null}function me(L){return Array.isArray(L)?mn(L):L||null}function Ee(L,O){return(Vt(O)?O.asyncValidators:L)||null}function dt(L){return Array.isArray(L)?$n(L):L||null}function Vt(L){return null!=L&&!Array.isArray(L)&&"object"==typeof L}function pn(L,O,A){const Q=L.controls;if(!(O?Object.keys(Q):Q).length)throw new c.vHH(1e3,"");if(!Q[A])throw new c.vHH(1001,"")}function Gt(L,O,A){L._forEachChild((Q,at)=>{if(void 0===A[at])throw new c.vHH(1002,"")})}class ue{constructor(O,A){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=O,this._rawAsyncValidators=A,this._composedValidatorFn=me(this._rawValidators),this._composedAsyncValidatorFn=dt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(O){this._rawValidators=this._composedValidatorFn=O}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(O){this._rawAsyncValidators=this._composedAsyncValidatorFn=O}get parent(){return this._parent}get valid(){return this.status===Ve}get invalid(){return this.status===It}get pending(){return this.status==nn}get disabled(){return this.status===Vn}get enabled(){return this.status!==Vn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(O){this._rawValidators=O,this._composedValidatorFn=me(O)}setAsyncValidators(O){this._rawAsyncValidators=O,this._composedAsyncValidatorFn=dt(O)}addValidators(O){this.setValidators(dr(O,this._rawValidators))}addAsyncValidators(O){this.setAsyncValidators(dr(O,this._rawAsyncValidators))}removeValidators(O){this.setValidators(Ft(O,this._rawValidators))}removeAsyncValidators(O){this.setAsyncValidators(Ft(O,this._rawAsyncValidators))}hasValidator(O){return Rr(this._rawValidators,O)}hasAsyncValidator(O){return Rr(this._rawAsyncValidators,O)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(O={}){this.touched=!0,this._parent&&!O.onlySelf&&this._parent.markAsTouched(O)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(O=>O.markAllAsTouched())}markAsUntouched(O={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(A=>{A.markAsUntouched({onlySelf:!0})}),this._parent&&!O.onlySelf&&this._parent._updateTouched(O)}markAsDirty(O={}){this.pristine=!1,this._parent&&!O.onlySelf&&this._parent.markAsDirty(O)}markAsPristine(O={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(A=>{A.markAsPristine({onlySelf:!0})}),this._parent&&!O.onlySelf&&this._parent._updatePristine(O)}markAsPending(O={}){this.status=nn,!1!==O.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!O.onlySelf&&this._parent.markAsPending(O)}disable(O={}){const A=this._parentMarkedDirty(O.onlySelf);this.status=Vn,this.errors=null,this._forEachChild(Q=>{Q.disable({...O,onlySelf:!0})}),this._updateValue(),!1!==O.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...O,skipPristineCheck:A}),this._onDisabledChange.forEach(Q=>Q(!0))}enable(O={}){const A=this._parentMarkedDirty(O.onlySelf);this.status=Ve,this._forEachChild(Q=>{Q.enable({...O,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:O.emitEvent}),this._updateAncestors({...O,skipPristineCheck:A}),this._onDisabledChange.forEach(Q=>Q(!1))}_updateAncestors(O){this._parent&&!O.onlySelf&&(this._parent.updateValueAndValidity(O),O.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(O){this._parent=O}getRawValue(){return this.value}updateValueAndValidity(O={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ve||this.status===nn)&&this._runAsyncValidator(O.emitEvent)),!1!==O.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!O.onlySelf&&this._parent.updateValueAndValidity(O)}_updateTreeValidity(O={emitEvent:!0}){this._forEachChild(A=>A._updateTreeValidity(O)),this.updateValueAndValidity({onlySelf:!0,emitEvent:O.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Vn:Ve}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(O){if(this.asyncValidator){this.status=nn,this._hasOwnPendingAsyncValidator=!0;const A=ln(this.asyncValidator(this));this._asyncValidationSubscription=A.subscribe(Q=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Q,{emitEvent:O})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(O,A={}){this.errors=O,this._updateControlsErrors(!1!==A.emitEvent)}get(O){let A=O;return null==A||(Array.isArray(A)||(A=A.split(".")),0===A.length)?null:A.reduce((Q,at)=>Q&&Q._find(at),this)}getError(O,A){const Q=A?this.get(A):this;return Q&&Q.errors?Q.errors[O]:null}hasError(O,A){return!!this.getError(O,A)}get root(){let O=this;for(;O._parent;)O=O._parent;return O}_updateControlsErrors(O){this.status=this._calculateStatus(),O&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(O)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?Vn:this.errors?It:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(nn)?nn:this._anyControlsHaveStatus(It)?It:Ve}_anyControlsHaveStatus(O){return this._anyControls(A=>A.status===O)}_anyControlsDirty(){return this._anyControls(O=>O.dirty)}_anyControlsTouched(){return this._anyControls(O=>O.touched)}_updatePristine(O={}){this.pristine=!this._anyControlsDirty(),this._parent&&!O.onlySelf&&this._parent._updatePristine(O)}_updateTouched(O={}){this.touched=this._anyControlsTouched(),this._parent&&!O.onlySelf&&this._parent._updateTouched(O)}_registerOnCollectionChange(O){this._onCollectionChange=O}_setUpdateStrategy(O){Vt(O)&&null!=O.updateOn&&(this._updateOn=O.updateOn)}_parentMarkedDirty(O){return!O&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(O){return null}}class de extends ue{constructor(O,A,Q){super(Ue(A),Ee(Q,A)),this.controls=O,this._initObservables(),this._setUpdateStrategy(A),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(O,A){return this.controls[O]?this.controls[O]:(this.controls[O]=A,A.setParent(this),A._registerOnCollectionChange(this._onCollectionChange),A)}addControl(O,A,Q={}){this.registerControl(O,A),this.updateValueAndValidity({emitEvent:Q.emitEvent}),this._onCollectionChange()}removeControl(O,A={}){this.controls[O]&&this.controls[O]._registerOnCollectionChange(()=>{}),delete this.controls[O],this.updateValueAndValidity({emitEvent:A.emitEvent}),this._onCollectionChange()}setControl(O,A,Q={}){this.controls[O]&&this.controls[O]._registerOnCollectionChange(()=>{}),delete this.controls[O],A&&this.registerControl(O,A),this.updateValueAndValidity({emitEvent:Q.emitEvent}),this._onCollectionChange()}contains(O){return this.controls.hasOwnProperty(O)&&this.controls[O].enabled}setValue(O,A={}){Gt(this,0,O),Object.keys(O).forEach(Q=>{pn(this,!0,Q),this.controls[Q].setValue(O[Q],{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A)}patchValue(O,A={}){null!=O&&(Object.keys(O).forEach(Q=>{const at=this.controls[Q];at&&at.patchValue(O[Q],{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A))}reset(O={},A={}){this._forEachChild((Q,at)=>{Q.reset(O[at],{onlySelf:!0,emitEvent:A.emitEvent})}),this._updatePristine(A),this._updateTouched(A),this.updateValueAndValidity(A)}getRawValue(){return this._reduceChildren({},(O,A,Q)=>(O[Q]=A.getRawValue(),O))}_syncPendingControls(){let O=this._reduceChildren(!1,(A,Q)=>!!Q._syncPendingControls()||A);return O&&this.updateValueAndValidity({onlySelf:!0}),O}_forEachChild(O){Object.keys(this.controls).forEach(A=>{const Q=this.controls[A];Q&&O(Q,A)})}_setUpControls(){this._forEachChild(O=>{O.setParent(this),O._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(O){for(const[A,Q]of Object.entries(this.controls))if(this.contains(A)&&O(Q))return!0;return!1}_reduceValue(){return this._reduceChildren({},(A,Q,at)=>((Q.enabled||this.disabled)&&(A[at]=Q.value),A))}_reduceChildren(O,A){let Q=O;return this._forEachChild((at,an)=>{Q=A(Q,at,an)}),Q}_allControlsDisabled(){for(const O of Object.keys(this.controls))if(this.controls[O].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(O){return this.controls.hasOwnProperty(O)?this.controls[O]:null}}class rt extends de{}function Tn(L,O){return[...O.path,L]}function In(L,O){Li(L,O),O.valueAccessor.writeValue(L.value),L.disabled&&O.valueAccessor.setDisabledState?.(!0),function ws(L,O){O.valueAccessor.registerOnChange(A=>{L._pendingValue=A,L._pendingChange=!0,L._pendingDirty=!0,"change"===L.updateOn&&Zr(L,O)})}(L,O),function Hs(L,O){const A=(Q,at)=>{O.valueAccessor.writeValue(Q),at&&O.viewToModelUpdate(Q)};L.registerOnChange(A),O._registerOnDestroy(()=>{L._unregisterOnChange(A)})}(L,O),function Gi(L,O){O.valueAccessor.registerOnTouched(()=>{L._pendingTouched=!0,"blur"===L.updateOn&&L._pendingChange&&Zr(L,O),"submit"!==L.updateOn&&L.markAsTouched()})}(L,O),function dn(L,O){if(O.valueAccessor.setDisabledState){const A=Q=>{O.valueAccessor.setDisabledState(Q)};L.registerOnDisabledChange(A),O._registerOnDestroy(()=>{L._unregisterOnDisabledChange(A)})}}(L,O)}function Sr(L,O,A=!0){const Q=()=>{};O.valueAccessor&&(O.valueAccessor.registerOnChange(Q),O.valueAccessor.registerOnTouched(Q)),Vi(L,O),L&&(O._invokeOnDestroyCallbacks(),L._registerOnCollectionChange(()=>{}))}function ui(L,O){L.forEach(A=>{A.registerOnValidatorChange&&A.registerOnValidatorChange(O)})}function Li(L,O){const A=gr(L);null!==O.validator?L.setValidators(cr(A,O.validator)):"function"==typeof A&&L.setValidators([A]);const Q=Xt(L);null!==O.asyncValidator?L.setAsyncValidators(cr(Q,O.asyncValidator)):"function"==typeof Q&&L.setAsyncValidators([Q]);const at=()=>L.updateValueAndValidity();ui(O._rawValidators,at),ui(O._rawAsyncValidators,at)}function Vi(L,O){let A=!1;if(null!==L){if(null!==O.validator){const at=gr(L);if(Array.isArray(at)&&at.length>0){const an=at.filter(lr=>lr!==O.validator);an.length!==at.length&&(A=!0,L.setValidators(an))}}if(null!==O.asyncValidator){const at=Xt(L);if(Array.isArray(at)&&at.length>0){const an=at.filter(lr=>lr!==O.asyncValidator);an.length!==at.length&&(A=!0,L.setAsyncValidators(an))}}}const Q=()=>{};return ui(O._rawValidators,Q),ui(O._rawAsyncValidators,Q),A}function Zr(L,O){L._pendingDirty&&L.markAsDirty(),L.setValue(L._pendingValue,{emitModelToViewChange:!1}),O.viewToModelUpdate(L._pendingValue),L._pendingChange=!1}function Yr(L,O){if(!L.hasOwnProperty("model"))return!1;const A=L.model;return!!A.isFirstChange()||!Object.is(O,A.currentValue)}function zi(L,O){if(!O)return null;let A,Q,at;return Array.isArray(O),O.forEach(an=>{an.constructor===oe?A=an:function es(L){return Object.getPrototypeOf(L.constructor)===ct}(an)?Q=an:at=an}),at||Q||A||null}function Qt(L,O){const A=L.indexOf(O);A>-1&&L.splice(A,1)}function Wn(L){return"object"==typeof L&&null!==L&&2===Object.keys(L).length&&"value"in L&&"disabled"in L}const Ur=class extends ue{constructor(O=null,A,Q){super(Ue(A),Ee(Q,A)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(O),this._setUpdateStrategy(A),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Vt(A)&&(A.nonNullable||A.initialValueIsDefault)&&(this.defaultValue=Wn(O)?O.value:O)}setValue(O,A={}){this.value=this._pendingValue=O,this._onChange.length&&!1!==A.emitModelToViewChange&&this._onChange.forEach(Q=>Q(this.value,!1!==A.emitViewToModelChange)),this.updateValueAndValidity(A)}patchValue(O,A={}){this.setValue(O,A)}reset(O=this.defaultValue,A={}){this._applyFormState(O),this.markAsPristine(A),this.markAsUntouched(A),this.setValue(this.value,A),this._pendingChange=!1}_updateValue(){}_anyControls(O){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(O){this._onChange.push(O)}_unregisterOnChange(O){Qt(this._onChange,O)}registerOnDisabledChange(O){this._onDisabledChange.push(O)}_unregisterOnDisabledChange(O){Qt(this._onDisabledChange,O)}_forEachChild(O){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(O){Wn(O)?(this.value=this._pendingValue=O.value,O.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=O}},rs={provide:qn,useExisting:(0,c.Gpc)(()=>Rs)},Yi=(()=>Promise.resolve())();let Rs=(()=>{class L extends qn{constructor(A,Q,at,an,lr){super(),this._changeDetectorRef=lr,this.control=new Ur,this._registered=!1,this.update=new c.vpe,this._parent=A,this._setValidators(Q),this._setAsyncValidators(at),this.valueAccessor=zi(0,an)}ngOnChanges(A){if(this._checkForErrors(),!this._registered||"name"in A){if(this._registered&&(this._checkName(),this.formDirective)){const Q=A.name.previousValue;this.formDirective.removeControl({name:Q,path:this._getPath(Q)})}this._setUpControl()}"isDisabled"in A&&this._updateDisabled(A),Yr(A,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(A){this.viewModel=A,this.update.emit(A)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){In(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(A){Yi.then(()=>{this.control.setValue(A,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(A){const Q=A.isDisabled.currentValue,at=0!==Q&&(0,c.D6c)(Q);Yi.then(()=>{at&&!this.control.disabled?this.control.disable():!at&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(A){return this._parent?Tn(A,this._parent):[A]}}return L.\u0275fac=function(A){return new(A||L)(c.Y36(wn,9),c.Y36(Re,10),c.Y36(ze,10),c.Y36(Je,10),c.Y36(c.sBO,8))},L.\u0275dir=c.lG2({type:L,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([rs]),c.qOj,c.TTD]}),L})(),Do=(()=>{class L{}return L.\u0275fac=function(A){return new(A||L)},L.\u0275dir=c.lG2({type:L,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),L})(),oa=(()=>{class L{}return L.\u0275fac=function(A){return new(A||L)},L.\u0275mod=c.oAB({type:L}),L.\u0275inj=c.cJS({}),L})();const Xr=new c.OlP("NgModelWithFormControlWarning"),mi={provide:wn,useExisting:(0,c.Gpc)(()=>ds)};let ds=(()=>{class L extends wn{constructor(A,Q){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(A),this._setAsyncValidators(Q)}ngOnChanges(A){this._checkFormPresent(),A.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Vi(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(A){const Q=this.form.get(A.path);return In(Q,A),Q.updateValueAndValidity({emitEvent:!1}),this.directives.push(A),Q}getControl(A){return this.form.get(A.path)}removeControl(A){Sr(A.control||null,A,!1),function He(L,O){const A=L.indexOf(O);A>-1&&L.splice(A,1)}(this.directives,A)}addFormGroup(A){this._setUpFormContainer(A)}removeFormGroup(A){this._cleanUpFormContainer(A)}getFormGroup(A){return this.form.get(A.path)}addFormArray(A){this._setUpFormContainer(A)}removeFormArray(A){this._cleanUpFormContainer(A)}getFormArray(A){return this.form.get(A.path)}updateModel(A,Q){this.form.get(A.path).setValue(Q)}onSubmit(A){return this.submitted=!0,function Zi(L,O){L._syncPendingControls(),O.forEach(A=>{const Q=A.control;"submit"===Q.updateOn&&Q._pendingChange&&(A.viewToModelUpdate(Q._pendingValue),Q._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(A),"dialog"===A?.target?.method}onReset(){this.resetForm()}resetForm(A){this.form.reset(A),this.submitted=!1}_updateDomValue(){this.directives.forEach(A=>{const Q=A.control,at=this.form.get(A.path);Q!==at&&(Sr(Q||null,A),(L=>L instanceof Ur)(at)&&(In(at,A),A.control=at))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(A){const Q=this.form.get(A.path);(function Qr(L,O){Li(L,O)})(Q,A),Q.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(A){if(this.form){const Q=this.form.get(A.path);Q&&function gi(L,O){return Vi(L,O)}(Q,A)&&Q.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Li(this.form,this),this._oldForm&&Vi(this._oldForm,this)}_checkFormPresent(){}}return L.\u0275fac=function(A){return new(A||L)(c.Y36(Re,10),c.Y36(ze,10))},L.\u0275dir=c.lG2({type:L,selectors:[["","formGroup",""]],hostBindings:function(A,Q){1&A&&c.NdJ("submit",function(an){return Q.onSubmit(an)})("reset",function(){return Q.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([mi]),c.qOj,c.TTD]}),L})();const os={provide:qn,useExisting:(0,c.Gpc)(()=>ho)};let ho=(()=>{class L extends qn{constructor(A,Q,at,an,lr){super(),this._ngModelWarningConfig=lr,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=A,this._setValidators(Q),this._setAsyncValidators(at),this.valueAccessor=zi(0,an)}set isDisabled(A){}ngOnChanges(A){this._added||this._setUpControl(),Yr(A,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(A){this.viewModel=A,this.update.emit(A)}get path(){return Tn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return L._ngModelWarningSentOnce=!1,L.\u0275fac=function(A){return new(A||L)(c.Y36(wn,13),c.Y36(Re,10),c.Y36(ze,10),c.Y36(Je,10),c.Y36(Xr,8))},L.\u0275dir=c.lG2({type:L,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([os]),c.qOj,c.TTD]}),L})(),Jn=(()=>{class L{}return L.\u0275fac=function(A){return new(A||L)},L.\u0275mod=c.oAB({type:L}),L.\u0275inj=c.cJS({imports:[oa]}),L})(),Zo=(()=>{class L{}return L.\u0275fac=function(A){return new(A||L)},L.\u0275mod=c.oAB({type:L}),L.\u0275inj=c.cJS({imports:[Jn]}),L})(),fo=(()=>{class L{static withConfig(A){return{ngModule:L,providers:[{provide:Xr,useValue:A.warnOnNgModelWithFormControl}]}}}return L.\u0275fac=function(A){return new(A||L)},L.\u0275mod=c.oAB({type:L}),L.\u0275inj=c.cJS({imports:[Jn]}),L})();class Gr extends ue{constructor(O,A,Q){super(Ue(A),Ee(Q,A)),this.controls=O,this._initObservables(),this._setUpdateStrategy(A),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(O){return this.controls[this._adjustIndex(O)]}push(O,A={}){this.controls.push(O),this._registerControl(O),this.updateValueAndValidity({emitEvent:A.emitEvent}),this._onCollectionChange()}insert(O,A,Q={}){this.controls.splice(O,0,A),this._registerControl(A),this.updateValueAndValidity({emitEvent:Q.emitEvent})}removeAt(O,A={}){let Q=this._adjustIndex(O);Q<0&&(Q=0),this.controls[Q]&&this.controls[Q]._registerOnCollectionChange(()=>{}),this.controls.splice(Q,1),this.updateValueAndValidity({emitEvent:A.emitEvent})}setControl(O,A,Q={}){let at=this._adjustIndex(O);at<0&&(at=0),this.controls[at]&&this.controls[at]._registerOnCollectionChange(()=>{}),this.controls.splice(at,1),A&&(this.controls.splice(at,0,A),this._registerControl(A)),this.updateValueAndValidity({emitEvent:Q.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(O,A={}){Gt(this,0,O),O.forEach((Q,at)=>{pn(this,!1,at),this.at(at).setValue(Q,{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A)}patchValue(O,A={}){null!=O&&(O.forEach((Q,at)=>{this.at(at)&&this.at(at).patchValue(Q,{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A))}reset(O=[],A={}){this._forEachChild((Q,at)=>{Q.reset(O[at],{onlySelf:!0,emitEvent:A.emitEvent})}),this._updatePristine(A),this._updateTouched(A),this.updateValueAndValidity(A)}getRawValue(){return this.controls.map(O=>O.getRawValue())}clear(O={}){this.controls.length<1||(this._forEachChild(A=>A._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:O.emitEvent}))}_adjustIndex(O){return O<0?O+this.length:O}_syncPendingControls(){let O=this.controls.reduce((A,Q)=>!!Q._syncPendingControls()||A,!1);return O&&this.updateValueAndValidity({onlySelf:!0}),O}_forEachChild(O){this.controls.forEach((A,Q)=>{O(A,Q)})}_updateValue(){this.value=this.controls.filter(O=>O.enabled||this.disabled).map(O=>O.value)}_anyControls(O){return this.controls.some(A=>A.enabled&&O(A))}_setUpControls(){this._forEachChild(O=>this._registerControl(O))}_allControlsDisabled(){for(const O of this.controls)if(O.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(O){O.setParent(this),O._registerOnCollectionChange(this._onCollectionChange)}_find(O){return this.at(O)??null}}function Ii(L){return!!L&&(void 0!==L.asyncValidators||void 0!==L.validators||void 0!==L.updateOn)}let qs=(()=>{class L{constructor(){this.useNonNullable=!1}get nonNullable(){const A=new L;return A.useNonNullable=!0,A}group(A,Q=null){const at=this._reduceControls(A);let an={};return Ii(Q)?an=Q:null!==Q&&(an.validators=Q.validator,an.asyncValidators=Q.asyncValidator),new de(at,an)}record(A,Q=null){const at=this._reduceControls(A);return new rt(at,Q)}control(A,Q,at){let an={};return this.useNonNullable?(Ii(Q)?an=Q:(an.validators=Q,an.asyncValidators=at),new Ur(A,{...an,nonNullable:!0})):new Ur(A,Q,at)}array(A,Q,at){const an=A.map(lr=>this._createControl(lr));return new Gr(an,Q,at)}_reduceControls(A){const Q={};return Object.keys(A).forEach(at=>{Q[at]=this._createControl(A[at])}),Q}_createControl(A){return A instanceof Ur||A instanceof ue?A:Array.isArray(A)?this.control(A[0],A.length>1?A[1]:null,A.length>2?A[2]:null):this.control(A)}}return L.\u0275fac=function(A){return new(A||L)},L.\u0275prov=c.Yz7({token:L,factory:L.\u0275fac,providedIn:fo}),L})()},1481:(Jt,tt,U)=>{U.d(tt,{Dx:()=>xn,H7:()=>dt,b2:()=>wn,q6:()=>Rr,se:()=>$e});var c=U(6895),F=U(4650);class H extends c.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class we extends H{static makeCurrent(){(0,c.HT)(new we)}onAndCancel(de,ie,Le){return de.addEventListener(ie,Le,!1),()=>{de.removeEventListener(ie,Le,!1)}}dispatchEvent(de,ie){de.dispatchEvent(ie)}remove(de){de.parentNode&&de.parentNode.removeChild(de)}createElement(de,ie){return(ie=ie||this.getDefaultDocument()).createElement(de)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(de){return de.nodeType===Node.ELEMENT_NODE}isShadowRoot(de){return de instanceof DocumentFragment}getGlobalEventTarget(de,ie){return"window"===ie?window:"document"===ie?de:"body"===ie?de.body:null}getBaseHref(de){const ie=function Pe(){return ve=ve||document.querySelector("base"),ve?ve.getAttribute("href"):null}();return null==ie?null:function he(ue){Me=Me||document.createElement("a"),Me.setAttribute("href",ue);const de=Me.pathname;return"/"===de.charAt(0)?de:`/${de}`}(ie)}resetBaseElement(){ve=null}getUserAgent(){return window.navigator.userAgent}getCookie(de){return(0,c.Mx)(document.cookie,de)}}let Me,ve=null;const Ge=new F.OlP("TRANSITION_ID"),fe=[{provide:F.ip1,useFactory:function se(ue,de,ie){return()=>{ie.get(F.CZH).donePromise.then(()=>{const Le=(0,c.q)(),rt=de.querySelectorAll(`style[ng-transition="${ue}"]`);for(let Kt=0;Kt<rt.length;Kt++)Le.remove(rt[Kt])})}},deps:[Ge,c.K0,F.zs3],multi:!0}];let ft=(()=>{class ue{build(){return new XMLHttpRequest}}return ue.\u0275fac=function(ie){return new(ie||ue)},ue.\u0275prov=F.Yz7({token:ue,factory:ue.\u0275fac}),ue})();const ct=new F.OlP("EventManagerPlugins");let Je=(()=>{class ue{constructor(ie,Le){this._zone=Le,this._eventNameToPlugin=new Map,ie.forEach(rt=>rt.manager=this),this._plugins=ie.slice().reverse()}addEventListener(ie,Le,rt){return this._findPluginFor(Le).addEventListener(ie,Le,rt)}addGlobalEventListener(ie,Le,rt){return this._findPluginFor(Le).addGlobalEventListener(ie,Le,rt)}getZone(){return this._zone}_findPluginFor(ie){const Le=this._eventNameToPlugin.get(ie);if(Le)return Le;const rt=this._plugins;for(let Kt=0;Kt<rt.length;Kt++){const Tn=rt[Kt];if(Tn.supports(ie))return this._eventNameToPlugin.set(ie,Tn),Tn}throw new Error(`No event manager plugin found for event ${ie}`)}}return ue.\u0275fac=function(ie){return new(ie||ue)(F.LFG(ct),F.LFG(F.R0b))},ue.\u0275prov=F.Yz7({token:ue,factory:ue.\u0275fac}),ue})();class jt{constructor(de){this._doc=de}addGlobalEventListener(de,ie,Le){const rt=(0,c.q)().getGlobalEventTarget(this._doc,de);if(!rt)throw new Error(`Unsupported event target ${rt} for event ${ie}`);return this.addEventListener(rt,ie,Le)}}let Ye=(()=>{class ue{constructor(){this._stylesSet=new Set}addStyles(ie){const Le=new Set;ie.forEach(rt=>{this._stylesSet.has(rt)||(this._stylesSet.add(rt),Le.add(rt))}),this.onStylesAdded(Le)}onStylesAdded(ie){}getAllStyles(){return Array.from(this._stylesSet)}}return ue.\u0275fac=function(ie){return new(ie||ue)},ue.\u0275prov=F.Yz7({token:ue,factory:ue.\u0275fac}),ue})(),Ze=(()=>{class ue extends Ye{constructor(ie){super(),this._doc=ie,this._hostNodes=new Map,this._hostNodes.set(ie.head,[])}_addStylesToHost(ie,Le,rt){ie.forEach(Kt=>{const Tn=this._doc.createElement("style");Tn.textContent=Kt,rt.push(Le.appendChild(Tn))})}addHost(ie){const Le=[];this._addStylesToHost(this._stylesSet,ie,Le),this._hostNodes.set(ie,Le)}removeHost(ie){const Le=this._hostNodes.get(ie);Le&&Le.forEach(Dt),this._hostNodes.delete(ie)}onStylesAdded(ie){this._hostNodes.forEach((Le,rt)=>{this._addStylesToHost(ie,rt,Le)})}ngOnDestroy(){this._hostNodes.forEach(ie=>ie.forEach(Dt))}}return ue.\u0275fac=function(ie){return new(ie||ue)(F.LFG(c.K0))},ue.\u0275prov=F.Yz7({token:ue,factory:ue.\u0275fac}),ue})();function Dt(ue){(0,c.q)().remove(ue)}const Ct={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},oe=/%COMP%/g;function Te(ue,de,ie){for(let Le=0;Le<de.length;Le++){let rt=de[Le];Array.isArray(rt)?Te(ue,rt,ie):(rt=rt.replace(oe,ue),ie.push(rt))}return ie}function Oe(ue){return de=>{if("__ngUnwrap__"===de)return ue;!1===ue(de)&&(de.preventDefault(),de.returnValue=!1)}}let $e=(()=>{class ue{constructor(ie,Le,rt){this.eventManager=ie,this.sharedStylesHost=Le,this.appId=rt,this.rendererByCompId=new Map,this.defaultRenderer=new wt(ie)}createRenderer(ie,Le){if(!ie||!Le)return this.defaultRenderer;switch(Le.encapsulation){case F.ifc.Emulated:{let rt=this.rendererByCompId.get(Le.id);return rt||(rt=new sn(this.eventManager,this.sharedStylesHost,Le,this.appId),this.rendererByCompId.set(Le.id,rt)),rt.applyToHost(ie),rt}case 1:case F.ifc.ShadowDom:return new _t(this.eventManager,this.sharedStylesHost,ie,Le);default:if(!this.rendererByCompId.has(Le.id)){const rt=Te(Le.id,Le.styles,[]);this.sharedStylesHost.addStyles(rt),this.rendererByCompId.set(Le.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return ue.\u0275fac=function(ie){return new(ie||ue)(F.LFG(Je),F.LFG(Ze),F.LFG(F.AFp))},ue.\u0275prov=F.Yz7({token:ue,factory:ue.\u0275fac}),ue})();class wt{constructor(de){this.eventManager=de,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(de,ie){return ie?document.createElementNS(Ct[ie]||ie,de):document.createElement(de)}createComment(de){return document.createComment(de)}createText(de){return document.createTextNode(de)}appendChild(de,ie){(Wt(de)?de.content:de).appendChild(ie)}insertBefore(de,ie,Le){de&&(Wt(de)?de.content:de).insertBefore(ie,Le)}removeChild(de,ie){de&&de.removeChild(ie)}selectRootElement(de,ie){let Le="string"==typeof de?document.querySelector(de):de;if(!Le)throw new Error(`The selector "${de}" did not match any elements`);return ie||(Le.textContent=""),Le}parentNode(de){return de.parentNode}nextSibling(de){return de.nextSibling}setAttribute(de,ie,Le,rt){if(rt){ie=rt+":"+ie;const Kt=Ct[rt];Kt?de.setAttributeNS(Kt,ie,Le):de.setAttribute(ie,Le)}else de.setAttribute(ie,Le)}removeAttribute(de,ie,Le){if(Le){const rt=Ct[Le];rt?de.removeAttributeNS(rt,ie):de.removeAttribute(`${Le}:${ie}`)}else de.removeAttribute(ie)}addClass(de,ie){de.classList.add(ie)}removeClass(de,ie){de.classList.remove(ie)}setStyle(de,ie,Le,rt){rt&(F.JOm.DashCase|F.JOm.Important)?de.style.setProperty(ie,Le,rt&F.JOm.Important?"important":""):de.style[ie]=Le}removeStyle(de,ie,Le){Le&F.JOm.DashCase?de.style.removeProperty(ie):de.style[ie]=""}setProperty(de,ie,Le){de[ie]=Le}setValue(de,ie){de.nodeValue=ie}listen(de,ie,Le){return"string"==typeof de?this.eventManager.addGlobalEventListener(de,ie,Oe(Le)):this.eventManager.addEventListener(de,ie,Oe(Le))}}function Wt(ue){return"TEMPLATE"===ue.tagName&&void 0!==ue.content}class sn extends wt{constructor(de,ie,Le,rt){super(de),this.component=Le;const Kt=Te(rt+"-"+Le.id,Le.styles,[]);ie.addStyles(Kt),this.contentAttr=function ze(ue){return"_ngcontent-%COMP%".replace(oe,ue)}(rt+"-"+Le.id),this.hostAttr=function st(ue){return"_nghost-%COMP%".replace(oe,ue)}(rt+"-"+Le.id)}applyToHost(de){super.setAttribute(de,this.hostAttr,"")}createElement(de,ie){const Le=super.createElement(de,ie);return super.setAttribute(Le,this.contentAttr,""),Le}}class _t extends wt{constructor(de,ie,Le,rt){super(de),this.sharedStylesHost=ie,this.hostEl=Le,this.shadowRoot=Le.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Kt=Te(rt.id,rt.styles,[]);for(let Tn=0;Tn<Kt.length;Tn++){const In=document.createElement("style");In.textContent=Kt[Tn],this.shadowRoot.appendChild(In)}}nodeOrShadowRoot(de){return de===this.hostEl?this.shadowRoot:de}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(de,ie){return super.appendChild(this.nodeOrShadowRoot(de),ie)}insertBefore(de,ie,Le){return super.insertBefore(this.nodeOrShadowRoot(de),ie,Le)}removeChild(de,ie){return super.removeChild(this.nodeOrShadowRoot(de),ie)}parentNode(de){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(de)))}}let tn=(()=>{class ue extends jt{constructor(ie){super(ie)}supports(ie){return!0}addEventListener(ie,Le,rt){return ie.addEventListener(Le,rt,!1),()=>this.removeEventListener(ie,Le,rt)}removeEventListener(ie,Le,rt){return ie.removeEventListener(Le,rt)}}return ue.\u0275fac=function(ie){return new(ie||ue)(F.LFG(c.K0))},ue.\u0275prov=F.Yz7({token:ue,factory:ue.\u0275fac}),ue})();const ln=["alt","control","meta","shift"],Xe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vt={alt:ue=>ue.altKey,control:ue=>ue.ctrlKey,meta:ue=>ue.metaKey,shift:ue=>ue.shiftKey};let Se=(()=>{class ue extends jt{constructor(ie){super(ie)}supports(ie){return null!=ue.parseEventName(ie)}addEventListener(ie,Le,rt){const Kt=ue.parseEventName(Le),Tn=ue.eventCallback(Kt.fullKey,rt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,c.q)().onAndCancel(ie,Kt.domEventName,Tn))}static parseEventName(ie){const Le=ie.toLowerCase().split("."),rt=Le.shift();if(0===Le.length||"keydown"!==rt&&"keyup"!==rt)return null;const Kt=ue._normalizeKey(Le.pop());let Tn="",In=Le.indexOf("code");if(In>-1&&(Le.splice(In,1),Tn="code."),ln.forEach(ui=>{const dn=Le.indexOf(ui);dn>-1&&(Le.splice(dn,1),Tn+=ui+".")}),Tn+=Kt,0!=Le.length||0===Kt.length)return null;const Sr={};return Sr.domEventName=rt,Sr.fullKey=Tn,Sr}static matchEventFullKeyCode(ie,Le){let rt=Xe[ie.key]||ie.key,Kt="";return Le.indexOf("code.")>-1&&(rt=ie.code,Kt="code."),!(null==rt||!rt)&&(rt=rt.toLowerCase()," "===rt?rt="space":"."===rt&&(rt="dot"),ln.forEach(Tn=>{Tn!==rt&&(0,vt[Tn])(ie)&&(Kt+=Tn+".")}),Kt+=rt,Kt===Le)}static eventCallback(ie,Le,rt){return Kt=>{ue.matchEventFullKeyCode(Kt,ie)&&rt.runGuarded(()=>Le(Kt))}}static _normalizeKey(ie){return"esc"===ie?"escape":ie}}return ue.\u0275fac=function(ie){return new(ie||ue)(F.LFG(c.K0))},ue.\u0275prov=F.Yz7({token:ue,factory:ue.\u0275fac}),ue})();const Rr=(0,F.eFA)(F._c5,"browser",[{provide:F.Lbi,useValue:c.bD},{provide:F.g9A,useValue:function cr(){we.makeCurrent()},multi:!0},{provide:c.K0,useFactory:function Xt(){return(0,F.RDi)(document),document},deps:[]}]),dr=new F.OlP(""),Ft=[{provide:F.rWj,useClass:class xe{addToWindow(de){F.dqk.getAngularTestability=(Le,rt=!0)=>{const Kt=de.findTestabilityInTree(Le,rt);if(null==Kt)throw new Error("Could not find testability for element.");return Kt},F.dqk.getAllAngularTestabilities=()=>de.getAllTestabilities(),F.dqk.getAllAngularRootElements=()=>de.getAllRootElements(),F.dqk.frameworkStabilizers||(F.dqk.frameworkStabilizers=[]),F.dqk.frameworkStabilizers.push(Le=>{const rt=F.dqk.getAllAngularTestabilities();let Kt=rt.length,Tn=!1;const In=function(Sr){Tn=Tn||Sr,Kt--,0==Kt&&Le(Tn)};rt.forEach(function(Sr){Sr.whenStable(In)})})}findTestabilityInTree(de,ie,Le){return null==ie?null:de.getTestability(ie)??(Le?(0,c.q)().isShadowRoot(ie)?this.findTestabilityInTree(de,ie.host,!0):this.findTestabilityInTree(de,ie.parentElement,!0):null)}},deps:[]},{provide:F.lri,useClass:F.dDg,deps:[F.R0b,F.eoX,F.rWj]},{provide:F.dDg,useClass:F.dDg,deps:[F.R0b,F.eoX,F.rWj]}],An=[{provide:F.zSh,useValue:"root"},{provide:F.qLn,useFactory:function gr(){return new F.qLn},deps:[]},{provide:ct,useClass:tn,multi:!0,deps:[c.K0,F.R0b,F.Lbi]},{provide:ct,useClass:Se,multi:!0,deps:[c.K0]},{provide:$e,useClass:$e,deps:[Je,Ze,F.AFp]},{provide:F.FYo,useExisting:$e},{provide:Ye,useExisting:Ze},{provide:Ze,useClass:Ze,deps:[c.K0]},{provide:Je,useClass:Je,deps:[ct,F.R0b]},{provide:c.JF,useClass:ft,deps:[]},[]];let wn=(()=>{class ue{constructor(ie){}static withServerTransition(ie){return{ngModule:ue,providers:[{provide:F.AFp,useValue:ie.appId},{provide:Ge,useExisting:F.AFp},fe]}}}return ue.\u0275fac=function(ie){return new(ie||ue)(F.LFG(dr,12))},ue.\u0275mod=F.oAB({type:ue}),ue.\u0275inj=F.cJS({providers:[...An,...Ft],imports:[c.ez,F.hGG]}),ue})(),xn=(()=>{class ue{constructor(ie){this._doc=ie}getTitle(){return this._doc.title}setTitle(ie){this._doc.title=ie||""}}return ue.\u0275fac=function(ie){return new(ie||ue)(F.LFG(c.K0))},ue.\u0275prov=F.Yz7({token:ue,factory:function(ie){let Le=null;return Le=ie?new ie:function Ir(){return new xn((0,F.LFG)(c.K0))}(),Le},providedIn:"root"}),ue})();typeof window<"u"&&window;let dt=(()=>{class ue{}return ue.\u0275fac=function(ie){return new(ie||ue)},ue.\u0275prov=F.Yz7({token:ue,factory:function(ie){let Le=null;return Le=ie?new(ie||ue):F.LFG(pn),Le},providedIn:"root"}),ue})(),pn=(()=>{class ue extends dt{constructor(ie){super(),this._doc=ie}sanitize(ie,Le){if(null==Le)return null;switch(ie){case F.q3G.NONE:return Le;case F.q3G.HTML:return(0,F.qzn)(Le,"HTML")?(0,F.z3N)(Le):(0,F.EiD)(this._doc,String(Le)).toString();case F.q3G.STYLE:return(0,F.qzn)(Le,"Style")?(0,F.z3N)(Le):Le;case F.q3G.SCRIPT:if((0,F.qzn)(Le,"Script"))return(0,F.z3N)(Le);throw new Error("unsafe value used in a script context");case F.q3G.URL:return(0,F.qzn)(Le,"URL")?(0,F.z3N)(Le):(0,F.mCW)(String(Le));case F.q3G.RESOURCE_URL:if((0,F.qzn)(Le,"ResourceURL"))return(0,F.z3N)(Le);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${ie} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(ie){return(0,F.JVY)(ie)}bypassSecurityTrustStyle(ie){return(0,F.L6k)(ie)}bypassSecurityTrustScript(ie){return(0,F.eBb)(ie)}bypassSecurityTrustUrl(ie){return(0,F.LAX)(ie)}bypassSecurityTrustResourceUrl(ie){return(0,F.pB0)(ie)}}return ue.\u0275fac=function(ie){return new(ie||ue)(F.LFG(c.K0))},ue.\u0275prov=F.Yz7({token:ue,factory:function(ie){let Le=null;return Le=ie?new ie:function Vt(ue){return new pn(ue.get(c.K0))}(F.LFG(F.zs3)),Le},providedIn:"root"}),ue})()},9051:(Jt,tt,U)=>{U.d(tt,{F0:()=>_i,rH:()=>gs,Bz:()=>Fn,lC:()=>Ei});var c=U(4650),F=U(8996),H=U(9646),we=U(7579);class ve extends we.x{constructor(w){super(),this._value=w}get value(){return this.getValue()}_subscribe(w){const y=super._subscribe(w);return!y.closed&&w.next(this._value),y}getValue(){const{hasError:w,thrownError:y,_value:T}=this;if(w)throw y;return this._throwIfClosed(),T}next(w){super.next(this._value=w)}}var Pe=U(6805),Me=U(9751),he=U(4742),Ge=U(4671),se=U(3268),fe=U(7669),xe=U(1810),ft=U(5403),ct=U(9672);function Je(..._){const w=(0,fe.yG)(_),y=(0,fe.jO)(_),{args:T,keys:P}=(0,he.D)(_);if(0===T.length)return(0,F.D)([],w);const K=new Me.y(function jt(_,w,y=Ge.y){return T=>{Ye(w,()=>{const{length:P}=_,K=new Array(P);let le=P,ye=P;for(let gt=0;gt<P;gt++)Ye(w,()=>{const Ht=(0,F.D)(_[gt],w);let Pt=!1;Ht.subscribe((0,ft.x)(T,yt=>{K[gt]=yt,Pt||(Pt=!0,ye--),ye||T.next(y(K.slice()))},()=>{--le||T.complete()}))},T)},T)}}(T,w,P?le=>(0,xe.n)(P,le):Ge.y));return y?K.pipe((0,se.Z)(y)):K}function Ye(_,w,y){_?(0,ct.f)(y,_,w):w()}var Ze=U(7272),Dt=U(8421);function Ct(_){return new Me.y(w=>{(0,Dt.Xf)(_()).subscribe(w)})}var oe=U(9635),Ae=U(576);function Ke(_,w){const y=(0,Ae.m)(_)?_:()=>_,T=P=>P.error(y());return new Me.y(w?P=>w.schedule(T,0,P):T)}var St=U(515),Re=U(727),ze=U(4482);function st(){return(0,ze.e)((_,w)=>{let y=null;_._refCount++;const T=(0,ft.x)(w,void 0,void 0,void 0,()=>{if(!_||_._refCount<=0||0<--_._refCount)return void(y=null);const P=_._connection,K=y;y=null,P&&(!K||P===K)&&P.unsubscribe(),w.unsubscribe()});_.subscribe(T),T.closed||(y=_.connect())})}class Te extends Me.y{constructor(w,y){super(),this.source=w,this.subjectFactory=y,this._subject=null,this._refCount=0,this._connection=null,(0,ze.A)(w)&&(this.lift=w.lift)}_subscribe(w){return this.getSubject().subscribe(w)}getSubject(){const w=this._subject;return(!w||w.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:w}=this;this._subject=this._connection=null,w?.unsubscribe()}connect(){let w=this._connection;if(!w){w=this._connection=new Re.w0;const y=this.getSubject();w.add(this.source.subscribe((0,ft.x)(y,void 0,()=>{this._teardown(),y.complete()},T=>{this._teardown(),y.error(T)},()=>this._teardown()))),w.closed&&(this._connection=null,w=Re.w0.EMPTY)}return w}refCount(){return st()(this)}}var Oe=U(6895),Be=U(4004),$e=U(3900),wt=U(5698),xt=U(8675),Ot=U(9300),Wt=U(5577),sn=U(590);function _t(_,w){return(0,Ae.m)(w)?(0,Wt.z)(_,w,1):(0,Wt.z)(_,1)}var tn=U(8505);function ln(_){return(0,ze.e)((w,y)=>{let K,T=null,P=!1;T=w.subscribe((0,ft.x)(y,void 0,void 0,le=>{K=(0,Dt.Xf)(_(le,ln(_)(w))),T?(T.unsubscribe(),T=null,K.subscribe(y)):P=!0})),P&&(T.unsubscribe(),T=null,K.subscribe(y))})}var Xe=U(5026);function vt(_){return _<=0?()=>St.E:(0,ze.e)((w,y)=>{let T=[];w.subscribe((0,ft.x)(y,P=>{T.push(P),_<T.length&&T.shift()},()=>{for(const P of T)y.next(P);y.complete()},void 0,()=>{T=null}))})}var Se=U(8068),je=U(6590);function $t(_,w){const y=arguments.length>=2;return T=>T.pipe(_?(0,Ot.h)((P,K)=>_(P,K,T)):Ge.y,vt(1),y?(0,je.d)(w):(0,Se.T)(()=>new Pe.K))}function $n(_){return(0,ze.e)((w,y)=>{try{w.subscribe(y)}finally{y.add(_)}})}var cr=U(8189),gr=U(1481);const Xt="primary",On=Symbol("RouteTitle");class Rr{constructor(w){this.params=w||{}}has(w){return Object.prototype.hasOwnProperty.call(this.params,w)}get(w){if(this.has(w)){const y=this.params[w];return Array.isArray(y)?y[0]:y}return null}getAll(w){if(this.has(w)){const y=this.params[w];return Array.isArray(y)?y:[y]}return[]}get keys(){return Object.keys(this.params)}}function dr(_){return new Rr(_)}function Ft(_,w,y){const T=y.path.split("/");if(T.length>_.length||"full"===y.pathMatch&&(w.hasChildren()||T.length<_.length))return null;const P={};for(let K=0;K<T.length;K++){const le=T[K],ye=_[K];if(le.startsWith(":"))P[le.substring(1)]=ye;else if(le!==ye.path)return null}return{consumed:_.slice(0,T.length),posParams:P}}function wn(_,w){const y=_?Object.keys(_):void 0,T=w?Object.keys(w):void 0;if(!y||!T||y.length!=T.length)return!1;let P;for(let K=0;K<y.length;K++)if(P=y[K],!qn(_[P],w[P]))return!1;return!0}function qn(_,w){if(Array.isArray(_)&&Array.isArray(w)){if(_.length!==w.length)return!1;const y=[..._].sort(),T=[...w].sort();return y.every((P,K)=>T[K]===P)}return _===w}function Tr(_){return Array.prototype.concat.apply([],_)}function Oi(_){return _.length>0?_[_.length-1]:null}function xn(_,w){for(const y in _)_.hasOwnProperty(y)&&w(_[y],y)}function Bn(_){return(0,c.CqO)(_)?_:(0,c.QGY)(_)?(0,F.D)(Promise.resolve(_)):(0,H.of)(_)}const bn={exact:function En(_,w,y){if(!ee(_.segments,w.segments)||!Hn(_.segments,w.segments,y)||_.numberOfChildren!==w.numberOfChildren)return!1;for(const T in w.children)if(!_.children[T]||!En(_.children[T],w.children[T],y))return!1;return!0},subset:Mn},Or={exact:function qr(_,w){return wn(_,w)},subset:function ii(_,w){return Object.keys(w).length<=Object.keys(_).length&&Object.keys(w).every(y=>qn(_[y],w[y]))},ignored:()=>!0};function hr(_,w,y){return bn[y.paths](_.root,w.root,y.matrixParams)&&Or[y.queryParams](_.queryParams,w.queryParams)&&!("exact"===y.fragment&&_.fragment!==w.fragment)}function Mn(_,w,y){return pi(_,w,w.segments,y)}function pi(_,w,y,T){if(_.segments.length>y.length){const P=_.segments.slice(0,y.length);return!(!ee(P,y)||w.hasChildren()||!Hn(P,y,T))}if(_.segments.length===y.length){if(!ee(_.segments,y)||!Hn(_.segments,y,T))return!1;for(const P in w.children)if(!_.children[P]||!Mn(_.children[P],w.children[P],T))return!1;return!0}{const P=y.slice(0,_.segments.length),K=y.slice(_.segments.length);return!!(ee(_.segments,P)&&Hn(_.segments,P,T)&&_.children[Xt])&&pi(_.children[Xt],w,K,T)}}function Hn(_,w,y){return w.every((T,P)=>Or[y](_[P].parameters,T.parameters))}class Ne{constructor(w,y,T){this.root=w,this.queryParams=y,this.fragment=T}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=dr(this.queryParams)),this._queryParamMap}toString(){return It.serialize(this)}}class ce{constructor(w,y){this.segments=w,this.children=y,this.parent=null,xn(y,(T,P)=>T.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return nn(this)}}class pe{constructor(w,y){this.path=w,this.parameters=y}get parameterMap(){return this._parameterMap||(this._parameterMap=dr(this.parameters)),this._parameterMap}toString(){return Gt(this)}}function ee(_,w){return _.length===w.length&&_.every((y,T)=>y.path===w[T].path)}let X=(()=>{class _{}return _.\u0275fac=function(y){return new(y||_)},_.\u0275prov=c.Yz7({token:_,factory:function(){return new Ve},providedIn:"root"}),_})();class Ve{parse(w){const y=new Sr(w);return new Ne(y.parseRootSegment(),y.parseQueryParams(),y.parseFragment())}serialize(w){const y=`/${Vn(w.root,!0)}`,T=function de(_){const w=Object.keys(_).map(y=>{const T=_[y];return Array.isArray(T)?T.map(P=>`${me(y)}=${me(P)}`).join("&"):`${me(y)}=${me(T)}`}).filter(y=>!!y);return w.length?`?${w.join("&")}`:""}(w.queryParams);return`${y}${T}${"string"==typeof w.fragment?`#${function Ee(_){return encodeURI(_)}(w.fragment)}`:""}`}}const It=new Ve;function nn(_){return _.segments.map(w=>Gt(w)).join("/")}function Vn(_,w){if(!_.hasChildren())return nn(_);if(w){const y=_.children[Xt]?Vn(_.children[Xt],!1):"",T=[];return xn(_.children,(P,K)=>{K!==Xt&&T.push(`${K}:${Vn(P,!1)}`)}),T.length>0?`${y}(${T.join("//")})`:y}{const y=function j(_,w){let y=[];return xn(_.children,(T,P)=>{P===Xt&&(y=y.concat(w(T,P)))}),xn(_.children,(T,P)=>{P!==Xt&&(y=y.concat(w(T,P)))}),y}(_,(T,P)=>P===Xt?[Vn(_.children[Xt],!1)]:[`${P}:${Vn(T,!1)}`]);return 1===Object.keys(_.children).length&&null!=_.children[Xt]?`${nn(_)}/${y[0]}`:`${nn(_)}/(${y.join("//")})`}}function Ue(_){return encodeURIComponent(_).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function me(_){return Ue(_).replace(/%3B/gi,";")}function dt(_){return Ue(_).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Vt(_){return decodeURIComponent(_)}function pn(_){return Vt(_.replace(/\+/g,"%20"))}function Gt(_){return`${dt(_.path)}${function ue(_){return Object.keys(_).map(w=>`;${dt(w)}=${dt(_[w])}`).join("")}(_.parameters)}`}const ie=/^[^\/()?;=#]+/;function Le(_){const w=_.match(ie);return w?w[0]:""}const rt=/^[^=?&#]+/,Tn=/^[^&#]+/;class Sr{constructor(w){this.url=w,this.remaining=w}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ce([],{}):new ce([],this.parseChildren())}parseQueryParams(){const w={};if(this.consumeOptional("?"))do{this.parseQueryParam(w)}while(this.consumeOptional("&"));return w}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const w=[];for(this.peekStartsWith("(")||w.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),w.push(this.parseSegment());let y={};this.peekStartsWith("/(")&&(this.capture("/"),y=this.parseParens(!0));let T={};return this.peekStartsWith("(")&&(T=this.parseParens(!1)),(w.length>0||Object.keys(y).length>0)&&(T[Xt]=new ce(w,y)),T}parseSegment(){const w=Le(this.remaining);if(""===w&&this.peekStartsWith(";"))throw new c.vHH(4009,!1);return this.capture(w),new pe(Vt(w),this.parseMatrixParams())}parseMatrixParams(){const w={};for(;this.consumeOptional(";");)this.parseParam(w);return w}parseParam(w){const y=Le(this.remaining);if(!y)return;this.capture(y);let T="";if(this.consumeOptional("=")){const P=Le(this.remaining);P&&(T=P,this.capture(T))}w[Vt(y)]=Vt(T)}parseQueryParam(w){const y=function Kt(_){const w=_.match(rt);return w?w[0]:""}(this.remaining);if(!y)return;this.capture(y);let T="";if(this.consumeOptional("=")){const le=function In(_){const w=_.match(Tn);return w?w[0]:""}(this.remaining);le&&(T=le,this.capture(T))}const P=pn(y),K=pn(T);if(w.hasOwnProperty(P)){let le=w[P];Array.isArray(le)||(le=[le],w[P]=le),le.push(K)}else w[P]=K}parseParens(w){const y={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const T=Le(this.remaining),P=this.remaining[T.length];if("/"!==P&&")"!==P&&";"!==P)throw new c.vHH(4010,!1);let K;T.indexOf(":")>-1?(K=T.slice(0,T.indexOf(":")),this.capture(K),this.capture(":")):w&&(K=Xt);const le=this.parseChildren();y[K]=1===Object.keys(le).length?le[Xt]:new ce([],le),this.consumeOptional("//")}return y}peekStartsWith(w){return this.remaining.startsWith(w)}consumeOptional(w){return!!this.peekStartsWith(w)&&(this.remaining=this.remaining.substring(w.length),!0)}capture(w){if(!this.consumeOptional(w))throw new c.vHH(4011,!1)}}function ui(_){return _.segments.length>0?new ce([],{[Xt]:_}):_}function dn(_){const w={};for(const T of Object.keys(_.children)){const K=dn(_.children[T]);(K.segments.length>0||K.hasChildren())&&(w[T]=K)}return function Li(_){if(1===_.numberOfChildren&&_.children[Xt]){const w=_.children[Xt];return new ce(_.segments.concat(w.segments),w.children)}return _}(new ce(_.segments,w))}function Vi(_){return _ instanceof Ne}function Qr(_,w,y,T,P){if(0===y.length)return Is(w.root,w.root,w.root,T,P);const K=function Yr(_){if("string"==typeof _[0]&&1===_.length&&"/"===_[0])return new Ko(!0,0,_);let w=0,y=!1;const T=_.reduce((P,K,le)=>{if("object"==typeof K&&null!=K){if(K.outlets){const ye={};return xn(K.outlets,(gt,Ht)=>{ye[Ht]="string"==typeof gt?gt.split("/"):gt}),[...P,{outlets:ye}]}if(K.segmentPath)return[...P,K.segmentPath]}return"string"!=typeof K?[...P,K]:0===le?(K.split("/").forEach((ye,gt)=>{0==gt&&"."===ye||(0==gt&&""===ye?y=!0:".."===ye?w++:""!=ye&&P.push(ye))}),P):[...P,K]},[]);return new Ko(y,w,T)}(y);return K.toRoot()?Is(w.root,w.root,new ce([],{}),T,P):function le(gt){const Ht=function zi(_,w,y,T){if(_.isAbsolute)return new es(w.root,!0,0);if(-1===T)return new es(y,y===w.root,0);return function He(_,w,y){let T=_,P=w,K=y;for(;K>P;){if(K-=P,T=T.parent,!T)throw new c.vHH(4005,!1);P=T.segments.length}return new es(T,!1,P-K)}(y,T+(gi(_.commands[0])?0:1),_.numberOfDoubleDots)}(K,w,_.snapshot?._urlSegment,gt),Pt=Ht.processChildren?Et(Ht.segmentGroup,Ht.index,K.commands):Qe(Ht.segmentGroup,Ht.index,K.commands);return Is(w.root,Ht.segmentGroup,Pt,T,P)}(_.snapshot?._lastPathIndex)}function gi(_){return"object"==typeof _&&null!=_&&!_.outlets&&!_.segmentPath}function Mr(_){return"object"==typeof _&&null!=_&&_.outlets}function Is(_,w,y,T,P){let le,K={};T&&xn(T,(gt,Ht)=>{K[Ht]=Array.isArray(gt)?gt.map(Pt=>`${Pt}`):`${gt}`}),le=_===w?y:nr(_,w,y);const ye=ui(dn(le));return new Ne(ye,K,P)}function nr(_,w,y){const T={};return xn(_.children,(P,K)=>{T[K]=P===w?y:nr(P,w,y)}),new ce(_.segments,T)}class Ko{constructor(w,y,T){if(this.isAbsolute=w,this.numberOfDoubleDots=y,this.commands=T,w&&T.length>0&&gi(T[0]))throw new c.vHH(4003,!1);const P=T.find(Mr);if(P&&P!==Oi(T))throw new c.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class es{constructor(w,y,T){this.segmentGroup=w,this.processChildren=y,this.index=T}}function Qe(_,w,y){if(_||(_=new ce([],{})),0===_.segments.length&&_.hasChildren())return Et(_,w,y);const T=function Rt(_,w,y){let T=0,P=w;const K={match:!1,pathIndex:0,commandIndex:0};for(;P<_.segments.length;){if(T>=y.length)return K;const le=_.segments[P],ye=y[T];if(Mr(ye))break;const gt=`${ye}`,Ht=T<y.length-1?y[T+1]:null;if(P>0&&void 0===gt)break;if(gt&&Ht&&"object"==typeof Ht&&void 0===Ht.outlets){if(!rr(gt,Ht,le))return K;T+=2}else{if(!rr(gt,{},le))return K;T++}P++}return{match:!0,pathIndex:P,commandIndex:T}}(_,w,y),P=y.slice(T.commandIndex);if(T.match&&T.pathIndex<_.segments.length){const K=new ce(_.segments.slice(0,T.pathIndex),{});return K.children[Xt]=new ce(_.segments.slice(T.pathIndex),_.children),Et(K,0,P)}return T.match&&0===P.length?new ce(_.segments,{}):T.match&&!_.hasChildren()?Qt(_,w,y):T.match?Et(_,0,P):Qt(_,w,y)}function Et(_,w,y){if(0===y.length)return new ce(_.segments,{});{const T=function Fe(_){return Mr(_[0])?_[0].outlets:{[Xt]:_}}(y),P={};return xn(T,(K,le)=>{"string"==typeof K&&(K=[K]),null!==K&&(P[le]=Qe(_.children[le],w,K))}),xn(_.children,(K,le)=>{void 0===T[le]&&(P[le]=K)}),new ce(_.segments,P)}}function Qt(_,w,y){const T=_.segments.slice(0,w);let P=0;for(;P<y.length;){const K=y[P];if(Mr(K)){const gt=Wn(K.outlets);return new ce(T,gt)}if(0===P&&gi(y[0])){T.push(new pe(_.segments[w].path,Ur(y[0]))),P++;continue}const le=Mr(K)?K.outlets[Xt]:`${K}`,ye=P<y.length-1?y[P+1]:null;le&&ye&&gi(ye)?(T.push(new pe(le,Ur(ye))),P+=2):(T.push(new pe(le,{})),P++)}return new ce(T,{})}function Wn(_){const w={};return xn(_,(y,T)=>{"string"==typeof y&&(y=[y]),null!==y&&(w[T]=Qt(new ce([],{}),0,y))}),w}function Ur(_){const w={};return xn(_,(y,T)=>w[T]=`${y}`),w}function rr(_,w,y){return _==y.path&&wn(w,y.parameters)}class sr{constructor(w,y){this.id=w,this.url=y}}class ts extends sr{constructor(w,y,T="imperative",P=null){super(w,y),this.type=0,this.navigationTrigger=T,this.restoredState=P}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class eo extends sr{constructor(w,y,T){super(w,y),this.urlAfterRedirects=T,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ns extends sr{constructor(w,y,T,P){super(w,y),this.reason=T,this.code=P,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Jr extends sr{constructor(w,y,T,P){super(w,y),this.error=T,this.target=P,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ns extends sr{constructor(w,y,T,P){super(w,y),this.urlAfterRedirects=T,this.state=P,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ui extends sr{constructor(w,y,T,P){super(w,y),this.urlAfterRedirects=T,this.state=P,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ko extends sr{constructor(w,y,T,P,K){super(w,y),this.urlAfterRedirects=T,this.state=P,this.shouldActivate=K,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class rs extends sr{constructor(w,y,T,P){super(w,y),this.urlAfterRedirects=T,this.state=P,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yi extends sr{constructor(w,y,T,P){super(w,y),this.urlAfterRedirects=T,this.state=P,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rs{constructor(w){this.route=w,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Do{constructor(w){this.route=w,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Os{constructor(w){this.snapshot=w,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class is{constructor(w){this.snapshot=w,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ds{constructor(w){this.snapshot=w,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ta{constructor(w){this.snapshot=w,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oa{constructor(w,y,T){this.routerEvent=w,this.position=y,this.anchor=T,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Cs{constructor(w){this._root=w}get root(){return this._root.value}parent(w){const y=this.pathFromRoot(w);return y.length>1?y[y.length-2]:null}children(w){const y=Co(w,this._root);return y?y.children.map(T=>T.value):[]}firstChild(w){const y=Co(w,this._root);return y&&y.children.length>0?y.children[0].value:null}siblings(w){const y=Fo(w,this._root);return y.length<2?[]:y[y.length-2].children.map(P=>P.value).filter(P=>P!==w)}pathFromRoot(w){return Fo(w,this._root).map(y=>y.value)}}function Co(_,w){if(_===w.value)return w;for(const y of w.children){const T=Co(_,y);if(T)return T}return null}function Fo(_,w){if(_===w.value)return[w];for(const y of w.children){const T=Fo(_,y);if(T.length)return T.unshift(w),T}return[]}class Xr{constructor(w,y){this.value=w,this.children=y}toString(){return`TreeNode(${this.value})`}}function Qi(_){const w={};return _&&_.children.forEach(y=>w[y.value.outlet]=y),w}class bs extends Cs{constructor(w,y){super(w),this.snapshot=y,os(this,w)}toString(){return this.snapshot.toString()}}function mi(_,w){const y=function ds(_,w){const le=new ss([],{},{},"",{},Xt,w,null,_.root,-1,{});return new co("",new Xr(le,[]))}(_,w),T=new ve([new pe("",{})]),P=new ve({}),K=new ve({}),le=new ve({}),ye=new ve(""),gt=new Qn(T,P,le,ye,K,Xt,w,y.root);return gt.snapshot=y.root,new bs(new Xr(gt,[]),y)}class Qn{constructor(w,y,T,P,K,le,ye,gt){this.url=w,this.params=y,this.queryParams=T,this.fragment=P,this.data=K,this.outlet=le,this.component=ye,this.title=this.data?.pipe((0,Be.U)(Ht=>Ht[On]))??(0,H.of)(void 0),this._futureSnapshot=gt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Be.U)(w=>dr(w)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Be.U)(w=>dr(w)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function zs(_,w="emptyOnly"){const y=_.pathFromRoot;let T=0;if("always"!==w)for(T=y.length-1;T>=1;){const P=y[T],K=y[T-1];if(P.routeConfig&&""===P.routeConfig.path)T--;else{if(K.component)break;T--}}return function Ps(_){return _.reduce((w,y)=>({params:{...w.params,...y.params},data:{...w.data,...y.data},resolve:{...y.data,...w.resolve,...y.routeConfig?.data,...y._resolvedData}}),{params:{},data:{},resolve:{}})}(y.slice(T))}class ss{constructor(w,y,T,P,K,le,ye,gt,Ht,Pt,yt,Zt){this.url=w,this.params=y,this.queryParams=T,this.fragment=P,this.data=K,this.outlet=le,this.component=ye,this.title=this.data?.[On],this.routeConfig=gt,this._urlSegment=Ht,this._lastPathIndex=Pt,this._correctedLastPathIndex=Zt??Pt,this._resolve=yt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=dr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=dr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(T=>T.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class co extends Cs{constructor(w,y){super(y),this.url=w,os(this,y)}toString(){return ho(this._root)}}function os(_,w){w.value._routerState=_,w.children.forEach(y=>os(_,y))}function ho(_){const w=_.children.length>0?` { ${_.children.map(ho).join(", ")} } `:"";return`${_.value}${w}`}function bi(_){if(_.snapshot){const w=_.snapshot,y=_._futureSnapshot;_.snapshot=y,wn(w.queryParams,y.queryParams)||_.queryParams.next(y.queryParams),w.fragment!==y.fragment&&_.fragment.next(y.fragment),wn(w.params,y.params)||_.params.next(y.params),function An(_,w){if(_.length!==w.length)return!1;for(let y=0;y<_.length;++y)if(!wn(_[y],w[y]))return!1;return!0}(w.url,y.url)||_.url.next(y.url),wn(w.data,y.data)||_.data.next(y.data)}else _.snapshot=_._futureSnapshot,_.data.next(_._futureSnapshot.data)}function Ji(_,w){const y=wn(_.params,w.params)&&function Ie(_,w){return ee(_,w)&&_.every((y,T)=>wn(y.parameters,w[T].parameters))}(_.url,w.url);return y&&!(!_.parent!=!w.parent)&&(!_.parent||Ji(_.parent,w.parent))}function Br(_,w,y){if(y&&_.shouldReuseRoute(w.value,y.value.snapshot)){const T=y.value;T._futureSnapshot=w.value;const P=function li(_,w,y){return w.children.map(T=>{for(const P of y.children)if(_.shouldReuseRoute(T.value,P.value.snapshot))return Br(_,T,P);return Br(_,T)})}(_,w,y);return new Xr(T,P)}{if(_.shouldAttach(w.value)){const K=_.retrieve(w.value);if(null!==K){const le=K.route;return le.value._futureSnapshot=w.value,le.children=w.children.map(ye=>Br(_,ye)),le}}const T=function ks(_){return new Qn(new ve(_.url),new ve(_.params),new ve(_.queryParams),new ve(_.fragment),new ve(_.data),_.outlet,_.component,_)}(w.value),P=w.children.map(K=>Br(_,K));return new Xr(T,P)}}const Lo="ngNavigationCancelingError";function Fs(_,w){const{redirectTo:y,navigationBehaviorOptions:T}=Vi(w)?{redirectTo:w,navigationBehaviorOptions:void 0}:w,P=Ar(!1,0,w);return P.url=y,P.navigationBehaviorOptions=T,P}function Ar(_,w,y){const T=new Error("NavigationCancelingError: "+(_||""));return T[Lo]=!0,T.cancellationCode=w,y&&(T.url=y),T}function bo(_){return qo(_)&&Vi(_.url)}function qo(_){return _&&_[Lo]}class ci{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new ei,this.attachRef=null}}let ei=(()=>{class _{constructor(){this.contexts=new Map}onChildOutletCreated(y,T){const P=this.getOrCreateContext(y);P.outlet=T,this.contexts.set(y,P)}onChildOutletDestroyed(y){const T=this.getContext(y);T&&(T.outlet=null,T.attachRef=null)}onOutletDeactivated(){const y=this.contexts;return this.contexts=new Map,y}onOutletReAttached(y){this.contexts=y}getOrCreateContext(y){let T=this.getContext(y);return T||(T=new ci,this.contexts.set(y,T)),T}getContext(y){return this.contexts.get(y)||null}}return _.\u0275fac=function(y){return new(y||_)},_.\u0275prov=c.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const ji=!1;let Ei=(()=>{class _{constructor(y,T,P,K,le){this.parentContexts=y,this.location=T,this.changeDetector=K,this.environmentInjector=le,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=P||Xt,y.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const y=this.parentContexts.getContext(this.name);y&&y.route&&(y.attachRef?this.attach(y.attachRef,y.route):this.activateWith(y.route,y.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,ji);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,ji);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,ji);this.location.detach();const y=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(y.instance),y}attach(y,T){this.activated=y,this._activatedRoute=T,this.location.insert(y.hostView),this.attachEvents.emit(y.instance)}deactivate(){if(this.activated){const y=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(y)}}activateWith(y,T){if(this.isActivated)throw new c.vHH(4013,ji);this._activatedRoute=y;const P=this.location,le=y._futureSnapshot.component,ye=this.parentContexts.getOrCreateContext(this.name).children,gt=new yi(y,ye,P.injector);if(T&&function Xn(_){return!!_.resolveComponentFactory}(T)){const Ht=T.resolveComponentFactory(le);this.activated=P.createComponent(Ht,P.length,gt)}else this.activated=P.createComponent(le,{index:P.length,injector:gt,environmentInjector:T??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return _.\u0275fac=function(y){return new(y||_)(c.Y36(ei),c.Y36(c.s_b),c.$8M("name"),c.Y36(c.sBO),c.Y36(c.lqb))},_.\u0275dir=c.lG2({type:_,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),_})();class yi{constructor(w,y,T){this.route=w,this.childContexts=y,this.parent=T}get(w,y){return w===Qn?this.route:w===ei?this.childContexts:this.parent.get(w,y)}}let to=(()=>{class _{}return _.\u0275fac=function(y){return new(y||_)},_.\u0275cmp=c.Xpm({type:_,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(y,T){1&y&&c._UZ(0,"router-outlet")},dependencies:[Ei],encapsulation:2}),_})();function as(_,w){return _.providers&&!_._injector&&(_._injector=(0,c.MMx)(_.providers,w,`Route: ${_.path}`)),_._injector??w}function wi(_){const w=_.children&&_.children.map(wi),y=w?{..._,children:w}:{..._};return!y.component&&!y.loadComponent&&(w||y.loadChildren)&&y.outlet&&y.outlet!==Xt&&(y.component=to),y}function si(_){return _.outlet||Xt}function Pi(_,w){const y=_.filter(T=>si(T)===w);return y.push(..._.filter(T=>si(T)!==w)),y}function hs(_){if(!_)return null;if(_.routeConfig?._injector)return _.routeConfig._injector;for(let w=_.parent;w;w=w.parent){const y=w.routeConfig;if(y?._loadedInjector)return y._loadedInjector;if(y?._injector)return y._injector}return null}class Nt{constructor(w,y,T,P){this.routeReuseStrategy=w,this.futureState=y,this.currState=T,this.forwardEvent=P}activate(w){const y=this.futureState._root,T=this.currState?this.currState._root:null;this.deactivateChildRoutes(y,T,w),bi(this.futureState.root),this.activateChildRoutes(y,T,w)}deactivateChildRoutes(w,y,T){const P=Qi(y);w.children.forEach(K=>{const le=K.value.outlet;this.deactivateRoutes(K,P[le],T),delete P[le]}),xn(P,(K,le)=>{this.deactivateRouteAndItsChildren(K,T)})}deactivateRoutes(w,y,T){const P=w.value,K=y?y.value:null;if(P===K)if(P.component){const le=T.getContext(P.outlet);le&&this.deactivateChildRoutes(w,y,le.children)}else this.deactivateChildRoutes(w,y,T);else K&&this.deactivateRouteAndItsChildren(y,T)}deactivateRouteAndItsChildren(w,y){w.value.component&&this.routeReuseStrategy.shouldDetach(w.value.snapshot)?this.detachAndStoreRouteSubtree(w,y):this.deactivateRouteAndOutlet(w,y)}detachAndStoreRouteSubtree(w,y){const T=y.getContext(w.value.outlet),P=T&&w.value.component?T.children:y,K=Qi(w);for(const le of Object.keys(K))this.deactivateRouteAndItsChildren(K[le],P);if(T&&T.outlet){const le=T.outlet.detach(),ye=T.children.onOutletDeactivated();this.routeReuseStrategy.store(w.value.snapshot,{componentRef:le,route:w,contexts:ye})}}deactivateRouteAndOutlet(w,y){const T=y.getContext(w.value.outlet),P=T&&w.value.component?T.children:y,K=Qi(w);for(const le of Object.keys(K))this.deactivateRouteAndItsChildren(K[le],P);T&&T.outlet&&(T.outlet.deactivate(),T.children.onOutletDeactivated(),T.attachRef=null,T.resolver=null,T.route=null)}activateChildRoutes(w,y,T){const P=Qi(y);w.children.forEach(K=>{this.activateRoutes(K,P[K.value.outlet],T),this.forwardEvent(new Ta(K.value.snapshot))}),w.children.length&&this.forwardEvent(new is(w.value.snapshot))}activateRoutes(w,y,T){const P=w.value,K=y?y.value:null;if(bi(P),P===K)if(P.component){const le=T.getOrCreateContext(P.outlet);this.activateChildRoutes(w,y,le.children)}else this.activateChildRoutes(w,y,T);else if(P.component){const le=T.getOrCreateContext(P.outlet);if(this.routeReuseStrategy.shouldAttach(P.snapshot)){const ye=this.routeReuseStrategy.retrieve(P.snapshot);this.routeReuseStrategy.store(P.snapshot,null),le.children.onOutletReAttached(ye.contexts),le.attachRef=ye.componentRef,le.route=ye.route.value,le.outlet&&le.outlet.attach(ye.componentRef,ye.route.value),bi(ye.route.value),this.activateChildRoutes(w,null,le.children)}else{const ye=hs(P.snapshot),gt=ye?.get(c._Vd)??null;le.attachRef=null,le.route=P,le.resolver=gt,le.injector=ye,le.outlet&&le.outlet.activateWith(P,le.injector),this.activateChildRoutes(w,null,le.children)}}else this.activateChildRoutes(w,null,T)}}class Jn{constructor(w){this.path=w,this.route=this.path[this.path.length-1]}}class Zo{constructor(w,y){this.component=w,this.route=y}}function fo(_,w,y){const T=_._root;return Ks(T,w?w._root:null,y,[T.value])}function fs(_,w){const y=Symbol(),T=w.get(_,y);return T===y?"function"!=typeof _||(0,c.Z0I)(_)?w.get(_):_:T}function Ks(_,w,y,T,P={canDeactivateChecks:[],canActivateChecks:[]}){const K=Qi(w);return _.children.forEach(le=>{(function Ii(_,w,y,T,P={canDeactivateChecks:[],canActivateChecks:[]}){const K=_.value,le=w?w.value:null,ye=y?y.getContext(_.value.outlet):null;if(le&&K.routeConfig===le.routeConfig){const gt=function qs(_,w,y){if("function"==typeof y)return y(_,w);switch(y){case"pathParamsChange":return!ee(_.url,w.url);case"pathParamsOrQueryParamsChange":return!ee(_.url,w.url)||!wn(_.queryParams,w.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ji(_,w)||!wn(_.queryParams,w.queryParams);default:return!Ji(_,w)}}(le,K,K.routeConfig.runGuardsAndResolvers);gt?P.canActivateChecks.push(new Jn(T)):(K.data=le.data,K._resolvedData=le._resolvedData),Ks(_,w,K.component?ye?ye.children:null:y,T,P),gt&&ye&&ye.outlet&&ye.outlet.isActivated&&P.canDeactivateChecks.push(new Zo(ye.outlet.component,le))}else le&&hi(w,ye,P),P.canActivateChecks.push(new Jn(T)),Ks(_,null,K.component?ye?ye.children:null:y,T,P)})(le,K[le.value.outlet],y,T.concat([le.value]),P),delete K[le.value.outlet]}),xn(K,(le,ye)=>hi(le,y.getContext(ye),P)),P}function hi(_,w,y){const T=Qi(_),P=_.value;xn(T,(K,le)=>{hi(K,P.component?w?w.children.getContext(le):null:w,y)}),y.canDeactivateChecks.push(new Zo(P.component&&w&&w.outlet&&w.outlet.isActivated?w.outlet.component:null,P))}function po(_){return"function"==typeof _}function Wi(_){return _ instanceof Pe.K||"EmptyError"===_?.name}const Xi=Symbol("INITIAL_VALUE");function ti(){return(0,$e.w)(_=>Je(_.map(w=>w.pipe((0,wt.q)(1),(0,xt.O)(Xi)))).pipe((0,Be.U)(w=>{for(const y of w)if(!0!==y){if(y===Xi)return Xi;if(!1===y||y instanceof Ne)return y}return!0}),(0,Ot.h)(w=>w!==Xi),(0,wt.q)(1)))}function Mo(_){return(0,oe.z)((0,tn.b)(w=>{if(Vi(w))throw Fs(0,w)}),(0,Be.U)(w=>!0===w))}const S={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function G(_,w,y,T,P){const K=N(_,w,y);return K.matched?function Yo(_,w,y,T){const P=w.canMatch;if(!P||0===P.length)return(0,H.of)(!0);const K=P.map(le=>{const ye=fs(le,_);return Bn(function at(_){return _&&po(_.canMatch)}(ye)?ye.canMatch(w,y):_.runInContext(()=>ye(w,y)))});return(0,H.of)(K).pipe(ti(),Mo())}(T=as(w,T),w,y).pipe((0,Be.U)(le=>!0===le?K:{...S})):(0,H.of)(K)}function N(_,w,y){if(""===w.path)return"full"===w.pathMatch&&(_.hasChildren()||y.length>0)?{...S}:{matched:!0,consumedSegments:[],remainingSegments:y,parameters:{},positionalParamSegments:{}};const P=(w.matcher||Ft)(y,_,w);if(!P)return{...S};const K={};xn(P.posParams,(ye,gt)=>{K[gt]=ye.path});const le=P.consumed.length>0?{...K,...P.consumed[P.consumed.length-1].parameters}:K;return{matched:!0,consumedSegments:P.consumed,remainingSegments:y.slice(P.consumed.length),parameters:le,positionalParamSegments:P.posParams??{}}}function Y(_,w,y,T,P="corrected"){if(y.length>0&&function mt(_,w,y){return y.some(T=>fr(_,w,T)&&si(T)!==Xt)}(_,y,T)){const le=new ce(w,function ut(_,w,y,T){const P={};P[Xt]=T,T._sourceSegment=_,T._segmentIndexShift=w.length;for(const K of y)if(""===K.path&&si(K)!==Xt){const le=new ce([],{});le._sourceSegment=_,le._segmentIndexShift=w.length,P[si(K)]=le}return P}(_,w,T,new ce(y,_.children)));return le._sourceSegment=_,le._segmentIndexShift=w.length,{segmentGroup:le,slicedSegments:[]}}if(0===y.length&&function yn(_,w,y){return y.some(T=>fr(_,w,T))}(_,y,T)){const le=new ce(_.segments,function _e(_,w,y,T,P,K){const le={};for(const ye of T)if(fr(_,y,ye)&&!P[si(ye)]){const gt=new ce([],{});gt._sourceSegment=_,gt._segmentIndexShift="legacy"===K?_.segments.length:w.length,le[si(ye)]=gt}return{...P,...le}}(_,w,y,T,_.children,P));return le._sourceSegment=_,le._segmentIndexShift=w.length,{segmentGroup:le,slicedSegments:y}}const K=new ce(_.segments,_.children);return K._sourceSegment=_,K._segmentIndexShift=w.length,{segmentGroup:K,slicedSegments:y}}function fr(_,w,y){return(!(_.hasChildren()||w.length>0)||"full"!==y.pathMatch)&&""===y.path}function vr(_,w,y,T){return!!(si(_)===T||T!==Xt&&fr(w,y,_))&&("**"===_.path||N(w,_,y).matched)}function _r(_,w,y){return 0===w.length&&!_.children[y]}const ir=!1;class fi{constructor(w){this.segmentGroup=w||null}}class jr{constructor(w){this.urlTree=w}}function Pr(_){return Ke(new fi(_))}function so(_){return Ke(new jr(_))}class Di{constructor(w,y,T,P,K){this.injector=w,this.configLoader=y,this.urlSerializer=T,this.urlTree=P,this.config=K,this.allowRedirects=!0}apply(){const w=Y(this.urlTree.root,[],[],this.config).segmentGroup,y=new ce(w.segments,w.children);return this.expandSegmentGroup(this.injector,this.config,y,Xt).pipe((0,Be.U)(K=>this.createUrlTree(dn(K),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ln(K=>{if(K instanceof jr)return this.allowRedirects=!1,this.match(K.urlTree);throw K instanceof fi?this.noMatchError(K):K}))}match(w){return this.expandSegmentGroup(this.injector,this.config,w.root,Xt).pipe((0,Be.U)(P=>this.createUrlTree(dn(P),w.queryParams,w.fragment))).pipe(ln(P=>{throw P instanceof fi?this.noMatchError(P):P}))}noMatchError(w){return new c.vHH(4002,ir)}createUrlTree(w,y,T){const P=ui(w);return new Ne(P,y,T)}expandSegmentGroup(w,y,T,P){return 0===T.segments.length&&T.hasChildren()?this.expandChildren(w,y,T).pipe((0,Be.U)(K=>new ce([],K))):this.expandSegment(w,T,y,T.segments,P,!0)}expandChildren(w,y,T){const P=[];for(const K of Object.keys(T.children))"primary"===K?P.unshift(K):P.push(K);return(0,F.D)(P).pipe(_t(K=>{const le=T.children[K],ye=Pi(y,K);return this.expandSegmentGroup(w,ye,le,K).pipe((0,Be.U)(gt=>({segment:gt,outlet:K})))}),(0,Xe.R)((K,le)=>(K[le.outlet]=le.segment,K),{}),$t())}expandSegment(w,y,T,P,K,le){return(0,F.D)(T).pipe(_t(ye=>this.expandSegmentAgainstRoute(w,y,T,ye,P,K,le).pipe(ln(Ht=>{if(Ht instanceof fi)return(0,H.of)(null);throw Ht}))),(0,sn.P)(ye=>!!ye),ln((ye,gt)=>{if(Wi(ye))return _r(y,P,K)?(0,H.of)(new ce([],{})):Pr(y);throw ye}))}expandSegmentAgainstRoute(w,y,T,P,K,le,ye){return vr(P,y,K,le)?void 0===P.redirectTo?this.matchSegmentAgainstRoute(w,y,P,K,le):ye&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(w,y,T,P,K,le):Pr(y):Pr(y)}expandSegmentAgainstRouteUsingRedirect(w,y,T,P,K,le){return"**"===P.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(w,T,P,le):this.expandRegularSegmentAgainstRouteUsingRedirect(w,y,T,P,K,le)}expandWildCardWithParamsAgainstRouteUsingRedirect(w,y,T,P){const K=this.applyRedirectCommands([],T.redirectTo,{});return T.redirectTo.startsWith("/")?so(K):this.lineralizeSegments(T,K).pipe((0,Wt.z)(le=>{const ye=new ce(le,{});return this.expandSegment(w,ye,y,le,P,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(w,y,T,P,K,le){const{matched:ye,consumedSegments:gt,remainingSegments:Ht,positionalParamSegments:Pt}=N(y,P,K);if(!ye)return Pr(y);const yt=this.applyRedirectCommands(gt,P.redirectTo,Pt);return P.redirectTo.startsWith("/")?so(yt):this.lineralizeSegments(P,yt).pipe((0,Wt.z)(Zt=>this.expandSegment(w,y,T,Zt.concat(Ht),le,!1)))}matchSegmentAgainstRoute(w,y,T,P,K){return"**"===T.path?(w=as(T,w),T.loadChildren?(T._loadedRoutes?(0,H.of)({routes:T._loadedRoutes,injector:T._loadedInjector}):this.configLoader.loadChildren(w,T)).pipe((0,Be.U)(ye=>(T._loadedRoutes=ye.routes,T._loadedInjector=ye.injector,new ce(P,{})))):(0,H.of)(new ce(P,{}))):G(y,T,P,w).pipe((0,$e.w)(({matched:le,consumedSegments:ye,remainingSegments:gt})=>le?this.getChildConfig(w=T._injector??w,T,P).pipe((0,Wt.z)(Pt=>{const yt=Pt.injector??w,Zt=Pt.routes,{segmentGroup:zn,slicedSegments:Er}=Y(y,ye,gt,Zt),Wr=new ce(zn.segments,zn.children);if(0===Er.length&&Wr.hasChildren())return this.expandChildren(yt,Zt,Wr).pipe((0,Be.U)(ea=>new ce(ye,ea)));if(0===Zt.length&&0===Er.length)return(0,H.of)(new ce(ye,{}));const ri=si(T)===K;return this.expandSegment(yt,Wr,Zt,Er,ri?Xt:K,!0).pipe((0,Be.U)(Kr=>new ce(ye.concat(Kr.segments),Kr.children)))})):Pr(y)))}getChildConfig(w,y,T){return y.children?(0,H.of)({routes:y.children,injector:w}):y.loadChildren?void 0!==y._loadedRoutes?(0,H.of)({routes:y._loadedRoutes,injector:y._loadedInjector}):function io(_,w,y,T){const P=w.canLoad;if(void 0===P||0===P.length)return(0,H.of)(!0);const K=P.map(le=>{const ye=fs(le,_);return Bn(function L(_){return _&&po(_.canLoad)}(ye)?ye.canLoad(w,y):_.runInContext(()=>ye(w,y)))});return(0,H.of)(K).pipe(ti(),Mo())}(w,y,T).pipe((0,Wt.z)(P=>P?this.configLoader.loadChildren(w,y).pipe((0,tn.b)(K=>{y._loadedRoutes=K.routes,y._loadedInjector=K.injector})):function $r(_){return Ke(Ar(ir,3))}())):(0,H.of)({routes:[],injector:w})}lineralizeSegments(w,y){let T=[],P=y.root;for(;;){if(T=T.concat(P.segments),0===P.numberOfChildren)return(0,H.of)(T);if(P.numberOfChildren>1||!P.children[Xt])return Ke(new c.vHH(4e3,ir));P=P.children[Xt]}}applyRedirectCommands(w,y,T){return this.applyRedirectCreateUrlTree(y,this.urlSerializer.parse(y),w,T)}applyRedirectCreateUrlTree(w,y,T,P){const K=this.createSegmentGroup(w,y.root,T,P);return new Ne(K,this.createQueryParams(y.queryParams,this.urlTree.queryParams),y.fragment)}createQueryParams(w,y){const T={};return xn(w,(P,K)=>{if("string"==typeof P&&P.startsWith(":")){const ye=P.substring(1);T[K]=y[ye]}else T[K]=P}),T}createSegmentGroup(w,y,T,P){const K=this.createSegments(w,y.segments,T,P);let le={};return xn(y.children,(ye,gt)=>{le[gt]=this.createSegmentGroup(w,ye,T,P)}),new ce(K,le)}createSegments(w,y,T,P){return y.map(K=>K.path.startsWith(":")?this.findPosParam(w,K,P):this.findOrReturn(K,T))}findPosParam(w,y,T){const P=T[y.path.substring(1)];if(!P)throw new c.vHH(4001,ir);return P}findOrReturn(w,y){let T=0;for(const P of y){if(P.path===w.path)return y.splice(T),P;T++}return w}}class Bt{}class va{constructor(w,y,T,P,K,le,ye,gt){this.injector=w,this.rootComponentType=y,this.config=T,this.urlTree=P,this.url=K,this.paramsInheritanceStrategy=le,this.relativeLinkResolution=ye,this.urlSerializer=gt}recognize(){const w=Y(this.urlTree.root,[],[],this.config.filter(y=>void 0===y.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,w,Xt).pipe((0,Be.U)(y=>{if(null===y)return null;const T=new ss([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Xt,this.rootComponentType,null,this.urlTree.root,-1,{}),P=new Xr(T,y),K=new co(this.url,P);return this.inheritParamsAndData(K._root),K}))}inheritParamsAndData(w){const y=w.value,T=zs(y,this.paramsInheritanceStrategy);y.params=Object.freeze(T.params),y.data=Object.freeze(T.data),w.children.forEach(P=>this.inheritParamsAndData(P))}processSegmentGroup(w,y,T,P){return 0===T.segments.length&&T.hasChildren()?this.processChildren(w,y,T):this.processSegment(w,y,T,T.segments,P)}processChildren(w,y,T){return(0,F.D)(Object.keys(T.children)).pipe(_t(P=>{const K=T.children[P],le=Pi(y,P);return this.processSegmentGroup(w,le,K,P)}),(0,Xe.R)((P,K)=>P&&K?(P.push(...K),P):null),function mn(_,w=!1){return(0,ze.e)((y,T)=>{let P=0;y.subscribe((0,ft.x)(T,K=>{const le=_(K,P++);(le||w)&&T.next(K),!le&&T.complete()}))})}(P=>null!==P),(0,je.d)(null),$t(),(0,Be.U)(P=>{if(null===P)return null;const K=qt(P);return function vn(_){_.sort((w,y)=>w.value.outlet===Xt?-1:y.value.outlet===Xt?1:w.value.outlet.localeCompare(y.value.outlet))}(K),K}))}processSegment(w,y,T,P,K){return(0,F.D)(y).pipe(_t(le=>this.processSegmentAgainstRoute(le._injector??w,le,T,P,K)),(0,sn.P)(le=>!!le),ln(le=>{if(Wi(le))return _r(T,P,K)?(0,H.of)([]):(0,H.of)(null);throw le}))}processSegmentAgainstRoute(w,y,T,P,K){if(y.redirectTo||!vr(y,T,P,K))return(0,H.of)(null);let le;if("**"===y.path){const ye=P.length>0?Oi(P).parameters:{},gt=Dr(T)+P.length,Ht=new ss(P,ye,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,la(y),si(y),y.component??y._loadedComponent??null,y,Lt(T),gt,Ci(y),gt);le=(0,H.of)({snapshot:Ht,consumedSegments:[],remainingSegments:[]})}else le=G(T,y,P,w).pipe((0,Be.U)(({matched:ye,consumedSegments:gt,remainingSegments:Ht,parameters:Pt})=>{if(!ye)return null;const yt=Dr(T)+gt.length;return{snapshot:new ss(gt,Pt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,la(y),si(y),y.component??y._loadedComponent??null,y,Lt(T),yt,Ci(y),yt),consumedSegments:gt,remainingSegments:Ht}}));return le.pipe((0,$e.w)(ye=>{if(null===ye)return(0,H.of)(null);const{snapshot:gt,consumedSegments:Ht,remainingSegments:Pt}=ye;w=y._injector??w;const yt=y._loadedInjector??w,Zt=function Gn(_){return _.children?_.children:_.loadChildren?_._loadedRoutes:[]}(y),{segmentGroup:zn,slicedSegments:Er}=Y(T,Ht,Pt,Zt.filter(ri=>void 0===ri.redirectTo),this.relativeLinkResolution);if(0===Er.length&&zn.hasChildren())return this.processChildren(yt,Zt,zn).pipe((0,Be.U)(ri=>null===ri?null:[new Xr(gt,ri)]));if(0===Zt.length&&0===Er.length)return(0,H.of)([new Xr(gt,[])]);const Wr=si(y)===K;return this.processSegment(yt,Zt,zn,Er,Wr?Xt:K).pipe((0,Be.U)(ri=>null===ri?null:[new Xr(gt,ri)]))}))}}function Wa(_){const w=_.value.routeConfig;return w&&""===w.path&&void 0===w.redirectTo}function qt(_){const w=[],y=new Set;for(const T of _){if(!Wa(T)){w.push(T);continue}const P=w.find(K=>T.value.routeConfig===K.value.routeConfig);void 0!==P?(P.children.push(...T.children),y.add(P)):w.push(T)}for(const T of y){const P=qt(T.children);w.push(new Xr(T.value,P))}return w.filter(T=>!y.has(T))}function Lt(_){let w=_;for(;w._sourceSegment;)w=w._sourceSegment;return w}function Dr(_){let w=_,y=w._segmentIndexShift??0;for(;w._sourceSegment;)w=w._sourceSegment,y+=w._segmentIndexShift??0;return y-1}function la(_){return _.data||{}}function Ci(_){return _.resolve||{}}function vi(_){return"string"==typeof _.title||null===_.title}function Ea(_){return(0,$e.w)(w=>{const y=_(w);return y?(0,F.D)(y).pipe((0,Be.U)(()=>w)):(0,H.of)(w)})}let Dn=(()=>{class _{buildTitle(y){let T,P=y.root;for(;void 0!==P;)T=this.getResolvedTitleForRoute(P)??T,P=P.children.find(K=>K.outlet===Xt);return T}getResolvedTitleForRoute(y){return y.data[On]}}return _.\u0275fac=function(y){return new(y||_)},_.\u0275prov=c.Yz7({token:_,factory:function(){return(0,c.f3M)(No)},providedIn:"root"}),_})(),No=(()=>{class _ extends Dn{constructor(y){super(),this.title=y}updateTitle(y){const T=this.buildTitle(y);void 0!==T&&this.title.setTitle(T)}}return _.\u0275fac=function(y){return new(y||_)(c.LFG(gr.Dx))},_.\u0275prov=c.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();class xr{}class Ro extends class kn{shouldDetach(w){return!1}store(w,y){}shouldAttach(w){return!1}retrieve(w){return null}shouldReuseRoute(w,y){return w.routeConfig===y.routeConfig}}{}const Qo=new c.OlP("",{providedIn:"root",factory:()=>({})}),zt=new c.OlP("ROUTES");let Ys=(()=>{class _{constructor(y,T){this.injector=y,this.compiler=T,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(y){if(this.componentLoaders.get(y))return this.componentLoaders.get(y);if(y._loadedComponent)return(0,H.of)(y._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(y);const T=Bn(y.loadComponent()).pipe((0,tn.b)(K=>{this.onLoadEndListener&&this.onLoadEndListener(y),y._loadedComponent=K}),$n(()=>{this.componentLoaders.delete(y)})),P=new Te(T,()=>new we.x).pipe(st());return this.componentLoaders.set(y,P),P}loadChildren(y,T){if(this.childrenLoaders.get(T))return this.childrenLoaders.get(T);if(T._loadedRoutes)return(0,H.of)({routes:T._loadedRoutes,injector:T._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(T);const K=this.loadModuleFactoryOrRoutes(T.loadChildren).pipe((0,Be.U)(ye=>{this.onLoadEndListener&&this.onLoadEndListener(T);let gt,Ht,Pt=!1;Array.isArray(ye)?Ht=ye:(gt=ye.create(y).injector,Ht=Tr(gt.get(zt,[],c.XFs.Self|c.XFs.Optional)));return{routes:Ht.map(wi),injector:gt}}),$n(()=>{this.childrenLoaders.delete(T)})),le=new Te(K,()=>new we.x).pipe(st());return this.childrenLoaders.set(T,le),le}loadModuleFactoryOrRoutes(y){return Bn(y()).pipe((0,Wt.z)(T=>T instanceof c.YKP||Array.isArray(T)?(0,H.of)(T):(0,F.D)(this.compiler.compileModuleAsync(T))))}}return _.\u0275fac=function(y){return new(y||_)(c.LFG(c.zs3),c.LFG(c.Sil))},_.\u0275prov=c.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();class Ma{}class Us{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,y){return w}}function Bs(_){throw _}function cu(_,w,y){return w.parse("/")}const vo={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},da={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function us(){const _=(0,c.f3M)(X),w=(0,c.f3M)(ei),y=(0,c.f3M)(Oe.Ye),T=(0,c.f3M)(c.zs3),P=(0,c.f3M)(c.Sil),K=(0,c.f3M)(zt,{optional:!0})??[],le=(0,c.f3M)(Qo,{optional:!0})??{},ye=(0,c.f3M)(No),gt=(0,c.f3M)(Dn,{optional:!0}),Ht=(0,c.f3M)(Ma,{optional:!0}),Pt=(0,c.f3M)(xr,{optional:!0}),yt=new _i(null,_,w,y,T,P,Tr(K));return Ht&&(yt.urlHandlingStrategy=Ht),Pt&&(yt.routeReuseStrategy=Pt),yt.titleStrategy=gt??ye,function jo(_,w){_.errorHandler&&(w.errorHandler=_.errorHandler),_.malformedUriErrorHandler&&(w.malformedUriErrorHandler=_.malformedUriErrorHandler),_.onSameUrlNavigation&&(w.onSameUrlNavigation=_.onSameUrlNavigation),_.paramsInheritanceStrategy&&(w.paramsInheritanceStrategy=_.paramsInheritanceStrategy),_.relativeLinkResolution&&(w.relativeLinkResolution=_.relativeLinkResolution),_.urlUpdateStrategy&&(w.urlUpdateStrategy=_.urlUpdateStrategy),_.canceledNavigationResolution&&(w.canceledNavigationResolution=_.canceledNavigationResolution)}(le,yt),yt}let _i=(()=>{class _{constructor(y,T,P,K,le,ye,gt){this.rootComponentType=y,this.urlSerializer=T,this.rootContexts=P,this.location=K,this.config=gt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new we.x,this.errorHandler=Bs,this.malformedUriErrorHandler=cu,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,H.of)(void 0),this.urlHandlingStrategy=new Us,this.routeReuseStrategy=new Ro,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=le.get(Ys),this.configLoader.onLoadEndListener=Zt=>this.triggerEvent(new Do(Zt)),this.configLoader.onLoadStartListener=Zt=>this.triggerEvent(new Rs(Zt)),this.ngModule=le.get(c.h0i),this.console=le.get(c.c2e);const yt=le.get(c.R0b);this.isNgZoneEnabled=yt instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(gt),this.currentUrlTree=function cn(){return new Ne(new ce([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=mi(this.currentUrlTree,this.rootComponentType),this.transitions=new ve({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(y){const T=this.events;return y.pipe((0,Ot.h)(P=>0!==P.id),(0,Be.U)(P=>({...P,extractedUrl:this.urlHandlingStrategy.extract(P.rawUrl)})),(0,$e.w)(P=>{let K=!1,le=!1;return(0,H.of)(P).pipe((0,tn.b)(ye=>{this.currentNavigation={id:ye.id,initialUrl:ye.rawUrl,extractedUrl:ye.extractedUrl,trigger:ye.source,extras:ye.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,$e.w)(ye=>{const gt=this.browserUrlTree.toString(),Ht=!this.navigated||ye.extractedUrl.toString()!==gt||gt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Ht)&&this.urlHandlingStrategy.shouldProcessUrl(ye.rawUrl))return Va(ye.source)&&(this.browserUrlTree=ye.extractedUrl),(0,H.of)(ye).pipe((0,$e.w)(yt=>{const Zt=this.transitions.getValue();return T.next(new ts(yt.id,this.serializeUrl(yt.extractedUrl),yt.source,yt.restoredState)),Zt!==this.transitions.getValue()?St.E:Promise.resolve(yt)}),function Ki(_,w,y,T){return(0,$e.w)(P=>function Ts(_,w,y,T,P){return new Di(_,w,y,T,P).apply()}(_,w,y,P.extractedUrl,T).pipe((0,Be.U)(K=>({...P,urlAfterRedirects:K}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,tn.b)(yt=>{this.currentNavigation={...this.currentNavigation,finalUrl:yt.urlAfterRedirects},P.urlAfterRedirects=yt.urlAfterRedirects}),function Au(_,w,y,T,P,K){return(0,Wt.z)(le=>function yo(_,w,y,T,P,K,le="emptyOnly",ye="legacy"){return new va(_,w,y,T,P,le,ye,K).recognize().pipe((0,$e.w)(gt=>null===gt?function er(_){return new Me.y(w=>w.error(_))}(new Bt):(0,H.of)(gt)))}(_,w,y,le.urlAfterRedirects,T.serialize(le.urlAfterRedirects),T,P,K).pipe((0,Be.U)(ye=>({...le,targetSnapshot:ye}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,tn.b)(yt=>{if(P.targetSnapshot=yt.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!yt.extras.skipLocationChange){const zn=this.urlHandlingStrategy.merge(yt.urlAfterRedirects,yt.rawUrl);this.setBrowserUrl(zn,yt)}this.browserUrlTree=yt.urlAfterRedirects}const Zt=new Ns(yt.id,this.serializeUrl(yt.extractedUrl),this.serializeUrl(yt.urlAfterRedirects),yt.targetSnapshot);T.next(Zt)}));if(Ht&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Zt,extractedUrl:zn,source:Er,restoredState:Wr,extras:ri}=ye,_s=new ts(Zt,this.serializeUrl(zn),Er,Wr);T.next(_s);const Kr=mi(zn,this.rootComponentType).snapshot;return P={...ye,targetSnapshot:Kr,urlAfterRedirects:zn,extras:{...ri,skipLocationChange:!1,replaceUrl:!1}},(0,H.of)(P)}return this.rawUrlTree=ye.rawUrl,ye.resolve(null),St.E}),(0,tn.b)(ye=>{const gt=new Ui(ye.id,this.serializeUrl(ye.extractedUrl),this.serializeUrl(ye.urlAfterRedirects),ye.targetSnapshot);this.triggerEvent(gt)}),(0,Be.U)(ye=>P={...ye,guards:fo(ye.targetSnapshot,ye.currentSnapshot,this.rootContexts)}),function ro(_,w){return(0,Wt.z)(y=>{const{targetSnapshot:T,currentSnapshot:P,guards:{canActivateChecks:K,canDeactivateChecks:le}}=y;return 0===le.length&&0===K.length?(0,H.of)({...y,guardsResult:!0}):function ps(_,w,y,T){return(0,F.D)(_).pipe((0,Wt.z)(P=>function Ao(_,w,y,T,P){const K=w&&w.routeConfig?w.routeConfig.canDeactivate:null;if(!K||0===K.length)return(0,H.of)(!0);const le=K.map(ye=>{const gt=hs(w)??P,Ht=fs(ye,gt);return Bn(function Q(_){return _&&po(_.canDeactivate)}(Ht)?Ht.canDeactivate(_,w,y,T):gt.runInContext(()=>Ht(_,w,y,T))).pipe((0,sn.P)())});return(0,H.of)(le).pipe(ti())}(P.component,P.route,y,w,T)),(0,sn.P)(P=>!0!==P,!0))}(le,T,P,_).pipe((0,Wt.z)(ye=>ye&&function go(_){return"boolean"==typeof _}(ye)?function Zs(_,w,y,T){return(0,F.D)(w).pipe(_t(P=>(0,Ze.z)(function aa(_,w){return null!==_&&w&&w(new Os(_)),(0,H.of)(!0)}(P.route.parent,T),function So(_,w){return null!==_&&w&&w(new Ds(_)),(0,H.of)(!0)}(P.route,T),function ya(_,w,y){const T=w[w.length-1],K=w.slice(0,w.length-1).reverse().map(le=>function Gr(_){const w=_.routeConfig?_.routeConfig.canActivateChild:null;return w&&0!==w.length?{node:_,guards:w}:null}(le)).filter(le=>null!==le).map(le=>Ct(()=>{const ye=le.guards.map(gt=>{const Ht=hs(le.node)??y,Pt=fs(gt,Ht);return Bn(function A(_){return _&&po(_.canActivateChild)}(Pt)?Pt.canActivateChild(T,_):Ht.runInContext(()=>Pt(T,_))).pipe((0,sn.P)())});return(0,H.of)(ye).pipe(ti())}));return(0,H.of)(K).pipe(ti())}(_,P.path,y),function mo(_,w,y){const T=w.routeConfig?w.routeConfig.canActivate:null;if(!T||0===T.length)return(0,H.of)(!0);const P=T.map(K=>Ct(()=>{const le=hs(w)??y,ye=fs(K,le);return Bn(function O(_){return _&&po(_.canActivate)}(ye)?ye.canActivate(w,_):le.runInContext(()=>ye(w,_))).pipe((0,sn.P)())}));return(0,H.of)(P).pipe(ti())}(_,P.route,y))),(0,sn.P)(P=>!0!==P,!0))}(T,K,_,w):(0,H.of)(ye)),(0,Be.U)(ye=>({...y,guardsResult:ye})))})}(this.ngModule.injector,ye=>this.triggerEvent(ye)),(0,tn.b)(ye=>{if(P.guardsResult=ye.guardsResult,Vi(ye.guardsResult))throw Fs(0,ye.guardsResult);const gt=new ko(ye.id,this.serializeUrl(ye.extractedUrl),this.serializeUrl(ye.urlAfterRedirects),ye.targetSnapshot,!!ye.guardsResult);this.triggerEvent(gt)}),(0,Ot.h)(ye=>!!ye.guardsResult||(this.restoreHistory(ye),this.cancelNavigationTransition(ye,"",3),!1)),Ea(ye=>{if(ye.guards.canActivateChecks.length)return(0,H.of)(ye).pipe((0,tn.b)(gt=>{const Ht=new rs(gt.id,this.serializeUrl(gt.extractedUrl),this.serializeUrl(gt.urlAfterRedirects),gt.targetSnapshot);this.triggerEvent(Ht)}),(0,$e.w)(gt=>{let Ht=!1;return(0,H.of)(gt).pipe(function Uo(_,w){return(0,Wt.z)(y=>{const{targetSnapshot:T,guards:{canActivateChecks:P}}=y;if(!P.length)return(0,H.of)(y);let K=0;return(0,F.D)(P).pipe(_t(le=>function _a(_,w,y,T){const P=_.routeConfig,K=_._resolve;return void 0!==P?.title&&!vi(P)&&(K[On]=P.title),function ca(_,w,y,T){const P=function Sa(_){return[...Object.keys(_),...Object.getOwnPropertySymbols(_)]}(_);if(0===P.length)return(0,H.of)({});const K={};return(0,F.D)(P).pipe((0,Wt.z)(le=>function Aa(_,w,y,T){const P=hs(w)??T,K=fs(_,P);return Bn(K.resolve?K.resolve(w,y):P.runInContext(()=>K(w,y)))}(_[le],w,y,T).pipe((0,sn.P)(),(0,tn.b)(ye=>{K[le]=ye}))),vt(1),function Yn(_){return(0,Be.U)(()=>_)}(K),ln(le=>Wi(le)?St.E:Ke(le)))}(K,_,w,T).pipe((0,Be.U)(le=>(_._resolvedData=le,_.data=zs(_,y).resolve,P&&vi(P)&&(_.data[On]=P.title),null)))}(le.route,T,_,w)),(0,tn.b)(()=>K++),vt(1),(0,Wt.z)(le=>K===P.length?(0,H.of)(y):St.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,tn.b)({next:()=>Ht=!0,complete:()=>{Ht||(this.restoreHistory(gt),this.cancelNavigationTransition(gt,"",2))}}))}),(0,tn.b)(gt=>{const Ht=new Yi(gt.id,this.serializeUrl(gt.extractedUrl),this.serializeUrl(gt.urlAfterRedirects),gt.targetSnapshot);this.triggerEvent(Ht)}))}),Ea(ye=>{const gt=Ht=>{const Pt=[];Ht.routeConfig?.loadComponent&&!Ht.routeConfig._loadedComponent&&Pt.push(this.configLoader.loadComponent(Ht.routeConfig).pipe((0,tn.b)(yt=>{Ht.component=yt}),(0,Be.U)(()=>{})));for(const yt of Ht.children)Pt.push(...gt(yt));return Pt};return Je(gt(ye.targetSnapshot.root)).pipe((0,je.d)(),(0,wt.q)(1))}),Ea(()=>this.afterPreactivation()),(0,Be.U)(ye=>{const gt=function Bi(_,w,y){const T=Br(_,w._root,y?y._root:void 0);return new bs(T,w)}(this.routeReuseStrategy,ye.targetSnapshot,ye.currentRouterState);return P={...ye,targetRouterState:gt}}),(0,tn.b)(ye=>{this.currentUrlTree=ye.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(ye.urlAfterRedirects,ye.rawUrl),this.routerState=ye.targetRouterState,"deferred"===this.urlUpdateStrategy&&(ye.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,ye),this.browserUrlTree=ye.urlAfterRedirects)}),((_,w,y)=>(0,Be.U)(T=>(new Nt(w,T.targetRouterState,T.currentRouterState,y).activate(_),T)))(this.rootContexts,this.routeReuseStrategy,ye=>this.triggerEvent(ye)),(0,tn.b)({next(){K=!0},complete(){K=!0}}),$n(()=>{K||le||this.cancelNavigationTransition(P,"",1),this.currentNavigation?.id===P.id&&(this.currentNavigation=null)}),ln(ye=>{if(le=!0,qo(ye)){bo(ye)||(this.navigated=!0,this.restoreHistory(P,!0));const gt=new ns(P.id,this.serializeUrl(P.extractedUrl),ye.message,ye.cancellationCode);if(T.next(gt),bo(ye)){const Ht=this.urlHandlingStrategy.merge(ye.url,this.rawUrlTree),Pt={skipLocationChange:P.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Va(P.source)};this.scheduleNavigation(Ht,"imperative",null,Pt,{resolve:P.resolve,reject:P.reject,promise:P.promise})}else P.resolve(!1)}else{this.restoreHistory(P,!0);const gt=new Jr(P.id,this.serializeUrl(P.extractedUrl),ye,P.targetSnapshot??void 0);T.next(gt);try{P.resolve(this.errorHandler(ye))}catch(Ht){P.reject(Ht)}}return St.E}))}))}resetRootComponentType(y){this.rootComponentType=y,this.routerState.root.component=this.rootComponentType}setTransition(y){this.transitions.next({...this.transitions.value,...y})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(y=>{const T="popstate"===y.type?"popstate":"hashchange";"popstate"===T&&setTimeout(()=>{const P={replaceUrl:!0},K=y.state?.navigationId?y.state:null;if(K){const ye={...K};delete ye.navigationId,delete ye.\u0275routerPageId,0!==Object.keys(ye).length&&(P.state=ye)}const le=this.parseUrl(y.url);this.scheduleNavigation(le,T,K,P)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(y){this.events.next(y)}resetConfig(y){this.config=y.map(wi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(y,T={}){const{relativeTo:P,queryParams:K,fragment:le,queryParamsHandling:ye,preserveFragment:gt}=T,Ht=P||this.routerState.root,Pt=gt?this.currentUrlTree.fragment:le;let yt=null;switch(ye){case"merge":yt={...this.currentUrlTree.queryParams,...K};break;case"preserve":yt=this.currentUrlTree.queryParams;break;default:yt=K||null}return null!==yt&&(yt=this.removeEmptyProps(yt)),Qr(Ht,this.currentUrlTree,y,yt,Pt??null)}navigateByUrl(y,T={skipLocationChange:!1}){const P=Vi(y)?y:this.parseUrl(y),K=this.urlHandlingStrategy.merge(P,this.rawUrlTree);return this.scheduleNavigation(K,"imperative",null,T)}navigate(y,T={skipLocationChange:!1}){return function $o(_){for(let w=0;w<_.length;w++){if(null==_[w])throw new c.vHH(4008,false)}}(y),this.navigateByUrl(this.createUrlTree(y,T),T)}serializeUrl(y){return this.urlSerializer.serialize(y)}parseUrl(y){let T;try{T=this.urlSerializer.parse(y)}catch(P){T=this.malformedUriErrorHandler(P,this.urlSerializer,y)}return T}isActive(y,T){let P;if(P=!0===T?{...vo}:!1===T?{...da}:T,Vi(y))return hr(this.currentUrlTree,y,P);const K=this.parseUrl(y);return hr(this.currentUrlTree,K,P)}removeEmptyProps(y){return Object.keys(y).reduce((T,P)=>{const K=y[P];return null!=K&&(T[P]=K),T},{})}processNavigations(){this.navigations.subscribe(y=>{this.navigated=!0,this.lastSuccessfulId=y.id,this.currentPageId=y.targetPageId,this.events.next(new eo(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),y.resolve(!0)},y=>{this.console.warn(`Unhandled Navigation Error: ${y}`)})}scheduleNavigation(y,T,P,K,le){if(this.disposed)return Promise.resolve(!1);let ye,gt,Ht;le?(ye=le.resolve,gt=le.reject,Ht=le.promise):Ht=new Promise((Zt,zn)=>{ye=Zt,gt=zn});const Pt=++this.navigationId;let yt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(P=this.location.getState()),yt=P&&P.\u0275routerPageId?P.\u0275routerPageId:K.replaceUrl||K.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):yt=0,this.setTransition({id:Pt,targetPageId:yt,source:T,restoredState:P,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:y,extras:K,resolve:ye,reject:gt,promise:Ht,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ht.catch(Zt=>Promise.reject(Zt))}setBrowserUrl(y,T){const P=this.urlSerializer.serialize(y),K={...T.extras.state,...this.generateNgRouterState(T.id,T.targetPageId)};this.location.isCurrentPathEqualTo(P)||T.extras.replaceUrl?this.location.replaceState(P,"",K):this.location.go(P,"",K)}restoreHistory(y,T=!1){if("computed"===this.canceledNavigationResolution){const P=this.currentPageId-y.targetPageId;"popstate"!==y.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===P?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===P&&(this.resetState(y),this.browserUrlTree=y.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(P)}else"replace"===this.canceledNavigationResolution&&(T&&this.resetState(y),this.resetUrlToCurrentUrlTree())}resetState(y){this.routerState=y.currentRouterState,this.currentUrlTree=y.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,y.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(y,T,P){const K=new ns(y.id,this.serializeUrl(y.extractedUrl),T,P);this.triggerEvent(K),y.resolve(!1)}generateNgRouterState(y,T){return"computed"===this.canceledNavigationResolution?{navigationId:y,\u0275routerPageId:T}:{navigationId:y}}}return _.\u0275fac=function(y){c.$Z()},_.\u0275prov=c.Yz7({token:_,factory:function(){return us()},providedIn:"root"}),_})();function Va(_){return"imperative"!==_}let gs=(()=>{class _{constructor(y,T,P,K,le){this.router=y,this.route=T,this.tabIndexAttribute=P,this.renderer=K,this.el=le,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new we.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(y){this._preserveFragment=(0,c.D6c)(y)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(y){this._skipLocationChange=(0,c.D6c)(y)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(y){this._replaceUrl=(0,c.D6c)(y)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(y){if(null!=this.tabIndexAttribute)return;const T=this.renderer,P=this.el.nativeElement;null!==y?T.setAttribute(P,"tabindex",y):T.removeAttribute(P,"tabindex")}ngOnChanges(y){this.onChanges.next(this)}set routerLink(y){null!=y?(this.commands=Array.isArray(y)?y:[y],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return _.\u0275fac=function(y){return new(y||_)(c.Y36(_i),c.Y36(Qn),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq))},_.\u0275dir=c.lG2({type:_,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(y,T){1&y&&c.NdJ("click",function(){return T.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[c.TTD]}),_})();class $i{}let ms=(()=>{class _{constructor(y,T,P,K,le){this.router=y,this.injector=P,this.preloadingStrategy=K,this.loader=le}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ot.h)(y=>y instanceof eo),_t(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(y,T){const P=[];for(const K of T){K.providers&&!K._injector&&(K._injector=(0,c.MMx)(K.providers,y,`Route: ${K.path}`));const le=K._injector??y,ye=K._loadedInjector??le;K.loadChildren&&!K._loadedRoutes&&void 0===K.canLoad||K.loadComponent&&!K._loadedComponent?P.push(this.preloadConfig(le,K)):(K.children||K._loadedRoutes)&&P.push(this.processRoutes(ye,K.children??K._loadedRoutes))}return(0,F.D)(P).pipe((0,cr.J)())}preloadConfig(y,T){return this.preloadingStrategy.preload(T,()=>{let P;P=T.loadChildren&&void 0===T.canLoad?this.loader.loadChildren(y,T):(0,H.of)(null);const K=P.pipe((0,Wt.z)(le=>null===le?(0,H.of)(void 0):(T._loadedRoutes=le.routes,T._loadedInjector=le.injector,this.processRoutes(le.injector??y,le.routes))));if(T.loadComponent&&!T._loadedComponent){const le=this.loader.loadComponent(T);return(0,F.D)([K,le]).pipe((0,cr.J)())}return K})}}return _.\u0275fac=function(y){return new(y||_)(c.LFG(_i),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG($i),c.LFG(Ys))},_.\u0275prov=c.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const ys=new c.OlP("");let oo=(()=>{class _{constructor(y,T,P={}){this.router=y,this.viewportScroller=T,this.options=P,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},P.scrollPositionRestoration=P.scrollPositionRestoration||"disabled",P.anchorScrolling=P.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(y=>{y instanceof ts?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=y.navigationTrigger,this.restoredId=y.restoredState?y.restoredState.navigationId:0):y instanceof eo&&(this.lastId=y.id,this.scheduleScrollEvent(y,this.router.parseUrl(y.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(y=>{y instanceof oa&&(y.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(y.position):y.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(y.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(y,T){this.router.triggerEvent(new oa(y,"popstate"===this.lastSource?this.store[this.restoredId]:null,T))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return _.\u0275fac=function(y){c.$Z()},_.\u0275prov=c.Yz7({token:_,factory:_.\u0275fac}),_})();function Ua(_,w){return{\u0275kind:_,\u0275providers:w}}function vs(_){return[{provide:zt,multi:!0,useValue:_}]}function Ho(){const _=(0,c.f3M)(c.zs3);return w=>{const y=_.get(c.z2F);if(w!==y.components[0])return;const T=_.get(_i),P=_.get($);1===_.get(m)&&T.initialNavigation(),_.get(te,null,c.XFs.Optional)?.setUpPreloading(),_.get(ys,null,c.XFs.Optional)?.init(),T.resetRootComponentType(y.componentTypes[0]),P.next(),P.complete()}}const $=new c.OlP("",{factory:()=>new we.x}),m=new c.OlP("",{providedIn:"root",factory:()=>1});const te=new c.OlP("");function be(_){return Ua(0,[{provide:te,useExisting:ms},{provide:$i,useExisting:_}])}const en=new c.OlP("ROUTER_FORROOT_GUARD"),un=[Oe.Ye,{provide:X,useClass:Ve},{provide:_i,useFactory:us},ei,{provide:Qn,useFactory:function Ka(_){return _.routerState.root},deps:[_i]},Ys];function _n(){return new c.PXZ("Router",_i)}let Fn=(()=>{class _{constructor(y){}static forRoot(y,T){return{ngModule:_,providers:[un,[],vs(y),{provide:en,useFactory:Nr,deps:[[_i,new c.FiY,new c.tp0]]},{provide:Qo,useValue:T||{}},T?.useHash?{provide:Oe.S$,useClass:Oe.Do}:{provide:Oe.S$,useClass:Oe.b0},{provide:ys,useFactory:()=>{const _=(0,c.f3M)(_i),w=(0,c.f3M)(Oe.EM),y=(0,c.f3M)(Qo);return y.scrollOffset&&w.setOffset(y.scrollOffset),new oo(_,w,y)}},T?.preloadingStrategy?be(T.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:_n},T?.initialNavigation?ni(T):[],[{provide:Si,useFactory:Ho},{provide:c.tb,multi:!0,useExisting:Si}]]}}static forChild(y){return{ngModule:_,providers:[vs(y)]}}}return _.\u0275fac=function(y){return new(y||_)(c.LFG(en,8))},_.\u0275mod=c.oAB({type:_}),_.\u0275inj=c.cJS({imports:[to]}),_})();function Nr(_){return"guarded"}function ni(_){return["disabled"===_.initialNavigation?Ua(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const w=(0,c.f3M)(_i);return()=>{w.setUpLocationChangeListener()}}},{provide:m,useValue:2}]).\u0275providers:[],"enabledBlocking"===_.initialNavigation?Ua(2,[{provide:m,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:w=>{const y=w.get(Oe.V_,Promise.resolve());let T=!1;return()=>y.then(()=>new Promise(K=>{const le=w.get(_i),ye=w.get($);(function P(K){w.get(_i).events.pipe((0,Ot.h)(ye=>ye instanceof eo||ye instanceof ns||ye instanceof Jr),(0,Be.U)(ye=>ye instanceof eo||ye instanceof ns&&(0===ye.code||1===ye.code)&&null),(0,Ot.h)(ye=>null!==ye),(0,wt.q)(1)).subscribe(()=>{K()})})(()=>{K(!0),T=!0}),le.afterPreactivation=()=>(K(!0),T||ye.closed?(0,H.of)(void 0):ye),le.initialNavigation()}))}}]).\u0275providers:[]]}const Si=new c.OlP("")},3942:(Jt,tt,U)=>{U.d(tt,{Z:()=>Je});var c=U(2090),F=U(4859),H=U(9681),we=U(1877);class ve{constructor(Ye,Ze){this._delegate=Ye,this.firebase=Ze,(0,H._addComponent)(Ye,new F.wA("app-compat",()=>this,"PUBLIC")),this.container=Ye.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ye){this._delegate.automaticDataCollectionEnabled=Ye}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ye=>{this._delegate.checkDestroyed(),Ye()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,H.deleteApp)(this._delegate)))}_getService(Ye,Ze=H._DEFAULT_ENTRY_NAME){var Dt;this._delegate.checkDestroyed();const Ct=this._delegate.container.getProvider(Ye);return!Ct.isInitialized()&&"EXPLICIT"===(null===(Dt=Ct.getComponent())||void 0===Dt?void 0:Dt.instantiationMode)&&Ct.initialize(),Ct.getImmediate({identifier:Ze})}_removeServiceInstance(Ye,Ze=H._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ye).clearInstance(Ze)}_addComponent(Ye){(0,H._addComponent)(this._delegate,Ye)}_addOrOverwriteComponent(Ye){(0,H._addOrOverwriteComponent)(this._delegate,Ye)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Me=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),se=function Ge(){const jt=function he(jt){const Ye={},Ze={__esModule:!0,initializeApp:function oe(Re,ze={}){const st=H.initializeApp(Re,ze);if((0,c.r3)(Ye,st.name))return Ye[st.name];const Te=new jt(st,Ze);return Ye[st.name]=Te,Te},app:Ct,registerVersion:H.registerVersion,setLogLevel:H.setLogLevel,onLog:H.onLog,apps:null,SDK_VERSION:H.SDK_VERSION,INTERNAL:{registerComponent:function Ke(Re){const ze=Re.name,st=ze.replace("-compat","");if(H._registerComponent(Re)&&"PUBLIC"===Re.type){const Te=(Oe=Ct())=>{if("function"!=typeof Oe[st])throw Me.create("invalid-app-argument",{appName:ze});return Oe[st]()};void 0!==Re.serviceProps&&(0,c.ZB)(Te,Re.serviceProps),Ze[st]=Te,jt.prototype[st]=function(...Oe){return this._getService.bind(this,ze).apply(this,Re.multipleInstances?Oe:[])}}return"PUBLIC"===Re.type?Ze[st]:null},removeApp:function Dt(Re){delete Ye[Re]},useAsService:function St(Re,ze){return"serverAuth"===ze?null:ze},modularAPIs:H}};function Ct(Re){if(!(0,c.r3)(Ye,Re=Re||H._DEFAULT_ENTRY_NAME))throw Me.create("no-app",{appName:Re});return Ye[Re]}return Ze.default=Ze,Object.defineProperty(Ze,"apps",{get:function Ae(){return Object.keys(Ye).map(Re=>Ye[Re])}}),Ct.App=jt,Ze}(ve);return jt.INTERNAL=Object.assign(Object.assign({},jt.INTERNAL),{createFirebaseNamespace:Ge,extendNamespace:function Ye(Ze){(0,c.ZB)(jt,Ze)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),jt}(),fe=new we.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){fe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const jt=self.firebase.SDK_VERSION;jt&&jt.indexOf("LITE")>=0&&fe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Je=se;!function ct(jt){(0,H.registerVersion)("@firebase/app-compat","0.1.34",jt)}()},9681:(Jt,tt,U)=>{U.r(tt),U.d(tt,{FirebaseError:()=>we.ZR,SDK_VERSION:()=>gr,_DEFAULT_ENTRY_NAME:()=>sn,_addComponent:()=>Xe,_addOrOverwriteComponent:()=>vt,_apps:()=>tn,_clearComponents:()=>mn,_components:()=>ln,_getProvider:()=>je,_registerComponent:()=>Se,_removeServiceInstance:()=>$t,deleteApp:()=>dr,getApp:()=>On,getApps:()=>Rr,initializeApp:()=>Xt,onLog:()=>wn,registerVersion:()=>An,setLogLevel:()=>qn});var c=U(5861),F=U(4859),H=U(1877),we=U(2090),ve=U(8766);class Pe{constructor(Ie){this.container=Ie}getPlatformInfoString(){return this.container.getProviders().map(ee=>{if(function Me(pe){return"VERSION"===pe.getComponent()?.type}(ee)){const j=ee.getImmediate();return`${j.library}/${j.version}`}return null}).filter(ee=>ee).join(" ")}}const he="@firebase/app",se=new H.Yd("@firebase/app"),sn="[DEFAULT]",_t={[he]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},tn=new Map,ln=new Map;function Xe(pe,Ie){try{pe.container.addComponent(Ie)}catch(ee){se.debug(`Component ${Ie.name} failed to register with FirebaseApp ${pe.name}`,ee)}}function vt(pe,Ie){pe.container.addOrOverwriteComponent(Ie)}function Se(pe){const Ie=pe.name;if(ln.has(Ie))return se.debug(`There were multiple attempts to register component ${Ie}.`),!1;ln.set(Ie,pe);for(const ee of tn.values())Xe(ee,pe);return!0}function je(pe,Ie){const ee=pe.container.getProvider("heartbeat").getImmediate({optional:!0});return ee&&ee.triggerHeartbeat(),pe.container.getProvider(Ie)}function $t(pe,Ie,ee=sn){je(pe,Ie).clearInstance(ee)}function mn(){ln.clear()}const $n=new we.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class cr{constructor(Ie,ee,j){this._isDeleted=!1,this._options=Object.assign({},Ie),this._config=Object.assign({},ee),this._name=ee.name,this._automaticDataCollectionEnabled=ee.automaticDataCollectionEnabled,this._container=j,this.container.addComponent(new F.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ie){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ie}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ie){this._isDeleted=Ie}checkDestroyed(){if(this.isDeleted)throw $n.create("app-deleted",{appName:this._name})}}const gr="9.10.0";function Xt(pe,Ie={}){"object"!=typeof Ie&&(Ie={name:Ie});const ee=Object.assign({name:sn,automaticDataCollectionEnabled:!1},Ie),j=ee.name;if("string"!=typeof j||!j)throw $n.create("bad-app-name",{appName:String(j)});const X=tn.get(j);if(X){if((0,we.vZ)(pe,X.options)&&(0,we.vZ)(ee,X.config))return X;throw $n.create("duplicate-app",{appName:j})}const Ve=new F.H0(j);for(const nn of ln.values())Ve.addComponent(nn);const It=new cr(pe,ee,Ve);return tn.set(j,It),It}function On(pe=sn){const Ie=tn.get(pe);if(!Ie)throw $n.create("no-app",{appName:pe});return Ie}function Rr(){return Array.from(tn.values())}function dr(pe){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,c.Z)(function*(pe){const Ie=pe.name;tn.has(Ie)&&(tn.delete(Ie),yield Promise.all(pe.container.getProviders().map(ee=>ee.delete())),pe.isDeleted=!0)})).apply(this,arguments)}function An(pe,Ie,ee){var j;let X=null!==(j=_t[pe])&&void 0!==j?j:pe;ee&&(X+=`-${ee}`);const Ve=X.match(/\s|\//),It=Ie.match(/\s|\//);if(Ve||It){const nn=[`Unable to register library "${X}" with version "${Ie}":`];return Ve&&nn.push(`library name "${X}" contains illegal characters (whitespace or "/")`),Ve&&It&&nn.push("and"),It&&nn.push(`version name "${Ie}" contains illegal characters (whitespace or "/")`),void se.warn(nn.join(" "))}Se(new F.wA(`${X}-version`,()=>({library:X,version:Ie}),"VERSION"))}function wn(pe,Ie){if(null!==pe&&"function"!=typeof pe)throw $n.create("invalid-log-argument");(0,H.Am)(pe,Ie)}function qn(pe){(0,H.Ub)(pe)}const Ir="firebase-heartbeat-store";let xn=null;function Bn(){return xn||(xn=(0,ve.X3)("firebase-heartbeat-database",1,{upgrade:(pe,Ie)=>{0===Ie&&pe.createObjectStore(Ir)}}).catch(pe=>{throw $n.create("idb-open",{originalErrorMessage:pe.message})})),xn}function cn(){return(cn=(0,c.Z)(function*(pe){var Ie;try{return(yield Bn()).transaction(Ir).objectStore(Ir).get(hr(pe))}catch(ee){if(ee instanceof we.ZR)se.warn(ee.message);else{const j=$n.create("idb-get",{originalErrorMessage:null===(Ie=ee)||void 0===Ie?void 0:Ie.message});se.warn(j.message)}}})).apply(this,arguments)}function bn(pe,Ie){return Or.apply(this,arguments)}function Or(){return(Or=(0,c.Z)(function*(pe,Ie){var ee;try{const X=(yield Bn()).transaction(Ir,"readwrite");return yield X.objectStore(Ir).put(Ie,hr(pe)),X.done}catch(j){if(j instanceof we.ZR)se.warn(j.message);else{const X=$n.create("idb-set",{originalErrorMessage:null===(ee=j)||void 0===ee?void 0:ee.message});se.warn(X.message)}}})).apply(this,arguments)}function hr(pe){return`${pe.name}!${pe.options.appId}`}class ii{constructor(Ie){this.container=Ie,this._heartbeatsCache=null;const ee=this.container.getProvider("app").getImmediate();this._storage=new Hn(ee),this._heartbeatsCachePromise=this._storage.read().then(j=>(this._heartbeatsCache=j,j))}triggerHeartbeat(){var Ie=this;return(0,c.Z)(function*(){const j=Ie.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),X=Mn();if(null===Ie._heartbeatsCache&&(Ie._heartbeatsCache=yield Ie._heartbeatsCachePromise),Ie._heartbeatsCache.lastSentHeartbeatDate!==X&&!Ie._heartbeatsCache.heartbeats.some(Ve=>Ve.date===X))return Ie._heartbeatsCache.heartbeats.push({date:X,agent:j}),Ie._heartbeatsCache.heartbeats=Ie._heartbeatsCache.heartbeats.filter(Ve=>{const It=new Date(Ve.date).valueOf();return Date.now()-It<=2592e6}),Ie._storage.overwrite(Ie._heartbeatsCache)})()}getHeartbeatsHeader(){var Ie=this;return(0,c.Z)(function*(){if(null===Ie._heartbeatsCache&&(yield Ie._heartbeatsCachePromise),null===Ie._heartbeatsCache||0===Ie._heartbeatsCache.heartbeats.length)return"";const ee=Mn(),{heartbeatsToSend:j,unsentEntries:X}=function pi(pe,Ie=1024){const ee=[];let j=pe.slice();for(const X of pe){const Ve=ee.find(It=>It.agent===X.agent);if(Ve){if(Ve.dates.push(X.date),Ne(ee)>Ie){Ve.dates.pop();break}}else if(ee.push({agent:X.agent,dates:[X.date]}),Ne(ee)>Ie){ee.pop();break}j=j.slice(1)}return{heartbeatsToSend:ee,unsentEntries:j}}(Ie._heartbeatsCache.heartbeats),Ve=(0,we.L)(JSON.stringify({version:2,heartbeats:j}));return Ie._heartbeatsCache.lastSentHeartbeatDate=ee,X.length>0?(Ie._heartbeatsCache.heartbeats=X,yield Ie._storage.overwrite(Ie._heartbeatsCache)):(Ie._heartbeatsCache.heartbeats=[],Ie._storage.overwrite(Ie._heartbeatsCache)),Ve})()}}function Mn(){return(new Date).toISOString().substring(0,10)}class Hn{constructor(Ie){this.app=Ie,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,we.hl)()&&(0,we.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ie=this;return(0,c.Z)(function*(){return(yield Ie._canUseIndexedDBPromise)&&(yield function on(pe){return cn.apply(this,arguments)}(Ie.app))||{heartbeats:[]}})()}overwrite(Ie){var ee=this;return(0,c.Z)(function*(){var j;if(yield ee._canUseIndexedDBPromise){const Ve=yield ee.read();return bn(ee.app,{lastSentHeartbeatDate:null!==(j=Ie.lastSentHeartbeatDate)&&void 0!==j?j:Ve.lastSentHeartbeatDate,heartbeats:Ie.heartbeats})}})()}add(Ie){var ee=this;return(0,c.Z)(function*(){var j;if(yield ee._canUseIndexedDBPromise){const Ve=yield ee.read();return bn(ee.app,{lastSentHeartbeatDate:null!==(j=Ie.lastSentHeartbeatDate)&&void 0!==j?j:Ve.lastSentHeartbeatDate,heartbeats:[...Ve.heartbeats,...Ie.heartbeats]})}})()}}function Ne(pe){return(0,we.L)(JSON.stringify({version:2,heartbeats:pe})).length}!function ce(pe){Se(new F.wA("platform-logger",Ie=>new Pe(Ie),"PRIVATE")),Se(new F.wA("heartbeat",Ie=>new ii(Ie),"PRIVATE")),An(he,"0.7.33",pe),An(he,"0.7.33","esm2017"),An("fire-js","")}("")},4859:(Jt,tt,U)=>{U.d(tt,{H0:()=>he,wA:()=>H});var c=U(5861),F=U(2090);class H{constructor(se,fe,xe){this.name=se,this.instanceFactory=fe,this.type=xe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(se){return this.instantiationMode=se,this}setMultipleInstances(se){return this.multipleInstances=se,this}setServiceProps(se){return this.serviceProps=se,this}setInstanceCreatedCallback(se){return this.onInstanceCreated=se,this}}const we="[DEFAULT]";class ve{constructor(se,fe){this.name=se,this.container=fe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(se){const fe=this.normalizeInstanceIdentifier(se);if(!this.instancesDeferred.has(fe)){const xe=new F.BH;if(this.instancesDeferred.set(fe,xe),this.isInitialized(fe)||this.shouldAutoInitialize())try{const ft=this.getOrInitializeService({instanceIdentifier:fe});ft&&xe.resolve(ft)}catch{}}return this.instancesDeferred.get(fe).promise}getImmediate(se){var fe;const xe=this.normalizeInstanceIdentifier(se?.identifier),ft=null!==(fe=se?.optional)&&void 0!==fe&&fe;if(!this.isInitialized(xe)&&!this.shouldAutoInitialize()){if(ft)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:xe})}catch(ct){if(ft)return null;throw ct}}getComponent(){return this.component}setComponent(se){if(se.name!==this.name)throw Error(`Mismatching Component ${se.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=se,this.shouldAutoInitialize()){if(function Me(Ge){return"EAGER"===Ge.instantiationMode}(se))try{this.getOrInitializeService({instanceIdentifier:we})}catch{}for(const[fe,xe]of this.instancesDeferred.entries()){const ft=this.normalizeInstanceIdentifier(fe);try{const ct=this.getOrInitializeService({instanceIdentifier:ft});xe.resolve(ct)}catch{}}}}clearInstance(se=we){this.instancesDeferred.delete(se),this.instancesOptions.delete(se),this.instances.delete(se)}delete(){var se=this;return(0,c.Z)(function*(){const fe=Array.from(se.instances.values());yield Promise.all([...fe.filter(xe=>"INTERNAL"in xe).map(xe=>xe.INTERNAL.delete()),...fe.filter(xe=>"_delete"in xe).map(xe=>xe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(se=we){return this.instances.has(se)}getOptions(se=we){return this.instancesOptions.get(se)||{}}initialize(se={}){const{options:fe={}}=se,xe=this.normalizeInstanceIdentifier(se.instanceIdentifier);if(this.isInitialized(xe))throw Error(`${this.name}(${xe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ft=this.getOrInitializeService({instanceIdentifier:xe,options:fe});for(const[ct,Je]of this.instancesDeferred.entries())xe===this.normalizeInstanceIdentifier(ct)&&Je.resolve(ft);return ft}onInit(se,fe){var xe;const ft=this.normalizeInstanceIdentifier(fe),ct=null!==(xe=this.onInitCallbacks.get(ft))&&void 0!==xe?xe:new Set;ct.add(se),this.onInitCallbacks.set(ft,ct);const Je=this.instances.get(ft);return Je&&se(Je,ft),()=>{ct.delete(se)}}invokeOnInitCallbacks(se,fe){const xe=this.onInitCallbacks.get(fe);if(xe)for(const ft of xe)try{ft(se,fe)}catch{}}getOrInitializeService({instanceIdentifier:se,options:fe={}}){let xe=this.instances.get(se);if(!xe&&this.component&&(xe=this.component.instanceFactory(this.container,{instanceIdentifier:(Ge=se,Ge===we?void 0:Ge),options:fe}),this.instances.set(se,xe),this.instancesOptions.set(se,fe),this.invokeOnInitCallbacks(xe,se),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,se,xe)}catch{}var Ge;return xe||null}normalizeInstanceIdentifier(se=we){return this.component?this.component.multipleInstances?se:we:se}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class he{constructor(se){this.name=se,this.providers=new Map}addComponent(se){const fe=this.getProvider(se.name);if(fe.isComponentSet())throw new Error(`Component ${se.name} has already been registered with ${this.name}`);fe.setComponent(se)}addOrOverwriteComponent(se){this.getProvider(se.name).isComponentSet()&&this.providers.delete(se.name),this.addComponent(se)}getProvider(se){if(this.providers.has(se))return this.providers.get(se);const fe=new ve(se,this);return this.providers.set(se,fe),fe}getProviders(){return Array.from(this.providers.values())}}},1877:(Jt,tt,U)=>{U.d(tt,{Am:()=>Ge,Ub:()=>he,Yd:()=>Me,in:()=>F});const c=[];var F=(()=>{return(se=F||(F={}))[se.DEBUG=0]="DEBUG",se[se.VERBOSE=1]="VERBOSE",se[se.INFO=2]="INFO",se[se.WARN=3]="WARN",se[se.ERROR=4]="ERROR",se[se.SILENT=5]="SILENT",F;var se})();const H={debug:F.DEBUG,verbose:F.VERBOSE,info:F.INFO,warn:F.WARN,error:F.ERROR,silent:F.SILENT},we=F.INFO,ve={[F.DEBUG]:"log",[F.VERBOSE]:"log",[F.INFO]:"info",[F.WARN]:"warn",[F.ERROR]:"error"},Pe=(se,fe,...xe)=>{if(fe<se.logLevel)return;const ft=(new Date).toISOString(),ct=ve[fe];if(!ct)throw new Error(`Attempted to log a message with an invalid logType (value: ${fe})`);console[ct](`[${ft}]  ${se.name}:`,...xe)};class Me{constructor(fe){this.name=fe,this._logLevel=we,this._logHandler=Pe,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(fe){if(!(fe in F))throw new TypeError(`Invalid value "${fe}" assigned to \`logLevel\``);this._logLevel=fe}setLogLevel(fe){this._logLevel="string"==typeof fe?H[fe]:fe}get logHandler(){return this._logHandler}set logHandler(fe){if("function"!=typeof fe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=fe}get userLogHandler(){return this._userLogHandler}set userLogHandler(fe){this._userLogHandler=fe}debug(...fe){this._userLogHandler&&this._userLogHandler(this,F.DEBUG,...fe),this._logHandler(this,F.DEBUG,...fe)}log(...fe){this._userLogHandler&&this._userLogHandler(this,F.VERBOSE,...fe),this._logHandler(this,F.VERBOSE,...fe)}info(...fe){this._userLogHandler&&this._userLogHandler(this,F.INFO,...fe),this._logHandler(this,F.INFO,...fe)}warn(...fe){this._userLogHandler&&this._userLogHandler(this,F.WARN,...fe),this._logHandler(this,F.WARN,...fe)}error(...fe){this._userLogHandler&&this._userLogHandler(this,F.ERROR,...fe),this._logHandler(this,F.ERROR,...fe)}}function he(se){c.forEach(fe=>{fe.setLogLevel(se)})}function Ge(se,fe){for(const xe of c){let ft=null;fe&&fe.level&&(ft=H[fe.level]),xe.userLogHandler=null===se?null:(ct,Je,...jt)=>{const Ye=jt.map(Ze=>{if(null==Ze)return null;if("string"==typeof Ze)return Ze;if("number"==typeof Ze||"boolean"==typeof Ze)return Ze.toString();if(Ze instanceof Error)return Ze.message;try{return JSON.stringify(Ze)}catch{return null}}).filter(Ze=>Ze).join(" ");Je>=(ft??ct.logLevel)&&se({level:F[Je].toLowerCase(),message:Ye,args:jt,type:ct.name})}}}},8766:(Jt,tt,U)=>{U.d(tt,{Lj:()=>oe,X3:()=>Ct});var c=U(5861);let H,we;const Me=new WeakMap,he=new WeakMap,Ge=new WeakMap,se=new WeakMap,fe=new WeakMap;let ct={get(ze,st,Te){if(ze instanceof IDBTransaction){if("done"===st)return he.get(ze);if("objectStoreNames"===st)return ze.objectStoreNames||Ge.get(ze);if("store"===st)return Te.objectStoreNames[1]?void 0:Te.objectStore(Te.objectStoreNames[0])}return Ze(ze[st])},set:(ze,st,Te)=>(ze[st]=Te,!0),has:(ze,st)=>ze instanceof IDBTransaction&&("done"===st||"store"===st)||st in ze};function Ye(ze){return"function"==typeof ze?function jt(ze){return ze!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Pe(){return we||(we=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ze)?function(...st){return ze.apply(Dt(this),st),Ze(Me.get(this))}:function(...st){return Ze(ze.apply(Dt(this),st))}:function(st,...Te){const Oe=ze.call(Dt(this),st,...Te);return Ge.set(Oe,st.sort?st.sort():[st]),Ze(Oe)}}(ze):(ze instanceof IDBTransaction&&function ft(ze){if(he.has(ze))return;const st=new Promise((Te,Oe)=>{const Be=()=>{ze.removeEventListener("complete",$e),ze.removeEventListener("error",wt),ze.removeEventListener("abort",wt)},$e=()=>{Te(),Be()},wt=()=>{Oe(ze.error||new DOMException("AbortError","AbortError")),Be()};ze.addEventListener("complete",$e),ze.addEventListener("error",wt),ze.addEventListener("abort",wt)});he.set(ze,st)}(ze),((ze,st)=>st.some(Te=>ze instanceof Te))(ze,function ve(){return H||(H=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ze,ct):ze)}function Ze(ze){if(ze instanceof IDBRequest)return function xe(ze){const st=new Promise((Te,Oe)=>{const Be=()=>{ze.removeEventListener("success",$e),ze.removeEventListener("error",wt)},$e=()=>{Te(Ze(ze.result)),Be()},wt=()=>{Oe(ze.error),Be()};ze.addEventListener("success",$e),ze.addEventListener("error",wt)});return st.then(Te=>{Te instanceof IDBCursor&&Me.set(Te,ze)}).catch(()=>{}),fe.set(st,ze),st}(ze);if(se.has(ze))return se.get(ze);const st=Ye(ze);return st!==ze&&(se.set(ze,st),fe.set(st,ze)),st}const Dt=ze=>fe.get(ze);function Ct(ze,st,{blocked:Te,upgrade:Oe,blocking:Be,terminated:$e}={}){const wt=indexedDB.open(ze,st),xt=Ze(wt);return Oe&&wt.addEventListener("upgradeneeded",Ot=>{Oe(Ze(wt.result),Ot.oldVersion,Ot.newVersion,Ze(wt.transaction))}),Te&&wt.addEventListener("blocked",()=>Te()),xt.then(Ot=>{$e&&Ot.addEventListener("close",()=>$e()),Be&&Ot.addEventListener("versionchange",()=>Be())}).catch(()=>{}),xt}function oe(ze,{blocked:st}={}){const Te=indexedDB.deleteDatabase(ze);return st&&Te.addEventListener("blocked",()=>st()),Ze(Te).then(()=>{})}const Ae=["get","getKey","getAll","getAllKeys","count"],Ke=["put","add","delete","clear"],St=new Map;function Re(ze,st){if(!(ze instanceof IDBDatabase)||st in ze||"string"!=typeof st)return;if(St.get(st))return St.get(st);const Te=st.replace(/FromIndex$/,""),Oe=st!==Te,Be=Ke.includes(Te);if(!(Te in(Oe?IDBIndex:IDBObjectStore).prototype)||!Be&&!Ae.includes(Te))return;const $e=function(){var wt=(0,c.Z)(function*(xt,...Ot){const Wt=this.transaction(xt,Be?"readwrite":"readonly");let sn=Wt.store;return Oe&&(sn=sn.index(Ot.shift())),(yield Promise.all([sn[Te](...Ot),Be&&Wt.done]))[0]});return function(Ot){return wt.apply(this,arguments)}}();return St.set(st,$e),$e}!function Je(ze){ct=ze(ct)}(ze=>({...ze,get:(st,Te,Oe)=>Re(st,Te)||ze.get(st,Te,Oe),has:(st,Te)=>!!Re(st,Te)||ze.has(st,Te)}))},7185:(Jt,tt,U)=>{U.d(tt,{Rh:()=>Wt,_W:()=>wt});var c=U(4650),F=U(7340),H=U(7579),we=U(6895),ve=U(1481);const Pe=["toast-component",""];function Me(Xe,vt){if(1&Xe){const Se=c.EpF();c.TgZ(0,"button",5),c.NdJ("click",function(){c.CHM(Se);const $t=c.oxw();return c.KtG($t.remove())}),c.TgZ(1,"span",6),c._uU(2,"\xd7"),c.qZA()()}}function he(Xe,vt){if(1&Xe&&(c.ynx(0),c._uU(1),c.BQk()),2&Xe){const Se=c.oxw(2);c.xp6(1),c.hij("[",Se.duplicatesCount+1,"]")}}function Ge(Xe,vt){if(1&Xe&&(c.TgZ(0,"div"),c._uU(1),c.YNc(2,he,2,1,"ng-container",4),c.qZA()),2&Xe){const Se=c.oxw();c.Tol(Se.options.titleClass),c.uIk("aria-label",Se.title),c.xp6(1),c.hij(" ",Se.title," "),c.xp6(1),c.Q6J("ngIf",Se.duplicatesCount)}}function se(Xe,vt){if(1&Xe&&c._UZ(0,"div",7),2&Xe){const Se=c.oxw();c.Tol(Se.options.messageClass),c.Q6J("innerHTML",Se.message,c.oJD)}}function fe(Xe,vt){if(1&Xe&&(c.TgZ(0,"div",8),c._uU(1),c.qZA()),2&Xe){const Se=c.oxw();c.Tol(Se.options.messageClass),c.uIk("aria-label",Se.message),c.xp6(1),c.hij(" ",Se.message," ")}}function xe(Xe,vt){if(1&Xe&&(c.TgZ(0,"div"),c._UZ(1,"div",9),c.qZA()),2&Xe){const Se=c.oxw();c.xp6(1),c.Udp("width",Se.width+"%")}}class oe{constructor(vt,Se){this.component=vt,this.injector=Se}attach(vt,Se){return this._attachedHost=vt,vt.attach(this,Se)}detach(){const vt=this._attachedHost;if(vt)return this._attachedHost=void 0,vt.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(vt){this._attachedHost=vt}}class Ke{constructor(vt,Se,je,$t,mn,Yn){this.toastId=vt,this.config=Se,this.message=je,this.title=$t,this.toastType=mn,this.toastRef=Yn,this._onTap=new H.x,this._onAction=new H.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(vt){this._onAction.next(vt)}onAction(){return this._onAction.asObservable()}}const Re=new c.OlP("ToastConfig");class ze{constructor(vt){this._overlayRef=vt,this.duplicatesCount=0,this._afterClosed=new H.x,this._activate=new H.x,this._manualClose=new H.x,this._resetTimeout=new H.x,this._countDuplicate=new H.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(vt,Se){vt&&this._resetTimeout.next(),Se&&this._countDuplicate.next(++this.duplicatesCount)}}class st{constructor(vt,Se){this._toastPackage=vt,this._parentInjector=Se}get(vt,Se,je){return vt===Ke?this._toastPackage:this._parentInjector.get(vt,Se,je)}}class Te extends class Ae{attach(vt,Se){return this._attachedPortal=vt,this.attachComponentPortal(vt,Se)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(vt){this._disposeFn=vt}}{constructor(vt,Se,je){super(),this._hostDomElement=vt,this._componentFactoryResolver=Se,this._appRef=je}attachComponentPortal(vt,Se){const je=this._componentFactoryResolver.resolveComponentFactory(vt.component);let $t;return $t=je.create(vt.injector),this._appRef.attachView($t.hostView),this.setDisposeFn(()=>{this._appRef.detachView($t.hostView),$t.destroy()}),Se?this._hostDomElement.insertBefore(this._getComponentRootNode($t),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode($t)),$t}_getComponentRootNode(vt){return vt.hostView.rootNodes[0]}}class Oe{constructor(vt){this._portalHost=vt}attach(vt,Se=!0){return this._portalHost.attach(vt,Se)}detach(){return this._portalHost.detach()}}let Be=(()=>{class Xe{constructor(Se){this._document=Se}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Se=this._document.createElement("div");Se.classList.add("overlay-container"),Se.setAttribute("aria-live","polite"),this._document.body.appendChild(Se),this._containerElement=Se}}return Xe.\u0275fac=function(Se){return new(Se||Xe)(c.LFG(we.K0))},Xe.\u0275prov=c.Yz7({token:Xe,factory:Xe.\u0275fac,providedIn:"root"}),Xe})(),$e=(()=>{class Xe{constructor(Se,je,$t,mn){this._overlayContainer=Se,this._componentFactoryResolver=je,this._appRef=$t,this._document=mn,this._paneElements=new Map}create(Se,je){return this._createOverlayRef(this.getPaneElement(Se,je))}getPaneElement(Se="",je){return this._paneElements.get(je)||this._paneElements.set(je,{}),this._paneElements.get(je)[Se]||(this._paneElements.get(je)[Se]=this._createPaneElement(Se,je)),this._paneElements.get(je)[Se]}_createPaneElement(Se,je){const $t=this._document.createElement("div");return $t.id="toast-container",$t.classList.add(Se),$t.classList.add("toast-container"),je?je.getContainerElement().appendChild($t):this._overlayContainer.getContainerElement().appendChild($t),$t}_createPortalHost(Se){return new Te(Se,this._componentFactoryResolver,this._appRef)}_createOverlayRef(Se){return new Oe(this._createPortalHost(Se))}}return Xe.\u0275fac=function(Se){return new(Se||Xe)(c.LFG(Be),c.LFG(c._Vd),c.LFG(c.z2F),c.LFG(we.K0))},Xe.\u0275prov=c.Yz7({token:Xe,factory:Xe.\u0275fac,providedIn:"root"}),Xe})(),wt=(()=>{class Xe{constructor(Se,je,$t,mn,Yn){this.overlay=je,this._injector=$t,this.sanitizer=mn,this.ngZone=Yn,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...Se.default,...Se.config},Se.config.iconClasses&&(this.toastrConfig.iconClasses={...Se.default.iconClasses,...Se.config.iconClasses})}show(Se,je,$t={},mn=""){return this._preBuildNotification(mn,Se,je,this.applyConfig($t))}success(Se,je,$t={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",Se,je,this.applyConfig($t))}error(Se,je,$t={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",Se,je,this.applyConfig($t))}info(Se,je,$t={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",Se,je,this.applyConfig($t))}warning(Se,je,$t={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",Se,je,this.applyConfig($t))}clear(Se){for(const je of this.toasts)if(void 0!==Se){if(je.toastId===Se)return void je.toastRef.manualClose()}else je.toastRef.manualClose()}remove(Se){const je=this._findToast(Se);if(!je||(je.activeToast.toastRef.close(),this.toasts.splice(je.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const $t=this.toasts[this.currentlyActive].toastRef;$t.isInactive()||(this.currentlyActive=this.currentlyActive+1,$t.activate())}return!0}findDuplicate(Se="",je="",$t,mn){const{includeTitleDuplicates:Yn}=this.toastrConfig;for(const $n of this.toasts){const cr=Yn&&$n.title===Se;if((!Yn||cr)&&$n.message===je)return $n.toastRef.onDuplicate($t,mn),$n}return null}applyConfig(Se={}){return{...this.toastrConfig,...Se}}_findToast(Se){for(let je=0;je<this.toasts.length;je++)if(this.toasts[je].toastId===Se)return{index:je,activeToast:this.toasts[je]};return null}_preBuildNotification(Se,je,$t,mn){return mn.onActivateTick?this.ngZone.run(()=>this._buildNotification(Se,je,$t,mn)):this._buildNotification(Se,je,$t,mn)}_buildNotification(Se,je,$t,mn){if(!mn.toastComponent)throw new Error("toastComponent required");const Yn=this.findDuplicate($t,je,this.toastrConfig.resetTimeoutOnDuplicate&&mn.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&$t||je)&&this.toastrConfig.preventDuplicates&&null!==Yn)return Yn;this.previousToastMessage=je;let $n=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&($n=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const cr=this.overlay.create(mn.positionClass,this.overlayContainer);this.index=this.index+1;let gr=je;je&&mn.enableHtml&&(gr=this.sanitizer.sanitize(c.q3G.HTML,je));const Xt=new ze(cr),On=new Ke(this.index,mn,gr,$t,Se,Xt),Rr=new st(On,this._injector),dr=new oe(mn.toastComponent,Rr),Ft=cr.attach(dr,this.toastrConfig.newestOnTop);Xt.componentInstance=Ft.instance;const An={toastId:this.index,title:$t||"",message:je||"",toastRef:Xt,onShown:Xt.afterActivate(),onHidden:Xt.afterClosed(),onTap:On.onTap(),onAction:On.onAction(),portal:Ft};return $n||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{An.toastRef.activate()})),this.toasts.push(An),An}}return Xe.\u0275fac=function(Se){return new(Se||Xe)(c.LFG(Re),c.LFG($e),c.LFG(c.zs3),c.LFG(ve.H7),c.LFG(c.R0b))},Xe.\u0275prov=c.Yz7({token:Xe,factory:Xe.\u0275fac,providedIn:"root"}),Xe})();const Ot={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class Xe{constructor(Se,je,$t){this.toastrService=Se,this.toastPackage=je,this.ngZone=$t,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=je.message,this.title=je.title,this.options=je.config,this.originalTimeout=je.config.timeOut,this.toastClasses=`${je.toastType} ${je.config.toastClass}`,this.sub=je.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=je.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=je.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=je.toastRef.countDuplicate().subscribe(mn=>{this.duplicatesCount=mn})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const Se=(new Date).getTime();this.width=(this.hideTime-Se)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(Se,je){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(Se),je)):this.timeout=setTimeout(()=>Se(),je)}outsideInterval(Se,je){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(Se),je)):this.intervalId=setInterval(()=>Se(),je)}runInsideAngular(Se){this.ngZone?this.ngZone.run(()=>Se()):Se()}}return Xe.\u0275fac=function(Se){return new(Se||Xe)(c.Y36(wt),c.Y36(Ke),c.Y36(c.R0b))},Xe.\u0275cmp=c.Xpm({type:Xe,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(Se,je){1&Se&&c.NdJ("click",function(){return je.tapToast()})("mouseenter",function(){return je.stickAround()})("mouseleave",function(){return je.delayedHideToast()}),2&Se&&(c.d8E("@flyInOut",je.state),c.Tol(je.toastClasses),c.Udp("display",je.displayStyle))},attrs:Pe,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(Se,je){1&Se&&(c.YNc(0,Me,3,0,"button",0),c.YNc(1,Ge,3,5,"div",1),c.YNc(2,se,1,3,"div",2),c.YNc(3,fe,2,4,"div",3),c.YNc(4,xe,2,2,"div",4)),2&Se&&(c.Q6J("ngIf",je.options.closeButton),c.xp6(1),c.Q6J("ngIf",je.title),c.xp6(1),c.Q6J("ngIf",je.message&&je.options.enableHtml),c.xp6(1),c.Q6J("ngIf",je.message&&!je.options.enableHtml),c.xp6(1),c.Q6J("ngIf",je.options.progressBar))},dependencies:[we.O5],encapsulation:2,data:{animation:[(0,F.X$)("flyInOut",[(0,F.SB)("inactive",(0,F.oB)({opacity:0})),(0,F.SB)("active",(0,F.oB)({opacity:1})),(0,F.SB)("removed",(0,F.oB)({opacity:0})),(0,F.eR)("inactive => active",(0,F.jt)("{{ easeTime }}ms {{ easing }}")),(0,F.eR)("active => removed",(0,F.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),Xe})()};let Wt=(()=>{class Xe{static forRoot(Se={}){return{ngModule:Xe,providers:[{provide:Re,useValue:{default:Ot,config:Se}}]}}}return Xe.\u0275fac=function(Se){return new(Se||Xe)},Xe.\u0275mod=c.oAB({type:Xe}),Xe.\u0275inj=c.cJS({imports:[we.ez]}),Xe})()},5861:(Jt,tt,U)=>{function c(H,we,ve,Pe,Me,he,Ge){try{var se=H[he](Ge),fe=se.value}catch(xe){return void ve(xe)}se.done?we(fe):Promise.resolve(fe).then(Pe,Me)}function F(H){return function(){var we=this,ve=arguments;return new Promise(function(Pe,Me){var he=H.apply(we,ve);function Ge(fe){c(he,Pe,Me,Ge,se,"next",fe)}function se(fe){c(he,Pe,Me,Ge,se,"throw",fe)}Ge(void 0)})}}U.d(tt,{Z:()=>F})}},Jt=>{Jt(Jt.s=3991)}]);