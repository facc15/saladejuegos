"use strict";(self.webpackChunksaladejuegos=self.webpackChunksaladejuegos||[]).push([[179],{7128:(nn,ot,V)=>{V.d(ot,{nm:()=>oi});var c=V(5813),ve=(V(4650),V(3692),V(5867),V(5861)),Ve=V(9681),Pe=V(4859),ce=V(2090),Ye=V(1877);const re=new Map,ge={activated:!1,tokenObservers:[]},ke={initialized:!1,enabled:!1};function vt(Ze){return re.get(Ze)||ge}function _t(Ze,Be){re.set(Ze,Be)}function nt(){return ke}class Ae{constructor(Be,it,Mt,Bt,un){if(this.operation=Be,this.retryPolicy=it,this.getWaitDuration=Mt,this.lowerBound=Bt,this.upperBound=un,this.pending=null,this.nextErrorWaitInterval=Bt,Bt>un)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Be){var it=this;return(0,ve.Z)(function*(){it.stop();try{it.pending=new ce.BH,yield function Xe(Ze){return new Promise(Be=>{setTimeout(Be,Ze)})}(it.getNextRun(Be)),it.pending.resolve(),yield it.pending.promise,it.pending=new ce.BH,yield it.operation(),it.pending.resolve(),yield it.pending.promise,it.process(!0).catch(()=>{})}catch(Mt){it.retryPolicy(Mt)?it.process(!1).catch(()=>{}):it.stop()}})()}getNextRun(Be){if(Be)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const it=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),it}}}const Fe=new ce.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Je(Ze){if(!vt(Ze).activated)throw Fe.create("use-before-activation",{appName:Ze.name})}function $e(Ze,Be){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,ve.Z)(function*({url:Ze,body:Be},it){var Mt,Bt;const un={"Content-Type":"application/json"},Kn=it.getImmediate({optional:!0});if(Kn){const Ei=yield Kn.getHeartbeatsHeader();Ei&&(un["X-Firebase-Client"]=Ei)}const Rr={method:"POST",body:JSON.stringify(Be),headers:un};let ir,ar;try{ir=yield fetch(Ze,Rr)}catch(Ei){throw Fe.create("fetch-network-error",{originalErrorMessage:null===(Mt=Ei)||void 0===Mt?void 0:Mt.message})}if(200!==ir.status)throw Fe.create("fetch-status-error",{httpStatus:ir.status});try{ar=yield ir.json()}catch(Ei){throw Fe.create("fetch-parse-error",{originalErrorMessage:null===(Bt=Ei)||void 0===Bt?void 0:Bt.message})}const Ki=ar.ttl.match(/^([\d.]+)(s)$/);if(!Ki||!Ki[2]||isNaN(Number(Ki[1])))throw Fe.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${ar.ttl}`});const cs=1e3*Number(Ki[1]),Ai=Date.now();return{token:ar.token,expireTimeMillis:Ai+cs,issuedAtTimeMillis:Ai}})).apply(this,arguments)}function kt(Ze,Be){const{projectId:it,appId:Mt,apiKey:Bt}=Ze.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${it}/apps/${Mt}:exchangeDebugToken?key=${Bt}`,body:{debug_token:Be}}}const Ct="firebase-app-check-store";let dn=null;function st(){return dn||(dn=new Promise((Ze,Be)=>{var it;try{const Mt=indexedDB.open("firebase-app-check-database",1);Mt.onsuccess=Bt=>{Ze(Bt.target.result)},Mt.onerror=Bt=>{var un;Be(Fe.create("storage-open",{originalErrorMessage:null===(un=Bt.target.error)||void 0===un?void 0:un.message}))},Mt.onupgradeneeded=Bt=>{0===Bt.oldVersion&&Bt.target.result.createObjectStore(Ct,{keyPath:"compositeKey"})}}catch(Mt){Be(Fe.create("storage-open",{originalErrorMessage:null===(it=Mt)||void 0===it?void 0:it.message}))}}),dn)}function Wn(){return(Wn=(0,ve.Z)(function*(Ze,Be){const Mt=(yield st()).transaction(Ct,"readwrite"),un=Mt.objectStore(Ct).put({compositeKey:Ze,value:Be});return new Promise((Kn,Rr)=>{un.onsuccess=ir=>{Kn()},Mt.onerror=ir=>{var ar;Rr(Fe.create("storage-set",{originalErrorMessage:null===(ar=ir.target.error)||void 0===ar?void 0:ar.message}))}})})).apply(this,arguments)}const tn=new Ye.Yd("@firebase/app-check");function Jn(Ze,Be){return(0,ce.hl)()?function Re(Ze,Be){return function yn(Ze,Be){return Wn.apply(this,arguments)}(function rr(Ze){return`${Ze.options.appId}-${Ze.name}`}(Ze),Be)}(Ze,Be).catch(it=>{tn.warn(`Failed to write token to IndexedDB. Error: ${it}`)}):Promise.resolve()}function xn(){return nt().enabled}function zn(){return Er.apply(this,arguments)}function Er(){return(Er=(0,ve.Z)(function*(){const Ze=nt();if(Ze.enabled&&Ze.token)return Ze.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const mr={error:"UNKNOWN_ERROR"};function rt(Ze){return ce.US.encodeString(JSON.stringify(Ze),!1)}function we(Ze){return pe.apply(this,arguments)}function pe(){return(pe=(0,ve.Z)(function*(Ze,Be=!1){const it=Ze.app;Je(it);const Mt=vt(it);let un,Bt=Mt.token;if(!Bt){const ir=yield Mt.cachedTokenPromise;ir&&Wt(ir)&&(Bt=ir)}if(!Be&&Bt&&Wt(Bt))return{token:Bt.token};let Rr,Kn=!1;if(xn()){Mt.exchangeTokenPromise||(Mt.exchangeTokenPromise=$e(kt(it,yield zn()),Ze.heartbeatServiceProvider).then(ar=>(Mt.exchangeTokenPromise=void 0,ar)),Kn=!0);const ir=yield Mt.exchangeTokenPromise;return yield Jn(it,ir),_t(it,Object.assign(Object.assign({},Mt),{token:ir})),{token:ir.token}}try{Mt.exchangeTokenPromise||(Mt.exchangeTokenPromise=Mt.provider.getToken().then(ir=>(Mt.exchangeTokenPromise=void 0,ir)),Kn=!0),Bt=yield Mt.exchangeTokenPromise}catch(ir){"appCheck/throttled"===ir.code?tn.warn(ir.message):tn.error(ir),un=ir}return Bt?(Rr={token:Bt.token},_t(it,Object.assign(Object.assign({},Mt),{token:Bt})),yield Jn(it,Bt)):Rr=Zn(un),Kn&&$n(it,Rr),Rr})).apply(this,arguments)}function ht(Ze,Be){const it=vt(Ze),Mt=it.tokenObservers.filter(Bt=>Bt.next!==Be);0===Mt.length&&it.tokenRefresher&&it.tokenRefresher.isRunning()&&it.tokenRefresher.stop(),_t(Ze,Object.assign(Object.assign({},it),{tokenObservers:Mt}))}function Jt(Ze){const{app:Be}=Ze,it=vt(Be);let Mt=it.tokenRefresher;Mt||(Mt=function An(Ze){const{app:Be}=Ze;return new Ae((0,ve.Z)(function*(){let Mt;if(Mt=vt(Be).token?yield we(Ze,!0):yield we(Ze),Mt.error)throw Mt.error}),()=>!0,()=>{const it=vt(Be);if(it.token){let Mt=it.token.issuedAtTimeMillis+.5*(it.token.expireTimeMillis-it.token.issuedAtTimeMillis)+3e5;return Mt=Math.min(Mt,it.token.expireTimeMillis-3e5),Math.max(0,Mt-Date.now())}return 0},3e4,96e4)}(Ze),_t(Be,Object.assign(Object.assign({},it),{tokenRefresher:Mt}))),!Mt.isRunning()&&it.isTokenAutoRefreshEnabled&&Mt.start()}function $n(Ze,Be){const it=vt(Ze).tokenObservers;for(const Mt of it)try{"EXTERNAL"===Mt.type&&null!=Be.error?Mt.error(Be.error):Mt.next(Be)}catch{}}function Wt(Ze){return Ze.expireTimeMillis-Date.now()>0}function Zn(Ze){return{token:rt(mr),error:Ze}}class Mn{constructor(Be,it){this.app=Be,this.heartbeatServiceProvider=it}_delete(){const{tokenObservers:Be}=vt(this.app);for(const it of Be)ht(this.app,it.next);return Promise.resolve()}}const In="app-check-internal";!function dr(){(0,Ve._registerComponent)(new Pe.wA("app-check",Ze=>function Nr(Ze,Be){return new Mn(Ze,Be)}(Ze.getProvider("app").getImmediate(),Ze.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Ze,Be,it)=>{Ze.getProvider(In).initialize()})),(0,Ve._registerComponent)(new Pe.wA(In,Ze=>function Nn(Ze){return{getToken:Be=>we(Ze,Be),addTokenListener:Be=>function lt(Ze,Be,it,Mt){const{app:Bt}=Ze,un=vt(Bt),Kn={next:it,error:Mt,type:Be};if(_t(Bt,Object.assign(Object.assign({},un),{tokenObservers:[...un.tokenObservers,Kn]})),un.token&&Wt(un.token)){const Rr=un.token;Promise.resolve().then(()=>{it({token:Rr.token}),Jt(Ze)}).catch(()=>{})}un.cachedTokenPromise.then(()=>Jt(Ze))}(Ze,"INTERNAL",Be),removeTokenListener:Be=>ht(Ze.app,Be)}}(Ze.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ve.registerVersion)("@firebase/app-check","0.5.12")}();class oi{constructor(){return(0,c.vb)("app-check")}}typeof window<"u"&&window},3692:(nn,ot,V)=>{V.d(ot,{Ot:()=>H}),V(5867),V(4650);class H{constructor(ae){return ae}}},1205:(nn,ot,V)=>{V.d(ot,{zQ:()=>Tt,rT:()=>xe,f7:()=>$e,L6:()=>We,_Q:()=>Je,lh:()=>Le,Qv:()=>Fe,nw:()=>Ke});var c=V(4650),k=V(7579),H=V(9646),Te=V(9751),ve=V(8996),Ve=V(6451),Pe=V(5363),ce=V(3900),Ye=V(4004),re=V(6063);class ge extends k.x{constructor(Yt=1/0,an=1/0,Ct=re.l){super(),this._bufferSize=Yt,this._windowTime=an,this._timestampProvider=Ct,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=an===1/0,this._bufferSize=Math.max(1,Yt),this._windowTime=Math.max(1,an)}next(Yt){const{isStopped:an,_buffer:Ct,_infiniteTimeWindow:sn,_timestampProvider:dn,_windowTime:st}=this;an||(Ct.push(Yt),!sn&&Ct.push(dn.now()+st)),this._trimBuffer(),super.next(Yt)}_subscribe(Yt){this._throwIfClosed(),this._trimBuffer();const an=this._innerSubscribe(Yt),{_infiniteTimeWindow:Ct,_buffer:sn}=this,dn=sn.slice();for(let st=0;st<dn.length&&!Yt.closed;st+=Ct?1:2)Yt.next(dn[st]);return this._checkFinalizedStatuses(Yt),an}_trimBuffer(){const{_bufferSize:Yt,_timestampProvider:an,_buffer:Ct,_infiniteTimeWindow:sn}=this,dn=(sn?1:2)*Yt;if(Yt<1/0&&dn<Ct.length&&Ct.splice(0,Ct.length-dn),!sn){const st=an.now();let Dt=0;for(let Re=1;Re<Ct.length&&Ct[Re]<=st;Re+=2)Dt=Re;Dt&&Ct.splice(0,Dt+1)}}}var ke=V(3099);function vt(kt,Yt,an){let Ct,sn=!1;return kt&&"object"==typeof kt?({bufferSize:Ct=1/0,windowTime:Yt=1/0,refCount:sn=!1,scheduler:an}=kt):Ct=kt??1/0,(0,ke.B)({connector:()=>new ge(Ct,Yt,an),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:sn})}var _t=V(590),nt=V(576);function Ht(kt,Yt){return(0,nt.m)(Yt)?(0,ce.w)(()=>kt,Yt):(0,ce.w)(()=>kt)}var ut=V(9468),He=V(9300),bt=V(5813),ft=V(2011),ae=V(6895),Ae=V(7128);V(127);const Fe=new c.OlP("angularfire2.auth.use-emulator"),We=new c.OlP("angularfire2.auth.settings"),Je=new c.OlP("angularfire2.auth.tenant-id"),xe=new c.OlP("angularfire2.auth.langugage-code"),Le=new c.OlP("angularfire2.auth.use-device-language"),$e=new c.OlP("angularfire.auth.persistence"),Ke=(kt,Yt,an,Ct,sn,dn,st,Dt)=>(0,ft.cc)(`${kt.name}.auth`,"AngularFireAuth",kt.name,()=>{const Re=Yt.runOutsideAngular(()=>kt.auth());if(an&&Re.useEmulator(...an),Ct&&(Re.tenantId=Ct),Re.languageCode=sn,dn&&Re.useDeviceLanguage(),st)for(const[qe,Zt]of Object.entries(st))Re.settings[qe]=Zt;return Dt&&Re.setPersistence(Dt),Re},[an,Ct,sn,dn,st,Dt]);let Tt=(()=>{class kt{constructor(an,Ct,sn,dn,st,Dt,Re,qe,Zt,yn,Wn,Un){const nr=new k.x,rr=(0,H.of)(void 0).pipe((0,Pe.Q)(st.outsideAngular),(0,ce.w)(()=>dn.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,5881)))),(0,Ye.U)(()=>(0,ft.on)(an,dn,Ct)),(0,Ye.U)(tn=>Ke(tn,dn,Dt,qe,Zt,yn,Re,Wn)),vt({bufferSize:1,refCount:!1}));if((0,ae.PM)(sn))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,H.of)(null);else{rr.pipe((0,_t.P)()).subscribe();const On=rr.pipe((0,ce.w)(jt=>jt.getRedirectResult().then(Pn=>Pn,()=>null)),bt.iC,vt({bufferSize:1,refCount:!1})),Dr=rr.pipe((0,ce.w)(jt=>new Te.y(Pn=>({unsubscribe:dn.runOutsideAngular(()=>jt.onAuthStateChanged(xn=>Pn.next(xn),xn=>Pn.error(xn),()=>Pn.complete()))})))),Jn=rr.pipe((0,ce.w)(jt=>new Te.y(Pn=>({unsubscribe:dn.runOutsideAngular(()=>jt.onIdTokenChanged(xn=>Pn.next(xn),xn=>Pn.error(xn),()=>Pn.complete()))}))));this.authState=On.pipe(Ht(Dr),(0,ut.R)(st.outsideAngular),(0,Pe.Q)(st.insideAngular)),this.user=On.pipe(Ht(Jn),(0,ut.R)(st.outsideAngular),(0,Pe.Q)(st.insideAngular)),this.idToken=this.user.pipe((0,ce.w)(jt=>jt?(0,ve.D)(jt.getIdToken()):(0,H.of)(null))),this.idTokenResult=this.user.pipe((0,ce.w)(jt=>jt?(0,ve.D)(jt.getIdTokenResult()):(0,H.of)(null))),this.credential=(0,Ve.T)(On,nr,this.authState.pipe((0,He.h)(jt=>!jt))).pipe((0,Ye.U)(jt=>jt?.user?jt:null),(0,ut.R)(st.outsideAngular),(0,Pe.Q)(st.insideAngular))}return(0,ft.pX)(this,rr,dn,{spy:{apply:(tn,On,Dr)=>{(tn.startsWith("signIn")||tn.startsWith("createUser"))&&Dr.then(Jn=>nr.next(Jn))}}})}}return kt.\u0275fac=function(an){return new(an||kt)(c.LFG(ft.Dh),c.LFG(ft.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(bt.HU),c.LFG(Fe,8),c.LFG(We,8),c.LFG(Je,8),c.LFG(xe,8),c.LFG(Le,8),c.LFG($e,8),c.LFG(Ae.nm,8))},kt.\u0275prov=c.Yz7({token:kt,factory:kt.\u0275fac,providedIn:"any"}),kt})()},1894:(nn,ot,V)=>{V.d(ot,{ST:()=>me,yb:()=>Me});var c=V(4650),k=V(4986),H=V(9751),Te=V(8996),ve=V(9646),Ve=V(5813),Pe=V(8675),ce=V(4482),Ye=V(5403);function re(){return(0,ce.e)((te,j)=>{let ee,Ge=!1;te.subscribe((0,Ye.x)(j,xt=>{const rn=ee;ee=xt,Ge&&j.next([rn,xt]),Ge=!0}))})}var ge=V(4004),ke=V(5026),vt=V(4671);function nt(te,j){return te===j}var Ht=V(9300),ut=V(2011),He=V(6895),ft=(V(5881),V(3942)),ae=V(5525),Ae=V(2090),Xe=V(4859);function We(te,j){if(void 0===j)return{merge:!1};if(void 0!==j.mergeFields&&void 0!==j.merge)throw new ae.WA("invalid-argument",`Invalid options passed to function ${te}(): You cannot specify both "merge" and "mergeFields".`);return j}function Je(){if(typeof Uint8Array>"u")throw new ae.WA("unimplemented","Uint8Arrays are not available in this environment.")}function xe(){if(!(0,ae.Me)())throw new ae.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Le{constructor(j){this._delegate=j}static fromBase64String(j){return xe(),new Le(ae.Jj.fromBase64String(j))}static fromUint8Array(j){return Je(),new Le(ae.Jj.fromUint8Array(j))}toBase64(){return xe(),this._delegate.toBase64()}toUint8Array(){return Je(),this._delegate.toUint8Array()}isEqual(j){return this._delegate.isEqual(j._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function $e(te){return function Ke(te,j){if("object"!=typeof te||null===te)return!1;const ee=te;for(const Ge of j)if(Ge in ee&&"function"==typeof ee[Ge])return!0;return!1}(te,["next","error","complete"])}class Tt{enableIndexedDbPersistence(j,ee){return(0,ae.ST)(j._delegate,{forceOwnership:ee})}enableMultiTabIndexedDbPersistence(j){return(0,ae.fH)(j._delegate)}clearIndexedDbPersistence(j){return(0,ae.Fc)(j._delegate)}}class Rt{constructor(j,ee,Ge){this._delegate=ee,this._persistenceProvider=Ge,this.INTERNAL={delete:()=>this.terminate()},j instanceof ae.l7||(this._appCompat=j)}get _databaseId(){return this._delegate._databaseId}settings(j){const ee=this._delegate._getSettings();!j.merge&&ee.host!==j.host&&(0,ae.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),j.merge&&delete(j=Object.assign(Object.assign({},ee),j)).merge,this._delegate._setSettings(j)}useEmulator(j,ee,Ge={}){(0,ae.at)(this._delegate,j,ee,Ge)}enableNetwork(){return(0,ae.Ix)(this._delegate)}disableNetwork(){return(0,ae.TF)(this._delegate)}enablePersistence(j){let ee=!1,Ge=!1;return j&&(ee=!!j.synchronizeTabs,Ge=!!j.experimentalForceOwningTab,(0,ae.Wi)("synchronizeTabs",ee,"experimentalForceOwningTab",Ge)),ee?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,Ge)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,ae.Mx)(this._delegate)}onSnapshotsInSync(j){return(0,ae.sc)(this._delegate,j)}get app(){if(!this._appCompat)throw new ae.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(j){try{return new nr(this,(0,ae.hJ)(this._delegate,j))}catch(ee){throw st(ee,"collection()","Firestore.collection()")}}doc(j){try{return new dn(this,(0,ae.JU)(this._delegate,j))}catch(ee){throw st(ee,"doc()","Firestore.doc()")}}collectionGroup(j){try{return new yn(this,(0,ae.B$)(this._delegate,j))}catch(ee){throw st(ee,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(j){return(0,ae.i3)(this._delegate,ee=>j(new an(this,ee)))}batch(){return(0,ae.qY)(this._delegate),new Ct(new ae.PU(this._delegate,j=>(0,ae.GL)(this._delegate,j)))}loadBundle(j){return(0,ae.Pb)(this._delegate,j)}namedQuery(j){return(0,ae.L$)(this._delegate,j).then(ee=>ee?new yn(this,ee):null)}}class kt extends ae.u7{constructor(j){super(),this.firestore=j}convertBytes(j){return new Le(new ae.Jj(j))}convertReference(j){const ee=this.convertDocumentKey(j,this.firestore._databaseId);return dn.forKey(ee,this.firestore,null)}}class an{constructor(j,ee){this._firestore=j,this._delegate=ee,this._userDataWriter=new kt(j)}get(j){const ee=rr(j);return this._delegate.get(ee).then(Ge=>new qe(this._firestore,new ae.xU(this._firestore._delegate,this._userDataWriter,Ge._key,Ge._document,Ge.metadata,ee.converter)))}set(j,ee,Ge){const xt=rr(j);return Ge?(We("Transaction.set",Ge),this._delegate.set(xt,ee,Ge)):this._delegate.set(xt,ee),this}update(j,ee,Ge,...xt){const rn=rr(j);return 2===arguments.length?this._delegate.update(rn,ee):this._delegate.update(rn,ee,Ge,...xt),this}delete(j){const ee=rr(j);return this._delegate.delete(ee),this}}class Ct{constructor(j){this._delegate=j}set(j,ee,Ge){const xt=rr(j);return Ge?(We("WriteBatch.set",Ge),this._delegate.set(xt,ee,Ge)):this._delegate.set(xt,ee),this}update(j,ee,Ge,...xt){const rn=rr(j);return 2===arguments.length?this._delegate.update(rn,ee):this._delegate.update(rn,ee,Ge,...xt),this}delete(j){const ee=rr(j);return this._delegate.delete(ee),this}commit(){return this._delegate.commit()}}class sn{constructor(j,ee,Ge){this._firestore=j,this._userDataWriter=ee,this._delegate=Ge}fromFirestore(j,ee){const Ge=new ae.$q(this._firestore._delegate,this._userDataWriter,j._key,j._document,j.metadata,null);return this._delegate.fromFirestore(new Zt(this._firestore,Ge),ee??{})}toFirestore(j,ee){return ee?this._delegate.toFirestore(j,ee):this._delegate.toFirestore(j)}static getInstance(j,ee){const Ge=sn.INSTANCES;let xt=Ge.get(j);xt||(xt=new WeakMap,Ge.set(j,xt));let rn=xt.get(ee);return rn||(rn=new sn(j,new kt(j),ee),xt.set(ee,rn)),rn}}sn.INSTANCES=new WeakMap;class dn{constructor(j,ee){this.firestore=j,this._delegate=ee,this._userDataWriter=new kt(j)}static forPath(j,ee,Ge){if(j.length%2!=0)throw new ae.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${j.canonicalString()} has ${j.length}`);return new dn(ee,new ae.my(ee._delegate,Ge,new ae.Ky(j)))}static forKey(j,ee,Ge){return new dn(ee,new ae.my(ee._delegate,Ge,j))}get id(){return this._delegate.id}get parent(){return new nr(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(j){try{return new nr(this.firestore,(0,ae.hJ)(this._delegate,j))}catch(ee){throw st(ee,"collection()","DocumentReference.collection()")}}isEqual(j){return(j=(0,Ae.m9)(j))instanceof ae.my&&(0,ae.Eo)(this._delegate,j)}set(j,ee){ee=We("DocumentReference.set",ee);try{return ee?(0,ae.pl)(this._delegate,j,ee):(0,ae.pl)(this._delegate,j)}catch(Ge){throw st(Ge,"setDoc()","DocumentReference.set()")}}update(j,ee,...Ge){try{return 1===arguments.length?(0,ae.r7)(this._delegate,j):(0,ae.r7)(this._delegate,j,ee,...Ge)}catch(xt){throw st(xt,"updateDoc()","DocumentReference.update()")}}delete(){return(0,ae.oe)(this._delegate)}onSnapshot(...j){const ee=Dt(j),Ge=Re(j,xt=>new qe(this.firestore,new ae.xU(this.firestore._delegate,this._userDataWriter,xt._key,xt._document,xt.metadata,this._delegate.converter)));return(0,ae.cf)(this._delegate,ee,Ge)}get(j){let ee;return ee="cache"===j?.source?(0,ae.kl)(this._delegate):"server"===j?.source?(0,ae.Xk)(this._delegate):(0,ae.QT)(this._delegate),ee.then(Ge=>new qe(this.firestore,new ae.xU(this.firestore._delegate,this._userDataWriter,Ge._key,Ge._document,Ge.metadata,this._delegate.converter)))}withConverter(j){return new dn(this.firestore,this._delegate.withConverter(j?sn.getInstance(this.firestore,j):null))}}function st(te,j,ee){return te.message=te.message.replace(j,ee),te}function Dt(te){for(const j of te)if("object"==typeof j&&!$e(j))return j;return{}}function Re(te,j){var ee,Ge;let xt;return xt=$e(te[0])?te[0]:$e(te[1])?te[1]:"function"==typeof te[0]?{next:te[0],error:te[1],complete:te[2]}:{next:te[1],error:te[2],complete:te[3]},{next:rn=>{xt.next&&xt.next(j(rn))},error:null===(ee=xt.error)||void 0===ee?void 0:ee.bind(xt),complete:null===(Ge=xt.complete)||void 0===Ge?void 0:Ge.bind(xt)}}class qe{constructor(j,ee){this._firestore=j,this._delegate=ee}get ref(){return new dn(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(j){return this._delegate.data(j)}get(j,ee){return this._delegate.get(j,ee)}isEqual(j){return(0,ae.qK)(this._delegate,j._delegate)}}class Zt extends qe{data(j){const ee=this._delegate.data(j);return(0,ae.K9)(void 0!==ee,"Document in a QueryDocumentSnapshot should exist"),ee}}class yn{constructor(j,ee){this.firestore=j,this._delegate=ee,this._userDataWriter=new kt(j)}where(j,ee,Ge){try{return new yn(this.firestore,(0,ae.IO)(this._delegate,(0,ae.ar)(j,ee,Ge)))}catch(xt){throw st(xt,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(j,ee){try{return new yn(this.firestore,(0,ae.IO)(this._delegate,(0,ae.Xo)(j,ee)))}catch(Ge){throw st(Ge,/(orderBy|where)\(\)/,"Query.$1()")}}limit(j){try{return new yn(this.firestore,(0,ae.IO)(this._delegate,(0,ae.b9)(j)))}catch(ee){throw st(ee,"limit()","Query.limit()")}}limitToLast(j){try{return new yn(this.firestore,(0,ae.IO)(this._delegate,(0,ae.vh)(j)))}catch(ee){throw st(ee,"limitToLast()","Query.limitToLast()")}}startAt(...j){try{return new yn(this.firestore,(0,ae.IO)(this._delegate,(0,ae.e0)(...j)))}catch(ee){throw st(ee,"startAt()","Query.startAt()")}}startAfter(...j){try{return new yn(this.firestore,(0,ae.IO)(this._delegate,(0,ae.TQ)(...j)))}catch(ee){throw st(ee,"startAfter()","Query.startAfter()")}}endBefore(...j){try{return new yn(this.firestore,(0,ae.IO)(this._delegate,(0,ae.Lx)(...j)))}catch(ee){throw st(ee,"endBefore()","Query.endBefore()")}}endAt(...j){try{return new yn(this.firestore,(0,ae.IO)(this._delegate,(0,ae.Wu)(...j)))}catch(ee){throw st(ee,"endAt()","Query.endAt()")}}isEqual(j){return(0,ae.iE)(this._delegate,j._delegate)}get(j){let ee;return ee="cache"===j?.source?(0,ae.UQ)(this._delegate):"server"===j?.source?(0,ae.zN)(this._delegate):(0,ae.PL)(this._delegate),ee.then(Ge=>new Un(this.firestore,new ae.W(this.firestore._delegate,this._userDataWriter,this._delegate,Ge._snapshot)))}onSnapshot(...j){const ee=Dt(j),Ge=Re(j,xt=>new Un(this.firestore,new ae.W(this.firestore._delegate,this._userDataWriter,this._delegate,xt._snapshot)));return(0,ae.cf)(this._delegate,ee,Ge)}withConverter(j){return new yn(this.firestore,this._delegate.withConverter(j?sn.getInstance(this.firestore,j):null))}}class Wn{constructor(j,ee){this._firestore=j,this._delegate=ee}get type(){return this._delegate.type}get doc(){return new Zt(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Un{constructor(j,ee){this._firestore=j,this._delegate=ee}get query(){return new yn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(j=>new Zt(this._firestore,j))}docChanges(j){return this._delegate.docChanges(j).map(ee=>new Wn(this._firestore,ee))}forEach(j,ee){this._delegate.forEach(Ge=>{j.call(ee,new Zt(this._firestore,Ge))})}isEqual(j){return(0,ae.qK)(this._delegate,j._delegate)}}class nr extends yn{constructor(j,ee){super(j,ee),this.firestore=j,this._delegate=ee}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const j=this._delegate.parent;return j?new dn(this.firestore,j):null}doc(j){try{return new dn(this.firestore,void 0===j?(0,ae.JU)(this._delegate):(0,ae.JU)(this._delegate,j))}catch(ee){throw st(ee,"doc()","CollectionReference.doc()")}}add(j){return(0,ae.ET)(this._delegate,j).then(ee=>new dn(this.firestore,ee))}isEqual(j){return(0,ae.Eo)(this._delegate,j._delegate)}withConverter(j){return new nr(this.firestore,this._delegate.withConverter(j?sn.getInstance(this.firestore,j):null))}}function rr(te){return(0,ae.Cf)(te,ae.my)}class tn{constructor(...j){this._delegate=new ae.Lz(...j)}static documentId(){return new tn(ae.Xb.keyField().canonicalString())}isEqual(j){return(j=(0,Ae.m9)(j))instanceof ae.Lz&&this._delegate._internalPath.isEqual(j._internalPath)}}class On{constructor(j){this._delegate=j}static serverTimestamp(){const j=(0,ae.Bt)();return j._methodName="FieldValue.serverTimestamp",new On(j)}static delete(){const j=(0,ae.AK)();return j._methodName="FieldValue.delete",new On(j)}static arrayUnion(...j){const ee=(0,ae.vr)(...j);return ee._methodName="FieldValue.arrayUnion",new On(ee)}static arrayRemove(...j){const ee=(0,ae.Ab)(...j);return ee._methodName="FieldValue.arrayRemove",new On(ee)}static increment(j){const ee=(0,ae.nP)(j);return ee._methodName="FieldValue.increment",new On(ee)}isEqual(j){return this._delegate.isEqual(j._delegate)}}const Dr={Firestore:Rt,GeoPoint:ae.F8,Timestamp:ae.EK,Blob:Le,Transaction:an,WriteBatch:Ct,DocumentReference:dn,DocumentSnapshot:qe,Query:yn,QueryDocumentSnapshot:Zt,QuerySnapshot:Un,CollectionReference:nr,FieldPath:tn,FieldValue:On,setLogLevel:function Yt(te){(0,ae.Ub)(te)},CACHE_SIZE_UNLIMITED:ae.IX};!function jt(te){(function Jn(te,j){te.INTERNAL.registerComponent(new Xe.wA("firestore-compat",ee=>{const Ge=ee.getProvider("app-compat").getImmediate(),xt=ee.getProvider("firestore").getImmediate();return j(Ge,xt)},"PUBLIC").setServiceProps(Object.assign({},Dr)))})(te,(j,ee)=>new Rt(j,ee,new Tt)),te.registerVersion("@firebase/firestore-compat","0.1.25")}(ft.Z);var Pn=V(1205),xn=V(7128),zn=V(127);function si(te,j){return function Er(te,j=k.z){return new H.y(ee=>{let Ge;return null!=j?j.schedule(()=>{Ge=te.onSnapshot({includeMetadataChanges:!0},ee)}):Ge=te.onSnapshot({includeMetadataChanges:!0},ee),()=>{Ge?.()}})}(te,j)}function rt(te,j){return si(te,j).pipe((0,ge.U)(ee=>({payload:ee,type:"query"})))}function we(te,j){return rt(te,j).pipe((0,Pe.O)(void 0),re(),(0,ge.U)(([ee,Ge])=>{const xt=Ge.payload.docChanges(),rn=xt.map(Bn=>({type:Bn.type,payload:Bn}));return ee&&JSON.stringify(ee.payload.metadata)!==JSON.stringify(Ge.payload.metadata)&&Ge.payload.docs.forEach((Bn,ze)=>{const Ee=xt.find(mt=>mt.doc.ref.isEqual(Bn.ref)),Ce=ee?.payload.docs.find(mt=>mt.ref.isEqual(Bn.ref));Ee&&JSON.stringify(Ee.doc.metadata)===JSON.stringify(Bn.metadata)||!Ee&&Ce&&JSON.stringify(Ce.metadata)===JSON.stringify(Bn.metadata)||rn.push({type:"modified",payload:{oldIndex:ze,newIndex:ze,type:"modified",doc:Bn}})}),rn}))}function pe(te,j,ee){return we(te,ee).pipe((0,ke.R)((Ge,xt)=>function lt(te,j,ee){return j.forEach(Ge=>{ee.indexOf(Ge.type)>-1&&(te=function Jt(te,j){switch(j.type){case"added":if(!te[j.newIndex]||!te[j.newIndex].doc.ref.isEqual(j.doc.ref))return ht(te,j.newIndex,0,j);break;case"modified":if(null==te[j.oldIndex]||te[j.oldIndex].doc.ref.isEqual(j.doc.ref)){if(j.oldIndex!==j.newIndex){const ee=te.slice();return ee.splice(j.oldIndex,1),ee.splice(j.newIndex,0,j),ee}return ht(te,j.newIndex,1,j)}break;case"removed":if(te[j.oldIndex]&&te[j.oldIndex].doc.ref.isEqual(j.doc.ref))return ht(te,j.oldIndex,1)}return te}(te,Ge))}),te}(Ge,xt.map(rn=>rn.payload),j),[]),function _t(te,j=vt.y){return te=te??nt,(0,ce.e)((ee,Ge)=>{let xt,rn=!0;ee.subscribe((0,Ye.x)(Ge,Bn=>{const ze=j(Bn);(rn||!te(xt,ze))&&(rn=!1,xt=ze,Ge.next(Bn))}))})}(),(0,ge.U)(Ge=>Ge.map(xt=>({type:xt.type,payload:xt}))))}function ht(te,j,ee,...Ge){const xt=te.slice();return xt.splice(j,ee,...Ge),xt}function An(te){return(!te||0===te.length)&&(te=["added","removed","modified"]),te}class $n{constructor(j,ee,Ge){this.ref=j,this.query=ee,this.afs=Ge}stateChanges(j){let ee=we(this.query,this.afs.schedulers.outsideAngular);return j&&j.length>0&&(ee=ee.pipe((0,ge.U)(Ge=>Ge.filter(xt=>j.indexOf(xt.type)>-1)))),ee.pipe((0,Pe.O)(void 0),re(),(0,Ht.h)(([Ge,xt])=>xt.length>0||!Ge),(0,ge.U)(([Ge,xt])=>xt),Ve.iC)}auditTrail(j){return this.stateChanges(j).pipe((0,ke.R)((ee,Ge)=>[...ee,...Ge],[]))}snapshotChanges(j){const ee=An(j);return pe(this.query,ee,this.afs.schedulers.outsideAngular).pipe(Ve.iC)}valueChanges(j={}){return rt(this.query,this.afs.schedulers.outsideAngular).pipe((0,ge.U)(ee=>ee.payload.docs.map(Ge=>j.idField?Object.assign(Object.assign({},Ge.data()),{[j.idField]:Ge.id}):Ge.data())),Ve.iC)}get(j){return(0,Te.D)(this.query.get(j)).pipe(Ve.iC)}add(j){return this.ref.add(j)}doc(j){return new Wt(this.ref.doc(j),this.afs)}}class Wt{constructor(j,ee){this.ref=j,this.afs=ee}set(j,ee){return this.ref.set(j,ee)}update(j){return this.ref.update(j)}delete(){return this.ref.delete()}collection(j,ee){const Ge=this.ref.collection(j),{ref:xt,query:rn}=oe(Ge,ee);return new $n(xt,rn,this.afs)}snapshotChanges(){return function mr(te,j){return si(te,j).pipe((0,Pe.O)(void 0),re(),(0,ge.U)(([ee,Ge])=>Ge.exists?ee?.exists?{payload:Ge,type:"modified"}:{payload:Ge,type:"added"}:{payload:Ge,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ve.iC)}valueChanges(j={}){return this.snapshotChanges().pipe((0,ge.U)(({payload:ee})=>j.idField?Object.assign(Object.assign({},ee.data()),{[j.idField]:ee.id}):ee.data()))}get(j){return(0,Te.D)(this.ref.get(j)).pipe(Ve.iC)}}class Zn{constructor(j,ee){this.query=j,this.afs=ee}stateChanges(j){return j&&0!==j.length?we(this.query,this.afs.schedulers.outsideAngular).pipe((0,ge.U)(ee=>ee.filter(Ge=>j.indexOf(Ge.type)>-1)),(0,Ht.h)(ee=>ee.length>0),Ve.iC):we(this.query,this.afs.schedulers.outsideAngular).pipe(Ve.iC)}auditTrail(j){return this.stateChanges(j).pipe((0,ke.R)((ee,Ge)=>[...ee,...Ge],[]))}snapshotChanges(j){const ee=An(j);return pe(this.query,ee,this.afs.schedulers.outsideAngular).pipe(Ve.iC)}valueChanges(j={}){return rt(this.query,this.afs.schedulers.outsideAngular).pipe((0,ge.U)(Ge=>Ge.payload.docs.map(xt=>j.idField?Object.assign({[j.idField]:xt.id},xt.data()):xt.data())),Ve.iC)}get(j){return(0,Te.D)(this.query.get(j)).pipe(Ve.iC)}}const Mn=new c.OlP("angularfire2.enableFirestorePersistence"),Nr=new c.OlP("angularfire2.firestore.persistenceSettings"),Nn=new c.OlP("angularfire2.firestore.settings"),De=new c.OlP("angularfire2.firestore.use-emulator");function oe(te,j=(ee=>ee)){return{query:j(te),ref:te}}let me=(()=>{class te{constructor(ee,Ge,xt,rn,Bn,ze,Ee,Ce,mt,Gt,gn,bn,de,le,J,he,Ue){this.schedulers=Ee;const Ft=(0,ut.on)(ee,ze,Ge),wn=mt;Gt&&(0,Pn.nw)(Ft,ze,gn,de,le,J,bn,he),[this.firestore,this.persistenceEnabled$]=(0,ut.cc)(`${Ft.name}.firestore`,"AngularFirestore",Ft.name,()=>{const In=ze.runOutsideAngular(()=>Ft.firestore());if(rn&&In.settings(rn),wn&&In.useEmulator(...wn),xt&&!(0,He.PM)(Bn)){const dr=()=>{try{return(0,Te.D)(In.enablePersistence(Ce||void 0).then(()=>!0,()=>!1))}catch(Cr){return typeof console<"u"&&console.warn(Cr),(0,ve.of)(!1)}};return[In,ze.runOutsideAngular(dr)]}return[In,(0,ve.of)(!1)]},[rn,wn,xt])}collection(ee,Ge){let xt;xt="string"==typeof ee?this.firestore.collection(ee):ee;const{ref:rn,query:Bn}=oe(xt,Ge),ze=this.schedulers.ngZone.run(()=>rn);return new $n(ze,Bn,this)}collectionGroup(ee,Ge){const xt=Ge||(Bn=>Bn),rn=this.firestore.collectionGroup(ee);return new Zn(xt(rn),this)}doc(ee){let Ge;Ge="string"==typeof ee?this.firestore.doc(ee):ee;const xt=this.schedulers.ngZone.run(()=>Ge);return new Wt(xt,this)}createId(){return this.firestore.collection("_").doc().id}}return te.\u0275fac=function(ee){return new(ee||te)(c.LFG(ut.Dh),c.LFG(ut.xv,8),c.LFG(Mn,8),c.LFG(Nn,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Ve.HU),c.LFG(Nr,8),c.LFG(De,8),c.LFG(Pn.zQ,8),c.LFG(Pn.Qv,8),c.LFG(Pn.L6,8),c.LFG(Pn._Q,8),c.LFG(Pn.rT,8),c.LFG(Pn.lh,8),c.LFG(Pn.f7,8),c.LFG(xn.nm,8))},te.\u0275prov=c.Yz7({token:te,factory:te.\u0275fac,providedIn:"any"}),te})(),Me=(()=>{class te{constructor(){zn.Z.registerVersion("angularfire",Ve.q4.full,"fst-compat")}static enablePersistence(ee){return{ngModule:te,providers:[{provide:Mn,useValue:!0},{provide:Nr,useValue:ee}]}}}return te.\u0275fac=function(ee){return new(ee||te)},te.\u0275mod=c.oAB({type:te}),te.\u0275inj=c.cJS({providers:[me]}),te})()},2011:(nn,ot,V)=>{V.d(ot,{Dh:()=>ce,GT:()=>Ve,cc:()=>_t,hO:()=>vt,on:()=>re,pX:()=>ve,xv:()=>Ye});var c=V(4650),k=V(127),H=V(5813);nn=V.hmd(nn);const Te=["ngOnDestroy"],ve=(He,bt,ft,ae={})=>new Proxy(He,{get:(Ae,Xe)=>ft.runOutsideAngular(()=>{var Nt;if(He[Xe])return!(null===(Nt=ae?.spy)||void 0===Nt)&&Nt.get&&ae.spy.get(Xe,He[Xe]),He[Xe];if(Te.indexOf(Xe)>-1)return()=>{};const Fe=bt.toPromise().then(We=>{const Je=We&&We[Xe];return"function"==typeof Je?Je.bind(We):Je&&Je.then?Je.then(xe=>ft.run(()=>xe)):ft.run(()=>Je)});return new Proxy(()=>{},{get:(We,Je)=>Fe[Je],apply:(We,Je,xe)=>Fe.then(Le=>{var $e;const Ke=Le&&Le(...xe);return!(null===($e=ae?.spy)||void 0===$e)&&$e.apply&&ae.spy.apply(Xe,xe,Ke),Ke})})})}),Ve=(He,bt)=>{bt.forEach(ft=>{Object.getOwnPropertyNames(ft.prototype||ft).forEach(ae=>{Object.defineProperty(He.prototype,ae,Object.getOwnPropertyDescriptor(ft.prototype||ft,ae))})})};class Pe{constructor(bt){return bt}}const ce=new c.OlP("angularfire2.app.options"),Ye=new c.OlP("angularfire2.app.name");function re(He,bt,ft){const Ae="object"==typeof ft&&ft||{};Ae.name=Ae.name||"string"==typeof ft&&ft||"[DEFAULT]";const Nt=k.Z.apps.filter(Fe=>Fe&&Fe.name===Ae.name)[0]||bt.runOutsideAngular(()=>k.Z.initializeApp(He,Ae));try{JSON.stringify(He)!==JSON.stringify(Nt.options)&&ge("error",`${Nt.name} Firebase App already initialized with different options${nn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Pe(Nt)}const ge=(He,...bt)=>{(0,c.X6Q)()&&typeof console<"u"&&console[He](...bt)},ke={provide:Pe,useFactory:re,deps:[ce,c.R0b,[new c.FiY,Ye]]};let vt=(()=>{class He{constructor(ft){k.Z.registerVersion("angularfire",H.q4.full,"core"),k.Z.registerVersion("angularfire",H.q4.full,"app-compat"),k.Z.registerVersion("angular",c.q4F.full,ft.toString())}static initializeApp(ft,ae){return{ngModule:He,providers:[{provide:ce,useValue:ft},{provide:Ye,useValue:ae}]}}}return He.\u0275fac=function(ft){return new(ft||He)(c.LFG(c.Lbi))},He.\u0275mod=c.oAB({type:He}),He.\u0275inj=c.cJS({providers:[ke]}),He})();function _t(He,bt,ft,ae,Ae){const[,Xe,Nt]=globalThis.\u0275AngularfireInstanceCache.find(Fe=>Fe[0]===He)||[];if(Xe)return function nt(He,bt){try{return He.toString()===bt.toString()}catch{return He===bt}}(Ae,Nt)||(ut("error",`${bt} was already initialized on the ${ft} Firebase App with different settings.${Ht?" You may need to reload as Firebase is not HMR aware.":""}`),ut("warn",{is:Ae,was:Nt})),Xe;{const Fe=ae();return globalThis.\u0275AngularfireInstanceCache.push([He,Fe,Ae]),Fe}}const Ht=!!nn.hot,ut=(He,...bt)=>{(0,c.X6Q)()&&typeof console<"u"&&console[He](...bt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},3562:(nn,ot,V)=>{V.d(ot,{Um:()=>Yt,BS:()=>Dt});var c=V(5813),k=V(4650),H=V(3692),Te=V(5867),ve=V(2731),Ve=V(9751),Pe=V(4004),ce={includeMetadataChanges:!1};function Fe(J,he){return void 0===he&&(he={}),function Ae(J){return function Ye(J,he){return void 0===he&&(he=ce),new Ve.y(function(Ue){return{unsubscribe:(0,ve.cf)(J,he,{next:Ue.next.bind(Ue),error:Ue.error.bind(Ue),complete:Ue.complete.bind(Ue)})}})}(J,{includeMetadataChanges:!0}).pipe((0,Pe.U)(function(he){return he.docs}))}(J).pipe((0,Pe.U)(function(Ue){return Ue.map(function(Ft){return function ke(J,he){void 0===he&&(he={});var Ue=J.data();return!J.exists()||"object"!=typeof Ue||null===Ue||he.idField&&(Ue[he.idField]=J.id),Ue}(Ft,he)})}))}class We{constructor(he){return he}}const Je="firestore",$e=new k.OlP("angularfire2.firestore-instances"),Rt={provide:class xe{constructor(){return(0,c.vb)(Je)}},deps:[[new k.FiY,$e]]},kt={provide:We,useFactory:function Ke(J,he){const Ue=(0,c.JM)(Je,J,he);return Ue&&new We(Ue)},deps:[[new k.FiY,$e],H.Ot]};let Yt=(()=>{class J{constructor(){(0,Te.KN)("angularfire",c.q4.full,"fst")}}return J.\u0275fac=function(Ue){return new(Ue||J)},J.\u0275mod=k.oAB({type:J}),J.\u0275inj=k.cJS({providers:[kt,Rt]}),J})();const Dt=(0,c.u3)(Fe,!0)},5813:(nn,ot,V)=>{V.d(ot,{q4:()=>su,iC:()=>vs,HU:()=>Xs,vb:()=>mn,JM:()=>qn,u3:()=>Cl});var c=V(4650),k=V(5867),H=V(5861),Te=V(9681),ve=V(2090),Ve=V(4859),Pe=V(1877),ce=V(8766);const Ye="@firebase/installations",re="0.5.12",ke=`w:${re}`,vt="FIS_v2",bt=new ve.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ft(x){return x instanceof ve.ZR&&x.code.includes("request-failed")}function ae({projectId:x}){return`https://firebaseinstallations.googleapis.com/v1/projects/${x}/installations`}function Ae(x){return{token:x.token,requestStatus:2,expiresIn:Le(x.expiresIn),creationTime:Date.now()}}function Xe(x,F){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,H.Z)(function*(x,F){const ye=(yield F.json()).error;return bt.create("request-failed",{requestName:x,serverCode:ye.code,serverMessage:ye.message,serverStatus:ye.status})})).apply(this,arguments)}function Fe({apiKey:x}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x})}function We(x,{refreshToken:F}){const Y=Fe(x);return Y.append("Authorization",function $e(x){return`${vt} ${x}`}(F)),Y}function Je(x){return xe.apply(this,arguments)}function xe(){return(xe=(0,H.Z)(function*(x){const F=yield x();return F.status>=500&&F.status<600?x():F})).apply(this,arguments)}function Le(x){return Number(x.replace("s","000"))}function Ke(x,F){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,H.Z)(function*({appConfig:x,heartbeatServiceProvider:F},{fid:Y}){const ye=ae(x),Qe=Fe(x),Et=F.getImmediate({optional:!0});if(Et){const gr=yield Et.getHeartbeatsHeader();gr&&Qe.append("x-firebase-client",gr)}const fn={method:"POST",headers:Qe,body:JSON.stringify({fid:Y,authVersion:vt,appId:x.appId,sdkVersion:ke})},Dn=yield Je(()=>fetch(ye,fn));if(Dn.ok){const gr=yield Dn.json();return{fid:gr.fid||Y,registrationStatus:2,refreshToken:gr.refreshToken,authToken:Ae(gr.authToken)}}throw yield Xe("Create Installation",Dn)})).apply(this,arguments)}function Rt(x){return new Promise(F=>{setTimeout(F,x)})}const Yt=/^[cdef][\w-]{21}$/;function Ct(){try{const x=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(x),x[0]=112+x[0]%16;const Y=function sn(x){return function kt(x){return btoa(String.fromCharCode(...x)).replace(/\+/g,"-").replace(/\//g,"_")}(x).substr(0,22)}(x);return Yt.test(Y)?Y:""}catch{return""}}function dn(x){return`${x.appName}!${x.appId}`}const st=new Map;function Dt(x,F){const Y=dn(x);Zt(Y,F),function yn(x,F){const Y=function Un(){return!Wn&&"BroadcastChannel"in self&&(Wn=new BroadcastChannel("[Firebase] FID Change"),Wn.onmessage=x=>{Zt(x.data.key,x.data.fid)}),Wn}();Y&&Y.postMessage({key:x,fid:F}),function nr(){0===st.size&&Wn&&(Wn.close(),Wn=null)}()}(Y,F)}function Zt(x,F){const Y=st.get(x);if(Y)for(const ye of Y)ye(F)}let Wn=null;const On="firebase-installations-store";let Dr=null;function Jn(){return Dr||(Dr=(0,ce.X3)("firebase-installations-database",1,{upgrade:(x,F)=>{0===F&&x.createObjectStore(On)}})),Dr}function jt(x,F){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,H.Z)(function*(x,F){const Y=dn(x),Qe=(yield Jn()).transaction(On,"readwrite"),Et=Qe.objectStore(On),$t=yield Et.get(Y);return yield Et.put(F,Y),yield Qe.done,(!$t||$t.fid!==F.fid)&&Dt(x,F.fid),F})).apply(this,arguments)}function xn(x){return zn.apply(this,arguments)}function zn(){return(zn=(0,H.Z)(function*(x){const F=dn(x),ye=(yield Jn()).transaction(On,"readwrite");yield ye.objectStore(On).delete(F),yield ye.done})).apply(this,arguments)}function Er(x,F){return si.apply(this,arguments)}function si(){return(si=(0,H.Z)(function*(x,F){const Y=dn(x),Qe=(yield Jn()).transaction(On,"readwrite"),Et=Qe.objectStore(On),$t=yield Et.get(Y),fn=F($t);return void 0===fn?yield Et.delete(Y):yield Et.put(fn,Y),yield Qe.done,fn&&(!$t||$t.fid!==fn.fid)&&Dt(x,fn.fid),fn})).apply(this,arguments)}function mr(x){return rt.apply(this,arguments)}function rt(){return(rt=(0,H.Z)(function*(x){let F;const Y=yield Er(x.appConfig,ye=>{const Qe=we(ye),Et=pe(x,Qe);return F=Et.registrationPromise,Et.installationEntry});return""===Y.fid?{installationEntry:yield F}:{installationEntry:Y,registrationPromise:F}})).apply(this,arguments)}function we(x){return Wt(x||{fid:Ct(),registrationStatus:0})}function pe(x,F){if(0===F.registrationStatus){if(!navigator.onLine)return{installationEntry:F,registrationPromise:Promise.reject(bt.create("app-offline"))};const Y={fid:F.fid,registrationStatus:1,registrationTime:Date.now()},ye=function lt(x,F){return ht.apply(this,arguments)}(x,Y);return{installationEntry:Y,registrationPromise:ye}}return 1===F.registrationStatus?{installationEntry:F,registrationPromise:Jt(x)}:{installationEntry:F}}function ht(){return(ht=(0,H.Z)(function*(x,F){try{const Y=yield Ke(x,F);return jt(x.appConfig,Y)}catch(Y){throw ft(Y)&&409===Y.customData.serverCode?yield xn(x.appConfig):yield jt(x.appConfig,{fid:F.fid,registrationStatus:0}),Y}})).apply(this,arguments)}function Jt(x){return An.apply(this,arguments)}function An(){return(An=(0,H.Z)(function*(x){let F=yield $n(x.appConfig);for(;1===F.registrationStatus;)yield Rt(100),F=yield $n(x.appConfig);if(0===F.registrationStatus){const{installationEntry:Y,registrationPromise:ye}=yield mr(x);return ye||Y}return F})).apply(this,arguments)}function $n(x){return Er(x,F=>{if(!F)throw bt.create("installation-not-found");return Wt(F)})}function Wt(x){return function Zn(x){return 1===x.registrationStatus&&x.registrationTime+1e4<Date.now()}(x)?{fid:x.fid,registrationStatus:0}:x}function Mn(x,F){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,H.Z)(function*({appConfig:x,heartbeatServiceProvider:F},Y){const ye=Nn(x,Y),Qe=We(x,Y),Et=F.getImmediate({optional:!0});if(Et){const gr=yield Et.getHeartbeatsHeader();gr&&Qe.append("x-firebase-client",gr)}const fn={method:"POST",headers:Qe,body:JSON.stringify({installation:{sdkVersion:ke,appId:x.appId}})},Dn=yield Je(()=>fetch(ye,fn));if(Dn.ok)return Ae(yield Dn.json());throw yield Xe("Generate Auth Token",Dn)})).apply(this,arguments)}function Nn(x,{fid:F}){return`${ae(x)}/${F}/authTokens:generate`}function De(x){return oe.apply(this,arguments)}function oe(){return(oe=(0,H.Z)(function*(x,F=!1){let Y;const ye=yield Er(x.appConfig,Et=>{if(!Ge(Et))throw bt.create("not-registered");const $t=Et.authToken;if(!F&&xt($t))return Et;if(1===$t.requestStatus)return Y=me(x,F),Et;{if(!navigator.onLine)throw bt.create("app-offline");const fn=Bn(Et);return Y=j(x,fn),fn}});return Y?yield Y:ye.authToken})).apply(this,arguments)}function me(x,F){return Me.apply(this,arguments)}function Me(){return(Me=(0,H.Z)(function*(x,F){let Y=yield te(x.appConfig);for(;1===Y.authToken.requestStatus;)yield Rt(100),Y=yield te(x.appConfig);const ye=Y.authToken;return 0===ye.requestStatus?De(x,F):ye})).apply(this,arguments)}function te(x){return Er(x,F=>{if(!Ge(F))throw bt.create("not-registered");return function ze(x){return 1===x.requestStatus&&x.requestTime+1e4<Date.now()}(F.authToken)?Object.assign(Object.assign({},F),{authToken:{requestStatus:0}}):F})}function j(x,F){return ee.apply(this,arguments)}function ee(){return(ee=(0,H.Z)(function*(x,F){try{const Y=yield Mn(x,F),ye=Object.assign(Object.assign({},F),{authToken:Y});return yield jt(x.appConfig,ye),Y}catch(Y){if(!ft(Y)||401!==Y.customData.serverCode&&404!==Y.customData.serverCode){const ye=Object.assign(Object.assign({},F),{authToken:{requestStatus:0}});yield jt(x.appConfig,ye)}else yield xn(x.appConfig);throw Y}})).apply(this,arguments)}function Ge(x){return void 0!==x&&2===x.registrationStatus}function xt(x){return 2===x.requestStatus&&!function rn(x){const F=Date.now();return F<x.creationTime||x.creationTime+x.expiresIn<F+36e5}(x)}function Bn(x){const F={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},x),{authToken:F})}function Ce(){return(Ce=(0,H.Z)(function*(x){const F=x,{installationEntry:Y,registrationPromise:ye}=yield mr(F);return ye?ye.catch(console.error):De(F).catch(console.error),Y.fid})).apply(this,arguments)}function Gt(){return(Gt=(0,H.Z)(function*(x,F=!1){const Y=x;return yield gn(Y),(yield De(Y,F)).token})).apply(this,arguments)}function gn(x){return bn.apply(this,arguments)}function bn(){return(bn=(0,H.Z)(function*(x){const{registrationPromise:F}=yield mr(x);F&&(yield F)})).apply(this,arguments)}function dr(x){return bt.create("missing-app-config-values",{valueName:x})}const Cr="installations",oi=x=>{const F=x.getProvider("app").getImmediate(),Y=function In(x){if(!x||!x.options)throw dr("App Configuration");if(!x.name)throw dr("App Name");const F=["projectId","apiKey","appId"];for(const Y of F)if(!x.options[Y])throw dr(Y);return{appName:x.name,projectId:x.options.projectId,apiKey:x.options.apiKey,appId:x.options.appId}}(F);return{app:F,appConfig:Y,heartbeatServiceProvider:(0,Te._getProvider)(F,"heartbeat"),_delete:()=>Promise.resolve()}},xr=x=>{const F=x.getProvider("app").getImmediate(),Y=(0,Te._getProvider)(F,Cr).getImmediate();return{getId:()=>function Ee(x){return Ce.apply(this,arguments)}(Y),getToken:Qe=>function mt(x){return Gt.apply(this,arguments)}(Y,Qe)}};(function _i(){(0,Te._registerComponent)(new Ve.wA(Cr,oi,"PUBLIC")),(0,Te._registerComponent)(new Ve.wA("installations-internal",xr,"PRIVATE"))})(),(0,Te.registerVersion)(Ye,re),(0,Te.registerVersion)(Ye,re,"esm2017");const ci="@firebase/remote-config",br=new ve.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ai{constructor(F,Y,ye,Qe){this.client=F,this.storage=Y,this.storageCache=ye,this.logger=Qe}isCachedDataFresh(F,Y){if(!Y)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ye=Date.now()-Y,Qe=ye<=F;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ye}. Cache max age millis (minimumFetchIntervalMillis setting): ${F}. Is cache hit: ${Qe}.`),Qe}fetch(F){var Y=this;return(0,H.Z)(function*(){const[ye,Qe]=yield Promise.all([Y.storage.getLastSuccessfulFetchTimestampMillis(),Y.storage.getLastSuccessfulFetchResponse()]);if(Qe&&Y.isCachedDataFresh(F.cacheMaxAgeMillis,ye))return Qe;F.eTag=Qe&&Qe.eTag;const Et=yield Y.client.fetch(F),$t=[Y.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Et.status&&$t.push(Y.storage.setLastSuccessfulFetchResponse(Et)),yield Promise.all($t),Et})()}}function Ei(x=navigator){return x.languages&&x.languages[0]||x.language}class Is{constructor(F,Y,ye,Qe,Et,$t){this.firebaseInstallations=F,this.sdkVersion=Y,this.namespace=ye,this.projectId=Qe,this.apiKey=Et,this.appId=$t}fetch(F){var Y=this;return(0,H.Z)(function*(){var ye,Qe,Et;const[$t,fn]=yield Promise.all([Y.firebaseInstallations.getId(),Y.firebaseInstallations.getToken()]),gr=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Y.projectId}/namespaces/${Y.namespace}:fetch?key=${Y.apiKey}`,vr={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":F.eTag||"*"},Gn={sdk_version:Y.sdkVersion,app_instance_id:$t,app_instance_id_token:fn,app_id:Y.appId,language_code:Ei()},zi={method:"POST",headers:vr,body:JSON.stringify(Gn)},to=fetch(gr,zi),ou=new Promise((ma,ya)=>{F.signal.addEventListener(()=>{const va=new Error("The operation was aborted.");va.name="AbortError",ya(va)})});let au;try{yield Promise.race([to,ou]),au=yield to}catch(ma){let ya="fetch-client-network";throw"AbortError"===(null===(ye=ma)||void 0===ye?void 0:ye.name)&&(ya="fetch-timeout"),br.create(ya,{originalErrorMessage:null===(Qe=ma)||void 0===Qe?void 0:Qe.message})}let jo=au.status;const lo=au.headers.get("ETag")||void 0;let ba,Tu;if(200===au.status){let ma;try{ma=yield au.json()}catch(ya){throw br.create("fetch-client-parse",{originalErrorMessage:null===(Et=ya)||void 0===Et?void 0:Et.message})}ba=ma.entries,Tu=ma.state}if("INSTANCE_STATE_UNSPECIFIED"===Tu?jo=500:"NO_CHANGE"===Tu?jo=304:("NO_TEMPLATE"===Tu||"EMPTY_CONFIG"===Tu)&&(ba={}),304!==jo&&200!==jo)throw br.create("fetch-status",{httpStatus:jo});return{status:jo,eTag:lo,config:ba}})()}}class rs{constructor(F,Y){this.client=F,this.storage=Y}fetch(F){var Y=this;return(0,H.Z)(function*(){const ye=(yield Y.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Y.attemptFetch(F,ye)})()}attemptFetch(F,{throttleEndTimeMillis:Y,backoffCount:ye}){var Qe=this;return(0,H.Z)(function*(){yield function Vi(x,F){return new Promise((Y,ye)=>{const Qe=Math.max(F-Date.now(),0),Et=setTimeout(Y,Qe);x.addEventListener(()=>{clearTimeout(Et),ye(br.create("fetch-throttle",{throttleEndTimeMillis:F}))})})}(F.signal,Y);try{const Et=yield Qe.client.fetch(F);return yield Qe.storage.deleteThrottleMetadata(),Et}catch(Et){if(!function No(x){if(!(x instanceof ve.ZR&&x.customData))return!1;const F=Number(x.customData.httpStatus);return 429===F||500===F||503===F||504===F}(Et))throw Et;const $t={throttleEndTimeMillis:Date.now()+(0,ve.$s)(ye),backoffCount:ye+1};return yield Qe.storage.setThrottleMetadata($t),Qe.attemptFetch(F,$t)}})()}}class Wo{constructor(F,Y,ye,Qe,Et){this.app=F,this._client=Y,this._storageCache=ye,this._storage=Qe,this._logger=Et,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ps(x,F){var Y;const ye=x.target.error||void 0;return br.create(F,{originalErrorMessage:ye&&(null===(Y=ye)||void 0===Y?void 0:Y.message)})}const qi="app_namespace_store";class Oo{constructor(F,Y,ye,Qe=function Ro(){return new Promise((x,F)=>{var Y;try{const ye=indexedDB.open("firebase_remote_config",1);ye.onerror=Qe=>{F(Ps(Qe,"storage-open"))},ye.onsuccess=Qe=>{x(Qe.target.result)},ye.onupgradeneeded=Qe=>{0===Qe.oldVersion&&Qe.target.result.createObjectStore(qi,{keyPath:"compositeKey"})}}catch(ye){F(br.create("storage-open",{originalErrorMessage:null===(Y=ye)||void 0===Y?void 0:Y.message}))}})}()){this.appId=F,this.appName=Y,this.namespace=ye,this.openDbPromise=Qe}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(F){return this.set("last_fetch_status",F)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(F){return this.set("last_successful_fetch_timestamp_millis",F)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(F){return this.set("last_successful_fetch_response",F)}getActiveConfig(){return this.get("active_config")}setActiveConfig(F){return this.set("active_config",F)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(F){return this.set("active_config_etag",F)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(F){return this.set("throttle_metadata",F)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(F){var Y=this;return(0,H.Z)(function*(){const ye=yield Y.openDbPromise;return new Promise((Qe,Et)=>{var $t;const Dn=ye.transaction([qi],"readonly").objectStore(qi),gr=Y.createCompositeKey(F);try{const vr=Dn.get(gr);vr.onerror=Gn=>{Et(Ps(Gn,"storage-get"))},vr.onsuccess=Gn=>{const zi=Gn.target.result;Qe(zi?zi.value:void 0)}}catch(vr){Et(br.create("storage-get",{originalErrorMessage:null===($t=vr)||void 0===$t?void 0:$t.message}))}})})()}set(F,Y){var ye=this;return(0,H.Z)(function*(){const Qe=yield ye.openDbPromise;return new Promise((Et,$t)=>{var fn;const gr=Qe.transaction([qi],"readwrite").objectStore(qi),vr=ye.createCompositeKey(F);try{const Gn=gr.put({compositeKey:vr,value:Y});Gn.onerror=zi=>{$t(Ps(zi,"storage-set"))},Gn.onsuccess=()=>{Et()}}catch(Gn){$t(br.create("storage-set",{originalErrorMessage:null===(fn=Gn)||void 0===fn?void 0:fn.message}))}})})()}delete(F){var Y=this;return(0,H.Z)(function*(){const ye=yield Y.openDbPromise;return new Promise((Qe,Et)=>{var $t;const Dn=ye.transaction([qi],"readwrite").objectStore(qi),gr=Y.createCompositeKey(F);try{const vr=Dn.delete(gr);vr.onerror=Gn=>{Et(Ps(Gn,"storage-delete"))},vr.onsuccess=()=>{Qe()}}catch(vr){Et(br.create("storage-delete",{originalErrorMessage:null===($t=vr)||void 0===$t?void 0:$t.message}))}})})()}createCompositeKey(F){return[this.appId,this.appName,this.namespace,F].join()}}class Zi{constructor(F){this.storage=F}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var F=this;return(0,H.Z)(function*(){const Y=F.storage.getLastFetchStatus(),ye=F.storage.getLastSuccessfulFetchTimestampMillis(),Qe=F.storage.getActiveConfig(),Et=yield Y;Et&&(F.lastFetchStatus=Et);const $t=yield ye;$t&&(F.lastSuccessfulFetchTimestampMillis=$t);const fn=yield Qe;fn&&(F.activeConfig=fn)})()}setLastFetchStatus(F){return this.lastFetchStatus=F,this.storage.setLastFetchStatus(F)}setLastSuccessfulFetchTimestampMillis(F){return this.lastSuccessfulFetchTimestampMillis=F,this.storage.setLastSuccessfulFetchTimestampMillis(F)}setActiveConfig(F){return this.activeConfig=F,this.storage.setActiveConfig(F)}}function Yi(){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,H.Z)(function*(){if(!(0,ve.hl)())return!1;try{return yield(0,ve.eu)()}catch{return!1}})).apply(this,arguments)}!function fo(){(0,Te._registerComponent)(new Ve.wA("remote-config",function x(F,{instanceIdentifier:Y}){const ye=F.getProvider("app").getImmediate(),Qe=F.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw br.create("registration-window");if(!(0,ve.hl)())throw br.create("indexed-db-unavailable");const{projectId:Et,apiKey:$t,appId:fn}=ye.options;if(!Et)throw br.create("registration-project-id");if(!$t)throw br.create("registration-api-key");if(!fn)throw br.create("registration-app-id");const Dn=new Oo(fn,ye.name,Y=Y||"firebase"),gr=new Zi(Dn),vr=new Pe.Yd(ci);vr.logLevel=Pe.in.ERROR;const Gn=new Is(Qe,Te.SDK_VERSION,Y,Et,$t,fn),zi=new rs(Gn,Dn),to=new Ai(zi,Dn,gr,vr),ou=new Wo(ye,to,gr,Dn,vr);return function it(x){const F=(0,ve.m9)(x);F._initializePromise||(F._initializePromise=F._storageCache.loadFromStorage().then(()=>{F._isInitializationComplete=!0}))}(ou),ou},"PUBLIC").setMultipleInstances(!0)),(0,Te.registerVersion)(ci,"0.3.11"),(0,Te.registerVersion)(ci,"0.3.11","esm2017")}();const qr="/firebase-messaging-sw.js",ds="/firebase-cloud-messaging-push-scope",Yn="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",is="google.c.a.c_id",Qi="google.c.a.c_l",go="google.c.a.ts",Cs="google.c.a.e";var wi=(()=>{return(x=wi||(wi={})).PUSH_RECEIVED="push-received",x.NOTIFICATION_CLICKED="notification-clicked",wi;var x})();function ss(x){const F=new Uint8Array(x);return btoa(String.fromCharCode(...F)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ui(x){const Y=(x+"=".repeat((4-x.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ye=atob(Y),Qe=new Uint8Array(ye.length);for(let Et=0;Et<ye.length;++Et)Qe[Et]=ye.charCodeAt(Et);return Qe}const fi="fcm_token_details_db",Fs="fcm_token_object_Store";function mo(x){return Po.apply(this,arguments)}function Po(){return Po=(0,H.Z)(function*(x){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Et=>Et.name).includes(fi))return null;let F=null;return(yield(0,ce.X3)(fi,5,{upgrade:(ye=(0,H.Z)(function*(Qe,Et,$t,fn){var Dn;if(Et<2||!Qe.objectStoreNames.contains(Fs))return;const gr=fn.objectStore(Fs),vr=yield gr.index("fcmSenderId").get(x);if(yield gr.clear(),vr)if(2===Et){const Gn=vr;if(!Gn.auth||!Gn.p256dh||!Gn.endpoint)return;F={token:Gn.fcmToken,createTime:null!==(Dn=Gn.createTime)&&void 0!==Dn?Dn:Date.now(),subscriptionOptions:{auth:Gn.auth,p256dh:Gn.p256dh,endpoint:Gn.endpoint,swScope:Gn.swScope,vapidKey:"string"==typeof Gn.vapidKey?Gn.vapidKey:ss(Gn.vapidKey)}}}else if(3===Et){const Gn=vr;F={token:Gn.fcmToken,createTime:Gn.createTime,subscriptionOptions:{auth:ss(Gn.auth),p256dh:ss(Gn.p256dh),endpoint:Gn.endpoint,swScope:Gn.swScope,vapidKey:ss(Gn.vapidKey)}}}else if(4===Et){const Gn=vr;F={token:Gn.fcmToken,createTime:Gn.createTime,subscriptionOptions:{auth:ss(Gn.auth),p256dh:ss(Gn.p256dh),endpoint:Gn.endpoint,swScope:Gn.swScope,vapidKey:ss(Gn.vapidKey)}}}}),function(Et,$t,fn,Dn){return ye.apply(this,arguments)})})).close(),yield(0,ce.Lj)(fi),yield(0,ce.Lj)("fcm_vapid_details_db"),yield(0,ce.Lj)("undefined"),Or(F)?F:null;var ye}),Po.apply(this,arguments)}function Or(x){if(!x||!x.subscriptionOptions)return!1;const{subscriptionOptions:F}=x;return"number"==typeof x.createTime&&x.createTime>0&&"string"==typeof x.token&&x.token.length>0&&"string"==typeof F.auth&&F.auth.length>0&&"string"==typeof F.p256dh&&F.p256dh.length>0&&"string"==typeof F.endpoint&&F.endpoint.length>0&&"string"==typeof F.swScope&&F.swScope.length>0&&"string"==typeof F.vapidKey&&F.vapidKey.length>0}const Bi="firebase-messaging-store";let Jr=null;function Mi(){return Jr||(Jr=(0,ce.X3)("firebase-messaging-database",1,{upgrade:(x,F)=>{0===F&&x.createObjectStore(Bi)}})),Jr}function fs(x){return ji.apply(this,arguments)}function ji(){return(ji=(0,H.Z)(function*(x){const F=$i(x),ye=yield(yield Mi()).transaction(Bi).objectStore(Bi).get(F);if(ye)return ye;{const Qe=yield mo(x.appConfig.senderId);if(Qe)return yield yr(x,Qe),Qe}})).apply(this,arguments)}function yr(x,F){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,H.Z)(function*(x,F){const Y=$i(x),Qe=(yield Mi()).transaction(Bi,"readwrite");return yield Qe.objectStore(Bi).put(F,Y),yield Qe.done,F})).apply(this,arguments)}function ps(x){return so.apply(this,arguments)}function so(){return(so=(0,H.Z)(function*(x){const F=$i(x),ye=(yield Mi()).transaction(Bi,"readwrite");yield ye.objectStore(Bi).delete(F),yield ye.done})).apply(this,arguments)}function $i({appConfig:x}){return x.appId}const ii=new ve.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Fn(x,F){return gs.apply(this,arguments)}function gs(){return(gs=(0,H.Z)(function*(x,F){var Y;const ye=yield Us(x),Qe=Lt(F),Et={method:"POST",headers:ye,body:JSON.stringify(Qe)};let $t;try{$t=yield(yield fetch(Ti(x.appConfig),Et)).json()}catch(fn){throw ii.create("token-subscribe-failed",{errorInfo:null===(Y=fn)||void 0===Y?void 0:Y.toString()})}if($t.error)throw ii.create("token-subscribe-failed",{errorInfo:$t.error.message});if(!$t.token)throw ii.create("token-subscribe-no-token");return $t.token})).apply(this,arguments)}function ko(x,F){return di.apply(this,arguments)}function di(){return(di=(0,H.Z)(function*(x,F){var Y;const ye=yield Us(x),Qe=Lt(F.subscriptionOptions),Et={method:"PATCH",headers:ye,body:JSON.stringify(Qe)};let $t;try{$t=yield(yield fetch(`${Ti(x.appConfig)}/${F.token}`,Et)).json()}catch(fn){throw ii.create("token-update-failed",{errorInfo:null===(Y=fn)||void 0===Y?void 0:Y.toString()})}if($t.error)throw ii.create("token-update-failed",{errorInfo:$t.error.message});if(!$t.token)throw ii.create("token-update-no-token");return $t.token})).apply(this,arguments)}function Vs(x,F){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,H.Z)(function*(x,F){var Y;const Qe={method:"DELETE",headers:yield Us(x)};try{const $t=yield(yield fetch(`${Ti(x.appConfig)}/${F}`,Qe)).json();if($t.error)throw ii.create("token-unsubscribe-failed",{errorInfo:$t.error.message})}catch(Et){throw ii.create("token-unsubscribe-failed",{errorInfo:null===(Y=Et)||void 0===Y?void 0:Y.toString()})}})).apply(this,arguments)}function Ti({projectId:x}){return`https://fcmregistrations.googleapis.com/v1/projects/${x}/registrations`}function Us(x){return Br.apply(this,arguments)}function Br(){return(Br=(0,H.Z)(function*({appConfig:x,installations:F}){const Y=yield F.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x.apiKey,"x-goog-firebase-installations-auth":`FIS ${Y}`})})).apply(this,arguments)}function Lt({p256dh:x,auth:F,endpoint:Y,vapidKey:ye}){const Qe={web:{endpoint:Y,auth:F,p256dh:x}};return ye!==Yn&&(Qe.web.applicationPubKey=ye),Qe}const er=6048e5;function Fo(x){return ms.apply(this,arguments)}function ms(){return(ms=(0,H.Z)(function*(x){const F=yield _o(x.swRegistration,x.vapidKey),Y={vapidKey:x.vapidKey,swScope:x.swRegistration.scope,endpoint:F.endpoint,auth:ss(F.getKey("auth")),p256dh:ss(F.getKey("p256dh"))},ye=yield fs(x.firebaseDependencies);if(ye){if(L(ye.subscriptionOptions,Y))return Date.now()>=ye.createTime+er?bs(x,{token:ye.token,createTime:Date.now(),subscriptionOptions:Y}):ye.token;try{yield Vs(x.firebaseDependencies,ye.token)}catch(Qe){console.warn(Qe)}return Ii(x.firebaseDependencies,Y)}return Ii(x.firebaseDependencies,Y)})).apply(this,arguments)}function Xr(x){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,H.Z)(function*(x){const F=yield fs(x.firebaseDependencies);F&&(yield Vs(x.firebaseDependencies,F.token),yield ps(x.firebaseDependencies));const Y=yield x.swRegistration.pushManager.getSubscription();return!Y||Y.unsubscribe()})).apply(this,arguments)}function bs(x,F){return ai.apply(this,arguments)}function ai(){return(ai=(0,H.Z)(function*(x,F){try{const Y=yield ko(x.firebaseDependencies,F),ye=Object.assign(Object.assign({},F),{token:Y,createTime:Date.now()});return yield yr(x.firebaseDependencies,ye),Y}catch(Y){throw yield Xr(x),Y}})).apply(this,arguments)}function Ii(x,F){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,H.Z)(function*(x,F){const ye={token:yield Fn(x,F),createTime:Date.now(),subscriptionOptions:F};return yield yr(x,ye),ye.token})).apply(this,arguments)}function _o(x,F){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,H.Z)(function*(x,F){return(yield x.pushManager.getSubscription())||x.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ui(F)})})).apply(this,arguments)}function L(x,F){return F.vapidKey===x.vapidKey&&F.endpoint===x.endpoint&&F.auth===x.auth&&F.p256dh===x.p256dh}function O(x){const F={from:x.from,collapseKey:x.collapse_key,messageId:x.fcmMessageId};return function A(x,F){if(!F.notification)return;x.notification={};const Y=F.notification.title;Y&&(x.notification.title=Y);const ye=F.notification.body;ye&&(x.notification.body=ye);const Qe=F.notification.image;Qe&&(x.notification.image=Qe)}(F,x),function Q(x,F){!F.data||(x.data=F.data)}(F,x),function gt(x,F){var Y,ye,Qe,Et,$t;if(!(F.fcmOptions||null!==(Y=F.notification)&&void 0!==Y&&Y.click_action))return;x.fcmOptions={};const fn=null!==(Qe=null===(ye=F.fcmOptions)||void 0===ye?void 0:ye.link)&&void 0!==Qe?Qe:null===(Et=F.notification)||void 0===Et?void 0:Et.click_action;fn&&(x.fcmOptions.link=fn);const Dn=null===($t=F.fcmOptions)||void 0===$t?void 0:$t.analytics_label;Dn&&(x.fcmOptions.analyticsLabel=Dn)}(F,x),F}function hn(x){return"object"==typeof x&&!!x&&is in x}function ur(x,F){const Y=[];for(let ye=0;ye<x.length;ye++)Y.push(x.charAt(ye)),ye<F.length&&Y.push(F.charAt(ye));return Y.join("")}function Ni(x){return ii.create("missing-app-config-values",{valueName:x})}ur("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ur("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Di{constructor(F,Y,ye){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Qe=function xi(x){if(!x||!x.options)throw Ni("App Configuration Object");if(!x.name)throw Ni("App Name");const F=["projectId","apiKey","appId","messagingSenderId"],{options:Y}=x;for(const ye of F)if(!Y[ye])throw Ni(ye);return{appName:x.name,projectId:Y.projectId,apiKey:Y.apiKey,appId:Y.appId,senderId:Y.messagingSenderId}}(F);this.firebaseDependencies={app:F,appConfig:Qe,installations:Y,analyticsProvider:ye}}_delete(){return Promise.resolve()}}function wo(x){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,H.Z)(function*(x){var F;try{x.swRegistration=yield navigator.serviceWorker.register(qr,{scope:ds}),x.swRegistration.update().catch(()=>{})}catch(Y){throw ii.create("failed-service-worker-registration",{browserErrorMessage:null===(F=Y)||void 0===F?void 0:F.message})}})).apply(this,arguments)}function Io(x,F){return oo.apply(this,arguments)}function oo(){return(oo=(0,H.Z)(function*(x,F){if(!F&&!x.swRegistration&&(yield wo(x)),F||!x.swRegistration){if(!(F instanceof ServiceWorkerRegistration))throw ii.create("invalid-sw-registration");x.swRegistration=F}})).apply(this,arguments)}function Do(x,F){return qs.apply(this,arguments)}function qs(){return(qs=(0,H.Z)(function*(x,F){F?x.vapidKey=F:x.vapidKey||(x.vapidKey=Yn)})).apply(this,arguments)}function ao(){return(ao=(0,H.Z)(function*(x,F){if(!navigator)throw ii.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ii.create("permission-blocked");return yield Do(x,F?.vapidKey),yield Io(x,F?.serviceWorkerRegistration),Fo(x)})).apply(this,arguments)}function Co(x,F,Y){return bo.apply(this,arguments)}function bo(){return(bo=(0,H.Z)(function*(x,F,Y){const ye=Da(F);(yield x.firebaseDependencies.analyticsProvider.get()).logEvent(ye,{message_id:Y[is],message_name:Y[Qi],message_time:Y[go],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Da(x){switch(x){case wi.NOTIFICATION_CLICKED:return"notification_open";case wi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function G(){return(G=(0,H.Z)(function*(x,F){const Y=F.data;if(!Y.isFirebaseMessaging)return;x.onMessageHandler&&Y.messageType===wi.PUSH_RECEIVED&&("function"==typeof x.onMessageHandler?x.onMessageHandler(O(Y)):x.onMessageHandler.next(O(Y)));const ye=Y.data;hn(ye)&&"1"===ye[Cs]&&(yield Co(x,Y.messageType,ye))})).apply(this,arguments)}const N="@firebase/messaging",Z="0.9.16",Ie=x=>{const F=new Di(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),x.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Y=>function S(x,F){return G.apply(this,arguments)}(F,Y)),F},yt=x=>{const F=x.getProvider("messaging").getImmediate();return{getToken:ye=>function la(x,F){return ao.apply(this,arguments)}(F,ye)}};function Tn(){return wr.apply(this,arguments)}function wr(){return(wr=(0,H.Z)(function*(){try{yield(0,ve.eu)()}catch{return!1}return typeof window<"u"&&(0,ve.hl)()&&(0,ve.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function It(){(0,Te._registerComponent)(new Ve.wA("messaging",Ie,"PUBLIC")),(0,Te._registerComponent)(new Ve.wA("messaging-internal",yt,"PRIVATE")),(0,Te.registerVersion)(N,Z),(0,Te.registerVersion)(N,Z,"esm2017")}();const R="analytics",W="firebase_id",Oe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",_e="https://www.googletagmanager.com/gtag/js",ct=new Pe.Yd("@firebase/analytics");function ln(x){return Promise.all(x.map(F=>F.catch(Y=>Y)))}function Sn(x,F){const Y=document.createElement("script");Y.src=`${_e}?l=${x}&id=${F}`,Y.async=!0,document.head.appendChild(Y)}function en(x,F,Y,ye,Qe,Et){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,H.Z)(function*(x,F,Y,ye,Qe,Et){const $t=ye[Qe];try{if($t)yield F[$t];else{const Dn=(yield ln(Y)).find(gr=>gr.measurementId===Qe);Dn&&(yield F[Dn.appId])}}catch(fn){ct.error(fn)}x("config",Qe,Et)})).apply(this,arguments)}function At(x,F,Y,ye,Qe){return et.apply(this,arguments)}function et(){return(et=(0,H.Z)(function*(x,F,Y,ye,Qe){try{let Et=[];if(Qe&&Qe.send_to){let $t=Qe.send_to;Array.isArray($t)||($t=[$t]);const fn=yield ln(Y);for(const Dn of $t){const gr=fn.find(Gn=>Gn.measurementId===Dn),vr=gr&&F[gr.appId];if(!vr){Et=[];break}Et.push(vr)}}0===Et.length&&(Et=Object.values(F)),yield Promise.all(Et),x("event",ye,Qe||{})}catch(Et){ct.error(Et)}})).apply(this,arguments)}function Ri(){const x=window.document.getElementsByTagName("script");for(const F of Object.values(x))if(F.src&&F.src.includes(_e))return F;return null}const ei=new ve.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),ys=new class Zs{constructor(F={},Y=1e3){this.throttleMetadata=F,this.intervalMillis=Y}getThrottleMetadata(F){return this.throttleMetadata[F]}setThrottleMetadata(F,Y){this.throttleMetadata[F]=Y}deleteThrottleMetadata(F){delete this.throttleMetadata[F]}};function Bs(x){return new Headers({Accept:"application/json","x-goog-api-key":x})}function $a(x){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,H.Z)(function*(x){var F;const{appId:Y,apiKey:ye}=x,Qe={method:"GET",headers:Bs(ye)},Et=Oe.replace("{app-id}",Y),$t=yield fetch(Et,Qe);if(200!==$t.status&&304!==$t.status){let fn="";try{const Dn=yield $t.json();null!==(F=Dn.error)&&void 0!==F&&F.message&&(fn=Dn.error.message)}catch{}throw ei.create("config-fetch-failed",{httpStatus:$t.status,responseMessage:fn})}return $t.json()})).apply(this,arguments)}function uo(x){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,H.Z)(function*(x,F=ys,Y){const{appId:ye,apiKey:Qe,measurementId:Et}=x.options;if(!ye)throw ei.create("no-app-id");if(!Qe){if(Et)return{measurementId:Et,appId:ye};throw ei.create("no-api-key")}const $t=F.getThrottleMetadata(ye)||{backoffCount:0,throttleEndTimeMillis:Date.now()},fn=new or;return setTimeout((0,H.Z)(function*(){fn.abort()}),void 0!==Y?Y:6e4),So({appId:ye,apiKey:Qe,measurementId:Et},$t,fn,F)})).apply(this,arguments)}function So(x,F,Y){return vn.apply(this,arguments)}function vn(){return(vn=(0,H.Z)(function*(x,{throttleEndTimeMillis:F,backoffCount:Y},ye,Qe=ys){var Et,$t;const{appId:fn,measurementId:Dn}=x;try{yield cn(ye,F)}catch(gr){if(Dn)return ct.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Dn} provided in the "measurementId" field in the local Firebase config. [${null===(Et=gr)||void 0===Et?void 0:Et.message}]`),{appId:fn,measurementId:Dn};throw gr}try{const gr=yield $a(x);return Qe.deleteThrottleMetadata(fn),gr}catch(gr){const vr=gr;if(!Kt(vr)){if(Qe.deleteThrottleMetadata(fn),Dn)return ct.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Dn} provided in the "measurementId" field in the local Firebase config. [${vr?.message}]`),{appId:fn,measurementId:Dn};throw gr}const Gn=503===Number(null===($t=vr?.customData)||void 0===$t?void 0:$t.httpStatus)?(0,ve.$s)(Y,Qe.intervalMillis,30):(0,ve.$s)(Y,Qe.intervalMillis),zi={throttleEndTimeMillis:Date.now()+Gn,backoffCount:Y+1};return Qe.setThrottleMetadata(fn,zi),ct.debug(`Calling attemptFetch again in ${Gn} millis`),So(x,zi,ye,Qe)}})).apply(this,arguments)}function cn(x,F){return new Promise((Y,ye)=>{const Qe=Math.max(F-Date.now(),0),Et=setTimeout(Y,Qe);x.addEventListener(()=>{clearTimeout(Et),ye(ei.create("fetch-throttle",{throttleEndTimeMillis:F}))})})}function Kt(x){if(!(x instanceof ve.ZR&&x.customData))return!1;const F=Number(x.customData.httpStatus);return 429===F||500===F||503===F||504===F}class or{constructor(){this.listeners=[]}addEventListener(F){this.listeners.push(F)}abort(){this.listeners.forEach(F=>F())}}let kn,Lo;function pr(){return(pr=(0,H.Z)(function*(x,F,Y,ye,Qe){if(Qe&&Qe.global)x("event",Y,ye);else{const Et=yield F;x("event",Y,Object.assign(Object.assign({},ye),{send_to:Et}))}})).apply(this,arguments)}function na(x){Lo=x}function As(x){kn=x}function ki(){return da.apply(this,arguments)}function da(){return(da=(0,H.Z)(function*(){var x;if(!(0,ve.hl)())return ct.warn(ei.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ve.eu)()}catch(F){return ct.warn(ei.create("indexeddb-unavailable",{errorInfo:null===(x=F)||void 0===x?void 0:x.toString()}).message),!1}return!0})).apply(this,arguments)}function $s(){return($s=(0,H.Z)(function*(x,F,Y,ye,Qe,Et,$t){var fn;const Dn=uo(x);Dn.then(to=>{Y[to.measurementId]=to.appId,x.options.measurementId&&to.measurementId!==x.options.measurementId&&ct.warn(`The measurement ID in the local Firebase config (${x.options.measurementId}) does not match the measurement ID fetched from the server (${to.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(to=>ct.error(to)),F.push(Dn);const gr=ki().then(to=>{if(to)return ye.getId()}),[vr,Gn]=yield Promise.all([Dn,gr]);Ri()||Sn(Et,vr.measurementId),Lo&&(Qe("consent","default",Lo),na(void 0)),Qe("js",new Date);const zi=null!==(fn=$t?.config)&&void 0!==fn?fn:{};return zi.origin="firebase",zi.update=!0,null!=Gn&&(zi[W]=Gn),Qe("config",vr.measurementId,zi),kn&&(Qe("set",kn),As(void 0)),vr.measurementId})).apply(this,arguments)}class ha{constructor(F){this.app=F}_delete(){return delete at[this.app.options.appId],Promise.resolve()}}let at={},Vo=[];const Hi={};let Hs,Qs,Oa="dataLayer",Uo=!1;function ru(x,F,Y){!function Wu(){const x=[];if((0,ve.ru)()&&x.push("This is a browser extension environment."),(0,ve.zI)()||x.push("Cookies are not available."),x.length>0){const F=x.map((ye,Qe)=>`(${Qe+1}) ${ye}`).join(" "),Y=ei.create("invalid-analytics-context",{errorInfo:F});ct.warn(Y.message)}}();const ye=x.options.appId;if(!ye)throw ei.create("no-app-id");if(!x.options.apiKey){if(!x.options.measurementId)throw ei.create("no-api-key");ct.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${x.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=at[ye])throw ei.create("already-exists",{id:ye});if(!Uo){!function zt(x){let F=[];Array.isArray(window[x])?F=window[x]:window[x]=F}(Oa);const{wrappedGtag:Et,gtagCore:$t}=function fr(x,F,Y,ye,Qe){let Et=function(...$t){window[ye].push(arguments)};return window[Qe]&&"function"==typeof window[Qe]&&(Et=window[Qe]),window[Qe]=function St(x,F,Y,ye){function Et(){return(Et=(0,H.Z)(function*($t,fn,Dn){try{"event"===$t?yield At(x,F,Y,fn,Dn):"config"===$t?yield en(x,F,Y,ye,fn,Dn):"consent"===$t?x("consent","update",Dn):x("set",fn)}catch(gr){ct.error(gr)}})).apply(this,arguments)}return function Qe($t,fn,Dn){return Et.apply(this,arguments)}}(Et,x,F,Y),{gtagCore:Et,wrappedGtag:window[Qe]}}(at,Vo,Hi,Oa,"gtag");Qs=Et,Hs=$t,Uo=!0}return at[ye]=function nu(x,F,Y,ye,Qe,Et,$t){return $s.apply(this,arguments)}(x,Vo,Hi,F,Hs,Oa,Y),new ha(x)}function Dl(){return qo.apply(this,arguments)}function qo(){return(qo=(0,H.Z)(function*(){if((0,ve.ru)()||!(0,ve.zI)()||!(0,ve.hl)())return!1;try{return yield(0,ve.eu)()}catch{return!1}})).apply(this,arguments)}const Gs="@firebase/analytics";!function Pr(){(0,Te._registerComponent)(new Ve.wA(R,(F,{options:Y})=>ru(F.getProvider("app").getImmediate(),F.getProvider("installations-internal").getImmediate(),Y),"PUBLIC")),(0,Te._registerComponent)(new Ve.wA("analytics-internal",function x(F){try{const Y=F.getProvider(R).getImmediate();return{logEvent:(ye,Qe,Et)=>function pa(x,F,Y,ye){x=(0,ve.m9)(x),function Xi(x,F,Y,ye,Qe){return pr.apply(this,arguments)}(Qs,at[x.app.options.appId],F,Y,ye).catch(Qe=>ct.error(Qe))}(Y,ye,Qe,Et)}}catch(Y){throw ei.create("interop-component-reg-failed",{reason:Y})}},"PRIVATE")),(0,Te.registerVersion)(Gs,"0.8.0"),(0,Te.registerVersion)(Gs,"0.8.0","esm2017")}();var Bo=V(4408),Qr=V(7565);const Ga=new class Js extends Qr.v{}(class Ao extends Bo.o{constructor(F,Y){super(F,Y),this.scheduler=F,this.work=Y}schedule(F,Y=0){return Y>0?super.schedule(F,Y):(this.delay=Y,this.state=F,this.scheduler.flush(this),this)}execute(F,Y){return Y>0||this.closed?super.execute(F,Y):this._execute(F,Y)}requestAsyncId(F,Y,ye=0){return null!=ye&&ye>0||null==ye&&this.delay>0?super.requestAsyncId(F,Y,ye):F.flush(this)}});var ka=V(4986),ga=V(9751),Yo=V(8505),ra=V(9468),es=V(5363);const su=new c.GfV("7.4.1"),E="__angularfire_symbol__analyticsIsSupportedValue",w="__angularfire_symbol__analyticsIsSupported",m="__angularfire_symbol__remoteConfigIsSupportedValue",T="__angularfire_symbol__remoteConfigIsSupported",P="__angularfire_symbol__messagingIsSupportedValue",K="__angularfire_symbol__messagingIsSupported";function qn(x,F,Y){if(F){if(1===F.length)return F[0];const Et=F.filter($t=>$t.app===Y);if(1===Et.length)return Et[0]}return Y.container.getProvider(x).getImmediate({optional:!0})}globalThis[w]||(globalThis[w]=Dl().then(x=>globalThis[E]=x).catch(()=>globalThis[E]=!1)),globalThis[K]||(globalThis[K]=Tn().then(x=>globalThis[P]=x).catch(()=>globalThis[P]=!1)),globalThis[T]||(globalThis[T]=Yi().then(x=>globalThis[m]=x).catch(()=>globalThis[m]=!1));const mn=(x,F)=>{const Y=F?[F]:(0,k.C6)(),ye=[];return Y.forEach(Qe=>{Qe.container.getProvider(x).instances.forEach($t=>{ye.includes($t)||ye.push($t)})}),ye};function _r(){}class ts{constructor(F,Y=Ga){this.zone=F,this.delegate=Y}now(){return this.delegate.now()}schedule(F,Y,ye){const Qe=this.zone;return this.delegate.schedule(function($t){Qe.runGuarded(()=>{F.apply(this,[$t])})},Y,ye)}}class os{constructor(F){this.zone=F,this.task=null}call(F,Y){const ye=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",_r,{},_r,_r)),Y.pipe((0,Yo.b)({next:ye,complete:ye,error:ye})).subscribe(F).add(ye)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Xs=(()=>{class x{constructor(Y){this.ngZone=Y,this.outsideAngular=Y.runOutsideAngular(()=>new ts(Zone.current)),this.insideAngular=Y.run(()=>new ts(Zone.current,ka.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return x.\u0275fac=function(Y){return new(Y||x)(c.LFG(c.R0b))},x.\u0275prov=c.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function Fi(){const x=globalThis.\u0275AngularFireScheduler;if(!x)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return x}function bu(x){return Fi().ngZone.runOutsideAngular(()=>x())}function eo(x){return Fi().ngZone.run(()=>x())}function vs(x){return Fi(),function Gi(x){return function(Y){return(Y=Y.lift(new os(x.ngZone))).pipe((0,ra.R)(x.outsideAngular),(0,es.Q)(x.insideAngular))}}(Fi())(x)}const ti=(x,F)=>function(){const ye=arguments;return F&&setTimeout(()=>{"scheduled"===F.state&&F.invoke()},10),eo(()=>x.apply(void 0,ye))},Cl=(x,F)=>function(){let Y;const ye=arguments;for(let Et=0;Et<arguments.length;Et++)"function"==typeof ye[Et]&&(F&&(Y||(Y=eo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",_r,{},_r,_r)))),ye[Et]=ti(ye[Et],Y));const Qe=bu(()=>x.apply(this,ye));if(!F){if(Qe instanceof ga.y){const Et=Fi();return Qe.pipe((0,ra.R)(Et.outsideAngular),(0,es.Q)(Et.insideAngular))}return eo(()=>Qe)}return Qe instanceof ga.y?Qe.pipe(vs):Qe instanceof Promise?eo(()=>new Promise((Et,$t)=>Qe.then(fn=>eo(()=>Et(fn)),fn=>eo(()=>$t(fn))))):"function"==typeof Qe&&Y?function(){return setTimeout(()=>{Y&&"scheduled"===Y.state&&Y.invoke()},10),Qe.apply(this,arguments)}:eo(()=>Qe)}},7143:(nn,ot,V)=>{V.d(ot,{$:()=>Ti,A:()=>ge,B:()=>_t,G:()=>xr,H:()=>Hr,J:()=>rs,L:()=>xt,M:()=>Ds,N:()=>hs,P:()=>ka,Q:()=>is,R:()=>xs,T:()=>Qi,U:()=>Yn,V:()=>wi,W:()=>ss,X:()=>mo,Y:()=>vo,Z:()=>Fn,_:()=>ko,a:()=>hi,a0:()=>Fo,a1:()=>Xr,a2:()=>bs,a3:()=>Ii,a4:()=>_o,a5:()=>L,a6:()=>A,a7:()=>Q,a8:()=>hn,a9:()=>ur,aA:()=>zi,aB:()=>fn,aC:()=>eo,aD:()=>bu,aE:()=>pn,aI:()=>Bs,aL:()=>Cs,aa:()=>wo,ab:()=>Io,ac:()=>Do,af:()=>Co,ag:()=>Da,ah:()=>S,ak:()=>Bi,al:()=>Sr,an:()=>_e,ao:()=>Hn,ap:()=>J,aq:()=>Je,ar:()=>le,as:()=>gn,at:()=>ft,au:()=>Va,av:()=>jo,aw:()=>ae,ax:()=>Fe,ay:()=>Le,az:()=>rn,b:()=>ei,c:()=>T,d:()=>be,e:()=>K,f:()=>vs,g:()=>Y,h:()=>Cl,i:()=>da,j:()=>Et,k:()=>hc,l:()=>Pa,m:()=>Ta,o:()=>ce,r:()=>Bo,s:()=>Zo,u:()=>Ga});var c=V(5861),k=V(2090),H=V(9681),Te=V(655),ve=V(1877),Ve=V(4859);const ce={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ge={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const _t=function ke(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},nt=function vt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ht=new k.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),He=new ve.Yd("@firebase/auth");function bt(I,...f){He.logLevel<=ve.in.ERROR&&He.error(`Auth (${H.SDK_VERSION}): ${I}`,...f)}function ft(I,...f){throw Nt(I,...f)}function ae(I,...f){return Nt(I,...f)}function Ae(I,f,p){const b=Object.assign(Object.assign({},nt()),{[f]:p});return new k.LL("auth","Firebase",b).create(f,{appName:I.name})}function Xe(I,f,p){if(!(f instanceof p))throw p.name!==f.constructor.name&&ft(I,"argument-error"),Ae(I,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Nt(I,...f){if("string"!=typeof I){const p=f[0],b=[...f.slice(1)];return b[0]&&(b[0].appName=I.name),I._errorFactory.create(p,...b)}return Ht.create(I,...f)}function Fe(I,f,...p){if(!I)throw Nt(f,...p)}function We(I){const f="INTERNAL ASSERTION FAILED: "+I;throw bt(f),new Error(f)}function Je(I,f){I||We(f)}const xe=new Map;function Le(I){Je(I instanceof Function,"Expected a class definition");let f=xe.get(I);return f?(Je(f instanceof I,"Instance stored in cache mismatched with class"),f):(f=new I,xe.set(I,f),f)}function Tt(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function Rt(){return"http:"===kt()||"https:"===kt()}function kt(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class Ct{constructor(f,p){this.shortDelay=f,this.longDelay=p,Je(p>f,"Short delay should be less than long delay!"),this.isMobile=(0,k.uI)()||(0,k.b$)()}get(){return function Yt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Rt()||(0,k.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function sn(I,f){Je(I.emulator,"Emulator should always be set here");const{url:p}=I.emulator;return f?`${p}${f.startsWith("/")?f.slice(1):f}`:p}class dn{static initialize(f,p,b){this.fetchImpl=f,p&&(this.headersImpl=p),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void We("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void We("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void We("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const st={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Dt=new Ct(3e4,6e4);function Re(I,f){return I.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:I.tenantId}):f}function qe(I,f,p,b){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,c.Z)(function*(I,f,p,b,q={}){return yn(I,q,(0,c.Z)(function*(){let se={},tt={};b&&("GET"===f?tt=b:se={body:JSON.stringify(b)});const Ot=(0,k.xO)(Object.assign({key:I.config.apiKey},tt)).slice(1),_n=yield I._getAdditionalHeaders();return _n["Content-Type"]="application/json",I.languageCode&&(_n["X-Firebase-Locale"]=I.languageCode),dn.fetch()(rr(I,I.config.apiHost,p,Ot),Object.assign({method:f,headers:_n,referrerPolicy:"no-referrer"},se))}))})).apply(this,arguments)}function yn(I,f,p){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,c.Z)(function*(I,f,p){I._canInitEmulator=!1;const b=Object.assign(Object.assign({},st),f);try{const q=new tn(I),se=yield Promise.race([p(),q.promise]);q.clearNetworkTimeout();const tt=yield se.json();if("needConfirmation"in tt)throw On(I,"account-exists-with-different-credential",tt);if(se.ok&&!("errorMessage"in tt))return tt;{const Ot=se.ok?tt.errorMessage:tt.error.message,[_n,jn]=Ot.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===_n)throw On(I,"credential-already-in-use",tt);if("EMAIL_EXISTS"===_n)throw On(I,"email-already-in-use",tt);if("USER_DISABLED"===_n)throw On(I,"user-disabled",tt);const lr=b[_n]||_n.toLowerCase().replace(/[_\s]+/g,"-");if(jn)throw Ae(I,lr,jn);ft(I,lr)}}catch(q){if(q instanceof k.ZR)throw q;ft(I,"network-request-failed")}})).apply(this,arguments)}function Un(I,f,p,b){return nr.apply(this,arguments)}function nr(){return(nr=(0,c.Z)(function*(I,f,p,b,q={}){const se=yield qe(I,f,p,b,q);return"mfaPendingCredential"in se&&ft(I,"multi-factor-auth-required",{_serverResponse:se}),se})).apply(this,arguments)}function rr(I,f,p,b){const q=`${f}${p}?${b}`;return I.config.emulator?sn(I.config,q):`${I.config.apiScheme}://${q}`}class tn{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((p,b)=>{this.timer=setTimeout(()=>b(ae(this.auth,"network-request-failed")),Dt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function On(I,f,p){const b={appName:I.name};p.email&&(b.email=p.email),p.phoneNumber&&(b.phoneNumber=p.phoneNumber);const q=ae(I,f,b);return q.customData._tokenResponse=p,q}function Jn(){return(Jn=(0,c.Z)(function*(I,f){return qe(I,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function jt(I,f){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,c.Z)(function*(I,f){return qe(I,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function xn(I,f){return zn.apply(this,arguments)}function zn(){return(zn=(0,c.Z)(function*(I,f){return qe(I,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Er(I){if(I)try{const f=new Date(Number(I));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function rt(){return(rt=(0,c.Z)(function*(I,f=!1){const p=(0,k.m9)(I),b=yield p.getIdToken(f),q=pe(b);Fe(q&&q.exp&&q.auth_time&&q.iat,p.auth,"internal-error");const se="object"==typeof q.firebase?q.firebase:void 0,tt=se?.sign_in_provider;return{claims:q,token:b,authTime:Er(we(q.auth_time)),issuedAtTime:Er(we(q.iat)),expirationTime:Er(we(q.exp)),signInProvider:tt||null,signInSecondFactor:se?.sign_in_second_factor||null}})).apply(this,arguments)}function we(I){return 1e3*Number(I)}function pe(I){var f;const[p,b,q]=I.split(".");if(void 0===p||void 0===b||void 0===q)return bt("JWT malformed, contained fewer than 3 sections"),null;try{const se=(0,k.tV)(b);return se?JSON.parse(se):(bt("Failed to decode base64 JWT payload"),null)}catch(se){return bt("Caught error parsing JWT payload as JSON",null===(f=se)||void 0===f?void 0:f.toString()),null}}function ht(I,f){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,c.Z)(function*(I,f,p=!1){if(p)return f;try{return yield f}catch(b){throw b instanceof k.ZR&&An(b)&&I.auth.currentUser===I&&(yield I.auth.signOut()),b}})).apply(this,arguments)}function An({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}class $n{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var p;if(f){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const q=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,q)}}schedule(f=!1){var p=this;if(!this.isRunning)return;const b=this.getInterval(f);this.timerId=setTimeout((0,c.Z)(function*(){yield p.iteration()}),b)}iteration(){var f=this;return(0,c.Z)(function*(){var p;try{yield f.user.getIdToken(!0)}catch(b){return void("auth/network-request-failed"===(null===(p=b)||void 0===p?void 0:p.code)&&f.schedule(!0))}f.schedule()})()}}class Wt{constructor(f,p){this.createdAt=f,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=Er(this.lastLoginAt),this.creationTime=Er(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Zn(I){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,c.Z)(function*(I){var f;const p=I.auth,b=yield I.getIdToken(),q=yield ht(I,xn(p,{idToken:b}));Fe(q?.users.length,p,"internal-error");const se=q.users[0];I._notifyReloadListener(se);const tt=null!==(f=se.providerUserInfo)&&void 0!==f&&f.length?oe(se.providerUserInfo):[],Ot=De(I.providerData,tt),lr=!!I.isAnonymous&&!(I.email&&se.passwordHash||Ot?.length),pi={uid:se.localId,displayName:se.displayName||null,photoURL:se.photoUrl||null,email:se.email||null,emailVerified:se.emailVerified||!1,phoneNumber:se.phoneNumber||null,tenantId:se.tenantId||null,providerData:Ot,metadata:new Wt(se.createdAt,se.lastLoginAt),isAnonymous:lr};Object.assign(I,pi)})).apply(this,arguments)}function Nn(){return(Nn=(0,c.Z)(function*(I){const f=(0,k.m9)(I);yield Zn(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function De(I,f){return[...I.filter(b=>!f.some(q=>q.providerId===b.providerId)),...f]}function oe(I){return I.map(f=>{var{providerId:p}=f,b=(0,Te._T)(f,["providerId"]);return{providerId:p,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function Me(){return(Me=(0,c.Z)(function*(I,f){const p=yield yn(I,{},(0,c.Z)(function*(){const b=(0,k.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:q,apiKey:se}=I.config,tt=rr(I,q,"/v1/token",`key=${se}`),Ot=yield I._getAdditionalHeaders();return Ot["Content-Type"]="application/x-www-form-urlencoded",dn.fetch()(tt,{method:"POST",headers:Ot,body:b})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class te{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){Fe(f.idToken,"internal-error"),Fe(typeof f.idToken<"u","internal-error"),Fe(typeof f.refreshToken<"u","internal-error");const p="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function lt(I){const f=pe(I);return Fe(f,"internal-error"),Fe(typeof f.exp<"u","internal-error"),Fe(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,p)}getToken(f,p=!1){var b=this;return(0,c.Z)(function*(){return Fe(!b.accessToken||b.refreshToken,f,"user-token-expired"),p||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(f,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,p){var b=this;return(0,c.Z)(function*(){const{accessToken:q,refreshToken:se,expiresIn:tt}=yield function me(I,f){return Me.apply(this,arguments)}(f,p);b.updateTokensAndExpiration(q,se,Number(tt))})()}updateTokensAndExpiration(f,p,b){this.refreshToken=p||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(f,p){const{refreshToken:b,accessToken:q,expirationTime:se}=p,tt=new te;return b&&(Fe("string"==typeof b,"internal-error",{appName:f}),tt.refreshToken=b),q&&(Fe("string"==typeof q,"internal-error",{appName:f}),tt.accessToken=q),se&&(Fe("number"==typeof se,"internal-error",{appName:f}),tt.expirationTime=se),tt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new te,this.toJSON())}_performRefresh(){return We("not implemented")}}function j(I,f){Fe("string"==typeof I||typeof I>"u","internal-error",{appName:f})}class ee{constructor(f){var{uid:p,auth:b,stsTokenManager:q}=f,se=(0,Te._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $n(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=b,this.stsTokenManager=q,this.accessToken=q.accessToken,this.displayName=se.displayName||null,this.email=se.email||null,this.emailVerified=se.emailVerified||!1,this.phoneNumber=se.phoneNumber||null,this.photoURL=se.photoURL||null,this.isAnonymous=se.isAnonymous||!1,this.tenantId=se.tenantId||null,this.providerData=se.providerData?[...se.providerData]:[],this.metadata=new Wt(se.createdAt||void 0,se.lastLoginAt||void 0)}getIdToken(f){var p=this;return(0,c.Z)(function*(){const b=yield ht(p,p.stsTokenManager.getToken(p.auth,f));return Fe(b,p.auth,"internal-error"),p.accessToken!==b&&(p.accessToken=b,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),b})()}getIdTokenResult(f){return function mr(I){return rt.apply(this,arguments)}(this,f)}reload(){return function Nr(I){return Nn.apply(this,arguments)}(this)}_assign(f){this!==f&&(Fe(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(p=>Object.assign({},p)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new ee(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){Fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,p=!1){var b=this;return(0,c.Z)(function*(){let q=!1;f.idToken&&f.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(f),q=!0),p&&(yield Zn(b)),yield b.auth._persistUserIfCurrent(b),q&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var f=this;return(0,c.Z)(function*(){const p=yield f.getIdToken();return yield ht(f,function Dr(I,f){return Jn.apply(this,arguments)}(f.auth,{idToken:p})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,p){var b,q,se,tt,Ot,_n,jn,lr;const pi=null!==(b=p.displayName)&&void 0!==b?b:void 0,Ua=null!==(q=p.email)&&void 0!==q?q:void 0,Ci=null!==(se=p.phoneNumber)&&void 0!==se?se:void 0,kr=null!==(tt=p.photoURL)&&void 0!==tt?tt:void 0,Yu=null!==(Ot=p.tenantId)&&void 0!==Ot?Ot:void 0,xu=null!==(_n=p._redirectEventId)&&void 0!==_n?_n:void 0,za=null!==(jn=p.createdAt)&&void 0!==jn?jn:void 0,hh=null!==(lr=p.lastLoginAt)&&void 0!==lr?lr:void 0,{uid:no,emailVerified:pc,isAnonymous:Nu,providerData:Rl,stsTokenManager:Ea}=p;Fe(no&&Ea,f,"internal-error");const gc=te.fromJSON(this.name,Ea);Fe("string"==typeof no,f,"internal-error"),j(pi,f.name),j(Ua,f.name),Fe("boolean"==typeof pc,f,"internal-error"),Fe("boolean"==typeof Nu,f,"internal-error"),j(Ci,f.name),j(kr,f.name),j(Yu,f.name),j(xu,f.name),j(za,f.name),j(hh,f.name);const Sa=new ee({uid:no,auth:f,email:Ua,emailVerified:pc,displayName:pi,isAnonymous:Nu,photoURL:kr,phoneNumber:Ci,tenantId:Yu,stsTokenManager:gc,createdAt:za,lastLoginAt:hh});return Rl&&Array.isArray(Rl)&&(Sa.providerData=Rl.map(od=>Object.assign({},od))),xu&&(Sa._redirectEventId=xu),Sa}static _fromIdTokenResponse(f,p,b=!1){return(0,c.Z)(function*(){const q=new te;q.updateFromServerResponse(p);const se=new ee({uid:p.localId,auth:f,stsTokenManager:q,isAnonymous:b});return yield Zn(se),se})()}}const xt=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(p,b){var q=this;return(0,c.Z)(function*(){q.storage[p]=b})()}_get(p){var b=this;return(0,c.Z)(function*(){const q=b.storage[p];return void 0===q?null:q})()}_remove(p){var b=this;return(0,c.Z)(function*(){delete b.storage[p]})()}_addListener(p,b){}_removeListener(p,b){}}return I.type="NONE",I})();function rn(I,f,p){return`firebase:${I}:${f}:${p}`}class Bn{constructor(f,p,b){this.persistence=f,this.auth=p,this.userKey=b;const{config:q,name:se}=this.auth;this.fullUserKey=rn(this.userKey,q.apiKey,se),this.fullPersistenceKey=rn("persistence",q.apiKey,se),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,c.Z)(function*(){const p=yield f.persistence._get(f.fullUserKey);return p?ee._fromJSON(f.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var p=this;return(0,c.Z)(function*(){if(p.persistence===f)return;const b=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=f,b?p.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,p,b="authUser"){return(0,c.Z)(function*(){if(!p.length)return new Bn(Le(xt),f,b);const q=(yield Promise.all(p.map(function(){var jn=(0,c.Z)(function*(lr){if(yield lr._isAvailable())return lr});return function(lr){return jn.apply(this,arguments)}}()))).filter(jn=>jn);let se=q[0]||Le(xt);const tt=rn(b,f.config.apiKey,f.name);let Ot=null;for(const jn of p)try{const lr=yield jn._get(tt);if(lr){const pi=ee._fromJSON(f,lr);jn!==se&&(Ot=pi),se=jn;break}}catch{}const _n=q.filter(jn=>jn._shouldAllowMigration);return se._shouldAllowMigration&&_n.length?(se=_n[0],Ot&&(yield se._set(tt,Ot.toJSON())),yield Promise.all(p.map(function(){var jn=(0,c.Z)(function*(lr){if(lr!==se)try{yield lr._remove(tt)}catch{}});return function(lr){return jn.apply(this,arguments)}}())),new Bn(se,f,b)):new Bn(se,f,b)})()}}function ze(I){const f=I.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Gt(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(Ee(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(bn(f))return"Blackberry";if(de(f))return"Webos";if(Ce(f))return"Safari";if((f.includes("chrome/")||mt(f))&&!f.includes("edge/"))return"Chrome";if(gn(f))return"Android";{const b=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function Ee(I=(0,k.z$)()){return/firefox\//i.test(I)}function Ce(I=(0,k.z$)()){const f=I.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function mt(I=(0,k.z$)()){return/crios\//i.test(I)}function Gt(I=(0,k.z$)()){return/iemobile/i.test(I)}function gn(I=(0,k.z$)()){return/android/i.test(I)}function bn(I=(0,k.z$)()){return/blackberry/i.test(I)}function de(I=(0,k.z$)()){return/webos/i.test(I)}function le(I=(0,k.z$)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function J(I=(0,k.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}function Ft(I=(0,k.z$)()){return le(I)||gn(I)||de(I)||bn(I)||/windows phone/i.test(I)||Gt(I)}function In(I,f=[]){let p;switch(I){case"Browser":p=ze((0,k.z$)());break;case"Worker":p=`${ze((0,k.z$)())}-${I}`;break;default:p=I}const b=f.length?f.join(","):"FirebaseCore-web";return`${p}/JsCore/${H.SDK_VERSION}/${b}`}class dr{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,p){const b=se=>new Promise((tt,Ot)=>{try{tt(f(se))}catch(_n){Ot(_n)}});b.onAbort=p,this.queue.push(b);const q=this.queue.length-1;return()=>{this.queue[q]=()=>Promise.resolve()}}runMiddleware(f){var p=this;return(0,c.Z)(function*(){var b;if(p.auth.currentUser===f)return;const q=[];try{for(const se of p.queue)yield se(f),se.onAbort&&q.push(se.onAbort)}catch(se){q.reverse();for(const tt of q)try{tt()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:null===(b=se)||void 0===b?void 0:b.message})}})()}}class Cr{constructor(f,p,b){this.app=f,this.heartbeatServiceProvider=p,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oi(this),this.idTokenSubscription=new oi(this),this.beforeStateQueue=new dr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ht,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(f,p){var b=this;return p&&(this._popupRedirectResolver=Le(p)),this._initializationPromise=this.queue((0,c.Z)(function*(){var q,se;if(!b._deleted&&(b.persistenceManager=yield Bn.create(b,f),!b._deleted)){if(null!==(q=b._popupRedirectResolver)&&void 0!==q&&q._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(p),b.lastNotifiedUid=(null===(se=b.currentUser)||void 0===se?void 0:se.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,c.Z)(function*(){if(f._deleted)return;const p=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||p){if(f.currentUser&&p&&f.currentUser.uid===p.uid)return f._currentUser._assign(p),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(p,!0)}})()}initializeCurrentUser(f){var p=this;return(0,c.Z)(function*(){var b;const q=yield p.assertedPersistence.getCurrentUser();let se=q,tt=!1;if(f&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const Ot=null===(b=p.redirectUser)||void 0===b?void 0:b._redirectEventId,_n=se?._redirectEventId,jn=yield p.tryRedirectSignIn(f);(!Ot||Ot===_n)&&jn?.user&&(se=jn.user,tt=!0)}if(!se)return p.directlySetCurrentUser(null);if(!se._redirectEventId){if(tt)try{yield p.beforeStateQueue.runMiddleware(se)}catch(Ot){se=q,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(Ot))}return se?p.reloadAndSetCurrentUserOrClear(se):p.directlySetCurrentUser(null)}return Fe(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===se._redirectEventId?p.directlySetCurrentUser(se):p.reloadAndSetCurrentUserOrClear(se)})()}tryRedirectSignIn(f){var p=this;return(0,c.Z)(function*(){let b=null;try{b=yield p._popupRedirectResolver._completeRedirectFn(p,f,!0)}catch{yield p._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(f){var p=this;return(0,c.Z)(function*(){var b;try{yield Zn(f)}catch(q){if("auth/network-request-failed"!==(null===(b=q)||void 0===b?void 0:b.code))return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function an(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var f=this;return(0,c.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var p=this;return(0,c.Z)(function*(){const b=f?(0,k.m9)(f):null;return b&&Fe(b.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(b&&b._clone(p))})()}_updateCurrentUser(f,p=!1){var b=this;return(0,c.Z)(function*(){if(!b._deleted)return f&&Fe(b.tenantId===f.tenantId,b,"tenant-id-mismatch"),p||(yield b.beforeStateQueue.runMiddleware(f)),b.queue((0,c.Z)(function*(){yield b.directlySetCurrentUser(f),b.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,c.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var p=this;return this.queue((0,c.Z)(function*(){yield p.assertedPersistence.setPersistence(Le(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new k.LL("auth","Firebase",f())}onAuthStateChanged(f,p,b){return this.registerStateListener(this.authStateSubscription,f,p,b)}beforeAuthStateChanged(f,p){return this.beforeStateQueue.pushCallback(f,p)}onIdTokenChanged(f,p,b){return this.registerStateListener(this.idTokenSubscription,f,p,b)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,p){var b=this;return(0,c.Z)(function*(){const q=yield b.getOrInitRedirectPersistenceManager(p);return null===f?q.removeCurrentUser():q.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var p=this;return(0,c.Z)(function*(){if(!p.redirectPersistenceManager){const b=f&&Le(f)||p._popupRedirectResolver;Fe(b,p,"argument-error"),p.redirectPersistenceManager=yield Bn.create(p,[Le(b._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(f){var p=this;return(0,c.Z)(function*(){var b,q;return p._isInitialized&&(yield p.queue((0,c.Z)(function*(){}))),(null===(b=p._currentUser)||void 0===b?void 0:b._redirectEventId)===f?p._currentUser:(null===(q=p.redirectUser)||void 0===q?void 0:q._redirectEventId)===f?p.redirectUser:null})()}_persistUserIfCurrent(f){var p=this;return(0,c.Z)(function*(){if(f===p.currentUser)return p.queue((0,c.Z)(function*(){return p.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(p=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,p,b,q){if(this._deleted)return()=>{};const se="function"==typeof p?p:p.next.bind(p),tt=this._isInitialized?Promise.resolve():this._initializationPromise;return Fe(tt,this,"internal-error"),tt.then(()=>se(this.currentUser)),"function"==typeof p?f.addObserver(p,b,q):f.addObserver(p)}directlySetCurrentUser(f){var p=this;return(0,c.Z)(function*(){p.currentUser&&p.currentUser!==f&&p._currentUser._stopProactiveRefresh(),f&&p.isProactiveRefreshEnabled&&f._startProactiveRefresh(),p.currentUser=f,f?yield p.assertedPersistence.setCurrentUser(f):yield p.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return Fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=In(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,c.Z)(function*(){var p;const b={"X-Client-Version":f.clientVersion};f.app.options.appId&&(b["X-Firebase-gmpid"]=f.app.options.appId);const q=yield null===(p=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();return q&&(b["X-Firebase-Client"]=q),b})()}}function pn(I){return(0,k.m9)(I)}class oi{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,k.ne)(p=>this.observer=p)}get next(){return Fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function xr(I,f,p){const b=pn(I);Fe(b._canInitEmulator,b,"emulator-config-failed"),Fe(/^https?:\/\//.test(f),b,"invalid-emulator-scheme");const q=!!p?.disableWarnings,se=_i(f),{host:tt,port:Ot}=function ci(I){const f=_i(I),p=/(\/\/)?([^?#/]+)/.exec(I.substr(f.length));if(!p)return{host:"",port:null};const b=p[2].split("@").pop()||"",q=/^(\[[^\]]+\])(:|$)/.exec(b);if(q){const se=q[1];return{host:se,port:$r(b.substr(se.length+1))}}{const[se,tt]=b.split(":");return{host:se,port:$r(tt)}}}(f);b.config.emulator={url:`${se}//${tt}${null===Ot?"":`:${Ot}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:tt,port:Ot,protocol:se.replace(":",""),options:Object.freeze({disableWarnings:q})}),q||function us(){function I(){const f=document.createElement("p"),p=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}function _i(I){const f=I.indexOf(":");return f<0?"":I.substr(0,f+1)}function $r(I){if(!I)return null;const f=Number(I);return isNaN(f)?null:f}class Hr{constructor(f,p){this.providerId=f,this.signInMethod=p}toJSON(){return We("not implemented")}_getIdTokenResponse(f){return We("not implemented")}_linkToIdToken(f,p){return We("not implemented")}_getReauthenticationResolver(f){return We("not implemented")}}function Gr(I,f){return br.apply(this,arguments)}function br(){return(br=(0,c.Z)(function*(I,f){return qe(I,"POST","/v1/accounts:resetPassword",Re(I,f))})).apply(this,arguments)}function ls(I,f){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,c.Z)(function*(I,f){return qe(I,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function zo(I,f){return zr.apply(this,arguments)}function zr(){return(zr=(0,c.Z)(function*(I,f){return qe(I,"POST","/v1/accounts:update",Re(I,f))})).apply(this,arguments)}function Lr(){return(Lr=(0,c.Z)(function*(I,f){return Un(I,"POST","/v1/accounts:signInWithPassword",Re(I,f))})).apply(this,arguments)}function bi(I,f){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,c.Z)(function*(I,f){return qe(I,"POST","/v1/accounts:sendOobCode",Re(I,f))})).apply(this,arguments)}function Be(I,f){return it.apply(this,arguments)}function it(){return(it=(0,c.Z)(function*(I,f){return bi(I,f)})).apply(this,arguments)}function Mt(I,f){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,c.Z)(function*(I,f){return bi(I,f)})).apply(this,arguments)}function un(I,f){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,c.Z)(function*(I,f){return bi(I,f)})).apply(this,arguments)}function Rr(I,f){return ir.apply(this,arguments)}function ir(){return(ir=(0,c.Z)(function*(I,f){return bi(I,f)})).apply(this,arguments)}function Ki(){return(Ki=(0,c.Z)(function*(I,f){return Un(I,"POST","/v1/accounts:signInWithEmailLink",Re(I,f))})).apply(this,arguments)}function Ai(){return(Ai=(0,c.Z)(function*(I,f){return Un(I,"POST","/v1/accounts:signInWithEmailLink",Re(I,f))})).apply(this,arguments)}class Ei extends Hr{constructor(f,p,b,q=null){super("password",b),this._email=f,this._password=p,this._tenantId=q}static _fromEmailAndPassword(f,p){return new Ei(f,p,"password")}static _fromEmailAndCode(f,p,b=null){return new Ei(f,p,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(f){var p=this;return(0,c.Z)(function*(){switch(p.signInMethod){case"password":return function Wi(I,f){return Lr.apply(this,arguments)}(f,{returnSecureToken:!0,email:p._email,password:p._password});case"emailLink":return function ar(I,f){return Ki.apply(this,arguments)}(f,{email:p._email,oobCode:p._password});default:ft(f,"internal-error")}})()}_linkToIdToken(f,p){var b=this;return(0,c.Z)(function*(){switch(b.signInMethod){case"password":return ls(f,{idToken:p,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function cs(I,f){return Ai.apply(this,arguments)}(f,{idToken:p,email:b._email,oobCode:b._password});default:ft(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Is(I,f){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,c.Z)(function*(I,f){return Un(I,"POST","/v1/accounts:signInWithIdp",Re(I,f))})).apply(this,arguments)}class rs extends Hr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const p=new rs(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(p.idToken=f.idToken),f.accessToken&&(p.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(p.nonce=f.nonce),f.pendingToken&&(p.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(p.accessToken=f.oauthToken,p.secret=f.oauthTokenSecret):ft("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:q}=p,se=(0,Te._T)(p,["providerId","signInMethod"]);if(!b||!q)return null;const tt=new rs(b,q);return tt.idToken=se.idToken||void 0,tt.accessToken=se.accessToken||void 0,tt.secret=se.secret,tt.nonce=se.nonce,tt.pendingToken=se.pendingToken||null,tt}_getIdTokenResponse(f){return Is(f,this.buildRequest())}_linkToIdToken(f,p){const b=this.buildRequest();return b.idToken=p,Is(f,b)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,Is(f,p)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),f.postBody=(0,k.xO)(p)}return f}}function ua(I,f){return Os.apply(this,arguments)}function Os(){return(Os=(0,c.Z)(function*(I,f){return qe(I,"POST","/v1/accounts:sendVerificationCode",Re(I,f))})).apply(this,arguments)}function Ps(){return(Ps=(0,c.Z)(function*(I,f){return Un(I,"POST","/v1/accounts:signInWithPhoneNumber",Re(I,f))})).apply(this,arguments)}function ks(){return(ks=(0,c.Z)(function*(I,f){const p=yield Un(I,"POST","/v1/accounts:signInWithPhoneNumber",Re(I,f));if(p.temporaryProof)throw On(I,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const Ks={USER_NOT_FOUND:"user-not-found"};function Oo(){return(Oo=(0,c.Z)(function*(I,f){return Un(I,"POST","/v1/accounts:signInWithPhoneNumber",Re(I,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Ks)})).apply(this,arguments)}class Zi extends Hr{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,p){return new Zi({verificationId:f,verificationCode:p})}static _fromTokenResponse(f,p){return new Zi({phoneNumber:f,temporaryProof:p})}_getIdTokenResponse(f){return function Wo(I,f){return Ps.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,p){return function qi(I,f){return ks.apply(this,arguments)}(f,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Ro(I,f){return Oo.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:p,verificationId:b,verificationCode:q}=this.params;return f&&p?{temporaryProof:f,phoneNumber:p}:{sessionInfo:b,code:q}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:p,verificationCode:b,phoneNumber:q,temporaryProof:se}=f;return b||p||q||se?new Zi({verificationId:p,verificationCode:b,phoneNumber:q,temporaryProof:se}):null}}class Kr{constructor(f){var p,b,q,se,tt,Ot;const _n=(0,k.zd)((0,k.pd)(f)),jn=null!==(p=_n.apiKey)&&void 0!==p?p:null,lr=null!==(b=_n.oobCode)&&void 0!==b?b:null,pi=function fo(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(q=_n.mode)&&void 0!==q?q:null);Fe(jn&&lr&&pi,"argument-error"),this.apiKey=jn,this.operation=pi,this.code=lr,this.continueUrl=null!==(se=_n.continueUrl)&&void 0!==se?se:null,this.languageCode=null!==(tt=_n.languageCode)&&void 0!==tt?tt:null,this.tenantId=null!==(Ot=_n.tenantId)&&void 0!==Ot?Ot:null}static parseLink(f){const p=function po(I){const f=(0,k.zd)((0,k.pd)(I)).link,p=f?(0,k.zd)((0,k.pd)(f)).deep_link_id:null,b=(0,k.zd)((0,k.pd)(I)).deep_link_id;return(b?(0,k.zd)((0,k.pd)(b)).link:null)||b||p||f||I}(f);try{return new Kr(p)}catch{return null}}}let Ds=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(p,b){return Ei._fromEmailAndPassword(p,b)}static credentialWithLink(p,b){const q=Kr.parseLink(b);return Fe(q,"argument-error"),Ei._fromEmailAndCode(p,q.code,q.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class qr{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class ds extends qr{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Yn extends ds{static credentialFromJSON(f){const p="string"==typeof f?JSON.parse(f):f;return Fe("providerId"in p&&"signInMethod"in p,"argument-error"),rs._fromParams(p)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return Fe(f.idToken||f.accessToken,"argument-error"),rs._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Yn.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Yn.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:p,oauthAccessToken:b,oauthTokenSecret:q,pendingToken:se,nonce:tt,providerId:Ot}=f;if(!b&&!q&&!p&&!se||!Ot)return null;try{return new Yn(Ot)._credential({idToken:p,accessToken:b,nonce:tt,pendingToken:se})}catch{return null}}}let hs=(()=>{class I extends ds{constructor(){super("facebook.com")}static credential(p){return rs._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return I.credentialFromTaggedObject(p)}static credentialFromError(p){return I.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return I.credential(p.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),is=(()=>{class I extends ds{constructor(){super("google.com"),this.addScope("profile")}static credential(p,b){return rs._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:b})}static credentialFromResult(p){return I.credentialFromTaggedObject(p)}static credentialFromError(p){return I.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:b,oauthAccessToken:q}=p;if(!b&&!q)return null;try{return I.credential(b,q)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),Qi=(()=>{class I extends ds{constructor(){super("github.com")}static credential(p){return rs._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return I.credentialFromTaggedObject(p)}static credentialFromError(p){return I.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return I.credential(p.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class Cs extends Hr{constructor(f,p){super(f,f),this.pendingToken=p}_getIdTokenResponse(f){return Is(f,this.buildRequest())}_linkToIdToken(f,p){const b=this.buildRequest();return b.idToken=p,Is(f,b)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,Is(f,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:q,pendingToken:se}=p;return b&&q&&se&&b===q?new Cs(b,se):null}static _create(f,p){return new Cs(f,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class wi extends qr{constructor(f){Fe(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return wi.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return wi.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const p=Cs.fromJSON(f);return Fe(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:p,providerId:b}=f;if(!p||!b)return null;try{return Cs._create(b,p)}catch{return null}}}let ss=(()=>{class I extends ds{constructor(){super("twitter.com")}static credential(p,b){return rs._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:b})}static credentialFromResult(p){return I.credentialFromTaggedObject(p)}static credentialFromError(p){return I.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:b,oauthTokenSecret:q}=p;if(!b||!q)return null;try{return I.credential(b,q)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function Ui(I,f){return fi.apply(this,arguments)}function fi(){return(fi=(0,c.Z)(function*(I,f){return Un(I,"POST","/v1/accounts:signUp",Re(I,f))})).apply(this,arguments)}class ri{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,p,b,q=!1){return(0,c.Z)(function*(){const se=yield ee._fromIdTokenResponse(f,b,q),tt=Fs(b);return new ri({user:se,providerId:tt,_tokenResponse:b,operationType:p})})()}static _forOperation(f,p,b){return(0,c.Z)(function*(){yield f._updateTokensIfNecessary(b,!0);const q=Fs(b);return new ri({user:f,providerId:q,_tokenResponse:b,operationType:p})})()}}function Fs(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function mo(I){return Po.apply(this,arguments)}function Po(){return(Po=(0,c.Z)(function*(I){var f;const p=pn(I);if(yield p._initializationPromise,null!==(f=p.currentUser)&&void 0!==f&&f.isAnonymous)return new ri({user:p.currentUser,providerId:null,operationType:"signIn"});const b=yield Ui(p,{returnSecureToken:!0}),q=yield ri._fromIdTokenResponse(p,"signIn",b,!0);return yield p._updateCurrentUser(q.user),q})).apply(this,arguments)}class Or extends k.ZR{constructor(f,p,b,q){var se;super(p.code,p.message),this.operationType=b,this.user=q,Object.setPrototypeOf(this,Or.prototype),this.customData={appName:f.name,tenantId:null!==(se=f.tenantId)&&void 0!==se?se:void 0,_serverResponse:p.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(f,p,b,q){return new Or(f,p,b,q)}}function yo(I,f,p,b){return("reauthenticate"===f?p._getReauthenticationResolver(I):p._getIdTokenResponse(I)).catch(se=>{throw"auth/multi-factor-auth-required"===se.code?Or._fromErrorAndOperation(I,se,f,b):se})}function Ko(I){return new Set(I.map(({providerId:f})=>f).filter(f=>!!f))}function Bi(I,f){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,c.Z)(function*(I,f){const p=(0,k.m9)(I);yield ji(!0,p,f);const{providerUserInfo:b}=yield jt(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[f]}),q=Ko(b||[]);return p.providerData=p.providerData.filter(se=>q.has(se.providerId)),q.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p})).apply(this,arguments)}function Mi(I,f){return fs.apply(this,arguments)}function fs(){return(fs=(0,c.Z)(function*(I,f,p=!1){const b=yield ht(I,f._linkToIdToken(I.auth,yield I.getIdToken()),p);return ri._forOperation(I,"link",b)})).apply(this,arguments)}function ji(I,f,p){return yr.apply(this,arguments)}function yr(){return(yr=(0,c.Z)(function*(I,f,p){yield Zn(f);const q=!1===I?"provider-already-linked":"no-such-provider";Fe(Ko(f.providerData).has(p)===I,f.auth,q)})).apply(this,arguments)}function Ls(I,f){return ps.apply(this,arguments)}function ps(){return(ps=(0,c.Z)(function*(I,f,p=!1){var b;const{auth:q}=I,se="reauthenticate";try{const tt=yield ht(I,yo(q,se,f,I),p);Fe(tt.idToken,q,"internal-error");const Ot=pe(tt.idToken);Fe(Ot,q,"internal-error");const{sub:_n}=Ot;return Fe(I.uid===_n,q,"user-mismatch"),ri._forOperation(I,se,tt)}catch(tt){throw"auth/user-not-found"===(null===(b=tt)||void 0===b?void 0:b.code)&&ft(q,"user-mismatch"),tt}})).apply(this,arguments)}function so(I,f){return $i.apply(this,arguments)}function $i(){return($i=(0,c.Z)(function*(I,f,p=!1){const b="signIn",q=yield yo(I,b,f),se=yield ri._fromIdTokenResponse(I,b,q);return p||(yield I._updateCurrentUser(se.user)),se})).apply(this,arguments)}function vo(I,f){return ii.apply(this,arguments)}function ii(){return(ii=(0,c.Z)(function*(I,f){return so(pn(I),f)})).apply(this,arguments)}function Fn(I,f){return gs.apply(this,arguments)}function gs(){return(gs=(0,c.Z)(function*(I,f){const p=(0,k.m9)(I);return yield ji(!1,p,f.providerId),Mi(p,f)})).apply(this,arguments)}function ko(I,f){return di.apply(this,arguments)}function di(){return(di=(0,c.Z)(function*(I,f){return Ls((0,k.m9)(I),f)})).apply(this,arguments)}function Vs(I,f){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,c.Z)(function*(I,f){return Un(I,"POST","/v1/accounts:signInWithCustomToken",Re(I,f))})).apply(this,arguments)}function Ti(I,f){return Us.apply(this,arguments)}function Us(){return(Us=(0,c.Z)(function*(I,f){const p=pn(I),b=yield Vs(p,{token:f,returnSecureToken:!0}),q=yield ri._fromIdTokenResponse(p,"signIn",b);return yield p._updateCurrentUser(q.user),q})).apply(this,arguments)}class Br{constructor(f,p){this.factorId=f,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(f,p){return"phoneInfo"in p?Lt._fromServerResponse(f,p):ft(f,"internal-error")}}class Lt extends Br{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,p){return new Lt(p)}}function er(I,f,p){var b;Fe((null===(b=p.url)||void 0===b?void 0:b.length)>0,I,"invalid-continue-uri"),Fe(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),f.continueUrl=p.url,f.dynamicLinkDomain=p.dynamicLinkDomain,f.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(Fe(p.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),f.iOSBundleId=p.iOS.bundleId),p.android&&(Fe(p.android.packageName.length>0,I,"missing-android-pkg-name"),f.androidInstallApp=p.android.installApp,f.androidMinimumVersionCode=p.android.minimumVersion,f.androidPackageName=p.android.packageName)}function Fo(I,f,p){return ms.apply(this,arguments)}function ms(){return(ms=(0,c.Z)(function*(I,f,p){const b=(0,k.m9)(I),q={requestType:"PASSWORD_RESET",email:f};p&&er(b,q,p),yield Mt(b,q)})).apply(this,arguments)}function Xr(I,f,p){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,c.Z)(function*(I,f,p){yield Gr((0,k.m9)(I),{oobCode:f,newPassword:p})})).apply(this,arguments)}function bs(I,f){return ai.apply(this,arguments)}function ai(){return(ai=(0,c.Z)(function*(I,f){yield zo((0,k.m9)(I),{oobCode:f})})).apply(this,arguments)}function Ii(I,f){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,c.Z)(function*(I,f){const p=(0,k.m9)(I),b=yield Gr(p,{oobCode:f}),q=b.requestType;switch(Fe(q,p,"internal-error"),q){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Fe(b.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Fe(b.mfaInfo,p,"internal-error");default:Fe(b.email,p,"internal-error")}let se=null;return b.mfaInfo&&(se=Br._fromServerResponse(pn(p),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:se},operation:q}})).apply(this,arguments)}function _o(I,f){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,c.Z)(function*(I,f){const{data:p}=yield Ii((0,k.m9)(I),f);return p.email})).apply(this,arguments)}function L(I,f,p){return O.apply(this,arguments)}function O(){return(O=(0,c.Z)(function*(I,f,p){const b=pn(I),q=yield Ui(b,{returnSecureToken:!0,email:f,password:p}),se=yield ri._fromIdTokenResponse(b,"signIn",q);return yield b._updateCurrentUser(se.user),se})).apply(this,arguments)}function A(I,f,p){return vo((0,k.m9)(I),Ds.credential(f,p))}function Q(I,f,p){return gt.apply(this,arguments)}function gt(){return(gt=(0,c.Z)(function*(I,f,p){const b=(0,k.m9)(I),q={requestType:"EMAIL_SIGNIN",email:f};Fe(p.handleCodeInApp,b,"argument-error"),p&&er(b,q,p),yield un(b,q)})).apply(this,arguments)}function hn(I,f){return"EMAIL_SIGNIN"===Kr.parseLink(f)?.operation}function ur(I,f,p){return xi.apply(this,arguments)}function xi(){return(xi=(0,c.Z)(function*(I,f,p){const b=(0,k.m9)(I),q=Ds.credentialWithLink(f,p||Tt());return Fe(q._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),vo(b,q)})).apply(this,arguments)}function Ni(I,f){return Di.apply(this,arguments)}function Di(){return(Di=(0,c.Z)(function*(I,f){return qe(I,"POST","/v1/accounts:createAuthUri",Re(I,f))})).apply(this,arguments)}function wo(I,f){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,c.Z)(function*(I,f){const b={identifier:f,continueUri:Rt()?Tt():"http://localhost"},{signinMethods:q}=yield Ni((0,k.m9)(I),b);return q||[]})).apply(this,arguments)}function Io(I,f){return oo.apply(this,arguments)}function oo(){return(oo=(0,c.Z)(function*(I,f){const p=(0,k.m9)(I),q={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};f&&er(p.auth,q,f);const{email:se}=yield Be(p.auth,q);se!==I.email&&(yield I.reload())})).apply(this,arguments)}function Do(I,f,p){return qs.apply(this,arguments)}function qs(){return(qs=(0,c.Z)(function*(I,f,p){const b=(0,k.m9)(I),se={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:f};p&&er(b.auth,se,p);const{email:tt}=yield Rr(b.auth,se);tt!==I.email&&(yield I.reload())})).apply(this,arguments)}function la(I,f){return ao.apply(this,arguments)}function ao(){return(ao=(0,c.Z)(function*(I,f){return qe(I,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Co(I,f){return bo.apply(this,arguments)}function bo(){return(bo=(0,c.Z)(function*(I,{displayName:f,photoURL:p}){if(void 0===f&&void 0===p)return;const b=(0,k.m9)(I),se={idToken:yield b.getIdToken(),displayName:f,photoUrl:p,returnSecureToken:!0},tt=yield ht(b,la(b.auth,se));b.displayName=tt.displayName||null,b.photoURL=tt.photoUrl||null;const Ot=b.providerData.find(({providerId:_n})=>"password"===_n);Ot&&(Ot.displayName=b.displayName,Ot.photoURL=b.photoURL),yield b._updateTokensIfNecessary(tt)})).apply(this,arguments)}function Da(I,f){return G((0,k.m9)(I),f,null)}function S(I,f){return G((0,k.m9)(I),null,f)}function G(I,f,p){return N.apply(this,arguments)}function N(){return(N=(0,c.Z)(function*(I,f,p){const{auth:b}=I,se={idToken:yield I.getIdToken(),returnSecureToken:!0};f&&(se.email=f),p&&(se.password=p);const tt=yield ht(I,ls(b,se));yield I._updateTokensIfNecessary(tt,!0)})).apply(this,arguments)}class Ie{constructor(f,p,b={}){this.isNewUser=f,this.providerId=p,this.profile=b}}class yt extends Ie{constructor(f,p,b,q){super(f,p,b),this.username=q}}class It extends Ie{constructor(f,p){super(f,"facebook.com",p)}}class Tn extends yt{constructor(f,p){super(f,"github.com",p,"string"==typeof p?.login?p?.login:null)}}class wr extends Ie{constructor(f,p){super(f,"google.com",p)}}class Tr extends yt{constructor(f,p,b){super(f,"twitter.com",p,b)}}function Sr(I){const{user:f,_tokenResponse:p}=I;return f.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function Z(I){var f,p;if(!I)return null;const{providerId:b}=I,q=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},se=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!b&&I?.idToken){const tt=null===(p=null===(f=pe(I.idToken))||void 0===f?void 0:f.firebase)||void 0===p?void 0:p.sign_in_provider;if(tt)return new Ie(se,"anonymous"!==tt&&"custom"!==tt?tt:null)}if(!b)return null;switch(b){case"facebook.com":return new It(se,q);case"github.com":return new Tn(se,q);case"google.com":return new wr(se,q);case"twitter.com":return new Tr(se,q,I.screenName||null);case"custom":case"anonymous":return new Ie(se,null);default:return new Ie(se,b,q)}}(p)}class Se{constructor(f,p,b){this.type=f,this.credential=p,this.auth=b}static _fromIdtoken(f,p){return new Se("enroll",f,p)}static _fromMfaPendingCredential(f){return new Se("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var p,b;if(f?.multiFactorSession){if(null!==(p=f.multiFactorSession)&&void 0!==p&&p.pendingCredential)return Se._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(b=f.multiFactorSession)&&void 0!==b&&b.idToken)return Se._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Oe{constructor(f,p,b){this.session=f,this.hints=p,this.signInResolver=b}static _fromError(f,p){const b=pn(f),q=p.customData._serverResponse,se=(q.mfaInfo||[]).map(Ot=>Br._fromServerResponse(b,Ot));Fe(q.mfaPendingCredential,b,"internal-error");const tt=Se._fromMfaPendingCredential(q.mfaPendingCredential);return new Oe(tt,se,function(){var Ot=(0,c.Z)(function*(_n){const jn=yield _n._process(b,tt);delete q.mfaInfo,delete q.mfaPendingCredential;const lr=Object.assign(Object.assign({},q),{idToken:jn.idToken,refreshToken:jn.refreshToken});switch(p.operationType){case"signIn":const pi=yield ri._fromIdTokenResponse(b,p.operationType,lr);return yield b._updateCurrentUser(pi.user),pi;case"reauthenticate":return Fe(p.user,b,"internal-error"),ri._forOperation(p.user,p.operationType,lr);default:ft(b,"internal-error")}});return function(_n){return Ot.apply(this,arguments)}}())}resolveSignIn(f){var p=this;return(0,c.Z)(function*(){return p.signInResolver(f)})()}}function _e(I,f){var p;const b=(0,k.m9)(I),q=f;return Fe(f.customData.operationType,b,"argument-error"),Fe(null===(p=q.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,b,"argument-error"),Oe._fromError(b,q)}function ct(I,f){return qe(I,"POST","/v2/accounts/mfaEnrollment:start",Re(I,f))}class zt{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(b=>Br._fromServerResponse(f.auth,b)))})}static _fromUser(f){return new zt(f)}getSession(){var f=this;return(0,c.Z)(function*(){return Se._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,p){var b=this;return(0,c.Z)(function*(){const q=f,se=yield b.getSession(),tt=yield ht(b.user,q._process(b.user.auth,se,p));return yield b.user._updateTokensIfNecessary(tt),b.user.reload()})()}unenroll(f){var p=this;return(0,c.Z)(function*(){var b;const q="string"==typeof f?f:f.uid,se=yield p.user.getIdToken(),tt=yield ht(p.user,function Sn(I,f){return qe(I,"POST","/v2/accounts/mfaEnrollment:withdraw",Re(I,f))}(p.user.auth,{idToken:se,mfaEnrollmentId:q}));p.enrolledFactors=p.enrolledFactors.filter(({uid:Ot})=>Ot!==q),yield p.user._updateTokensIfNecessary(tt);try{yield p.user.reload()}catch(Ot){if("auth/user-token-expired"!==(null===(b=Ot)||void 0===b?void 0:b.code))throw Ot}})()}}const en=new WeakMap;function Hn(I){const f=(0,k.m9)(I);return en.has(f)||en.set(f,zt._fromUser(f)),en.get(f)}const At="__sak";class et{constructor(f,p){this.storageRetriever=f,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(At,"1"),this.storage.removeItem(At),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,p){return this.storage.setItem(f,JSON.stringify(p)),Promise.resolve()}_get(f){const p=this.storage.getItem(f);return Promise.resolve(p?JSON.parse(p):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const ei=(()=>{class I extends et{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,b)=>this.onStorageEvent(p,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function St(){const I=(0,k.z$)();return Ce(I)||le(I)}()&&function wn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ft(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const b of Object.keys(this.listeners)){const q=this.storage.getItem(b),se=this.localCache[b];q!==se&&p(b,se,q)}}onStorageEvent(p,b=!1){if(!p.key)return void this.forAllChangedKeys((Ot,_n,jn)=>{this.notifyListeners(Ot,jn)});const q=p.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ot=this.storage.getItem(q);if(p.newValue!==Ot)null!==p.newValue?this.storage.setItem(q,p.newValue):this.storage.removeItem(q);else if(this.localCache[q]===p.newValue&&!b)return}const se=()=>{const Ot=this.storage.getItem(q);!b&&this.localCache[q]===Ot||this.notifyListeners(q,Ot)},tt=this.storage.getItem(q);!function Ue(){return(0,k.w1)()&&10===document.documentMode}()||tt===p.newValue||p.newValue===p.oldValue?se():setTimeout(se,10)}notifyListeners(p,b){this.localCache[p]=b;const q=this.listeners[p];if(q)for(const se of Array.from(q))se(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,b,q)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:b,newValue:q}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(b)}_removeListener(p,b){this.listeners[p]&&(this.listeners[p].delete(b),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,b){var q=()=>super._set,se=this;return(0,c.Z)(function*(){yield q().call(se,p,b),se.localCache[p]=JSON.stringify(b)})()}_get(p){var b=()=>super._get,q=this;return(0,c.Z)(function*(){const se=yield b().call(q,p);return q.localCache[p]=JSON.stringify(se),se})()}_remove(p){var b=()=>super._remove,q=this;return(0,c.Z)(function*(){yield b().call(q,p),delete q.localCache[p]})()}}return I.type="LOCAL",I})(),hi=(()=>{class I extends et{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,b){}_removeListener(p,b){}}return I.type="SESSION",I})();let ys=(()=>{class I{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const b=this.receivers.find(se=>se.isListeningto(p));if(b)return b;const q=new I(p);return this.receivers.push(q),q}isListeningto(p){return this.eventTarget===p}handleEvent(p){var b=this;return(0,c.Z)(function*(){const q=p,{eventId:se,eventType:tt,data:Ot}=q.data,_n=b.handlersMap[tt];if(!_n?.size)return;q.ports[0].postMessage({status:"ack",eventId:se,eventType:tt});const jn=Array.from(_n).map(function(){var pi=(0,c.Z)(function*(Ua){return Ua(q.origin,Ot)});return function(Ua){return pi.apply(this,arguments)}}()),lr=yield function Zs(I){return Promise.all(I.map(function(){var f=(0,c.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(b){return{fulfilled:!1,reason:b}}});return function(p){return f.apply(this,arguments)}}()))}(jn);q.ports[0].postMessage({status:"done",eventId:se,eventType:tt,response:lr})})()}_subscribe(p,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(b)}_unsubscribe(p,b){this.handlersMap[p]&&b&&this.handlersMap[p].delete(b),(!b||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function Bs(I="",f=10){let p="";for(let b=0;b<f;b++)p+=Math.floor(10*Math.random());return I+p}class $a{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,p,b=50){var q=this;return(0,c.Z)(function*(){const se=typeof MessageChannel<"u"?new MessageChannel:null;if(!se)throw new Error("connection_unavailable");let tt,Ot;return new Promise((_n,jn)=>{const lr=Bs("",20);se.port1.start();const pi=setTimeout(()=>{jn(new Error("unsupported_event"))},b);Ot={messageChannel:se,onMessage(Ua){const Ci=Ua;if(Ci.data.eventId===lr)switch(Ci.data.status){case"ack":clearTimeout(pi),tt=setTimeout(()=>{jn(new Error("timeout"))},3e3);break;case"done":clearTimeout(tt),_n(Ci.data.response);break;default:clearTimeout(pi),clearTimeout(tt),jn(new Error("invalid_response"))}}},q.handlers.add(Ot),se.port1.addEventListener("message",Ot.onMessage),q.target.postMessage({eventType:f,eventId:lr,data:p},[se.port2])}).finally(()=>{Ot&&q.removeMessageHandler(Ot)})})()}}function Wr(){return window}function Rn(){return typeof Wr().WorkerGlobalScope<"u"&&"function"==typeof Wr().importScripts}function vn(){return(vn=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const or="firebaseLocalStorageDb",Xi="firebaseLocalStorage",pr="fbase_key";class Qt{constructor(f){this.request=f}toPromise(){return new Promise((f,p)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Ar(I,f){return I.transaction([Xi],f?"readwrite":"readonly").objectStore(Xi)}function Ys(){const I=indexedDB.open(or,1);return new Promise((f,p)=>{I.addEventListener("error",()=>{p(I.error)}),I.addEventListener("upgradeneeded",()=>{const b=I.result;try{b.createObjectStore(Xi,{keyPath:pr})}catch(q){p(q)}}),I.addEventListener("success",(0,c.Z)(function*(){const b=I.result;b.objectStoreNames.contains(Xi)?f(b):(b.close(),yield function ca(){const I=indexedDB.deleteDatabase(or);return new Qt(I).toPromise()}(),f(yield Ys()))}))})}function li(I,f,p){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,c.Z)(function*(I,f,p){const b=Ar(I,!0).put({[pr]:f,value:p});return new Qt(b).toPromise()})).apply(this,arguments)}function Ss(){return(Ss=(0,c.Z)(function*(I,f){const p=Ar(I,!1).get(f),b=yield new Qt(p).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function Lo(I,f){const p=Ar(I,!0).delete(f);return new Qt(p).toPromise()}const da=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,c.Z)(function*(){return p.db||(p.db=yield Ys()),p.db})()}_withRetries(p){var b=this;return(0,c.Z)(function*(){let q=0;for(;;)try{const se=yield b._openDb();return yield p(se)}catch(se){if(q++>3)throw se;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,c.Z)(function*(){return Rn()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,c.Z)(function*(){p.receiver=ys._getInstance(function Kt(){return Rn()?self:null}()),p.receiver._subscribe("keyChanged",function(){var b=(0,c.Z)(function*(q,se){return{keyProcessed:(yield p._poll()).includes(se.key)}});return function(q,se){return b.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var b=(0,c.Z)(function*(q,se){return["keyChanged"]});return function(q,se){return b.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,c.Z)(function*(){var b,q;if(p.activeServiceWorker=yield function So(){return vn.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new $a(p.activeServiceWorker);const se=yield p.sender._send("ping",{},800);!se||(null===(b=se[0])||void 0===b?void 0:b.fulfilled)&&(null===(q=se[0])||void 0===q?void 0:q.value.includes("keyChanged"))&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var b=this;return(0,c.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function cn(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:p},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const p=yield Ys();return yield li(p,At,"1"),yield Lo(p,At),!0}catch{}return!1})()}_withPendingWrite(p){var b=this;return(0,c.Z)(function*(){b.pendingWrites++;try{yield p()}finally{b.pendingWrites--}})()}_set(p,b){var q=this;return(0,c.Z)(function*(){return q._withPendingWrite((0,c.Z)(function*(){return yield q._withRetries(se=>li(se,p,b)),q.localCache[p]=b,q.notifyServiceWorker(p)}))})()}_get(p){var b=this;return(0,c.Z)(function*(){const q=yield b._withRetries(se=>function js(I,f){return Ss.apply(this,arguments)}(se,p));return b.localCache[p]=q,q})()}_remove(p){var b=this;return(0,c.Z)(function*(){return b._withPendingWrite((0,c.Z)(function*(){return yield b._withRetries(q=>Lo(q,p)),delete b.localCache[p],b.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,c.Z)(function*(){const b=yield p._withRetries(tt=>{const Ot=Ar(tt,!1).getAll();return new Qt(Ot).toPromise()});if(!b)return[];if(0!==p.pendingWrites)return[];const q=[],se=new Set;for(const{fbase_key:tt,value:Ot}of b)se.add(tt),JSON.stringify(p.localCache[tt])!==JSON.stringify(Ot)&&(p.notifyListeners(tt,Ot),q.push(tt));for(const tt of Object.keys(p.localCache))p.localCache[tt]&&!se.has(tt)&&(p.notifyListeners(tt,null),q.push(tt));return q})()}notifyListeners(p,b){this.localCache[p]=b;const q=this.listeners[p];if(q)for(const se of Array.from(q))se(b)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(b)}_removeListener(p,b){this.listeners[p]&&(this.listeners[p].delete(b),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})();function nu(I,f){return qe(I,"POST","/v2/accounts/mfaSignIn:start",Re(I,f))}function at(){return(at=(0,c.Z)(function*(I){return(yield qe(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Hi(I){return new Promise((f,p)=>{const b=document.createElement("script");b.setAttribute("src",I),b.onload=f,b.onerror=q=>{const se=ae("internal-error");se.customData=q,p(se)},b.type="text/javascript",b.charset="UTF-8",function Vo(){var I,f;return null!==(f=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==f?f:document}().appendChild(b)})}function Oa(I){return`__${I}${Math.floor(1e6*Math.random())}`}const Qs=1e12;class Uo{constructor(f){this.auth=f,this.counter=Qs,this._widgets=new Map}render(f,p){const b=this.counter;return this._widgets.set(b,new jr(f,this.auth.name,p||{})),this.counter++,b}reset(f){var p;const b=f||Qs;null===(p=this._widgets.get(b))||void 0===p||p.delete(),this._widgets.delete(b)}getResponse(f){var p;return(null===(p=this._widgets.get(f||Qs))||void 0===p?void 0:p.getResponse())||""}execute(f){var p=this;return(0,c.Z)(function*(){var b;return null===(b=p._widgets.get(f||Qs))||void 0===b||b.execute(),""})()}}class jr{constructor(f,p,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const q="string"==typeof f?document.getElementById(f):f;Fe(q,"argument-error",{appName:p}),this.container=q,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Wu(I){const f=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<I;b++)f.push(p.charAt(Math.floor(Math.random()*p.length)));return f.join("")}(50);const{callback:f,"expired-callback":p}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ru=Oa("rcb"),Ha=new Ct(3e4,6e4);class Dl{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=Wr().grecaptcha)||void 0===f||!f.render)}load(f,p=""){return Fe(function qo(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(p),f,"argument-error"),this.shouldResolveImmediately(p)?Promise.resolve(Wr().grecaptcha):new Promise((b,q)=>{const se=Wr().setTimeout(()=>{q(ae(f,"network-request-failed"))},Ha.get());Wr()[ru]=()=>{Wr().clearTimeout(se),delete Wr()[ru];const Ot=Wr().grecaptcha;if(!Ot)return void q(ae(f,"internal-error"));const _n=Ot.render;Ot.render=(jn,lr)=>{const pi=_n(jn,lr);return this.counter++,pi},this.hostLanguage=p,b(Ot)},Hi(`https://www.google.com/recaptcha/api.js??${(0,k.xO)({onload:ru,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(se),q(ae(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var p;return!(null===(p=Wr().grecaptcha)||void 0===p||!p.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ku{load(f){return(0,c.Z)(function*(){return new Uo(f)})()}clearedOneInstance(){}}const Yr="recaptcha",Cu={theme:"light",type:"image"};class xs{constructor(f,p=Object.assign({},Cu),b){this.parameters=p,this.type=Yr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=pn(b),this.isInvisible="invisible"===this.parameters.size,Fe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const q="string"==typeof f?document.getElementById(f):f;Fe(q,this.auth,"argument-error"),this.container=q,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ku:new Dl,this.validateStartingState()}verify(){var f=this;return(0,c.Z)(function*(){f.assertNotDestroyed();const p=yield f.render(),b=f.getAssertedRecaptcha();return b.getResponse(p)||new Promise(se=>{const tt=Ot=>{!Ot||(f.tokenChangeListeners.delete(tt),se(Ot))};f.tokenChangeListeners.add(tt),f.isInvisible&&b.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){Fe(!this.parameters.sitekey,this.auth,"argument-error"),Fe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Fe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return p=>{if(this.tokenChangeListeners.forEach(b=>b(p)),"function"==typeof f)f(p);else if("string"==typeof f){const b=Wr()[f];"function"==typeof b&&b(p)}}}assertNotDestroyed(){Fe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,c.Z)(function*(){if(yield f.init(),!f.widgetId){let p=f.container;if(!f.isInvisible){const b=document.createElement("div");p.appendChild(b),p=b}f.widgetId=f.getAssertedRecaptcha().render(p,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,c.Z)(function*(){Fe(Rt()&&!Rn(),f.auth,"internal-error"),yield function tr(){let I=null;return new Promise(f=>{"complete"!==document.readyState?(I=()=>f(),window.addEventListener("load",I)):f()}).catch(f=>{throw I&&window.removeEventListener("load",I),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const p=yield function ha(I){return at.apply(this,arguments)}(f.auth);Fe(p,f.auth,"internal-error"),f.parameters.sitekey=p})()}getAssertedRecaptcha(){return Fe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class pa{constructor(f,p){this.verificationId=f,this.onConfirmation=p}confirm(f){const p=Zi._fromVerification(this.verificationId,f);return this.onConfirmation(p)}}function Zo(I,f,p){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,c.Z)(function*(I,f,p){const b=pn(I),q=yield Qr(b,f,(0,k.m9)(p));return new pa(q,se=>vo(b,se))})).apply(this,arguments)}function Pa(I,f,p){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,c.Z)(function*(I,f,p){const b=(0,k.m9)(I);yield ji(!1,b,"phone");const q=yield Qr(b.auth,f,(0,k.m9)(p));return new pa(q,se=>Fn(b,se))})).apply(this,arguments)}function Bo(I,f,p){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,c.Z)(function*(I,f,p){const b=(0,k.m9)(I),q=yield Qr(b.auth,f,(0,k.m9)(p));return new pa(q,se=>ko(b,se))})).apply(this,arguments)}function Qr(I,f,p){return Js.apply(this,arguments)}function Js(){return(Js=(0,c.Z)(function*(I,f,p){var b;const q=yield p.verify();try{let se;if(Fe("string"==typeof q,I,"argument-error"),Fe(p.type===Yr,I,"argument-error"),se="string"==typeof f?{phoneNumber:f}:f,"session"in se){const tt=se.session;if("phoneNumber"in se)return Fe("enroll"===tt.type,I,"internal-error"),(yield ct(I,{idToken:tt.credential,phoneEnrollmentInfo:{phoneNumber:se.phoneNumber,recaptchaToken:q}})).phoneSessionInfo.sessionInfo;{Fe("signin"===tt.type,I,"internal-error");const Ot=(null===(b=se.multiFactorHint)||void 0===b?void 0:b.uid)||se.multiFactorUid;return Fe(Ot,I,"missing-multi-factor-info"),(yield nu(I,{mfaPendingCredential:tt.credential,mfaEnrollmentId:Ot,phoneSignInInfo:{recaptchaToken:q}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:tt}=yield ua(I,{phoneNumber:se.phoneNumber,recaptchaToken:q});return tt}}finally{p._reset()}})).apply(this,arguments)}function Ga(I,f){return iu.apply(this,arguments)}function iu(){return(iu=(0,c.Z)(function*(I,f){yield Mi((0,k.m9)(I),f)})).apply(this,arguments)}let ka=(()=>{class I{constructor(p){this.providerId=I.PROVIDER_ID,this.auth=pn(p)}verifyPhoneNumber(p,b){return Qr(this.auth,p,(0,k.m9)(b))}static credential(p,b){return Zi._fromVerification(p,b)}static credentialFromResult(p){return I.credentialFromTaggedObject(p)}static credentialFromError(p){return I.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:b,temporaryProof:q}=p;return b&&q?Zi._fromTokenResponse(b,q):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function ga(I,f){return f?Le(f):(Fe(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class Yo extends Hr{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Is(f,this._buildIdpRequest())}_linkToIdToken(f,p){return Is(f,this._buildIdpRequest(p))}_getReauthenticationResolver(f){return Is(f,this._buildIdpRequest())}_buildIdpRequest(f){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(p.idToken=f),p}}function ra(I){return so(I.auth,new Yo(I),I.bypassAuthState)}function es(I){const{auth:f,user:p}=I;return Fe(p,f,"internal-error"),Ls(p,new Yo(I),I.bypassAuthState)}function su(I){return E.apply(this,arguments)}function E(){return(E=(0,c.Z)(function*(I){const{auth:f,user:p}=I;return Fe(p,f,"internal-error"),Mi(p,new Yo(I),I.bypassAuthState)})).apply(this,arguments)}class w{constructor(f,p,b,q,se=!1){this.auth=f,this.resolver=b,this.user=q,this.bypassAuthState=se,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var f=this;return new Promise(function(){var p=(0,c.Z)(function*(b,q){f.pendingPromise={resolve:b,reject:q};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(se){f.reject(se)}});return function(b,q){return p.apply(this,arguments)}}())}onAuthEvent(f){var p=this;return(0,c.Z)(function*(){const{urlResponse:b,sessionId:q,postBody:se,tenantId:tt,error:Ot,type:_n}=f;if(Ot)return void p.reject(Ot);const jn={auth:p.auth,requestUri:b,sessionId:q,tenantId:tt||void 0,postBody:se||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(_n)(jn))}catch(lr){p.reject(lr)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return ra;case"linkViaPopup":case"linkViaRedirect":return su;case"reauthViaPopup":case"reauthViaRedirect":return es;default:ft(this.auth,"internal-error")}}resolve(f){Je(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Je(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const m=new Ct(2e3,1e4);function T(I,f,p){return P.apply(this,arguments)}function P(){return(P=(0,c.Z)(function*(I,f,p){const b=pn(I);Xe(I,f,qr);const q=ga(b,p);return new Xt(b,"signInViaPopup",f,q).executeNotNull()})).apply(this,arguments)}function K(I,f,p){return fe.apply(this,arguments)}function fe(){return(fe=(0,c.Z)(function*(I,f,p){const b=(0,k.m9)(I);Xe(b.auth,f,qr);const q=ga(b.auth,p);return new Xt(b.auth,"reauthViaPopup",f,q,b).executeNotNull()})).apply(this,arguments)}function be(I,f,p){return wt.apply(this,arguments)}function wt(){return(wt=(0,c.Z)(function*(I,f,p){const b=(0,k.m9)(I);Xe(b.auth,f,qr);const q=ga(b.auth,p);return new Xt(b.auth,"linkViaPopup",f,q,b).executeNotNull()})).apply(this,arguments)}let Xt=(()=>{class I extends w{constructor(p,b,q,se,tt){super(p,b,se,tt),this.provider=q,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var p=this;return(0,c.Z)(function*(){const b=yield p.execute();return Fe(b,p.auth,"internal-error"),b})()}onExecution(){var p=this;return(0,c.Z)(function*(){Je(1===p.filter.length,"Popup operations only handle one event");const b=Bs();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],b),p.authWindow.associatedEvent=b,p.resolver._originValidation(p.auth).catch(q=>{p.reject(q)}),p.resolver._isIframeWebStorageSupported(p.auth,q=>{q||p.reject(ae(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(ae(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const p=()=>{var b,q;this.pollId=null!==(q=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==q&&q.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ae(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(p,m.get())};p()}}return I.currentPopupAction=null,I})();const mn=new Map;class _r extends w{constructor(f,p,b=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,b),this.eventId=null}execute(){var f=()=>super.execute,p=this;return(0,c.Z)(function*(){let b=mn.get(p.auth._key());if(!b){try{const se=(yield function ts(I,f){return os.apply(this,arguments)}(p.resolver,p.auth))?yield f().call(p):null;b=()=>Promise.resolve(se)}catch(q){b=()=>Promise.reject(q)}mn.set(p.auth._key(),b)}return p.bypassAuthState||mn.set(p.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(f){var p=()=>super.onAuthEvent,b=this;return(0,c.Z)(function*(){if("signInViaRedirect"===f.type)return p().call(b,f);if("unknown"!==f.type){if(f.eventId){const q=yield b.auth._redirectUserForId(f.eventId);if(q)return b.user=q,p().call(b,f);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function os(){return(os=(0,c.Z)(function*(I,f){const p=Fa(f),b=Ca(I);if(!(yield b._isAvailable()))return!1;const q="true"===(yield b._get(p));return yield b._remove(p),q})).apply(this,arguments)}function Xs(I,f){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,c.Z)(function*(I,f){return Ca(I)._set(Fa(f),"true")})).apply(this,arguments)}function bu(){mn.clear()}function eo(I,f){mn.set(I._key(),f)}function Ca(I){return Le(I._redirectPersistence)}function Fa(I){return rn("pendingRedirect",I.config.apiKey,I.name)}function vs(I,f,p){return function Gi(I,f,p){return ti.apply(this,arguments)}(I,f,p)}function ti(){return(ti=(0,c.Z)(function*(I,f,p){const b=pn(I);Xe(I,f,qr);const q=ga(b,p);return yield Xs(q,b),q._openRedirect(b,f,"signInViaRedirect")})).apply(this,arguments)}function Cl(I,f,p){return function x(I,f,p){return F.apply(this,arguments)}(I,f,p)}function F(){return(F=(0,c.Z)(function*(I,f,p){const b=(0,k.m9)(I);Xe(b.auth,f,qr);const q=ga(b.auth,p);yield Xs(q,b.auth);const se=yield gr(b);return q._openRedirect(b.auth,f,"reauthViaRedirect",se)})).apply(this,arguments)}function Y(I,f,p){return function ye(I,f,p){return Qe.apply(this,arguments)}(I,f,p)}function Qe(){return(Qe=(0,c.Z)(function*(I,f,p){const b=(0,k.m9)(I);Xe(b.auth,f,qr);const q=ga(b.auth,p);yield ji(!1,b,f.providerId),yield Xs(q,b.auth);const se=yield gr(b);return q._openRedirect(b.auth,f,"linkViaRedirect",se)})).apply(this,arguments)}function Et(I,f){return $t.apply(this,arguments)}function $t(){return($t=(0,c.Z)(function*(I,f){return yield pn(I)._initializationPromise,fn(I,f,!1)})).apply(this,arguments)}function fn(I,f){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,c.Z)(function*(I,f,p=!1){const b=pn(I),q=ga(b,f),tt=yield new _r(b,q,p).execute();return tt&&!p&&(delete tt.user._redirectEventId,yield b._persistUserIfCurrent(tt.user),yield b._setRedirectUser(null,f)),tt})).apply(this,arguments)}function gr(I){return vr.apply(this,arguments)}function vr(){return(vr=(0,c.Z)(function*(I){const f=Bs(`${I.uid}:::`);return I._redirectEventId=f,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),f})).apply(this,arguments)}class zi{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let p=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(f,b)&&(p=!0,this.sendToConsumer(f,b),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function au(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ou(I);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=f,p=!0)),p}sendToConsumer(f,p){var b;if(f.error&&!ou(f)){const q=(null===(b=f.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";p.onError(ae(this.auth,q))}else p.onAuthEvent(f)}isEventForConsumer(f,p){const b=null===p.eventId||!!f.eventId&&f.eventId===p.eventId;return p.filter.includes(f.type)&&b}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(to(f))}saveEventToCache(f){this.cachedEventUids.add(to(f)),this.lastProcessedEventTime=Date.now()}}function to(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(f=>f).join("-")}function ou({type:I,error:f}){return"unknown"===I&&"auth/no-auth-event"===f?.code}function jo(I){return lo.apply(this,arguments)}function lo(){return(lo=(0,c.Z)(function*(I,f={}){return qe(I,"GET","/v1/projects",f)})).apply(this,arguments)}const ba=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Tu=/^https?/;function ya(){return(ya=(0,c.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:f}=yield jo(I);for(const p of f)try{if(va(p))return}catch{}ft(I,"unauthorized-domain")})).apply(this,arguments)}function va(I){const f=Tt(),{protocol:p,hostname:b}=new URL(f);if(I.startsWith("chrome-extension://")){const tt=new URL(I);return""===tt.hostname&&""===b?"chrome-extension:"===p&&I.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===p&&tt.hostname===b}if(!Tu.test(p))return!1;if(ba.test(I))return b===I;const q=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+q+"|"+q+")$","i").test(b)}const Xc=new Ct(3e4,6e4);function uu(){const I=Wr().___jsl;if(I?.H)for(const f of Object.keys(I.H))if(I.H[f].r=I.H[f].r||[],I.H[f].L=I.H[f].L||[],I.H[f].r=[...I.H[f].L],I.CP)for(let p=0;p<I.CP.length;p++)I.CP[p]=null}let La=null;function bl(I){return La=La||function ed(I){return new Promise((f,p)=>{var b,q,se;function tt(){uu(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{uu(),p(ae(I,"network-request-failed"))},timeout:Xc.get()})}if(null!==(q=null===(b=Wr().gapi)||void 0===b?void 0:b.iframes)&&void 0!==q&&q.Iframe)f(gapi.iframes.getContext());else{if(null===(se=Wr().gapi)||void 0===se||!se.load){const Ot=Oa("iframefcb");return Wr()[Ot]=()=>{gapi.load?tt():p(ae(I,"network-request-failed"))},Hi(`https://apis.google.com/js/api.js?onload=${Ot}`).catch(_n=>p(_n))}tt()}}).catch(f=>{throw La=null,f})}(I),La}const uc=new Ct(5e3,15e3),qu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Tl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Sl(I){const f=I.config;Fe(f.authDomain,I,"auth-domain-config-required");const p=f.emulator?sn(f,"emulator/auth/iframe"):`https://${I.config.authDomain}/__/auth/iframe`,b={apiKey:f.apiKey,appName:I.name,v:H.SDK_VERSION},q=Tl.get(I.config.apiHost);q&&(b.eid=q);const se=I._getFrameworks();return se.length&&(b.fw=se.join(",")),`${p}?${(0,k.xO)(b).slice(1)}`}function Su(){return Su=(0,c.Z)(function*(I){const f=yield bl(I),p=Wr().gapi;return Fe(p,I,"internal-error"),f.open({where:document.body,url:Sl(I),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qu,dontclear:!0},b=>new Promise(function(){var q=(0,c.Z)(function*(se,tt){yield b.restyle({setHideOnLeave:!1});const Ot=ae(I,"network-request-failed"),_n=Wr().setTimeout(()=>{tt(Ot)},uc.get());function jn(){Wr().clearTimeout(_n),se(b)}b.ping(jn).then(jn,()=>{tt(Ot)})});return function(se,tt){return q.apply(this,arguments)}}()))}),Su.apply(this,arguments)}const Zu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class rd{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Va(I,f,p,b,q,se){Fe(I.config.authDomain,I,"auth-domain-config-required"),Fe(I.config.apiKey,I,"invalid-api-key");const tt={apiKey:I.config.apiKey,appName:I.name,authType:p,redirectUrl:b,v:H.SDK_VERSION,eventId:q};if(f instanceof qr){f.setDefaultLanguage(I.languageCode),tt.providerId=f.providerId||"",(0,k.xb)(f.getCustomParameters())||(tt.customParameters=JSON.stringify(f.getCustomParameters()));for(const[_n,jn]of Object.entries(se||{}))tt[_n]=jn}if(f instanceof ds){const _n=f.getScopes().filter(jn=>""!==jn);_n.length>0&&(tt.scopes=_n.join(","))}I.tenantId&&(tt.tid=I.tenantId);const Ot=tt;for(const _n of Object.keys(Ot))void 0===Ot[_n]&&delete Ot[_n];return`${function Jo({config:I}){return I.emulator?sn(I,"emulator/auth/handler"):`https://${I.authDomain}/__/auth/handler`}(I)}?${(0,k.xO)(Ot).slice(1)}`}const Ml="webStorageSupport",hc=class du{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hi,this._completeRedirectFn=fn,this._overrideRedirectResult=eo}_openPopup(f,p,b,q){var se=this;return(0,c.Z)(function*(){var tt;Je(null===(tt=se.eventManagers[f._key()])||void 0===tt?void 0:tt.manager,"_initialize() not called before _openPopup()");const Ot=Va(f,p,b,Tt(),q);return function cu(I,f,p,b=500,q=600){const se=Math.max((window.screen.availHeight-q)/2,0).toString(),tt=Math.max((window.screen.availWidth-b)/2,0).toString();let Ot="";const _n=Object.assign(Object.assign({},Zu),{width:b.toString(),height:q.toString(),top:se,left:tt}),jn=(0,k.z$)().toLowerCase();p&&(Ot=mt(jn)?"_blank":p),Ee(jn)&&(f=f||"http://localhost",_n.scrollbars="yes");const lr=Object.entries(_n).reduce((Ua,[Ci,kr])=>`${Ua}${Ci}=${kr},`,"");if(function he(I=(0,k.z$)()){var f;return le(I)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(jn)&&"_self"!==Ot)return function cc(I,f){const p=document.createElement("a");p.href=I,p.target=f;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(b)}(f||"",Ot),new rd(null);const pi=window.open(f||"",Ot,lr);Fe(pi,I,"popup-blocked");try{pi.focus()}catch{}return new rd(pi)}(f,Ot,Bs())})()}_openRedirect(f,p,b,q){var se=this;return(0,c.Z)(function*(){return yield se._originValidation(f),function uo(I){Wr().location.href=I}(Va(f,p,b,Tt(),q)),new Promise(()=>{})})()}_initialize(f){const p=f._key();if(this.eventManagers[p]){const{manager:q,promise:se}=this.eventManagers[p];return q?Promise.resolve(q):(Je(se,"If manager is not set, promise should be"),se)}const b=this.initAndGetManager(f);return this.eventManagers[p]={promise:b},b.catch(()=>{delete this.eventManagers[p]}),b}initAndGetManager(f){var p=this;return(0,c.Z)(function*(){const b=yield function lc(I){return Su.apply(this,arguments)}(f),q=new zi(f);return b.register("authEvent",se=>(Fe(se?.authEvent,f,"invalid-auth-event"),{status:q.onEvent(se.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[f._key()]={manager:q},p.iframes[f._key()]=b,q})()}_isIframeWebStorageSupported(f,p){this.iframes[f._key()].send(Ml,{type:Ml},q=>{var se;const tt=null===(se=q?.[0])||void 0===se?void 0:se[Ml];void 0!==tt&&p(!!tt),ft(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const p=f._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function ma(I){return ya.apply(this,arguments)}(f)),this.originValidationPromises[p]}get _shouldInitProactively(){return Ft()||Ce()||le()}};class xl extends class Mu{constructor(f){this.factorId=f}_process(f,p,b){switch(p.type){case"enroll":return this._finalizeEnroll(f,p.credential,b);case"signin":return this._finalizeSignIn(f,p.credential);default:return We("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new xl(f)}_finalizeEnroll(f,p,b){return function ln(I,f){return qe(I,"POST","/v2/accounts/mfaEnrollment:finalize",Re(I,f))}(f,{idToken:p,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,p){return function $s(I,f){return qe(I,"POST","/v2/accounts/mfaSignIn:finalize",Re(I,f))}(f,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ta=(()=>{class I{constructor(){}static assertion(p){return xl._fromCredential(p)}}return I.FACTOR_ID="phone",I})();var _a="@firebase/auth";class dh{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var p=this;return(0,c.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const p=this.auth.onIdTokenChanged(b=>{var q;f((null===(q=b)||void 0===q?void 0:q.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,p),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const p=this.internalListeners.get(f);!p||(this.internalListeners.delete(f),p(),this.updateProactiveRefresh())}assertAuthConfigured(){Fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function Nl(I){(0,H._registerComponent)(new Ve.wA("auth",(f,{options:p})=>{const b=f.getProvider("app").getImmediate(),q=f.getProvider("heartbeat"),{apiKey:se,authDomain:tt}=b.options;return((Ot,_n)=>{Fe(se&&!se.includes(":"),"invalid-api-key",{appName:Ot.name}),Fe(!tt?.includes(":"),"argument-error",{appName:Ot.name});const jn={apiKey:se,authDomain:tt,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:In(I)},lr=new Cr(Ot,_n,jn);return function Ke(I,f){const p=f?.persistence||[],b=(Array.isArray(p)?p:[p]).map(Le);f?.errorMap&&I._updateErrorMap(f.errorMap),I._initializeWithPersistence(b,f?.popupRedirectResolver)}(lr,p),lr})(b,q)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,p,b)=>{f.getProvider("auth-internal").initialize()})),(0,H._registerComponent)(new Ve.wA("auth-internal",f=>{const p=pn(f.getProvider("auth").getImmediate());return new dh(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,H.registerVersion)(_a,"0.20.7",function Li(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,H.registerVersion)(_a,"0.20.7","esm2017")}("Browser")},5525:(nn,ot,V)=>{V.d(ot,{u7:()=>ih,Jj:()=>as,IX:()=>Pf,my:()=>Es,xU:()=>wu,Lz:()=>xo,WA:()=>St,F8:()=>gl,$q:()=>qc,W:()=>Xa,EK:()=>cn,PU:()=>Ry,l7:()=>Yo,Ky:()=>Qt,Xb:()=>pr,Cf:()=>Fr,K9:()=>Hn,Me:()=>Pa,yq:()=>ln,Wi:()=>Rf,ET:()=>cm,Ab:()=>eu,vr:()=>Xf,Fc:()=>Qd,hJ:()=>Dy,B$:()=>zv,at:()=>Bg,oe:()=>lm,AK:()=>Yv,TF:()=>Wc,JU:()=>jg,ST:()=>by,fH:()=>Ty,Ix:()=>qv,Wu:()=>Kf,Lx:()=>Wf,qY:()=>zs,GL:()=>sc,QT:()=>Oy,kl:()=>Py,Xk:()=>io,PL:()=>am,UQ:()=>ky,zN:()=>Fy,nP:()=>By,b9:()=>nm,vh:()=>rm,Pb:()=>Sy,L$:()=>kf,cf:()=>ic,sc:()=>Vy,Xo:()=>My,IO:()=>Xg,iE:()=>$g,Eo:()=>Wv,i3:()=>dm,Bt:()=>Jf,pl:()=>um,Ub:()=>Oe,qK:()=>Jg,TQ:()=>Ny,e0:()=>xy,r7:()=>Ly,Mx:()=>pl,ar:()=>Hf});var ce,c=V(5861),k=V(9681),H=V(4859),Te=V(1877),ve=V(2090),Ve=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Pe={},Ye=Ye||{},re=Ve||self;function ge(){}function ke(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function vt(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var nt="closure_uid_"+(1e9*Math.random()>>>0),Ht=0;function ut(i,e,n){return i.call.apply(i.bind,arguments)}function He(i,e,n){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function bt(i,e,n){return(bt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ut:He).apply(null,arguments)}function ft(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var o=n.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function ae(i,e){function n(){}n.prototype=e.prototype,i.X=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.Vb=function(o,u,d){for(var g=Array(arguments.length-2),C=2;C<arguments.length;C++)g[C-2]=arguments[C];return e.prototype[u].apply(o,g)}}function Ae(){this.s=this.s,this.o=this.o}var Nt={};Ae.prototype.s=!1,Ae.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function _t(i){return Object.prototype.hasOwnProperty.call(i,nt)&&i[nt]||(i[nt]=++Ht)}(this);delete Nt[i]}},Ae.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Fe=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1};function We(i){const e=i.length;if(0<e){const n=Array(e);for(let o=0;o<e;o++)n[o]=i[o];return n}return[]}function Je(i,e){for(let n=1;n<arguments.length;n++){const o=arguments[n];if(ke(o)){const u=i.length||0,d=o.length||0;i.length=u+d;for(let g=0;g<d;g++)i[u+g]=o[g]}else i.push(o)}}function xe(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}xe.prototype.h=function(){this.defaultPrevented=!0};var Le=function(){if(!re.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{re.addEventListener("test",ge,e),re.removeEventListener("test",ge,e)}catch{}return i}();function $e(i){return/^[\s\xa0]*$/.test(i)}var Ke=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Tt(i,e){return i<e?-1:i>e?1:0}function Rt(){var i=re.navigator;return i&&(i=i.userAgent)?i:""}function kt(i){return-1!=Rt().indexOf(i)}function Yt(i){return Yt[" "](i),i}Yt[" "]=ge;var Zt,i,Ct=kt("Opera"),sn=kt("Trident")||kt("MSIE"),dn=kt("Edge"),st=dn||sn,Dt=kt("Gecko")&&!(-1!=Rt().toLowerCase().indexOf("webkit")&&!kt("Edge"))&&!(kt("Trident")||kt("MSIE"))&&!kt("Edge"),Re=-1!=Rt().toLowerCase().indexOf("webkit")&&!kt("Edge");function qe(){var i=re.document;return i?i.documentMode:void 0}e:{var yn="",Wn=(i=Rt(),Dt?/rv:([^\);]+)(\)|;)/.exec(i):dn?/Edge\/([\d\.]+)/.exec(i):sn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Re?/WebKit\/(\S+)/.exec(i):Ct?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Wn&&(yn=Wn?Wn[1]:""),sn){var Un=qe();if(null!=Un&&Un>parseFloat(yn)){Zt=String(Un);break e}}Zt=yn}var nr={};var Dr=re.document&&sn&&(qe()||parseInt(Zt,10))||void 0;function Jn(i,e){if(xe.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Dt){e:{try{Yt(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:jt[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Jn.X.h.call(this)}}ae(Jn,xe);var jt={2:"touch",3:"pen",4:"mouse"};Jn.prototype.h=function(){Jn.X.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Pn="closure_listenable_"+(1e6*Math.random()|0),xn=0;function zn(i,e,n,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!o,this.ha=u,this.key=++xn,this.ba=this.ea=!1}function Er(i){i.ba=!0,i.listener=null,i.proxy=null,i.src=null,i.ha=null}function si(i,e,n){for(const o in i)e.call(n,i[o],o,i)}function mr(i){const e={};for(const n in i)e[n]=i[n];return e}const rt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function we(i,e){let n,o;for(let u=1;u<arguments.length;u++){for(n in o=arguments[u],o)i[n]=o[n];for(let d=0;d<rt.length;d++)n=rt[d],Object.prototype.hasOwnProperty.call(o,n)&&(i[n]=o[n])}}function pe(i){this.src=i,this.g={},this.h=0}function lt(i,e){var n=e.type;if(n in i.g){var d,o=i.g[n],u=Fe(o,e);(d=0<=u)&&Array.prototype.splice.call(o,u,1),d&&(Er(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function ht(i,e,n,o){for(var u=0;u<i.length;++u){var d=i[u];if(!d.ba&&d.listener==e&&d.capture==!!n&&d.ha==o)return u}return-1}pe.prototype.add=function(i,e,n,o,u){var d=i.toString();(i=this.g[d])||(i=this.g[d]=[],this.h++);var g=ht(i,e,o,u);return-1<g?(e=i[g],n||(e.ea=!1)):((e=new zn(e,this.src,d,!!o,u)).ea=n,i.push(e)),e};var Jt="closure_lm_"+(1e6*Math.random()|0),An={};function $n(i,e,n,o,u){if(o&&o.once)return Mn(i,e,n,o,u);if(Array.isArray(e)){for(var d=0;d<e.length;d++)$n(i,e[d],n,o,u);return null}return n=te(n),i&&i[Pn]?i.N(e,n,vt(o)?!!o.capture:!!o,u):Wt(i,e,n,!1,o,u)}function Wt(i,e,n,o,u,d){if(!e)throw Error("Invalid event type");var g=vt(u)?!!u.capture:!!u,C=me(i);if(C||(i[Jt]=C=new pe(i)),(n=C.add(e,n,o,g,d)).proxy)return n;if(o=function Zn(){const e=oe;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=o,o.src=i,o.listener=n,i.addEventListener)Le||(u=g),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(De(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return n}function Mn(i,e,n,o,u){if(Array.isArray(e)){for(var d=0;d<e.length;d++)Mn(i,e[d],n,o,u);return null}return n=te(n),i&&i[Pn]?i.O(e,n,vt(o)?!!o.capture:!!o,u):Wt(i,e,n,!0,o,u)}function Nr(i,e,n,o,u){if(Array.isArray(e))for(var d=0;d<e.length;d++)Nr(i,e[d],n,o,u);else o=vt(o)?!!o.capture:!!o,n=te(n),i&&i[Pn]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=ht(d=i.g[e],n,o,u))&&(Er(d[n]),Array.prototype.splice.call(d,n,1),0==d.length&&(delete i.g[e],i.h--))):i&&(i=me(i))&&(e=i.g[e.toString()],i=-1,e&&(i=ht(e,n,o,u)),(n=-1<i?e[i]:null)&&Nn(n))}function Nn(i){if("number"!=typeof i&&i&&!i.ba){var e=i.src;if(e&&e[Pn])lt(e.i,i);else{var n=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(n,o,i.capture):e.detachEvent?e.detachEvent(De(n),o):e.addListener&&e.removeListener&&e.removeListener(o),(n=me(e))?(lt(n,i),0==n.h&&(n.src=null,e[Jt]=null)):Er(i)}}}function De(i){return i in An?An[i]:An[i]="on"+i}function oe(i,e){if(i.ba)i=!0;else{e=new Jn(e,this);var n=i.listener,o=i.ha||i.src;i.ea&&Nn(i),i=n.call(o,e)}return i}function me(i){return(i=i[Jt])instanceof pe?i:null}var Me="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(i){return"function"==typeof i?i:(i[Me]||(i[Me]=function(e){return i.handleEvent(e)}),i[Me])}function j(){Ae.call(this),this.i=new pe(this),this.P=this,this.I=null}function ee(i,e){var n,o=i.I;if(o)for(n=[];o;o=o.I)n.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new xe(e,i);else if(e instanceof xe)e.target=e.target||i;else{var u=e;we(e=new xe(o,i),u)}if(u=!0,n)for(var d=n.length-1;0<=d;d--){var g=e.g=n[d];u=Ge(g,o,!0,e)&&u}if(u=Ge(g=e.g=i,o,!0,e)&&u,u=Ge(g,o,!1,e)&&u,n)for(d=0;d<n.length;d++)u=Ge(g=e.g=n[d],o,!1,e)&&u}function Ge(i,e,n,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,d=0;d<e.length;++d){var g=e[d];if(g&&!g.ba&&g.capture==n){var C=g.listener,U=g.ha||g.src;g.ea&&lt(i.i,g),u=!1!==C.call(U,o)&&u}}return u&&!o.defaultPrevented}ae(j,Ae),j.prototype[Pn]=!0,j.prototype.removeEventListener=function(i,e,n,o){Nr(this,i,e,n,o)},j.prototype.M=function(){if(j.X.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],o=0;o<n.length;o++)Er(n[o]);delete i.g[e],i.h--}}this.I=null},j.prototype.N=function(i,e,n,o){return this.i.add(String(i),e,!1,n,o)},j.prototype.O=function(i,e,n,o){return this.i.add(String(i),e,!0,n,o)};var xt=re.JSON.stringify;function rn(){var i=de;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Gt,ze=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new Ee,i=>i.reset());class Ee{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Ce(i){re.setTimeout(()=>{throw i},0)}function mt(i,e){Gt||function gn(){var i=re.Promise.resolve(void 0);Gt=function(){i.then(le)}}(),bn||(Gt(),bn=!0),de.add(i,e)}var bn=!1,de=new class Bn{constructor(){this.h=this.g=null}add(e,n){const o=ze.get();o.set(e,n),this.h?this.h.next=o:this.g=o,this.h=o}};function le(){for(var i;i=rn();){try{i.h.call(i.g)}catch(n){Ce(n)}var e=ze;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}bn=!1}function J(i,e){j.call(this),this.h=i||1,this.g=e||re,this.j=bt(this.kb,this),this.l=Date.now()}function he(i){i.ca=!1,i.R&&(i.g.clearTimeout(i.R),i.R=null)}function Ue(i,e,n){if("function"==typeof i)n&&(i=bt(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=bt(i.handleEvent,i)}return 2147483647<Number(e)?-1:re.setTimeout(i,e||0)}function Ft(i){i.g=Ue(()=>{i.g=null,i.i&&(i.i=!1,Ft(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}ae(J,j),(ce=J.prototype).ca=!1,ce.R=null,ce.kb=function(){if(this.ca){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-i):(this.R&&(this.g.clearTimeout(this.R),this.R=null),ee(this,"tick"),this.ca&&(he(this),this.start()))}},ce.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ce.M=function(){J.X.M.call(this),he(this),delete this.g};class wn extends Ae{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ft(this)}M(){super.M(),this.g&&(re.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function In(i){Ae.call(this),this.h=i,this.g={}}ae(In,Ae);var dr=[];function Cr(i,e,n,o){Array.isArray(n)||(n&&(dr[0]=n.toString()),n=dr);for(var u=0;u<n.length;u++){var d=$n(e,n[u],o||i.handleEvent,!1,i.h||i);if(!d)break;i.g[d.key]=d}}function pn(i){si(i.g,function(e,n){this.g.hasOwnProperty(n)&&Nn(e)},i),i.g={}}function oi(){this.g=!0}function ci(i,e,n,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function us(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var o=n[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var d=u[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var g=1;g<u.length;g++)u[g]=""}}}return xt(n)}catch{return e}}(i,n)+(o?" "+o:"")})}In.prototype.M=function(){In.X.M.call(this),pn(this)},In.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},oi.prototype.Aa=function(){this.g=!1},oi.prototype.info=function(){};var Hr={},Gr=null;function br(){return Gr=Gr||new j}function ls(i){xe.call(this,Hr.Oa,i)}function Xn(i){const e=br();ee(e,new ls(e,i))}function zo(i,e){xe.call(this,Hr.STAT_EVENT,i),this.stat=e}function zr(i){const e=br();ee(e,new zo(e,i))}function Wi(i,e){xe.call(this,Hr.Pa,i),this.size=e}function Lr(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return re.setTimeout(function(){i()},e)}Hr.Oa="serverreachability",ae(ls,xe),Hr.STAT_EVENT="statevent",ae(zo,xe),Hr.Pa="timingevent",ae(Wi,xe);var bi={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},Ze={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Be(){}function Mt(){}Be.prototype.h=null;var Rr,Bt={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function un(){xe.call(this,"d")}function Kn(){xe.call(this,"c")}function ir(){}function ar(i,e,n,o){this.l=i,this.j=e,this.m=n,this.U=o||1,this.S=new In(this),this.O=cs,this.T=new J(i=st?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Ki}function Ki(){this.i=null,this.g="",this.h=!1}ae(un,xe),ae(Kn,xe),ae(ir,Be),ir.prototype.g=function(){return new XMLHttpRequest},ir.prototype.i=function(){return{}},Rr=new ir;var cs=45e3,Ai={},Ei={};function Is(i,e,n){i.K=1,i.v=hs(Yi(e)),i.s=n,i.P=!0,Vi(i,null)}function Vi(i,e){i.F=Date.now(),Os(i),i.A=Yi(i.v);var n=i.A,o=i.U;Array.isArray(o)||(o=[String(o)]),Po(n.i,"t",o),i.C=0,n=i.l.H,i.h=new Ki,i.g=S(i.l,n?e:null,!i.s),0<i.N&&(i.L=new wn(bt(i.Ka,i,i.g),i.N)),Cr(i.S,i.g,"readystatechange",i.hb),e=i.H?mr(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.da(i.A,i.u,i.s,e)):(i.u="GET",i.g.da(i.A,i.u,null,e)),Xn(1),function xr(i,e,n,o,u,d){i.info(function(){if(i.g)if(d)for(var g="",C=d.split("&"),U=0;U<C.length;U++){var z=C[U].split("=");if(1<z.length){var ie=z[0];z=z[1];var Ne=ie.split("_");g=2<=Ne.length&&"type"==Ne[1]?g+(ie+"=")+z+"&":g+(ie+"=redacted&")}}else g=null;else g=d;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+n+"\n"+g})}(i.j,i.u,i.A,i.m,i.U,i.s)}function No(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Da}function rs(i,e,n){let u,o=!0;for(;!i.I&&i.C<n.length;){if(u=ua(i,n),u==Ei){4==e&&(i.o=4,zr(14),o=!1),ci(i.j,i.m,null,"[Incomplete Response]");break}if(u==Ai){i.o=4,zr(15),ci(i.j,i.m,n,"[Invalid Chunk]"),o=!1;break}ci(i.j,i.m,u,null),Ks(i,u)}No(i)&&u!=Ei&&u!=Ai&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,zr(16),o=!1),i.i=i.i&&o,o?0<n.length&&!i.$&&(i.$=!0,(e=i.l).g==i&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),oo(e),e.K=!0,zr(11))):(ci(i.j,i.m,n,"[Invalid Chunked Response]"),ks(i),qi(i))}function ua(i,e){var n=i.C,o=e.indexOf("\n",n);return-1==o?Ei:(n=Number(e.substring(n,o)),isNaN(n)?Ai:(o+=1)+n>e.length?Ei:(e=e.substr(o,n),i.C=o+n,e))}function Os(i){i.V=Date.now()+i.O,Wo(i,i.O)}function Wo(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Lr(bt(i.fb,i),e)}function Ps(i){i.B&&(re.clearTimeout(i.B),i.B=null)}function qi(i){0==i.l.G||i.I||la(i.l,i)}function ks(i){Ps(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,he(i.T),pn(i.S),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function Ks(i,e){try{var n=i.l;if(0!=n.G&&(n.g==i||ji(n.h,i)))if(!i.J&&ji(n.h,i)&&3==n.G){try{var o=n.Fa.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<i.F))break e;qs(n),gt(n)}Io(n),zr(18)}}else n.Ba=u[1],0<n.Ba-n.T&&37500>u[2]&&n.L&&0==n.A&&!n.v&&(n.v=Lr(bt(n.bb,n),6e3));if(1>=fs(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else Co(n,11)}else if((i.J||n.g==i)&&qs(n),!$e(e))for(u=n.Fa.g.parse(e),e=0;e<u.length;e++){let z=u[e];if(n.T=z[0],z=z[1],2==n.G)if("c"==z[0]){n.I=z[1],n.ka=z[2];const ie=z[3];null!=ie&&(n.ma=ie,n.j.info("VER="+n.ma));const Ne=z[4];null!=Ne&&(n.Ca=Ne,n.j.info("SVER="+n.Ca));const pt=z[5];null!=pt&&"number"==typeof pt&&0<pt&&(n.J=o=1.5*pt,n.j.info("backChannelRequestTimeoutMs_="+o)),o=n;const Pt=i.g;if(Pt){const Ut=Pt.g?Pt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ut){var d=o.h;d.g||-1==Ut.indexOf("spdy")&&-1==Ut.indexOf("quic")&&-1==Ut.indexOf("h2")||(d.j=d.l,d.g=new Set,d.h&&(yr(d,d.h),d.h=null))}if(o.D){const Cn=Pt.g?Pt.g.getResponseHeader("X-HTTP-Session-Id"):null;Cn&&(o.za=Cn,Yn(o.F,o.D,Cn))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-i.F,n.j.info("Handshake RTT: "+n.P+"ms"));var g=i;if((o=n).sa=Da(o,o.H?o.ka:null,o.V),g.J){Ls(o.h,g);var C=g,U=o.J;U&&C.setTimeout(U),C.B&&(Ps(C),Os(C)),o.g=g}else Ts(o);0<n.i.length&&ur(n)}else"stop"!=z[0]&&"close"!=z[0]||Co(n,7);else 3==n.G&&("stop"==z[0]||"close"==z[0]?"stop"==z[0]?Co(n,7):Q(n):"noop"!=z[0]&&n.l&&n.l.wa(z),n.A=0)}Xn(4)}catch{}}function Zi(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(ke(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var n=function Oo(i){if(i.oa&&"function"==typeof i.oa)return i.oa();if(!i.W||"function"!=typeof i.W){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(ke(i)||"string"==typeof i){var e=[];i=i.length;for(var n=0;n<i;n++)e.push(n);return e}e=[],n=0;for(const o in i)e[n++]=o;return e}}}(i),o=function Ro(i){if(i.W&&"function"==typeof i.W)return i.W();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(ke(i)){for(var e=[],n=i.length,o=0;o<n;o++)e.push(i[o]);return e}for(o in e=[],n=0,i)e[n++]=i[o];return e}(i),u=o.length,d=0;d<u;d++)e.call(void 0,o[d],n&&n[d],i)}(ce=ar.prototype).setTimeout=function(i){this.O=i},ce.hb=function(i){i=i.target;const e=this.L;e&&3==Zr(i)?e.l():this.Ka(i)},ce.Ka=function(i){try{if(i==this.g)e:{const ie=Zr(this.g);var e=this.g.Ea();const Ne=this.g.aa();if(!(3>ie)&&(3!=ie||st||this.g&&(this.h.h||this.g.fa()||_o(this.g)))){this.I||4!=ie||7==e||Xn(8==e||0>=Ne?3:2),Ps(this);var n=this.g.aa();this.Y=n;t:if(No(this)){var o=_o(this.g);i="";var u=o.length,d=4==Zr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ks(this),qi(this);var g="";break t}this.h.i=new re.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:d&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,g=this.h.g}else g=this.g.fa();if(this.i=200==n,function _i(i,e,n,o,u,d,g){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+n+"\n"+d+" "+g})}(this.j,this.u,this.A,this.m,this.U,ie,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var C,U=this.g;if((C=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$e(C)){var z=C;break t}}z=null}if(!(n=z)){this.i=!1,this.o=3,zr(12),ks(this),qi(this);break e}ci(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ks(this,n)}this.P?(rs(this,ie,g),st&&this.i&&3==ie&&(Cr(this.S,this.T,"tick",this.gb),this.T.start())):(ci(this.j,this.m,g,null),Ks(this,g)),4==ie&&ks(this),this.i&&!this.I&&(4==ie?la(this.l,this):(this.i=!1,Os(this)))}else 400==n&&0<g.indexOf("Unknown SID")?(this.o=3,zr(12)):(this.o=0,zr(13)),ks(this),qi(this)}}}catch{}},ce.gb=function(){if(this.g){var i=Zr(this.g),e=this.g.fa();this.C<e.length&&(Ps(this),rs(this,i,e),this.i&&4!=i&&Os(this))}},ce.cancel=function(){this.I=!0,ks(this)},ce.fb=function(){this.B=null;const i=Date.now();0<=i-this.V?(function $r(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Xn(3),zr(17)),ks(this),this.o=2,qi(this)):Wo(this,this.V-i)};var fo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kr(i,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Kr){this.h=void 0!==e?e:i.h,Ds(this,i.j),this.s=i.s,this.g=i.g,qr(this,i.m),this.l=i.l,e=i.i;var n=new fi;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),ds(this,n),this.o=i.o}else i&&(n=String(i).match(fo))?(this.h=!!e,Ds(this,n[1]||"",!0),this.s=is(n[2]||""),this.g=is(n[3]||"",!0),qr(this,n[4]),this.l=is(n[5]||"",!0),ds(this,n[6]||"",!0),this.o=is(n[7]||"")):(this.h=!!e,this.i=new fi(null,this.h))}function Yi(i){return new Kr(i)}function Ds(i,e,n){i.j=n?is(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function qr(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function ds(i,e,n){e instanceof fi?(i.i=e,function yo(i,e){e&&!i.j&&(ri(i),i.i=null,i.g.forEach(function(n,o){var u=o.toLowerCase();o!=u&&(Fs(this,o),Po(this,u,n))},i)),i.j=e}(i.i,i.h)):(n||(e=Qi(e,ss)),i.i=new fi(e,i.h))}function Yn(i,e,n){i.i.set(e,n)}function hs(i){return Yn(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function is(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Qi(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,go),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function go(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Kr.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Qi(e,Cs,!0),":");var n=this.g;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Qi(e,Cs,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&i.push("/"),i.push(Qi(n,"/"==n.charAt(0)?wi:ta,!0))),(n=this.i.toString())&&i.push("?",n),(n=this.o)&&i.push("#",Qi(n,Ui)),i.join("")};var Cs=/[#\/\?@]/g,ta=/[#\?:]/g,wi=/[#\?]/g,ss=/[#\?@]/g,Ui=/#/g;function fi(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function ri(i){i.g||(i.g=new Map,i.h=0,i.i&&function po(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var o=i[n].indexOf("="),u=null;if(0<=o){var d=i[n].substring(0,o);u=i[n].substring(o+1)}else d=i[n];e(d,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Fs(i,e){ri(i),e=Or(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function mo(i,e){return ri(i),e=Or(i,e),i.g.has(e)}function Po(i,e,n){Fs(i,e),0<n.length&&(i.i=null,i.g.set(Or(i,e),We(n)),i.h+=n.length)}function Or(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Bi(i){this.l=i||Jr,i=re.PerformanceNavigationTiming?0<(i=re.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(re.g&&re.g.Ga&&re.g.Ga()&&re.g.Ga().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ce=fi.prototype).add=function(i,e){ri(this),this.i=null,i=Or(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},ce.forEach=function(i,e){ri(this),this.g.forEach(function(n,o){n.forEach(function(u){i.call(e,u,o,this)},this)},this)},ce.oa=function(){ri(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let o=0;o<e.length;o++){const u=i[o];for(let d=0;d<u.length;d++)n.push(e[o])}return n},ce.W=function(i){ri(this);let e=[];if("string"==typeof i)mo(this,i)&&(e=e.concat(this.g.get(Or(this,i))));else{i=Array.from(this.g.values());for(let n=0;n<i.length;n++)e=e.concat(i[n])}return e},ce.set=function(i,e){return ri(this),this.i=null,mo(this,i=Or(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},ce.get=function(i,e){return i&&0<(i=this.W(i)).length?String(i[0]):e},ce.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var o=e[n];const d=encodeURIComponent(String(o)),g=this.W(o);for(o=0;o<g.length;o++){var u=d;""!==g[o]&&(u+="="+encodeURIComponent(String(g[o]))),i.push(u)}}return this.i=i.join("&")};var Jr=10;function Mi(i){return!!i.h||!!i.g&&i.g.size>=i.j}function fs(i){return i.h?1:i.g?i.g.size:0}function ji(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function yr(i,e){i.g?i.g.add(e):i.h=e}function Ls(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function ps(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.D);return e}return We(i.i)}function so(){}function $i(){this.g=new so}function vo(i,e,n){const o=n||"";try{Zi(i,function(u,d){let g=u;vt(u)&&(g=xt(u)),e.push(o+d+"="+encodeURIComponent(g))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function Fn(i,e,n,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch{}}function gs(i){this.l=i.$b||null,this.j=i.ib||!1}function ko(i,e){j.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=di,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Bi.prototype.cancel=function(){if(this.i=ps(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},so.prototype.stringify=function(i){return re.JSON.stringify(i,void 0)},so.prototype.parse=function(i){return re.JSON.parse(i,void 0)},ae(gs,Be),gs.prototype.g=function(){return new ko(this.l,this.j)},gs.prototype.i=function(i){return function(){return i}}({}),ae(ko,j);var di=0;function Vs(i){i.j.read().then(i.Sa.bind(i)).catch(i.ga.bind(i))}function Ur(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Ti(i)}function Ti(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(ce=ko.prototype).open=function(i,e){if(this.readyState!=di)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Ti(this)},ce.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||re).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ga.bind(this))},ce.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ur(this)),this.readyState=di},ce.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Ti(this)),this.g&&(this.readyState=3,Ti(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if(typeof re.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Vs(this)}else i.text().then(this.Ua.bind(this),this.ga.bind(this))},ce.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Ur(this):Ti(this),3==this.readyState&&Vs(this)}},ce.Ua=function(i){this.g&&(this.response=this.responseText=i,Ur(this))},ce.Ta=function(i){this.g&&(this.response=i,Ur(this))},ce.ga=function(){this.g&&Ur(this)},ce.setRequestHeader=function(i,e){this.v.append(i,e)},ce.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},ce.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(ko.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var Us=re.JSON.parse;function Br(i){j.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Lt,this.K=this.L=!1}ae(Br,j);var Lt="",er=/^https?$/i,Fo=["POST","PUT"];function Xr(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Ji(i),ai(i)}function Ji(i){i.D||(i.D=!0,ee(i,"complete"),ee(i,"error"))}function bs(i){if(i.h&&typeof Ye<"u"&&(!i.C[1]||4!=Zr(i)||2!=i.aa()))if(i.v&&4==Zr(i))Ue(i.Ha,0,i);else if(ee(i,"readystatechange"),4==Zr(i)){i.h=!1;try{const C=i.aa();e:switch(C){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var o;if(o=0===C){var u=String(i.H).match(fo)[1]||null;if(!u&&re.self&&re.self.location){var d=re.self.location.protocol;u=d.substr(0,d.length-1)}o=!er.test(u?u.toLowerCase():"")}n=o}if(n)ee(i,"complete"),ee(i,"success");else{i.m=6;try{var g=2<Zr(i)?i.g.statusText:""}catch{g=""}i.j=g+" ["+i.aa()+"]",Ji(i)}}finally{ai(i)}}}function ai(i,e){if(i.g){Ii(i);const n=i.g,o=i.C[0]?ge:null;i.g=null,i.C=null,e||ee(i,"ready");try{n.onreadystatechange=o}catch{}}}function Ii(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(re.clearTimeout(i.A),i.A=null)}function Zr(i){return i.g?i.g.readyState:0}function _o(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case Lt:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function Eo(i){let e="";return si(i,function(n,o){e+=o,e+=":",e+=n,e+="\r\n"}),e}function L(i,e,n){e:{for(o in n){var o=!1;break e}o=!0}o||(n=Eo(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):Yn(i,e,n))}function O(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function A(i){this.Ca=0,this.i=[],this.j=new oi,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=O("failFast",!1,i),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=O("baseRetryDelayMs",5e3,i),this.ab=O("retryDelaySeedMs",1e4,i),this.Za=O("forwardChannelMaxRetries",2,i),this.ta=O("forwardChannelRequestTimeoutMs",2e4,i),this.ra=i&&i.xmlHttpFactory||void 0,this.Da=i&&i.Yb||!1,this.J=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.I="",this.h=new Bi(i&&i.concurrentRequestLimit),this.Fa=new $i,this.O=i&&i.fastHandshake||!1,this.N=i&&i.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=i&&i.Wb||!1,i&&i.Aa&&this.j.Aa(),i&&i.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&i&&i.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Q(i){if(hn(i),3==i.G){var e=i.U++,n=Yi(i.F);Yn(n,"SID",i.I),Yn(n,"RID",e),Yn(n,"TYPE","terminate"),Di(i,n),(e=new ar(i,i.j,e,void 0)).K=2,e.v=hs(Yi(n)),n=!1,re.navigator&&re.navigator.sendBeacon&&(n=re.navigator.sendBeacon(e.v.toString(),"")),!n&&re.Image&&((new Image).src=e.v,n=!0),n||(e.g=S(e.l,null),e.g.da(e.v)),e.F=Date.now(),Os(e)}bo(i)}function gt(i){i.g&&(oo(i),i.g.cancel(),i.g=null)}function hn(i){gt(i),i.u&&(re.clearTimeout(i.u),i.u=null),qs(i),i.h.cancel(),i.m&&("number"==typeof i.m&&re.clearTimeout(i.m),i.m=null)}function ur(i){Mi(i.h)||i.m||(i.m=!0,mt(i.Ja,i),i.C=0)}function Ni(i,e){var n;n=e?e.m:i.U++;const o=Yi(i.F);Yn(o,"SID",i.I),Yn(o,"RID",n),Yn(o,"AID",i.T),Di(i,o),i.o&&i.s&&L(o,i.o,i.s),n=new ar(i,i.j,n,i.C+1),null===i.o&&(n.H=i.s),e&&(i.i=e.D.concat(i.i)),e=wo(i,n,1e3),n.setTimeout(Math.round(.5*i.ta)+Math.round(.5*i.ta*Math.random())),yr(i.h,n),Is(n,o,e)}function Di(i,e){i.ia&&si(i.ia,function(n,o){Yn(e,o,n)}),i.l&&Zi({},function(n,o){Yn(e,o,n)})}function wo(i,e,n){n=Math.min(i.i.length,n);var o=i.l?bt(i.l.Qa,i.l,i):null;e:{var u=i.i;let d=-1;for(;;){const g=["count="+n];-1==d?0<n?(d=u[0].h,g.push("ofs="+d)):d=0:g.push("ofs="+d);let C=!0;for(let U=0;U<n;U++){let z=u[U].h;const ie=u[U].g;if(z-=d,0>z)d=Math.max(0,u[U].h-100),C=!1;else try{vo(ie,g,"req"+z+"_")}catch{o&&o(ie)}}if(C){o=g.join("&");break e}}}return i=i.i.splice(0,n),e.D=i,o}function Ts(i){i.g||i.u||(i.Z=1,mt(i.Ia,i),i.A=0)}function Io(i){return!(i.g||i.u||3<=i.A||(i.Z++,i.u=Lr(bt(i.Ia,i),ao(i,i.A)),i.A++,0))}function oo(i){null!=i.B&&(re.clearTimeout(i.B),i.B=null)}function Do(i){i.g=new ar(i,i.j,"rpc",i.Z),null===i.o&&(i.g.H=i.s),i.g.N=0;var e=Yi(i.sa);Yn(e,"RID","rpc"),Yn(e,"SID",i.I),Yn(e,"CI",i.L?"0":"1"),Yn(e,"AID",i.T),Yn(e,"TYPE","xmlhttp"),Di(i,e),i.o&&i.s&&L(e,i.o,i.s),i.J&&i.g.setTimeout(i.J);var n=i.g;i=i.ka,n.K=1,n.v=hs(Yi(e)),n.s=null,n.P=!0,Vi(n,i)}function qs(i){null!=i.v&&(re.clearTimeout(i.v),i.v=null)}function la(i,e){var n=null;if(i.g==e){qs(i),oo(i),i.g=null;var o=2}else{if(!ji(i.h,e))return;n=e.D,Ls(i.h,e),o=1}if(0!=i.G)if(i.pa=e.Y,e.i)if(1==o){n=e.s?e.s.length:0,e=Date.now()-e.F;var u=i.C;ee(o=br(),new Wi(o,n,e,u)),ur(i)}else Ts(i);else if(3==(u=e.o)||0==u&&0<i.pa||!(1==o&&function xi(i,e){return!(fs(i.h)>=i.h.j-(i.m?1:0)||(i.m?(i.i=e.D.concat(i.i),0):1==i.G||2==i.G||i.C>=(i.Ya?0:i.Za)||(i.m=Lr(bt(i.Ja,i,e),ao(i,i.C)),i.C++,0)))}(i,e)||2==o&&Io(i)))switch(n&&0<n.length&&(e=i.h,e.i=e.i.concat(n)),u){case 1:Co(i,5);break;case 4:Co(i,10);break;case 3:Co(i,6);break;default:Co(i,2)}}function ao(i,e){let n=i.Wa+Math.floor(Math.random()*i.ab);return i.l||(n*=2),n*e}function Co(i,e){if(i.j.info("Error code "+e),2==e){var n=null;i.l&&(n=null);var o=bt(i.jb,i);n||(n=new Kr("//www.google.com/images/cleardot.gif"),re.location&&"http"==re.location.protocol||Ds(n,"https"),hs(n)),function ii(i,e){const n=new oi;if(re.Image){const o=new Image;o.onload=ft(Fn,n,o,"TestLoadImage: loaded",!0,e),o.onerror=ft(Fn,n,o,"TestLoadImage: error",!1,e),o.onabort=ft(Fn,n,o,"TestLoadImage: abort",!1,e),o.ontimeout=ft(Fn,n,o,"TestLoadImage: timeout",!1,e),re.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(n.toString(),o)}else zr(2);i.G=0,i.l&&i.l.va(e),bo(i),hn(i)}function bo(i){if(i.G=0,i.la=[],i.l){const e=ps(i.h);(0!=e.length||0!=i.i.length)&&(Je(i.la,e),Je(i.la,i.i),i.h.i.length=0,We(i.i),i.i.length=0),i.l.ua()}}function Da(i,e,n){var o=n instanceof Kr?Yi(n):new Kr(n,void 0);if(""!=o.g)e&&(o.g=e+"."+o.g),qr(o,o.m);else{var u=re.location;o=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var d=new Kr(null,void 0);o&&Ds(d,o),e&&(d.g=e),u&&qr(d,u),n&&(d.l=n),o=d}return e=i.za,(n=i.D)&&e&&Yn(o,n,e),Yn(o,"VER",i.ma),Di(i,o),o}function S(i,e,n){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Br(n&&i.Da&&!i.ra?new gs({ib:!0}):i.ra)).L=i.H,e}function G(){}function N(){if(sn&&!(10<=Number(Dr)))throw Error("Environmental error: no available transport.")}function Z(i,e){j.call(this),this.g=new A(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.S=i,(i=e&&e.Xb)&&!$e(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!$e(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new It(this)}function Ie(i){un.call(this);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function yt(){Kn.call(this),this.status=1}function It(i){this.g=i}(ce=Br.prototype).da=function(i,e,n,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Rr.g(),this.C=function it(i){return i.h||(i.h=i.i())}(this.u?this.u:Rr),this.g.onreadystatechange=bt(this.Ha,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(d){return void Xr(this,d)}if(i=n||"",n=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var u in o)n.set(u,o[u]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const d of o.keys())n.set(d,o.get(d))}o=Array.from(n.keys()).find(d=>"content-type"==d.toLowerCase()),u=re.FormData&&i instanceof re.FormData,!(0<=Fe(Fo,e))||o||u||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[d,g]of n)this.g.setRequestHeader(d,g);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ii(this),0<this.B&&((this.K=function ms(i){return sn&&function rr(){return function an(i){var e=nr;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=Ke(String(Zt)).split("."),n=Ke("9").split("."),o=Math.max(e.length,n.length);for(let g=0;0==i&&g<o;g++){var u=e[g]||"",d=n[g]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],0==u[0].length&&0==d[0].length)break;i=Tt(0==u[1].length?0:parseInt(u[1],10),0==d[1].length?0:parseInt(d[1],10))||Tt(0==u[2].length,0==d[2].length)||Tt(u[2],d[2]),u=u[3],d=d[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=bt(this.qa,this)):this.A=Ue(this.qa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(d){Xr(this,d)}},ce.qa=function(){typeof Ye<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ee(this,"timeout"),this.abort(8))},ce.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,ee(this,"complete"),ee(this,"abort"),ai(this))},ce.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ai(this,!0)),Br.X.M.call(this)},ce.Ha=function(){this.s||(this.F||this.v||this.l?bs(this):this.eb())},ce.eb=function(){bs(this)},ce.aa=function(){try{return 2<Zr(this)?this.g.status:-1}catch{return-1}},ce.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},ce.Ra=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),Us(e)}},ce.Ea=function(){return this.m},ce.Na=function(){return"string"==typeof this.j?this.j:String(this.j)},(ce=A.prototype).ma=8,ce.G=1,ce.Ja=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.U=Math.floor(1e5*Math.random()),i=this.U++;const u=new ar(this,this.j,i,void 0);let d=this.s;if(this.S&&(d?(d=mr(d),we(d,this.S)):d=this.S),null!==this.o||this.N||(u.H=d,d=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){var o=this.i[n];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=n;break e}if(4096===e||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=wo(this,u,e),Yn(n=Yi(this.F),"RID",i),Yn(n,"CVER",22),this.D&&Yn(n,"X-HTTP-Session-Id",this.D),Di(this,n),d&&(this.N?e="headers="+encodeURIComponent(String(Eo(d)))+"&"+e:this.o&&L(n,this.o,d)),yr(this.h,u),this.Xa&&Yn(n,"TYPE","init"),this.O?(Yn(n,"$req",e),Yn(n,"SID","null"),u.Z=!0,Is(u,n,null)):Is(u,n,e),this.G=2}}else 3==this.G&&(i?Ni(this,i):0==this.i.length||Mi(this.h)||Ni(this))},ce.Ia=function(){if(this.u=null,Do(this),this.$&&!(this.K||null==this.g||0>=this.P)){var i=2*this.P;this.j.info("BP detection timer enabled: "+i),this.B=Lr(bt(this.cb,this),i)}},ce.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,zr(10),gt(this),Do(this))},ce.bb=function(){null!=this.v&&(this.v=null,gt(this),Io(this),zr(19))},ce.jb=function(i){i?(this.j.info("Successfully pinged google.com"),zr(2)):(this.j.info("Failed to ping google.com"),zr(1))},(ce=G.prototype).xa=function(){},ce.wa=function(){},ce.va=function(){},ce.ua=function(){},ce.Qa=function(){},N.prototype.g=function(i,e){return new Z(i,e)},ae(Z,j),Z.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,n=this.h||void 0;zr(0),i.V=e,i.ia=n||{},i.L=i.Y,i.F=Da(i,null,i.V),ur(i)},Z.prototype.close=function(){Q(this.g)},Z.prototype.u=function(i){var e=this.g;if("string"==typeof i){var n={};n.__data__=i,i=n}else this.v&&((n={}).__data__=xt(i),i=n);e.i.push(new class{constructor(i,e){this.h=i,this.g=e}}(e.$a++,i)),3==e.G&&ur(e)},Z.prototype.M=function(){this.g.l=null,delete this.j,Q(this.g),delete this.g,Z.X.M.call(this)},ae(Ie,un),ae(yt,Kn),ae(It,G),It.prototype.xa=function(){ee(this.g,"a")},It.prototype.wa=function(i){ee(this.g,new Ie(i))},It.prototype.va=function(i){ee(this.g,new yt(i))},It.prototype.ua=function(){ee(this.g,"b")},N.prototype.createWebChannel=N.prototype.g,Z.prototype.send=Z.prototype.u,Z.prototype.open=Z.prototype.m,Z.prototype.close=Z.prototype.close,bi.NO_ERROR=0,bi.TIMEOUT=8,bi.HTTP_ERROR=6,Ze.COMPLETE="complete",Mt.EventType=Bt,Bt.OPEN="a",Bt.CLOSE="b",Bt.ERROR="c",Bt.MESSAGE="d",j.prototype.listen=j.prototype.N,Br.prototype.listenOnce=Br.prototype.O,Br.prototype.getLastError=Br.prototype.Na,Br.prototype.getLastErrorCode=Br.prototype.Ea,Br.prototype.getStatus=Br.prototype.aa,Br.prototype.getResponseJson=Br.prototype.Ra,Br.prototype.getResponseText=Br.prototype.fa,Br.prototype.send=Br.prototype.da;var Tn=Pe.createWebChannelTransport=function(){return new N},wr=Pe.getStatEventTarget=function(){return br()},Tr=Pe.ErrorCode=bi,Sr=Pe.EventType=Ze,hr=Pe.Event=Hr,ui=Pe.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Vr=Pe.FetchXmlHttpFactory=gs,$=Pe.WebChannel=Mt,v=Pe.XhrIo=Br;const _="@firebase/firestore";class R{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}R.UNAUTHENTICATED=new R(null),R.GOOGLE_CREDENTIALS=new R("google-credentials-uid"),R.FIRST_PARTY=new R("first-party-uid"),R.MOCK_USER=new R("mock-user");let W="9.10.0";const ne=new Te.Yd("@firebase/firestore");function Se(){return ne.logLevel}function Oe(i){ne.setLogLevel(i)}function _e(i,...e){if(ne.logLevel<=Te.in.DEBUG){const n=e.map(Sn);ne.debug(`Firestore (${W}): ${i}`,...n)}}function ct(i,...e){if(ne.logLevel<=Te.in.ERROR){const n=e.map(Sn);ne.error(`Firestore (${W}): ${i}`,...n)}}function ln(i,...e){if(ne.logLevel<=Te.in.WARN){const n=e.map(Sn);ne.warn(`Firestore (${W}): ${i}`,...n)}}function Sn(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function zt(i="Unexpected state"){const e=`FIRESTORE (${W}) INTERNAL ASSERTION FAILED: `+i;throw ct(e),new Error(e)}function en(i,e){i||zt()}function Hn(i,e){i||zt()}function At(i,e){return i}const et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class St extends ve.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class Ri{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Oi{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(R.UNAUTHENTICATED))}shutdown(){}}class ei{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class To{constructor(e){this.t=e,this.currentUser=R.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var o=this;let u=this.i;const d=z=>this.i!==u?(u=this.i,n(z)):Promise.resolve();let g=new fr;this.o=()=>{this.i++,this.currentUser=this.u(),g.resolve(),g=new fr,e.enqueueRetryable(()=>d(this.currentUser))};const C=()=>{const z=g;e.enqueueRetryable((0,c.Z)(function*(){yield z.promise,yield d(o.currentUser)}))},U=z=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=z,this.auth.addAuthTokenListener(this.o),C()};this.t.onInit(z=>U(z)),setTimeout(()=>{if(!this.auth){const z=this.t.getImmediate({optional:!0});z?U(z):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),g.resolve(),g=new fr)}},0),C()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(en("string"==typeof o.accessToken),new Ri(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return en(null===e||"string"==typeof e),new R(e)}}class hi{constructor(e,n,o,u){this.h=e,this.l=n,this.m=o,this.g=u,this.type="FirstParty",this.user=R.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(en(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Zs{constructor(e,n,o,u){this.h=e,this.l=n,this.m=o,this.g=u}getToken(){return Promise.resolve(new hi(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(R.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ys{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Bs{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const o=d=>{null!=d.error&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const g=d.token!==this.A;return this.A=d.token,_e("FirebaseAppCheckTokenProvider",`Received ${g?"new":"existing"} token.`),g?n(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable(()=>o(d))};const u=d=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.appCheck.addTokenListener(this.o)};this.T.onInit(d=>u(d)),setTimeout(()=>{if(!this.appCheck){const d=this.T.getImmediate({optional:!0});d?u(d):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(en("string"==typeof n.token),this.A=n.token,new ys(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Wr(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let o=0;o<i;o++)n[o]=Math.floor(256*Math.random());return n}class uo{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const u=Wr(40);for(let d=0;d<u.length;++d)o.length<20&&u[d]<n&&(o+=e.charAt(u[d]%e.length))}return o}}function Rn(i,e){return i<e?-1:i>e?1:0}function So(i,e,n){return i.length===e.length&&i.every((o,u)=>n(o,e[u]))}function vn(i){return i+"\0"}class cn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new St(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new St(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new St(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new St(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return cn.fromMillis(Date.now())}static fromDate(e){return cn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new cn(n,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Rn(this.nanoseconds,e.nanoseconds):Rn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Kt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Kt(e)}static min(){return new Kt(new cn(0,0))}static max(){return new Kt(new cn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class or{constructor(e,n,o){void 0===n?n=0:n>e.length&&zt(),void 0===o?o=e.length-n:o>e.length-n&&zt(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return 0===or.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof or?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let u=0;u<o;u++){const d=e.get(u),g=n.get(u);if(d<g)return-1;if(d>g)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class kn extends or{construct(e,n,o){return new kn(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new St(et.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(u=>u.length>0))}return new kn(n)}static emptyPath(){return new kn([])}}const Xi=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pr extends or{construct(e,n,o){return new pr(e,n,o)}static isValidIdentifier(e){return Xi.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new pr(["__name__"])}static fromServerFormat(e){const n=[];let o="",u=0;const d=()=>{if(0===o.length)throw new St(et.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let g=!1;for(;u<e.length;){const C=e[u];if("\\"===C){if(u+1===e.length)throw new St(et.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const U=e[u+1];if("\\"!==U&&"."!==U&&"`"!==U)throw new St(et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=U,u+=2}else"`"===C?(g=!g,u++):"."!==C||g?(o+=C,u++):(d(),u++)}if(d(),g)throw new St(et.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pr(n)}static emptyPath(){return new pr([])}}class Qt{constructor(e){this.path=e}static fromPath(e){return new Qt(kn.fromString(e))}static fromName(e){return new Qt(kn.fromString(e).popFirst(5))}static empty(){return new Qt(kn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===kn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return kn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Qt(new kn(e.slice()))}}class Ar{constructor(e,n,o,u){this.indexId=e,this.collectionGroup=n,this.fields=o,this.indexState=u}}function ca(i){return i.fields.find(e=>2===e.kind)}function Ys(i){return i.fields.filter(e=>2!==e.kind)}Ar.UNKNOWN_ID=-1;class Pi{constructor(e,n){this.fieldPath=e,this.kind=n}}class Ss{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Ss(0,As.min())}}function Lo(i,e){const n=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=Kt.fromTimestamp(1e9===o?new cn(n+1,0):new cn(n,o));return new As(u,Qt.empty(),e)}function na(i){return new As(i.readTime,i.key,-1)}class As{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new As(Kt.min(),Qt.empty(),-1)}static max(){return new As(Kt.max(),Qt.empty(),-1)}}function ki(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=Qt.comparator(i.documentKey,e.documentKey),0!==n?n:Rn(i.largestBatchId,e.largestBatchId))}const da="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nu{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function $s(i){return ha.apply(this,arguments)}function ha(){return ha=(0,c.Z)(function*(i){if(i.code!==et.FAILED_PRECONDITION||i.message!==da)throw i;_e("LocalStore","Unexpectedly lost primary lease")}),ha.apply(this,arguments)}class at{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&zt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new at((o,u)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(o,u)},this.catchCallback=d=>{this.wrapFailure(n,d).next(o,u)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof at?n:at.resolve(n)}catch(n){return at.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):at.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):at.reject(n)}static resolve(e){return new at((n,o)=>{n(e)})}static reject(e){return new at((n,o)=>{o(e)})}static waitFor(e){return new at((n,o)=>{let u=0,d=0,g=!1;e.forEach(C=>{++u,C.next(()=>{++d,g&&d===u&&n()},U=>o(U))}),g=!0,d===u&&n()})}static or(e){let n=at.resolve(!1);for(const o of e)n=n.next(u=>u?at.resolve(u):o());return n}static forEach(e,n){const o=[];return e.forEach((u,d)=>{o.push(n.call(this,u,d))}),this.waitFor(o)}static mapArray(e,n){return new at((o,u)=>{const d=e.length,g=new Array(d);let C=0;for(let U=0;U<d;U++){const z=U;n(e[z]).next(ie=>{g[z]=ie,++C,C===d&&o(g)},ie=>u(ie))}})}static doWhile(e,n){return new at((o,u)=>{const d=()=>{!0===e()?n().next(()=>{d()},u):o()};d()})}}class Vo{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.P=new fr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{n.error?this.P.reject(new fa(e,n.error)):this.P.resolve()},this.transaction.onerror=o=>{const u=Wu(o.target.error);this.P.reject(new fa(e,u))}}static open(e,n,o,u){try{return new Vo(n,e.transaction(u,o))}catch(d){throw new fa(n,d)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(_e("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Qs(n)}}class Hi{constructor(e,n,o){this.name=e,this.version=n,this.S=o,12.2===Hi.D((0,ve.z$)())&&ct("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return _e("SimpleDb","Removing database:",e),Uo(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,ve.hl)())return!1;if(Hi.N())return!0;const e=(0,ve.z$)(),n=Hi.D(e),o=0<n&&n<10,u=Hi.k(e),d=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||d)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.M)}static O(e,n){return e.store(n)}static D(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static k(e){const n=e.match(/Android ([\d.]+)/i),o=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(o)}F(e){var n=this;return(0,c.Z)(function*(){return n.db||(_e("SimpleDb","Opening database:",n.name),n.db=yield new Promise((o,u)=>{const d=indexedDB.open(n.name,n.version);d.onsuccess=g=>{o(g.target.result)},d.onblocked=()=>{u(new fa(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=g=>{const C=g.target.error;u("VersionError"===C.name?new St(et.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===C.name?new St(et.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+C):new fa(e,C))},d.onupgradeneeded=g=>{_e("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',g.oldVersion),n.S.$(g.target.result,d.transaction,g.oldVersion,n.version).next(()=>{_e("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.B&&(n.db.onversionchange=o=>n.B(o)),n.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,o,u){var d=this;return(0,c.Z)(function*(){const g="readonly"===n;let C=0;for(;;){++C;try{d.db=yield d.F(e);const U=Vo.open(d.db,e,g?"readonly":"readwrite",o),z=u(U).next(ie=>(U.V(),ie)).catch(ie=>(U.abort(ie),at.reject(ie))).toPromise();return z.catch(()=>{}),yield U.v,z}catch(U){const z=U,ie="FirebaseError"!==z.name&&C<3;if(_e("SimpleDb","Transaction failed with error:",z.message,"Retrying:",ie),d.close(),!ie)return Promise.reject(z)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Oa{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return Uo(this.U.delete())}}class fa extends St{constructor(e,n){super(et.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Hs(i){return"IndexedDbTransactionError"===i.name}class Qs{constructor(e){this.store=e}put(e,n){let o;return void 0!==n?(_e("SimpleDb","PUT",this.store.name,e,n),o=this.store.put(n,e)):(_e("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),Uo(o)}add(e){return _e("SimpleDb","ADD",this.store.name,e,e),Uo(this.store.add(e))}get(e){return Uo(this.store.get(e)).next(n=>(void 0===n&&(n=null),_e("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return _e("SimpleDb","DELETE",this.store.name,e),Uo(this.store.delete(e))}count(){return _e("SimpleDb","COUNT",this.store.name),Uo(this.store.count())}W(e,n){const o=this.options(e,n);if(o.index||"function"!=typeof this.store.getAll){const u=this.cursor(o),d=[];return this.H(u,(g,C)=>{d.push(C)}).next(()=>d)}{const u=this.store.getAll(o.range);return new at((d,g)=>{u.onerror=C=>{g(C.target.error)},u.onsuccess=C=>{d(C.target.result)}})}}J(e,n){const o=this.store.getAll(e,null===n?void 0:n);return new at((u,d)=>{o.onerror=g=>{d(g.target.error)},o.onsuccess=g=>{u(g.target.result)}})}Y(e,n){_e("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,n);o.X=!1;const u=this.cursor(o);return this.H(u,(d,g,C)=>C.delete())}Z(e,n){let o;n?o=e:(o={},n=e);const u=this.cursor(o);return this.H(u,n)}tt(e){const n=this.cursor({});return new at((o,u)=>{n.onerror=d=>{const g=Wu(d.target.error);u(g)},n.onsuccess=d=>{const g=d.target.result;g?e(g.primaryKey,g.value).next(C=>{C?g.continue():o()}):o()}})}H(e,n){const o=[];return new at((u,d)=>{e.onerror=g=>{d(g.target.error)},e.onsuccess=g=>{const C=g.target.result;if(!C)return void u();const U=new Oa(C),z=n(C.primaryKey,C.value,U);if(z instanceof at){const ie=z.catch(Ne=>(U.done(),at.reject(Ne)));o.push(ie)}U.isDone?u():null===U.G?C.continue():C.continue(U.G)}}).next(()=>at.waitFor(o))}options(e,n){let o;return void 0!==e&&("string"==typeof e?o=e:n=e),{index:o,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const o=this.store.index(e.index);return e.X?o.openKeyCursor(e.range,n):o.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Uo(i){return new at((e,n)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const u=Wu(o.target.error);n(u)}})}let jr=!1;function Wu(i){const e=Hi.D((0,ve.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(n)>=0){const o=new St("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return jr||(jr=!0,setTimeout(()=>{throw o},0)),o}}return i}class ru{constructor(e,n){this.asyncQueue=e,this.et=n,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var n=this;_e("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,c.Z)(function*(){n.task=null;try{_e("IndexBackiller",`Documents written: ${yield n.et.st()}`)}catch(o){Hs(o)?_e("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield $s(o)}yield n.nt(6e4)}))}}class Ha{constructor(e,n){this.localStore=e,this.persistence=n}st(e=50){var n=this;return(0,c.Z)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>n.it(o,e))})()}it(e,n){const o=new Set;let u=n,d=!0;return at.doWhile(()=>!0===d&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(g=>{if(null!==g&&!o.has(g))return _e("IndexBackiller",`Processing collection: ${g}`),this.rt(e,g,u).next(C=>{u-=C,o.add(g)});d=!1})).next(()=>n-u)}rt(e,n,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(u=>this.localStore.localDocuments.getNextDocuments(e,n,u,o).next(d=>{const g=d.changes;return this.localStore.indexManager.updateIndexEntries(e,g).next(()=>this.ot(u,d)).next(C=>(_e("IndexBackiller",`Updating offset: ${C}`),this.localStore.indexManager.updateCollectionGroup(e,n,C))).next(()=>g.size)}))}ot(e,n){let o=e;return n.changes.forEach((u,d)=>{const g=na(d);ki(g,o)>0&&(o=g)}),new As(o.readTime,o.documentKey,Math.max(n.batchId,e.largestBatchId))}}class Ms{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=o=>this.ut(o),this.ct=o=>n.writeSequenceNumber(o))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function Dl(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function qo(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Ku(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}Ms.at=-1;class Yr{constructor(e,n){this.comparator=e,this.root=n||xs.EMPTY}insert(e,n){return new Yr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,xs.BLACK,null,null))}remove(e){return new Yr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xs.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(0===o)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return n+o.left.size;u<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cu(this.root,e,this.comparator,!0)}}class Cu{constructor(e,n,o,u){this.isReverse=u,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=n?o(e.key,n):1,n&&u&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(0===d){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xs{constructor(e,n,o,u,d){this.key=e,this.value=n,this.color=o??xs.RED,this.left=u??xs.EMPTY,this.right=d??xs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,u,d){return new xs(e??this.key,n??this.value,o??this.color,u??this.left,d??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let u=this;const d=o(e,u.key);return u=d<0?u.copy(null,null,null,u.left.insert(e,n,o),null):0===d?u.copy(null,n,null,null,null):u.copy(null,null,null,null,u.right.insert(e,n,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return xs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,u=this;if(n(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,n),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===n(e,u.key)){if(u.right.isEmpty())return xs.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,n))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw zt();const e=this.left.check();if(e!==this.right.check())throw zt();return e+(this.isRed()?0:1)}}xs.EMPTY=null,xs.RED=!0,xs.BLACK=!1,xs.EMPTY=new class{constructor(){this.size=0}get key(){throw zt()}get value(){throw zt()}get color(){throw zt()}get left(){throw zt()}get right(){throw zt()}copy(i,e,n,o,u){return this}insert(i,e,n){return new xs(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class tr{constructor(e){this.comparator=e,this.data=new Yr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;n(u.key)}}forEachWhile(e,n){let o;for(o=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new pa(this.data.getIterator())}getIteratorFrom(e){return new pa(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof tr)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const u=n.getNext().key,d=o.getNext().key;if(0!==this.comparator(u,d))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new tr(this.comparator);return n.data=e,n}}class pa{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Zo(i){return i.hasNext()?i.getNext():void 0}class Gs{constructor(e){this.fields=e,e.sort(pr.comparator)}static empty(){return new Gs([])}unionWith(e){let n=new tr(pr.comparator);for(const o of this.fields)n=n.add(o);for(const o of e)n=n.add(o);return new Gs(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return So(this.fields,e.fields,(n,o)=>n.isEqual(o))}}function Pa(){return typeof atob<"u"}class Pr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new Pr(n)}static fromUint8Array(e){const n=function(o){let u="";for(let d=0;d<o.length;++d)u+=String.fromCharCode(o[d]);return u}(e);return new Pr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Rn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pr.EMPTY_BYTE_STRING=new Pr("");const Bo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ao(i){if(en(!!i),"string"==typeof i){let e=0;const n=Bo.exec(i);if(en(!!n),n[1]){let u=n[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Qr(i.seconds),nanos:Qr(i.nanos)}}function Qr(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Js(i){return"string"==typeof i?Pr.fromBase64String(i):Pr.fromUint8Array(i)}function Ga(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function iu(i){const e=i.mapValue.fields.__previous_value__;return Ga(e)?iu(e):e}function ka(i){const e=Ao(i.mapValue.fields.__local_write_time__.timestampValue);return new cn(e.seconds,e.nanos)}class ga{constructor(e,n,o,u,d,g,C,U){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=u,this.ssl=d,this.forceLongPolling=g,this.autoDetectLongPolling=C,this.useFetchStreams=U}}class Yo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Yo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Yo&&e.projectId===this.projectId&&e.database===this.database}}function ra(i){return null==i}function es(i){return 0===i&&1/i==-1/0}function su(i){return"number"==typeof i&&Number.isInteger(i)&&!es(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const E={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},w={nullValue:"NULL_VALUE"};function m(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Ga(i)?4:Fi(i)?9007199254740991:10:zt()}function T(i,e){if(i===e)return!0;const n=m(i);if(n!==m(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ka(i).isEqual(ka(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const d=Ao(o.timestampValue),g=Ao(u.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,Js(i.bytesValue).isEqual(Js(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return Qr(o.geoPointValue.latitude)===Qr(u.geoPointValue.latitude)&&Qr(o.geoPointValue.longitude)===Qr(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Qr(o.integerValue)===Qr(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const d=Qr(o.doubleValue),g=Qr(u.doubleValue);return d===g?es(d)===es(g):isNaN(d)&&isNaN(g)}return!1}(i,e);case 9:return So(i.arrayValue.values||[],e.arrayValue.values||[],T);case 10:return function(o,u){const d=o.mapValue.fields||{},g=u.mapValue.fields||{};if(Dl(d)!==Dl(g))return!1;for(const C in d)if(d.hasOwnProperty(C)&&(void 0===g[C]||!T(d[C],g[C])))return!1;return!0}(i,e);default:return zt()}var u}function P(i,e){return void 0!==(i.values||[]).find(n=>T(n,e))}function K(i,e){if(i===e)return 0;const n=m(i),o=m(e);if(n!==o)return Rn(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return Rn(i.booleanValue,e.booleanValue);case 2:return function(u,d){const g=Qr(u.integerValue||u.doubleValue),C=Qr(d.integerValue||d.doubleValue);return g<C?-1:g>C?1:g===C?0:isNaN(g)?isNaN(C)?0:-1:1}(i,e);case 3:return fe(i.timestampValue,e.timestampValue);case 4:return fe(ka(i),ka(e));case 5:return Rn(i.stringValue,e.stringValue);case 6:return function(u,d){const g=Js(u),C=Js(d);return g.compareTo(C)}(i.bytesValue,e.bytesValue);case 7:return function(u,d){const g=u.split("/"),C=d.split("/");for(let U=0;U<g.length&&U<C.length;U++){const z=Rn(g[U],C[U]);if(0!==z)return z}return Rn(g.length,C.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,d){const g=Rn(Qr(u.latitude),Qr(d.latitude));return 0!==g?g:Rn(Qr(u.longitude),Qr(d.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,d){const g=u.values||[],C=d.values||[];for(let U=0;U<g.length&&U<C.length;++U){const z=K(g[U],C[U]);if(z)return z}return Rn(g.length,C.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,d){if(u===E.mapValue&&d===E.mapValue)return 0;if(u===E.mapValue)return 1;if(d===E.mapValue)return-1;const g=u.fields||{},C=Object.keys(g),U=d.fields||{},z=Object.keys(U);C.sort(),z.sort();for(let ie=0;ie<C.length&&ie<z.length;++ie){const Ne=Rn(C[ie],z[ie]);if(0!==Ne)return Ne;const pt=K(g[C[ie]],U[z[ie]]);if(0!==pt)return pt}return Rn(C.length,z.length)}(i.mapValue,e.mapValue);default:throw zt()}}function fe(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Rn(i,e);const n=Ao(i),o=Ao(e),u=Rn(n.seconds,o.seconds);return 0!==u?u:Rn(n.nanos,o.nanos)}function be(i){return wt(i)}function wt(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=Ao(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Js(i.bytesValue).toBase64():"referenceValue"in i?Qt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",d=!0;for(const g of o.values||[])d?d=!1:u+=",",u+=wt(g);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let d="{",g=!0;for(const C of u)g?g=!1:d+=",",d+=`${C}:${wt(o.fields[C])}`;return d+"}"}(i.mapValue):zt();var e}function Xt(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function qn(i){return!!i&&"integerValue"in i}function mn(i){return!!i&&"arrayValue"in i}function _r(i){return!!i&&"nullValue"in i}function ts(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function os(i){return!!i&&"mapValue"in i}function Xs(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return qo(i.mapValue.fields,(n,o)=>e.mapValue.fields[n]=Xs(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xs(i.arrayValue.values[n]);return e}return Object.assign({},i)}function Fi(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function bu(i){return"nullValue"in i?w:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?Xt(Yo.empty(),Qt.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:zt()}function eo(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?Xt(Yo.empty(),Qt.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?E:zt()}function Ca(i,e){const n=K(i.value,e.value);return 0!==n?n:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function Fa(i,e){const n=K(i.value,e.value);return 0!==n?n:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class vs{constructor(e){this.value=e}static empty(){return new vs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!os(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xs(n)}setAll(e){let n=pr.emptyPath(),o={},u=[];e.forEach((g,C)=>{if(!n.isImmediateParentOf(C)){const U=this.getFieldsMap(n);this.applyChanges(U,o,u),o={},u=[],n=C.popLast()}g?o[C.lastSegment()]=Xs(g):u.push(C.lastSegment())});const d=this.getFieldsMap(n);this.applyChanges(d,o,u)}delete(e){const n=this.field(e.popLast());os(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return T(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=n.mapValue.fields[e.get(o)];os(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=u),n=u}return n.mapValue.fields}applyChanges(e,n,o){qo(n,(u,d)=>e[u]=d);for(const u of o)delete e[u]}clone(){return new vs(Xs(this.value))}}function Gi(i){const e=[];return qo(i.fields,(n,o)=>{const u=new pr([n]);if(os(o)){const d=Gi(o.mapValue).fields;if(0===d.length)e.push(u);else for(const g of d)e.push(u.child(g))}else e.push(u)}),new Gs(e)}class ti{constructor(e,n,o,u,d,g){this.key=e,this.documentType=n,this.version=o,this.readTime=u,this.data=d,this.documentState=g}static newInvalidDocument(e){return new ti(e,0,Kt.min(),Kt.min(),vs.empty(),0)}static newFoundDocument(e,n,o){return new ti(e,1,n,Kt.min(),o,0)}static newNoDocument(e,n){return new ti(e,2,n,Kt.min(),vs.empty(),0)}static newUnknownDocument(e,n){return new ti(e,3,n,Kt.min(),vs.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Kt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ti&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ti(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Cl{constructor(e,n=null,o=[],u=[],d=null,g=null,C=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=u,this.limit=d,this.startAt=g,this.endAt=C,this.ht=null}}function x(i,e=null,n=[],o=[],u=null,d=null,g=null){return new Cl(i,e,n,o,u,d,g)}function F(i){const e=At(i);if(null===e.ht){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>{return(u=o).field.canonicalString()+u.op.toString()+be(u.value);var u}).join(","),n+="|ob:",n+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),ra(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>be(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>be(o)).join(",")),e.ht=n}return e.ht}function ye(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let u=0;u<i.orderBy.length;u++)if(!Tu(i.orderBy[u],e.orderBy[u]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let u=0;u<i.filters.length;u++)if((n=i.filters[u]).op!==(o=e.filters[u]).op||!n.field.isEqual(o.field)||!T(n.value,o.value))return!1;var n,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!ya(i.startAt,e.startAt)&&ya(i.endAt,e.endAt)}function Qe(i){return Qt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function Et(i,e){return i.filters.filter(n=>n instanceof Dn&&n.field.isEqual(e))}function $t(i,e,n){let o=w,u=!0;for(const d of Et(i,e)){let g=w,C=!0;switch(d.op){case"<":case"<=":g=bu(d.value);break;case"==":case"in":case">=":g=d.value;break;case">":g=d.value,C=!1;break;case"!=":case"not-in":g=w}Ca({value:o,inclusive:u},{value:g,inclusive:C})<0&&(o=g,u=C)}if(null!==n)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const g=n.position[d];Ca({value:o,inclusive:u},{value:g,inclusive:n.inclusive})<0&&(o=g,u=n.inclusive);break}return{value:o,inclusive:u}}function fn(i,e,n){let o=E,u=!0;for(const d of Et(i,e)){let g=E,C=!0;switch(d.op){case">=":case">":g=eo(d.value),C=!1;break;case"==":case"in":case"<=":g=d.value;break;case"<":g=d.value,C=!1;break;case"!=":case"not-in":g=E}Fa({value:o,inclusive:u},{value:g,inclusive:C})>0&&(o=g,u=C)}if(null!==n)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const g=n.position[d];Fa({value:o,inclusive:u},{value:g,inclusive:n.inclusive})>0&&(o=g,u=n.inclusive);break}return{value:o,inclusive:u}}class Dn extends class{}{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?"in"===n||"not-in"===n?this.lt(e,n,o):new gr(e,n,o):"array-contains"===n?new to(e,o):"in"===n?new ou(e,o):"not-in"===n?new au(e,o):"array-contains-any"===n?new jo(e,o):new Dn(e,n,o)}static lt(e,n,o){return"in"===n?new vr(e,o):new Gn(e,o)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.ft(K(n,this.value)):null!==n&&m(this.value)===m(n)&&this.ft(K(n,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return zt()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class gr extends Dn{constructor(e,n,o){super(e,n,o),this.key=Qt.fromName(o.referenceValue)}matches(e){const n=Qt.comparator(e.key,this.key);return this.ft(n)}}class vr extends Dn{constructor(e,n){super(e,"in",n),this.keys=zi(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Gn extends Dn{constructor(e,n){super(e,"not-in",n),this.keys=zi(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function zi(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(o=>Qt.fromName(o.referenceValue))}class to extends Dn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return mn(n)&&P(n.arrayValue,this.value)}}class ou extends Dn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&P(this.value.arrayValue,n)}}class au extends Dn{constructor(e,n){super(e,"not-in",n)}matches(e){if(P(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!P(this.value.arrayValue,n)}}class jo extends Dn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!mn(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>P(this.value.arrayValue,o))}}class lo{constructor(e,n){this.position=e,this.inclusive=n}}class ba{constructor(e,n="asc"){this.field=e,this.dir=n}}function Tu(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function ma(i,e,n){let o=0;for(let u=0;u<i.position.length;u++){const d=e[u],g=i.position[u];if(o=d.field.isKeyField()?Qt.comparator(Qt.fromName(g.referenceValue),n.key):K(g,n.data.field(d.field)),"desc"===d.dir&&(o*=-1),0!==o)break}return o}function ya(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!T(i.position[n],e.position[n]))return!1;return!0}class va{constructor(e,n=null,o=[],u=[],d=null,g="F",C=null,U=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=u,this.limit=d,this.limitType=g,this.startAt=C,this.endAt=U,this._t=null,this.wt=null}}function Xc(i,e,n,o,u,d,g,C){return new va(i,e,n,o,u,d,g,C)}function uu(i){return new va(i)}function ed(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function La(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function bl(i){for(const e of i.filters)if(e.dt())return e.field;return null}function uc(i){return null!==i.collectionGroup}function lu(i){const e=At(i);if(null===e._t){e._t=[];const n=bl(e),o=La(e);if(null!==n&&null===o)n.isKeyField()||e._t.push(new ba(n)),e._t.push(new ba(pr.keyField(),"asc"));else{let u=!1;for(const d of e.explicitOrderBy)e._t.push(d),d.field.isKeyField()&&(u=!0);if(!u){const d=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new ba(pr.keyField(),d))}}}return e._t}function Qo(i){const e=At(i);if(!e.wt)if("F"===e.limitType)e.wt=x(e.path,e.collectionGroup,lu(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const d of lu(e))n.push(new ba(d.field,"desc"===d.dir?"asc":"desc"));const o=e.endAt?new lo(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new lo(e.startAt.position,e.startAt.inclusive):null;e.wt=x(e.path,e.collectionGroup,n,e.filters,e.limit,o,u)}return e.wt}function qu(i,e,n){return new va(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Tl(i,e){return ye(Qo(i),Qo(e))&&i.limitType===e.limitType}function Sl(i){return`${F(Qo(i))}|lt:${i.limitType}`}function lc(i){return`Query(target=${function Y(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(n=>{return`${(o=n).field.canonicalString()} ${o.op} ${be(o.value)}`;var o}).join(", ")}]`),ra(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(n=>{return`${(o=n).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(n=>be(n)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(n=>be(n)).join(",")),`Target(${e})`}(Qo(i))}; limitType=${i.limitType})`}function Su(i,e){return e.isFoundDocument()&&function(n,o){const u=o.key.path;return null!==n.collectionGroup?o.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(u):Qt.isDocumentKey(n.path)?n.path.isEqual(u):n.path.isImmediateParentOf(u)}(i,e)&&function(n,o){for(const u of n.explicitOrderBy)if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(n,o){for(const u of n.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((n=i).startAt&&!function(u,d,g){const C=ma(u,d,g);return u.inclusive?C<=0:C<0}(n.startAt,lu(n),o)||n.endAt&&!function(u,d,g){const C=ma(u,d,g);return u.inclusive?C>=0:C>0}(n.endAt,lu(n),o)));var n,o}function Zu(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Al(i){return(e,n)=>{let o=!1;for(const u of lu(i)){const d=Au(u,e,n);if(0!==d)return d;o=o||u.field.isKeyField()}return 0}}function Au(i,e,n){const o=i.field.isKeyField()?Qt.comparator(e.key,n.key):function(u,d,g){const C=d.data.field(u),U=g.data.field(u);return null!==C&&null!==U?K(C,U):zt()}(i.field,e,n);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return zt()}}function td(i,e){if(i.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:es(e)?"-0":e}}function nd(i){return{integerValue:""+i}}function rd(i,e){return su(e)?nd(e):td(i,e)}class cu{constructor(){this._=void 0}}function cc(i,e,n){return i instanceof Va?function(o,u){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&(d.fields.__previous_value__=u),{mapValue:d}}(n,e):i instanceof Jo?Ml(i,e):i instanceof du?hc(i,e):function(o,u){const d=dc(o,u),g=xl(d)+xl(o.yt);return qn(d)&&qn(o.yt)?nd(g):td(o.It,g)}(i,e)}function id(i,e,n){return i instanceof Jo?Ml(i,e):i instanceof du?hc(i,e):n}function dc(i,e){return i instanceof Mu?qn(n=e)||(o=n)&&"doubleValue"in o?e:{integerValue:0}:null;var o,n}class Va extends cu{}class Jo extends cu{constructor(e){super(),this.elements=e}}function Ml(i,e){const n=Ta(e);for(const o of i.elements)n.some(u=>T(u,o))||n.push(o);return{arrayValue:{values:n}}}class du extends cu{constructor(e){super(),this.elements=e}}function hc(i,e){let n=Ta(e);for(const o of i.elements)n=n.filter(u=>!T(u,o));return{arrayValue:{values:n}}}class Mu extends cu{constructor(e,n){super(),this.It=e,this.yt=n}}function xl(i){return Qr(i.integerValue||i.doubleValue)}function Ta(i){return mn(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class _a{constructor(e,n){this.field=e,this.transform=n}}class dh{constructor(e,n){this.version=e,this.transformResults=n}}class Li{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Li}static exists(e){return new Li(void 0,e)}static updateTime(e){return new Li(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nl(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class fc{}function I(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new lr(i.key,Li.none()):new se(i.key,i.data,Li.none());{const n=i.data,o=vs.empty();let u=new tr(pr.comparator);for(let d of e.fields)if(!u.has(d)){let g=n.field(d);null===g&&d.length>1&&(d=d.popLast(),g=n.field(d)),null===g?o.delete(d):o.set(d,g),u=u.add(d)}return new tt(i.key,o,new Gs(u.toArray()),Li.none())}}function f(i,e,n){i instanceof se?function(o,u,d){const g=o.value.clone(),C=_n(o.fieldTransforms,u,d.transformResults);g.setAll(C),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(i,e,n):i instanceof tt?function(o,u,d){if(!Nl(o.precondition,u))return void u.convertToUnknownDocument(d.version);const g=_n(o.fieldTransforms,u,d.transformResults),C=u.data;C.setAll(Ot(o)),C.setAll(g),u.convertToFoundDocument(d.version,C).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function p(i,e,n,o){return i instanceof se?function(u,d,g,C){if(!Nl(u.precondition,d))return g;const U=u.value.clone(),z=jn(u.fieldTransforms,C,d);return U.setAll(z),d.convertToFoundDocument(d.version,U).setHasLocalMutations(),null}(i,e,n,o):i instanceof tt?function(u,d,g,C){if(!Nl(u.precondition,d))return g;const U=jn(u.fieldTransforms,C,d),z=d.data;return z.setAll(Ot(u)),z.setAll(U),d.convertToFoundDocument(d.version,z).setHasLocalMutations(),null===g?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(ie=>ie.field))}(i,e,n,o):(g=n,Nl(i.precondition,d=e)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g);var d,g}function b(i,e){let n=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),d=dc(o.transform,u||null);null!=d&&(null===n&&(n=vs.empty()),n.set(o.field,d))}return n||null}function q(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(n=i.fieldTransforms)&&void 0===o||n&&o&&So(n,o,(u,d)=>function sd(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(n=i.transform)instanceof Jo&&o instanceof Jo||n instanceof du&&o instanceof du?So(n.elements,o.elements,T):n instanceof Mu&&o instanceof Mu?T(n.yt,o.yt):n instanceof Va&&o instanceof Va);var n,o}(u,d))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var n,o}class se extends fc{constructor(e,n,o,u=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class tt extends fc{constructor(e,n,o,u,d=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=u,this.fieldTransforms=d,this.type=1}getFieldMask(){return this.fieldMask}}function Ot(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=i.data.field(n);e.set(n,o)}}),e}function _n(i,e,n){const o=new Map;en(i.length===n.length);for(let u=0;u<n.length;u++){const d=i[u],g=d.transform,C=e.data.field(d.field);o.set(d.field,id(g,C,n[u]))}return o}function jn(i,e,n){const o=new Map;for(const u of i){const d=u.transform,g=n.data.field(u.field);o.set(u.field,cc(d,g,e))}return o}class lr extends fc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pi extends fc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ua{constructor(e){this.count=e}}var Ci,kr;function Yu(i){switch(i){default:return zt();case et.CANCELLED:case et.UNKNOWN:case et.DEADLINE_EXCEEDED:case et.RESOURCE_EXHAUSTED:case et.INTERNAL:case et.UNAVAILABLE:case et.UNAUTHENTICATED:return!1;case et.INVALID_ARGUMENT:case et.NOT_FOUND:case et.ALREADY_EXISTS:case et.PERMISSION_DENIED:case et.FAILED_PRECONDITION:case et.ABORTED:case et.OUT_OF_RANGE:case et.UNIMPLEMENTED:case et.DATA_LOSS:return!0}}function xu(i){if(void 0===i)return ct("GRPC error has no .code"),et.UNKNOWN;switch(i){case Ci.OK:return et.OK;case Ci.CANCELLED:return et.CANCELLED;case Ci.UNKNOWN:return et.UNKNOWN;case Ci.DEADLINE_EXCEEDED:return et.DEADLINE_EXCEEDED;case Ci.RESOURCE_EXHAUSTED:return et.RESOURCE_EXHAUSTED;case Ci.INTERNAL:return et.INTERNAL;case Ci.UNAVAILABLE:return et.UNAVAILABLE;case Ci.UNAUTHENTICATED:return et.UNAUTHENTICATED;case Ci.INVALID_ARGUMENT:return et.INVALID_ARGUMENT;case Ci.NOT_FOUND:return et.NOT_FOUND;case Ci.ALREADY_EXISTS:return et.ALREADY_EXISTS;case Ci.PERMISSION_DENIED:return et.PERMISSION_DENIED;case Ci.FAILED_PRECONDITION:return et.FAILED_PRECONDITION;case Ci.ABORTED:return et.ABORTED;case Ci.OUT_OF_RANGE:return et.OUT_OF_RANGE;case Ci.UNIMPLEMENTED:return et.UNIMPLEMENTED;case Ci.DATA_LOSS:return et.DATA_LOSS;default:return zt()}}(kr=Ci||(Ci={}))[kr.OK=0]="OK",kr[kr.CANCELLED=1]="CANCELLED",kr[kr.UNKNOWN=2]="UNKNOWN",kr[kr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kr[kr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kr[kr.NOT_FOUND=5]="NOT_FOUND",kr[kr.ALREADY_EXISTS=6]="ALREADY_EXISTS",kr[kr.PERMISSION_DENIED=7]="PERMISSION_DENIED",kr[kr.UNAUTHENTICATED=16]="UNAUTHENTICATED",kr[kr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kr[kr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kr[kr.ABORTED=10]="ABORTED",kr[kr.OUT_OF_RANGE=11]="OUT_OF_RANGE",kr[kr.UNIMPLEMENTED=12]="UNIMPLEMENTED",kr[kr.INTERNAL=13]="INTERNAL",kr[kr.UNAVAILABLE=14]="UNAVAILABLE",kr[kr.DATA_LOSS=15]="DATA_LOSS";class za{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0!==o)for(const[u,d]of o)if(this.equalsFn(u,e))return d}has(e){return void 0!==this.get(e)}set(e,n){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,n]],void this.innerSize++;for(let d=0;d<u.length;d++)if(this.equalsFn(u[d][0],e))return void(u[d]=[e,n]);u.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[n]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){qo(this.inner,(n,o)=>{for(const[u,d]of o)e(u,d)})}isEmpty(){return Ku(this.inner)}size(){return this.innerSize}}const hh=new Yr(Qt.comparator);function no(){return hh}const pc=new Yr(Qt.comparator);function Nu(...i){let e=pc;for(const n of i)e=e.insert(n.key,n);return e}function Rl(i){let e=pc;return i.forEach((n,o)=>e=e.insert(n,o.overlayedDocument)),e}function Ea(){return Sa()}function gc(){return Sa()}function Sa(){return new za(i=>i.toString(),(i,e)=>i.isEqual(e))}const od=new Yr(Qt.comparator),fh=new tr(Qt.comparator);function Mr(...i){let e=fh;for(const n of i)e=e.add(n);return e}const Ns=new tr(Rn);function mc(){return Ns}class yc{constructor(e,n,o,u,d){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,n){const o=new Map;return o.set(e,Qu.createSynthesizedTargetChangeForCurrentChange(e,n)),new yc(Kt.min(),o,mc(),no(),Mr())}}class Qu{constructor(e,n,o,u,d){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,n){return new Qu(Pr.EMPTY_BYTE_STRING,n,Mr(),Mr(),Mr())}}class vc{constructor(e,n,o,u){this.Tt=e,this.removedTargetIds=n,this.key=o,this.Et=u}}class lp{constructor(e,n){this.targetId=e,this.At=n}}class cp{constructor(e,n,o=Pr.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=u}}class dp{constructor(){this.Rt=0,this.bt=Sm(),this.Pt=Pr.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Mr(),n=Mr(),o=Mr();return this.bt.forEach((u,d)=>{switch(d){case 0:e=e.add(u);break;case 2:n=n.add(u);break;case 1:o=o.add(u);break;default:zt()}}),new Qu(this.Pt,this.vt,e,n,o)}Nt(){this.Vt=!1,this.bt=Sm()}kt(e,n){this.Vt=!0,this.bt=this.bt.insert(e,n)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class Tm{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=no(),this.qt=hp(),this.Kt=new tr(Rn)}Gt(e){for(const n of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(n,e.Et):this.jt(n,e.key,e.Et);for(const n of e.removedTargetIds)this.jt(n,e.key,e.Et)}Wt(e){this.forEachTarget(e,n=>{const o=this.zt(n);switch(e.state){case 0:this.Ht(n)&&o.Ct(e.resumeToken);break;case 1:o.Ft(),o.St||o.Nt(),o.Ct(e.resumeToken);break;case 2:o.Ft(),o.St||this.removeTarget(n);break;case 3:this.Ht(n)&&(o.$t(),o.Ct(e.resumeToken));break;case 4:this.Ht(n)&&(this.Jt(n),o.Ct(e.resumeToken));break;default:zt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Lt.forEach((o,u)=>{this.Ht(u)&&n(u)})}Yt(e){const n=e.targetId,o=e.At.count,u=this.Xt(n);if(u){const d=u.target;if(Qe(d))if(0===o){const g=new Qt(d.path);this.jt(n,g,ti.newNoDocument(g,Kt.min()))}else en(1===o);else this.Zt(n)!==o&&(this.Jt(n),this.Kt=this.Kt.add(n))}}te(e){const n=new Map;this.Lt.forEach((d,g)=>{const C=this.Xt(g);if(C){if(d.current&&Qe(C.target)){const U=new Qt(C.target.path);null!==this.Ut.get(U)||this.ee(g,U)||this.jt(g,U,ti.newNoDocument(U,e))}d.Dt&&(n.set(g,d.xt()),d.Nt())}});let o=Mr();this.qt.forEach((d,g)=>{let C=!0;g.forEachWhile(U=>{const z=this.Xt(U);return!z||2===z.purpose||(C=!1,!1)}),C&&(o=o.add(d))}),this.Ut.forEach((d,g)=>g.setReadTime(e));const u=new yc(e,n,this.Kt,this.Ut,o);return this.Ut=no(),this.qt=hp(),this.Kt=new tr(Rn),u}Qt(e,n){if(!this.Ht(e))return;const o=this.ee(e,n.key)?2:0;this.zt(e).kt(n.key,o),this.Ut=this.Ut.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ne(n.key).add(e))}jt(e,n,o){if(!this.Ht(e))return;const u=this.zt(e);this.ee(e,n)?u.kt(n,1):u.Mt(n),this.qt=this.qt.insert(n,this.ne(n).delete(e)),o&&(this.Ut=this.Ut.insert(n,o))}removeTarget(e){this.Lt.delete(e)}Zt(e){const n=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let n=this.Lt.get(e);return n||(n=new dp,this.Lt.set(e,n)),n}ne(e){let n=this.qt.get(e);return n||(n=new tr(Rn),this.qt=this.qt.insert(e,n)),n}Ht(e){const n=null!==this.Xt(e);return n||_e("WatchChangeAggregator","Detected inactive target",e),n}Xt(e){const n=this.Lt.get(e);return n&&n.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new dp),this.Bt.getRemoteKeysForTarget(e).forEach(n=>{this.jt(e,n,null)})}ee(e,n){return this.Bt.getRemoteKeysForTarget(e).has(n)}}function hp(){return new Yr(Qt.comparator)}function Sm(){return new Yr(Qt.comparator)}const Ov={asc:"ASCENDING",desc:"DESCENDING"},_c={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class ph{constructor(e,n){this.databaseId=e,this.gt=n}}function Ol(i,e){return i.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gh(i,e){return i.gt?e.toBase64():e.toUint8Array()}function fp(i,e){return Ol(i,e.toTimestamp())}function co(i){return en(!!i),Kt.fromTimestamp(function(e){const n=Ao(e);return new cn(n.seconds,n.nanos)}(i))}function ad(i,e){return(n=i,new kn(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function mh(i){const e=kn.fromString(i);return en(yp(e)),e}function Ju(i,e){return ad(i.databaseId,e.path)}function hu(i,e){const n=mh(e);if(n.get(1)!==i.databaseId.projectId)throw new St(et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new St(et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Qt(vh(n))}function yh(i,e){return ad(i.databaseId,e)}function ud(i){const e=mh(i);return 4===e.length?kn.emptyPath():vh(e)}function Pl(i){return new kn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function vh(i){return en(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Ru(i,e,n){return{name:Ju(i,e),fields:n.value.mapValue.fields}}function pp(i,e,n){const o=hu(i,e.name),u=co(e.updateTime),d=new vs({mapValue:{fields:e.fields}}),g=ti.newFoundDocument(o,u,d);return n&&g.setHasCommittedMutations(),n?g.setHasCommittedMutations():g}function Ec(i,e){let n;if(e instanceof se)n={update:Ru(i,e.key,e.value)};else if(e instanceof lr)n={delete:Ju(i,e.key)};else if(e instanceof tt)n={update:Ru(i,e.key,e.data),updateMask:wh(e.fieldMask)};else{if(!(e instanceof pi))return zt();n={verify:Ju(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(u,d){const g=d.transform;if(g instanceof Va)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Jo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof du)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Mu)return{fieldPath:d.field.canonicalString(),increment:g.yt};throw zt()}(0,o))),e.precondition.isNone||(n.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:fp(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:zt()),n;var u}function wc(i,e){const n=e.currentDocument?void 0!==(u=e.currentDocument).updateTime?Li.updateTime(co(u.updateTime)):void 0!==u.exists?Li.exists(u.exists):Li.none():Li.none(),o=e.updateTransforms?e.updateTransforms.map(u=>function(d,g){let C=null;"setToServerValue"in g?(en("REQUEST_TIME"===g.setToServerValue),C=new Va):"appendMissingElements"in g?C=new Jo(g.appendMissingElements.values||[]):"removeAllFromArray"in g?C=new du(g.removeAllFromArray.values||[]):"increment"in g?C=new Mu(d,g.increment):zt();const U=pr.fromServerFormat(g.fieldPath);return new _a(U,C)}(i,u)):[];var u;if(e.update){const u=hu(i,e.update.name),d=new vs({mapValue:{fields:e.update.fields}});if(e.updateMask){const g=new Gs((e.updateMask.fieldPaths||[]).map(z=>pr.fromServerFormat(z)));return new tt(u,d,g,n,o)}return new se(u,d,n,o)}if(e.delete){const u=hu(i,e.delete);return new lr(u,n)}if(e.verify){const u=hu(i,e.verify);return new pi(u,n)}return zt()}function Ou(i,e){return{documents:[yh(i,e.path)]}}function Eh(i,e){const n={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(n.parent=yh(i,o),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=yh(i,o.popLast()),n.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(U){if(0===U.length)return;const z=U.map(ie=>function(Ne){if("=="===Ne.op){if(ts(Ne.value))return{unaryFilter:{field:Fl(Ne.field),op:"IS_NAN"}};if(_r(Ne.value))return{unaryFilter:{field:Fl(Ne.field),op:"IS_NULL"}}}else if("!="===Ne.op){if(ts(Ne.value))return{unaryFilter:{field:Fl(Ne.field),op:"IS_NOT_NAN"}};if(_r(Ne.value))return{unaryFilter:{field:Fl(Ne.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fl(Ne.field),op:kl(Ne.op),value:Ne.value}}}(ie));return 1===z.length?z[0]:{compositeFilter:{op:"AND",filters:z}}}(e.filters);u&&(n.structuredQuery.where=u);const d=function(U){if(0!==U.length)return U.map(z=>{return{field:Fl((ie=z).field),direction:mp(ie.dir)};var ie})}(e.orderBy);d&&(n.structuredQuery.orderBy=d);const g=(z=e.limit,i.gt||ra(z)?z:{value:z});var z,C,U;return null!==g&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt={before:(C=e.startAt).inclusive,values:C.position}),e.endAt&&(n.structuredQuery.endAt={before:!(U=e.endAt).inclusive,values:U.position}),n}function dd(i){let e=ud(i.parent);const n=i.structuredQuery,o=n.from?n.from.length:0;let u=null;if(o>0){en(1===o);const ie=n.from[0];ie.allDescendants?u=ie.collectionId:e=e.child(ie.collectionId)}let d=[];n.where&&(d=gp(n.where));let g=[];n.orderBy&&(g=n.orderBy.map(ie=>{return new ba(Ll((Ne=ie).field),function(pt){switch(pt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ne.direction));var Ne}));let C=null;n.limit&&(C=function(ie){let Ne;return Ne="object"==typeof ie?ie.value:ie,ra(Ne)?null:Ne}(n.limit));let U=null;var ie;n.startAt&&(U=new lo((ie=n.startAt).values||[],!!ie.before));let z=null;return n.endAt&&(z=function(ie){return new lo(ie.values||[],!ie.before)}(n.endAt)),Xc(e,u,g,d,C,"F",U,z)}function gp(i){return i?void 0!==i.unaryFilter?[xm(i)]:void 0!==i.fieldFilter?[Mm(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>gp(e)).reduce((e,n)=>e.concat(n)):zt():[]}function mp(i){return Ov[i]}function kl(i){return _c[i]}function Fl(i){return{fieldPath:i.canonicalString()}}function Ll(i){return pr.fromServerFormat(i.fieldPath)}function Mm(i){return Dn.create(Ll(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return zt()}}(i.fieldFilter.op),i.fieldFilter.value)}function xm(i){switch(i.unaryFilter.op){case"IS_NAN":const e=Ll(i.unaryFilter.field);return Dn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Ll(i.unaryFilter.field);return Dn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ll(i.unaryFilter.field);return Dn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Ll(i.unaryFilter.field);return Dn.create(u,"!=",{nullValue:"NULL_VALUE"});default:return zt()}}function wh(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function yp(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function $o(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Ih(e)),e=Nm(i.get(n),e);return Ih(e)}function Nm(i,e){let n=e;const o=i.length;for(let u=0;u<o;u++){const d=i.charAt(u);switch(d){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=d}}return n}function Ih(i){return i+"\x01\x01"}function fu(i){const e=i.length;if(en(e>=2),2===e)return en("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),kn.emptyPath();const n=e-2,o=[];let u="";for(let d=0;d<e;){const g=i.indexOf("\x01",d);switch((g<0||g>n)&&zt(),i.charAt(g+1)){case"\x01":const C=i.substring(d,g);let U;0===u.length?U=C:(u+=C,U=u,u=""),o.push(U);break;case"\x10":u+=i.substring(d,g),u+="\0";break;case"\x11":u+=i.substring(d,g+1);break;default:zt()}d=g+2}return new kn(o)}const vp=["userId","batchId"];function Pu(i,e){return[i,$o(e)]}function _p(i,e,n){return[i,$o(e),n]}const Vl={},Ic=["prefixPath","collectionGroup","readTime","documentId"],Rm=["prefixPath","collectionGroup","documentId"],Pv=["collectionGroup","readTime","prefixPath","documentId"],Ep=["canonicalId","targetId"],Om=["targetId","path"],Pm=["path","targetId"],km=["collectionId","parent"],wp=["indexId","uid"],Ip=["uid","sequenceNumber"],Dh=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Fm=["indexId","uid","orderedDocumentKey"],Lm=["userId","collectionPath","documentId"],Ch=["userId","collectionPath","largestBatchId"],kv=["userId","collectionGroup","largestBatchId"],Vm=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],bh=[...Vm,"documentOverlays"],Um=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Bm=Um,Fv=[...Bm,"indexConfiguration","indexState","indexEntries"];class Dp extends nu{constructor(e,n){super(),this.ie=e,this.currentSequenceNumber=n}}function Mo(i,e){const n=At(i);return Hi.O(n.ie,e)}class Th{constructor(e,n,o,u){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let u=0;u<this.mutations.length;u++){const d=this.mutations[u];d.key.isEqual(e.key)&&f(d,e,o[u])}}applyToLocalView(e,n){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(n=p(o,e,n,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(n=p(o,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const o=gc();return this.mutations.forEach(u=>{const d=e.get(u.key),g=d.overlayedDocument;let C=this.applyToLocalView(g,d.mutatedFields);C=n.has(u.key)?null:C;const U=I(g,C);null!==U&&o.set(u.key,U),g.isValidDocument()||g.convertToNoDocument(Kt.min())}),o}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Mr())}isEqual(e){return this.batchId===e.batchId&&So(this.mutations,e.mutations,(n,o)=>q(n,o))&&So(this.baseMutations,e.baseMutations,(n,o)=>q(n,o))}}class hd{constructor(e,n,o,u){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=u}static from(e,n,o){en(e.mutations.length===o.length);let u=od;const d=e.mutations;for(let g=0;g<d.length;g++)u=u.insert(d[g].key,o[g].version);return new hd(e,n,o,u)}}class Dc{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class pu{constructor(e,n,o,u,d=Kt.min(),g=Kt.min(),C=Pr.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=g,this.resumeToken=C}withSequenceNumber(e){return new pu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new pu(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new pu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Sh{constructor(e){this.re=e}}function fd(i,e){const n=e.key,o={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:pd(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:Ju(u=i.re,(d=e).key),fields:d.data.value.mapValue.fields,updateTime:Ol(u,d.version.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:n.path.toArray(),readTime:gu(e.version)};else{if(!e.isUnknownDocument())return zt();o.unknownDocument={path:n.path.toArray(),version:gu(e.version)}}var u,d;return o}function pd(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function gu(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ba(i){const e=new cn(i.seconds,i.nanoseconds);return Kt.fromTimestamp(e)}function Xu(i,e){const n=(e.baseMutations||[]).map(d=>wc(i.re,d));for(let d=0;d<e.mutations.length-1;++d){const g=e.mutations[d];d+1<e.mutations.length&&void 0!==e.mutations[d+1].transform&&(g.updateTransforms=e.mutations[d+1].transform.fieldTransforms,e.mutations.splice(d+1,1),++d)}const o=e.mutations.map(d=>wc(i.re,d)),u=cn.fromMillis(e.localWriteTimeMs);return new Th(e.batchId,u,n,o)}function Cc(i){const e=Ba(i.readTime),n=void 0!==i.lastLimboFreeSnapshotVersion?Ba(i.lastLimboFreeSnapshotVersion):Kt.min();let o;var u;return void 0!==i.query.documents?(en(1===(u=i.query).documents.length),o=Qo(uu(ud(u.documents[0])))):o=Qo(dd(i.query)),new pu(o,i.targetId,0,i.lastListenSequenceNumber,e,n,Pr.fromBase64String(i.resumeToken))}function bp(i,e){const n=gu(e.snapshotVersion),o=gu(e.lastLimboFreeSnapshotVersion);let u;u=Qe(e.target)?Ou(i.re,e.target):Eh(i.re,e.target);const d=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:F(e.target),readTime:n,resumeToken:d,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:u}}function gd(i){const e=dd({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?qu(e,e.limit,"L"):e}function Ah(i,e){return new Dc(e.largestBatchId,wc(i.re,e.overlayMutation))}function Tp(i,e){const n=e.path.lastSegment();return[i,$o(e.path.popLast()),n]}function Sp(i,e,n,o){return{indexId:i,uid:e.uid||"",sequenceNumber:n,readTime:gu(o.readTime),documentKey:$o(o.documentKey.path),largestBatchId:o.largestBatchId}}class jm{getBundleMetadata(e,n){return md(e).get(n).next(o=>{if(o)return{id:(u=o).bundleId,createTime:Ba(u.createTime),version:u.version};var u})}saveBundleMetadata(e,n){return md(e).put({bundleId:(o=n).id,createTime:gu(co(o.createTime)),version:o.version});var o}getNamedQuery(e,n){return Ap(e).get(n).next(o=>{if(o)return{name:(u=o).name,query:gd(u.bundledQuery),readTime:Ba(u.readTime)};var u})}saveNamedQuery(e,n){return Ap(e).put({name:(o=n).name,readTime:gu(co(o.readTime)),bundledQuery:o.bundledQuery});var o}}function md(i){return Mo(i,"bundles")}function Ap(i){return Mo(i,"namedQueries")}class yd{constructor(e,n){this.It=e,this.userId=n}static oe(e,n){return new yd(e,n.uid||"")}getOverlay(e,n){return bc(e).get(Tp(this.userId,n)).next(o=>o?Ah(this.It,o):null)}getOverlays(e,n){const o=Ea();return at.forEach(n,u=>this.getOverlay(e,u).next(d=>{null!==d&&o.set(u,d)})).next(()=>o)}saveOverlays(e,n,o){const u=[];return o.forEach((d,g)=>{const C=new Dc(n,g);u.push(this.ue(e,C))}),at.waitFor(u)}removeOverlaysForBatchId(e,n,o){const u=new Set;n.forEach(g=>u.add($o(g.getCollectionPath())));const d=[];return u.forEach(g=>{const C=IDBKeyRange.bound([this.userId,g,o],[this.userId,g,o+1],!1,!0);d.push(bc(e).Y("collectionPathOverlayIndex",C))}),at.waitFor(d)}getOverlaysForCollection(e,n,o){const u=Ea(),d=$o(n),g=IDBKeyRange.bound([this.userId,d,o],[this.userId,d,Number.POSITIVE_INFINITY],!0);return bc(e).W("collectionPathOverlayIndex",g).next(C=>{for(const U of C){const z=Ah(this.It,U);u.set(z.getKey(),z)}return u})}getOverlaysForCollectionGroup(e,n,o,u){const d=Ea();let g;const C=IDBKeyRange.bound([this.userId,n,o],[this.userId,n,Number.POSITIVE_INFINITY],!0);return bc(e).Z({index:"collectionGroupOverlayIndex",range:C},(U,z,ie)=>{const Ne=Ah(this.It,z);d.size()<u||Ne.largestBatchId===g?(d.set(Ne.getKey(),Ne),g=Ne.largestBatchId):ie.done()}).next(()=>d)}ue(e,n){return bc(e).put(function(o,u,d){const[g,C,U]=Tp(u,d.mutation.key);return{userId:u,collectionPath:C,documentId:U,collectionGroup:d.mutation.key.getCollectionGroup(),largestBatchId:d.largestBatchId,overlayMutation:Ec(o.re,d.mutation)}}(this.It,this.userId,n))}}function bc(i){return Mo(i,"documentOverlays")}class ku{constructor(){}ce(e,n){this.ae(e,n),n.he()}ae(e,n){if("nullValue"in e)this.le(n,5);else if("booleanValue"in e)this.le(n,10),n.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(n,15),n.fe(Qr(e.integerValue));else if("doubleValue"in e){const o=Qr(e.doubleValue);isNaN(o)?this.le(n,13):(this.le(n,15),es(o)?n.fe(0):n.fe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.le(n,20),"string"==typeof o?n.de(o):(n.de(`${o.seconds||""}`),n.fe(o.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,n),this.we(n);else if("bytesValue"in e)this.le(n,30),n.me(Js(e.bytesValue)),this.we(n);else if("referenceValue"in e)this.ge(e.referenceValue,n);else if("geoPointValue"in e){const o=e.geoPointValue;this.le(n,45),n.fe(o.latitude||0),n.fe(o.longitude||0)}else"mapValue"in e?Fi(e)?this.le(n,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,n),this.we(n)):"arrayValue"in e?(this.pe(e.arrayValue,n),this.we(n)):zt()}_e(e,n){this.le(n,25),this.Ie(e,n)}Ie(e,n){n.de(e)}ye(e,n){const o=e.fields||{};this.le(n,55);for(const u of Object.keys(o))this._e(u,n),this.ae(o[u],n)}pe(e,n){const o=e.values||[];this.le(n,50);for(const u of o)this.ae(u,n)}ge(e,n){this.le(n,37),Qt.fromName(e).path.forEach(o=>{this.le(n,60),this.Ie(o,n)})}le(e,n){e.fe(n)}we(e){e.fe(2)}}function $m(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function Mp(i){const e=64-function(n){let o=0;for(let u=0;u<8;++u){const d=$m(255&n[u]);if(o+=d,8!==d)break}return o}(i);return Math.ceil(e/8)}ku.Te=new ku;class Xo{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const n=e[Symbol.iterator]();let o=n.next();for(;!o.done;)this.Ae(o.value),o=n.next();this.Re()}be(e){const n=e[Symbol.iterator]();let o=n.next();for(;!o.done;)this.Pe(o.value),o=n.next();this.ve()}Ve(e){for(const n of e){const o=n.charCodeAt(0);if(o<128)this.Ae(o);else if(o<2048)this.Ae(960|o>>>6),this.Ae(128|63&o);else if(n<"\ud800"||"\udbff"<n)this.Ae(480|o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o);else{const u=n.codePointAt(0);this.Ae(240|u>>>18),this.Ae(128|63&u>>>12),this.Ae(128|63&u>>>6),this.Ae(128|63&u)}}this.Re()}Se(e){for(const n of e){const o=n.charCodeAt(0);if(o<128)this.Pe(o);else if(o<2048)this.Pe(960|o>>>6),this.Pe(128|63&o);else if(n<"\ud800"||"\udbff"<n)this.Pe(480|o>>>12),this.Pe(128|63&o>>>6),this.Pe(128|63&o);else{const u=n.codePointAt(0);this.Pe(240|u>>>18),this.Pe(128|63&u>>>12),this.Pe(128|63&u>>>6),this.Pe(128|63&u)}}this.ve()}De(e){const n=this.Ce(e),o=Mp(n);this.xe(1+o),this.buffer[this.position++]=255&o;for(let u=n.length-o;u<n.length;++u)this.buffer[this.position++]=255&n[u]}Ne(e){const n=this.Ce(e),o=Mp(n);this.xe(1+o),this.buffer[this.position++]=~(255&o);for(let u=n.length-o;u<n.length;++u)this.buffer[this.position++]=~(255&n[u])}ke(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const n=function(u){const d=new DataView(new ArrayBuffer(8));return d.setFloat64(0,u,!1),new Uint8Array(d.buffer)}(e),o=0!=(128&n[0]);n[0]^=o?255:128;for(let u=1;u<n.length;++u)n[u]^=o?255:0;return n}Ae(e){const n=255&e;0===n?(this.Me(0),this.Me(255)):255===n?(this.Me(255),this.Me(0)):this.Me(n)}Pe(e){const n=255&e;0===n?(this.Fe(0),this.Fe(255)):255===n?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Me(0),this.Me(1)}ve(){this.Fe(0),this.Fe(1)}Me(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const n=e+this.position;if(n<=this.buffer.length)return;let o=2*this.buffer.length;o<n&&(o=n);const u=new Uint8Array(o);u.set(this.buffer),this.buffer=u}}class Mh{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class xp{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Oe()}}class el{constructor(){this.Be=new Xo,this.Le=new Mh(this.Be),this.Ue=new xp(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class _s{constructor(e,n,o,u){this.indexId=e,this.documentKey=n,this.arrayValue=o,this.directionalValue=u}Ke(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(n);return o.set(this.directionalValue,0),n!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new _s(this.indexId,this.documentKey,this.arrayValue,o)}}function ja(i,e){let n=i.indexId-e.indexId;return 0!==n?n:(n=xh(i.arrayValue,e.arrayValue),0!==n?n:(n=xh(i.directionalValue,e.directionalValue),0!==n?n:Qt.comparator(i.documentKey,e.documentKey)))}function xh(i,e){for(let n=0;n<i.length&&n<e.length;++n){const o=i[n]-e[n];if(0!==o)return o}return i.length-e.length}class Hm{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const n of e.filters){const o=n;o.dt()?this.je=o:this.Qe.push(o)}}We(e){const n=ca(e);if(void 0!==n&&!this.ze(n))return!1;const o=Ys(e);let u=0,d=0;for(;u<o.length&&this.ze(o[u]);++u);if(u===o.length)return!0;if(void 0!==this.je){const g=o[u];if(!this.He(this.je,g)||!this.Je(this.Ge[d++],g))return!1;++u}for(;u<o.length;++u){const g=o[u];if(d>=this.Ge.length||!this.Je(this.Ge[d++],g))return!1}return!0}ze(e){for(const n of this.Qe)if(this.He(n,e))return!0;return!1}He(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}class Gm{constructor(){this.Ye=new vd}addToCollectionParentIndex(e,n){return this.Ye.add(n),at.resolve()}getCollectionParents(e,n){return at.resolve(this.Ye.getEntries(n))}addFieldIndex(e,n){return at.resolve()}deleteFieldIndex(e,n){return at.resolve()}getDocumentsMatchingTarget(e,n){return at.resolve(null)}getIndexType(e,n){return at.resolve(0)}getFieldIndexes(e,n){return at.resolve([])}getNextCollectionGroupToUpdate(e){return at.resolve(null)}getMinOffset(e,n){return at.resolve(As.min())}getMinOffsetFromCollectionGroup(e,n){return at.resolve(As.min())}updateCollectionGroup(e,n,o){return at.resolve()}updateIndexEntries(e,n){return at.resolve()}}class vd{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n]||new tr(kn.comparator),d=!u.has(o);return this.index[n]=u.add(o),d}has(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n];return u&&u.has(o)}getEntries(e){return(this.index[e]||new tr(kn.comparator)).toArray()}}const _d=new Uint8Array(0);class Np{constructor(e,n){this.user=e,this.databaseId=n,this.Xe=new vd,this.Ze=new za(o=>F(o),(o,u)=>ye(o,u)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.Xe.has(n)){const o=n.lastSegment(),u=n.popLast();e.addOnCommittedListener(()=>{this.Xe.add(n)});const d={collectionId:o,parent:$o(u)};return Rp(e).put(d)}return at.resolve()}getCollectionParents(e,n){const o=[],u=IDBKeyRange.bound([n,""],[vn(n),""],!1,!0);return Rp(e).W(u).next(d=>{for(const g of d){if(g.collectionId!==n)break;o.push(fu(g.parent))}return o})}addFieldIndex(e,n){const o=Ed(e),u={indexId:(g=n).indexId,collectionGroup:g.collectionGroup,fields:g.fields.map(C=>[C.fieldPath.canonicalString(),C.kind])};var g;delete u.indexId;const d=o.add(u);if(n.indexState){const g=Tc(e);return d.next(C=>{g.put(Sp(C,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return d.next()}deleteFieldIndex(e,n){const o=Ed(e),u=Tc(e),d=Ul(e);return o.delete(n.indexId).next(()=>u.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>d.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const o=Ul(e);let u=!0;const d=new Map;return at.forEach(this.tn(n),g=>this.en(e,g).next(C=>{u&&(u=!!C),d.set(g,C)})).next(()=>{if(u){let g=Mr();const C=[];return at.forEach(d,(U,z)=>{var ie;_e("IndexedDbIndexManager",`Using index ${ie=U,`id=${ie.indexId}|cg=${ie.collectionGroup}|f=${ie.fields.map(mi=>`${mi.fieldPath}:${mi.kind}`).join(",")}`} to execute ${F(n)}`);const Ne=function(mi,Rs){const Si=ca(Rs);if(void 0===Si)return null;for(const yi of Et(mi,Si.fieldPath))switch(yi.op){case"array-contains-any":return yi.value.arrayValue.values||[];case"array-contains":return[yi.value]}return null}(z,U),pt=function(mi,Rs){const Si=new Map;for(const yi of Ys(Rs))for(const ho of Et(mi,yi.fieldPath))switch(ho.op){case"==":case"in":Si.set(yi.fieldPath.canonicalString(),ho.value);break;case"not-in":case"!=":return Si.set(yi.fieldPath.canonicalString(),ho.value),Array.from(Si.values())}return null}(z,U),Pt=function(mi,Rs){const Si=[];let yi=!0;for(const ho of Ys(Rs)){const oc=0===ho.kind?$t(mi,ho.fieldPath,mi.startAt):fn(mi,ho.fieldPath,mi.startAt);Si.push(oc.value),yi&&(yi=oc.inclusive)}return new lo(Si,yi)}(z,U),Ut=function(mi,Rs){const Si=[];let yi=!0;for(const ho of Ys(Rs)){const oc=0===ho.kind?fn(mi,ho.fieldPath,mi.endAt):$t(mi,ho.fieldPath,mi.endAt);Si.push(oc.value),yi&&(yi=oc.inclusive)}return new lo(Si,yi)}(z,U),Cn=this.nn(U,z,Pt),Ln=this.nn(U,z,Ut),ni=this.sn(U,z,pt),gi=this.rn(U.indexId,Ne,Cn,Pt.inclusive,Ln,Ut.inclusive,ni);return at.forEach(gi,mi=>o.J(mi,n.limit).next(Rs=>{Rs.forEach(Si=>{const yi=Qt.fromSegments(Si.documentKey);g.has(yi)||(g=g.add(yi),C.push(yi))})}))}).next(()=>C)}return at.resolve(null)})}tn(e){let n=this.Ze.get(e);return n||(n=[e],this.Ze.set(e,n),n)}rn(e,n,o,u,d,g,C){const U=(null!=n?n.length:1)*Math.max(o.length,d.length),z=U/(null!=n?n.length:1),ie=[];for(let Ne=0;Ne<U;++Ne){const pt=n?this.on(n[Ne/z]):_d,Pt=this.un(e,pt,o[Ne%z],u),Ut=this.cn(e,pt,d[Ne%z],g),Cn=C.map(Ln=>this.un(e,pt,Ln,!0));ie.push(...this.createRange(Pt,Ut,Cn))}return ie}un(e,n,o,u){const d=new _s(e,Qt.empty(),n,o);return u?d:d.Ke()}cn(e,n,o,u){const d=new _s(e,Qt.empty(),n,o);return u?d.Ke():d}en(e,n){const o=new Hm(n),u=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,u).next(d=>{let g=null;for(const C of d)o.We(C)&&(!g||C.fields.length>g.fields.length)&&(g=C);return g})}getIndexType(e,n){let o=2;return at.forEach(this.tn(n),u=>this.en(e,u).next(d=>{d?0!==o&&d.fields.length<function(g){let C=new tr(pr.comparator),U=!1;for(const z of g.filters){const ie=z;ie.field.isKeyField()||("array-contains"===ie.op||"array-contains-any"===ie.op?U=!0:C=C.add(ie.field))}for(const z of g.orderBy)z.field.isKeyField()||(C=C.add(z.field));return C.size+(U?1:0)}(u)&&(o=1):o=0})).next(()=>o)}an(e,n){const o=new el;for(const u of Ys(e)){const d=n.data.field(u.fieldPath);if(null==d)return null;const g=o.qe(u.kind);ku.Te.ce(d,g)}return o.$e()}on(e){const n=new el;return ku.Te.ce(e,n.qe(0)),n.$e()}hn(e,n){const o=new el;return ku.Te.ce(Xt(this.databaseId,n),o.qe(function(u){const d=Ys(u);return 0===d.length?0:d[d.length-1].kind}(e))),o.$e()}sn(e,n,o){if(null===o)return[];let u=[];u.push(new el);let d=0;for(const g of Ys(e)){const C=o[d++];for(const U of u)if(this.ln(n,g.fieldPath)&&mn(C))u=this.fn(u,g,C);else{const z=U.qe(g.kind);ku.Te.ce(C,z)}}return this.dn(u)}nn(e,n,o){return this.sn(e,n,o.position)}dn(e){const n=[];for(let o=0;o<e.length;++o)n[o]=e[o].$e();return n}fn(e,n,o){const u=[...e],d=[];for(const g of o.arrayValue.values||[])for(const C of u){const U=new el;U.seed(C.$e()),ku.Te.ce(g,U.qe(n.kind)),d.push(U)}return d}ln(e,n){return!!e.filters.find(o=>o instanceof Dn&&o.field.isEqual(n)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,n){const o=Ed(e),u=Tc(e);return(n?o.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):o.W()).next(d=>{const g=[];return at.forEach(d,C=>u.get([C.indexId,this.uid]).next(U=>{g.push(function(z,ie){const Ne=ie?new Ss(ie.sequenceNumber,new As(Ba(ie.readTime),new Qt(fu(ie.documentKey)),ie.largestBatchId)):Ss.empty(),pt=z.fields.map(([Pt,Ut])=>new Pi(pr.fromServerFormat(Pt),Ut));return new Ar(z.indexId,z.collectionGroup,pt,Ne)}(C,U))})).next(()=>g)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((o,u)=>{const d=o.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==d?d:Rn(o.collectionGroup,u.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,o){const u=Ed(e),d=Tc(e);return this._n(e).next(g=>u.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(C=>at.forEach(C,U=>d.put(Sp(U.indexId,this.user,g,o)))))}updateIndexEntries(e,n){const o=new Map;return at.forEach(n,(u,d)=>{const g=o.get(u.collectionGroup);return(g?at.resolve(g):this.getFieldIndexes(e,u.collectionGroup)).next(C=>(o.set(u.collectionGroup,C),at.forEach(C,U=>this.wn(e,u,U).next(z=>{const ie=this.mn(d,U);return z.isEqual(ie)?at.resolve():this.gn(e,d,U,z,ie)}))))})}yn(e,n,o,u){return Ul(e).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.hn(o,n.key),documentKey:n.key.path.toArray()})}pn(e,n,o,u){return Ul(e).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.hn(o,n.key),n.key.path.toArray()])}wn(e,n,o){const u=Ul(e);let d=new tr(ja);return u.Z({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.hn(o,n)])},(g,C)=>{d=d.add(new _s(o.indexId,n,C.arrayValue,C.directionalValue))}).next(()=>d)}mn(e,n){let o=new tr(ja);const u=this.an(n,e);if(null==u)return o;const d=ca(n);if(null!=d){const g=e.data.field(d.fieldPath);if(mn(g))for(const C of g.arrayValue.values||[])o=o.add(new _s(n.indexId,e.key,this.on(C),u))}else o=o.add(new _s(n.indexId,e.key,_d,u));return o}gn(e,n,o,u,d){_e("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const g=[];return function(C,U,z,ie,Ne){const pt=C.getIterator(),Pt=U.getIterator();let Ut=Zo(pt),Cn=Zo(Pt);for(;Ut||Cn;){let Ln=!1,ni=!1;if(Ut&&Cn){const gi=z(Ut,Cn);gi<0?ni=!0:gi>0&&(Ln=!0)}else null!=Ut?ni=!0:Ln=!0;Ln?(ie(Cn),Cn=Zo(Pt)):ni?(Ne(Ut),Ut=Zo(pt)):(Ut=Zo(pt),Cn=Zo(Pt))}}(u,d,ja,C=>{g.push(this.yn(e,n,o,C))},C=>{g.push(this.pn(e,n,o,C))}),at.waitFor(g)}_n(e){let n=1;return Tc(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,u,d)=>{d.done(),n=u.sequenceNumber+1}).next(()=>n)}createRange(e,n,o){o=o.sort((g,C)=>ja(g,C)).filter((g,C,U)=>!C||0!==ja(g,U[C-1]));const u=[];u.push(e);for(const g of o){const C=ja(g,e),U=ja(g,n);if(0===C)u[0]=e.Ke();else if(C>0&&U<0)u.push(g),u.push(g.Ke());else if(U>0)break}u.push(n);const d=[];for(let g=0;g<u.length;g+=2)d.push(IDBKeyRange.bound([u[g].indexId,this.uid,u[g].arrayValue,u[g].directionalValue,_d,[]],[u[g+1].indexId,this.uid,u[g+1].arrayValue,u[g+1].directionalValue,_d,[]]));return d}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(Op)}getMinOffset(e,n){return at.mapArray(this.tn(n),o=>this.en(e,o).next(u=>u||zt())).next(Op)}}function Rp(i){return Mo(i,"collectionParents")}function Ul(i){return Mo(i,"indexEntries")}function Ed(i){return Mo(i,"indexConfiguration")}function Tc(i){return Mo(i,"indexState")}function Op(i){en(0!==i.length);let e=i[0].indexState.offset,n=e.largestBatchId;for(let o=1;o<i.length;o++){const u=i[o].indexState.offset;ki(u,e)<0&&(e=u),n<u.largestBatchId&&(n=u.largestBatchId)}return new As(e.readTime,e.documentKey,n)}const Pp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ia{constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new ia(e,ia.DEFAULT_COLLECTION_PERCENTILE,ia.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function tl(i,e,n){const o=i.store("mutations"),u=i.store("documentMutations"),d=[],g=IDBKeyRange.only(n.batchId);let C=0;const U=o.Z({range:g},(ie,Ne,pt)=>(C++,pt.delete()));d.push(U.next(()=>{en(1===C)}));const z=[];for(const ie of n.mutations){const Ne=_p(e,ie.key.path,n.batchId);d.push(u.delete(Ne)),z.push(ie.key)}return at.waitFor(d).next(()=>z)}function Aa(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw zt();e=i.noDocument}return JSON.stringify(e).length}ia.DEFAULT_COLLECTION_PERCENTILE=10,ia.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ia.DEFAULT=new ia(41943040,ia.DEFAULT_COLLECTION_PERCENTILE,ia.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ia.DISABLED=new ia(-1,0,0);class wd{constructor(e,n,o,u){this.userId=e,this.It=n,this.indexManager=o,this.referenceDelegate=u,this.In={}}static oe(e,n,o,u){en(""!==e.uid);const d=e.isAuthenticated()?e.uid:"";return new wd(d,n,o,u)}checkEmpty(e){let n=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return nl(e).Z({index:"userMutationsIndex",range:o},(u,d,g)=>{n=!1,g.done()}).next(()=>n)}addMutationBatch(e,n,o,u){const d=Sc(e),g=nl(e);return g.add({}).next(C=>{en("number"==typeof C);const U=new Th(C,n,o,u),z=function(pt,Pt,Ut){const Cn=Ut.baseMutations.map(ni=>Ec(pt.re,ni)),Ln=Ut.mutations.map(ni=>Ec(pt.re,ni));return{userId:Pt,batchId:Ut.batchId,localWriteTimeMs:Ut.localWriteTime.toMillis(),baseMutations:Cn,mutations:Ln}}(this.It,this.userId,U),ie=[];let Ne=new tr((pt,Pt)=>Rn(pt.canonicalString(),Pt.canonicalString()));for(const pt of u){const Pt=_p(this.userId,pt.key.path,C);Ne=Ne.add(pt.key.path.popLast()),ie.push(g.put(z)),ie.push(d.put(Pt,Vl))}return Ne.forEach(pt=>{ie.push(this.indexManager.addToCollectionParentIndex(e,pt))}),e.addOnCommittedListener(()=>{this.In[C]=U.keys()}),at.waitFor(ie).next(()=>U)})}lookupMutationBatch(e,n){return nl(e).get(n).next(o=>o?(en(o.userId===this.userId),Xu(this.It,o)):null)}Tn(e,n){return this.In[n]?at.resolve(this.In[n]):this.lookupMutationBatch(e,n).next(o=>{if(o){const u=o.keys();return this.In[n]=u,u}return null})}getNextMutationBatchAfterBatchId(e,n){const o=n+1,u=IDBKeyRange.lowerBound([this.userId,o]);let d=null;return nl(e).Z({index:"userMutationsIndex",range:u},(g,C,U)=>{C.userId===this.userId&&(en(C.batchId>=o),d=Xu(this.It,C)),U.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return nl(e).Z({index:"userMutationsIndex",range:n,reverse:!0},(u,d,g)=>{o=d.batchId,g.done()}).next(()=>o)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return nl(e).W("userMutationsIndex",n).next(o=>o.map(u=>Xu(this.It,u)))}getAllMutationBatchesAffectingDocumentKey(e,n){const o=Pu(this.userId,n.path),u=IDBKeyRange.lowerBound(o),d=[];return Sc(e).Z({range:u},(g,C,U)=>{const[z,ie,Ne]=g,pt=fu(ie);if(z===this.userId&&n.path.isEqual(pt))return nl(e).get(Ne).next(Pt=>{if(!Pt)throw zt();en(Pt.userId===this.userId),d.push(Xu(this.It,Pt))});U.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new tr(Rn);const u=[];return n.forEach(d=>{const g=Pu(this.userId,d.path),C=IDBKeyRange.lowerBound(g),U=Sc(e).Z({range:C},(z,ie,Ne)=>{const[pt,Pt,Ut]=z,Cn=fu(Pt);pt===this.userId&&d.path.isEqual(Cn)?o=o.add(Ut):Ne.done()});u.push(U)}),at.waitFor(u).next(()=>this.En(e,o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,u=o.length+1,d=Pu(this.userId,o),g=IDBKeyRange.lowerBound(d);let C=new tr(Rn);return Sc(e).Z({range:g},(U,z,ie)=>{const[Ne,pt,Pt]=U,Ut=fu(pt);Ne===this.userId&&o.isPrefixOf(Ut)?Ut.length===u&&(C=C.add(Pt)):ie.done()}).next(()=>this.En(e,C))}En(e,n){const o=[],u=[];return n.forEach(d=>{u.push(nl(e).get(d).next(g=>{if(null===g)throw zt();en(g.userId===this.userId),o.push(Xu(this.It,g))}))}),at.waitFor(u).next(()=>o)}removeMutationBatch(e,n){return tl(e.ie,this.userId,n).next(o=>(e.addOnCommittedListener(()=>{this.An(n.batchId)}),at.forEach(o,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return at.resolve();const o=IDBKeyRange.lowerBound([this.userId]),u=[];return Sc(e).Z({range:o},(d,g,C)=>{if(d[0]===this.userId){const U=fu(d[1]);u.push(U)}else C.done()}).next(()=>{en(0===u.length)})})}containsKey(e,n){return kp(e,this.userId,n)}Rn(e){return Nh(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function kp(i,e,n){const o=Pu(e,n.path),u=o[1],d=IDBKeyRange.lowerBound(o);let g=!1;return Sc(i).Z({range:d,X:!0},(C,U,z)=>{const[ie,Ne,pt]=C;ie===e&&Ne===u&&(g=!0),z.done()}).next(()=>g)}function nl(i){return Mo(i,"mutations")}function Sc(i){return Mo(i,"documentMutations")}function Nh(i){return Mo(i,"mutationQueues")}class Bl{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Bl(0)}static vn(){return new Bl(-1)}}class Wa{constructor(e,n){this.referenceDelegate=e,this.It=n}allocateTargetId(e){return this.Vn(e).next(n=>{const o=new Bl(n.highestTargetId);return n.highestTargetId=o.next(),this.Sn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(n=>Kt.fromTimestamp(new cn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,o){return this.Vn(e).next(u=>(u.highestListenSequenceNumber=n,o&&(u.lastRemoteSnapshotVersion=o.toTimestamp()),n>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=n),this.Sn(e,u)))}addTargetData(e,n){return this.Dn(e,n).next(()=>this.Vn(e).next(o=>(o.targetCount+=1,this.Cn(n,o),this.Sn(e,o))))}updateTargetData(e,n){return this.Dn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Fu(e).delete(n.targetId)).next(()=>this.Vn(e)).next(o=>(en(o.targetCount>0),o.targetCount-=1,this.Sn(e,o)))}removeTargets(e,n,o){let u=0;const d=[];return Fu(e).Z((g,C)=>{const U=Cc(C);U.sequenceNumber<=n&&null===o.get(U.targetId)&&(u++,d.push(this.removeTargetData(e,U)))}).next(()=>at.waitFor(d)).next(()=>u)}forEachTarget(e,n){return Fu(e).Z((o,u)=>{const d=Cc(u);n(d)})}Vn(e){return Id(e).get("targetGlobalKey").next(n=>(en(null!==n),n))}Sn(e,n){return Id(e).put("targetGlobalKey",n)}Dn(e,n){return Fu(e).put(bp(this.It,n))}Cn(e,n){let o=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,o=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.Vn(e).next(n=>n.targetCount)}getTargetData(e,n){const o=F(n),u=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let d=null;return Fu(e).Z({range:u,index:"queryTargetsIndex"},(g,C,U)=>{const z=Cc(C);ye(n,z.target)&&(d=z,U.done())}).next(()=>d)}addMatchingKeys(e,n,o){const u=[],d=Lu(e);return n.forEach(g=>{const C=$o(g.path);u.push(d.put({targetId:o,path:C})),u.push(this.referenceDelegate.addReference(e,o,g))}),at.waitFor(u)}removeMatchingKeys(e,n,o){const u=Lu(e);return at.forEach(n,d=>{const g=$o(d.path);return at.waitFor([u.delete([o,g]),this.referenceDelegate.removeReference(e,o,d)])})}removeMatchingKeysForTargetId(e,n){const o=Lu(e),u=IDBKeyRange.bound([n],[n+1],!1,!0);return o.delete(u)}getMatchingKeysForTargetId(e,n){const o=IDBKeyRange.bound([n],[n+1],!1,!0),u=Lu(e);let d=Mr();return u.Z({range:o,X:!0},(g,C,U)=>{const z=fu(g[1]),ie=new Qt(z);d=d.add(ie)}).next(()=>d)}containsKey(e,n){const o=$o(n.path),u=IDBKeyRange.bound([o],[vn(o)],!1,!0);let d=0;return Lu(e).Z({index:"documentTargetsIndex",X:!0,range:u},([g,C],U,z)=>{0!==g&&(d++,z.done())}).next(()=>d>0)}se(e,n){return Fu(e).get(n).next(o=>o?Cc(o):null)}}function Fu(i){return Mo(i,"targets")}function Id(i){return Mo(i,"targetGlobal")}function Lu(i){return Mo(i,"targetDocuments")}function Rh([i,e],[n,o]){const u=Rn(i,n);return 0===u?Rn(e,o):u}class zm{constructor(e){this.xn=e,this.buffer=new tr(Rh),this.Nn=0}kn(){return++this.Nn}Mn(e){const n=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(n);else{const o=this.buffer.last();Rh(n,o)<0&&(this.buffer=this.buffer.delete(o).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Ac{constructor(e,n,o){this.garbageCollector=e,this.asyncQueue=n,this.localStore=o,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}Fn(e){var n=this;_e("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,c.Z)(function*(){n.On=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(o){Hs(o)?_e("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield $s(o)}yield n.Fn(3e5)}))}}class Wm{constructor(e,n){this.$n=e,this.params=n}calculateTargetCount(e,n){return this.$n.Bn(e).next(o=>Math.floor(n/100*o))}nthSequenceNumber(e,n){if(0===n)return at.resolve(Ms.at);const o=new zm(n);return this.$n.forEachTarget(e,u=>o.Mn(u.sequenceNumber)).next(()=>this.$n.Ln(e,u=>o.Mn(u))).next(()=>o.maxValue)}removeTargets(e,n,o){return this.$n.removeTargets(e,n,o)}removeOrphanedDocuments(e,n){return this.$n.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),at.resolve(Pp)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Pp):this.Un(e,n))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,n){let o,u,d,g,C,U,z;const ie=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ne=>(Ne>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ne}`),u=this.params.maximumSequenceNumbersToCollect):u=Ne,g=Date.now(),this.nthSequenceNumber(e,u))).next(Ne=>(o=Ne,C=Date.now(),this.removeTargets(e,o,n))).next(Ne=>(d=Ne,U=Date.now(),this.removeOrphanedDocuments(e,o))).next(Ne=>(z=Date.now(),Se()<=Te.in.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${g-ie}ms\n\tDetermined least recently used ${u} in `+(C-g)+`ms\n\tRemoved ${d} targets in `+(U-C)+`ms\n\tRemoved ${Ne} documents in `+(z-U)+`ms\nTotal Duration: ${z-ie}ms`),at.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:d,documentsRemoved:Ne})))}}class Km{constructor(e,n){this.db=e,this.garbageCollector=new Wm(this,n)}Bn(e){const n=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>n.next(u=>o+u))}qn(e){let n=0;return this.Ln(e,o=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Ln(e,n){return this.Kn(e,(o,u)=>n(u))}addReference(e,n,o){return jl(e,o)}removeReference(e,n,o){return jl(e,o)}removeTargets(e,n,o){return this.db.getTargetCache().removeTargets(e,n,o)}markPotentiallyOrphaned(e,n){return jl(e,n)}Gn(e,n){return function(o,u){let d=!1;return Nh(o).tt(g=>kp(o,g,u).next(C=>(C&&(d=!0),at.resolve(!C)))).next(()=>d)}(e,n)}removeOrphanedDocuments(e,n){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let d=0;return this.Kn(e,(g,C)=>{if(C<=n){const U=this.Gn(e,g).next(z=>{if(!z)return d++,o.getEntry(e,g).next(()=>(o.removeEntry(g,Kt.min()),Lu(e).delete([0,$o(g.path)])))});u.push(U)}}).next(()=>at.waitFor(u)).next(()=>o.apply(e)).next(()=>d)}removeTarget(e,n){const o=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,n){return jl(e,n)}Kn(e,n){const o=Lu(e);let u,d=Ms.at;return o.Z({index:"documentTargetsIndex"},([g,C],{path:U,sequenceNumber:z})=>{0===g?(d!==Ms.at&&n(new Qt(fu(u)),d),d=z,u=U):d=Ms.at}).next(()=>{d!==Ms.at&&n(new Qt(fu(u)),d)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function jl(i,e){return Lu(i).put((o=i.currentSequenceNumber,{targetId:0,path:$o(e.path),sequenceNumber:o}));var o}class Dd{constructor(){this.changes=new za(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ti.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return void 0!==o?at.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Fp{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,o){return Vu(e).put(o)}removeEntry(e,n,o){return Vu(e).delete(function(u,d){const g=u.path.toArray();return[g.slice(0,g.length-2),g[g.length-2],pd(d),g[g.length-1]]}(n,o))}updateMetadata(e,n){return this.getMetadata(e).next(o=>(o.byteSize+=n,this.Qn(e,o)))}getEntry(e,n){let o=ti.newInvalidDocument(n);return Vu(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Mc(n))},(u,d)=>{o=this.jn(n,d)}).next(()=>o)}Wn(e,n){let o={size:0,document:ti.newInvalidDocument(n)};return Vu(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Mc(n))},(u,d)=>{o={document:this.jn(n,d),size:Aa(d)}}).next(()=>o)}getEntries(e,n){let o=no();return this.zn(e,n,(u,d)=>{const g=this.jn(u,d);o=o.insert(u,g)}).next(()=>o)}Hn(e,n){let o=no(),u=new Yr(Qt.comparator);return this.zn(e,n,(d,g)=>{const C=this.jn(d,g);o=o.insert(d,C),u=u.insert(d,Aa(g))}).next(()=>({documents:o,Jn:u}))}zn(e,n,o){if(n.isEmpty())return at.resolve();let u=new tr(Lp);n.forEach(U=>u=u.add(U));const d=IDBKeyRange.bound(Mc(u.first()),Mc(u.last())),g=u.getIterator();let C=g.getNext();return Vu(e).Z({index:"documentKeyIndex",range:d},(U,z,ie)=>{const Ne=Qt.fromSegments([...z.prefixPath,z.collectionGroup,z.documentId]);for(;C&&Lp(C,Ne)<0;)o(C,null),C=g.getNext();C&&C.isEqual(Ne)&&(o(C,z),C=g.hasNext()?g.getNext():null),C?ie.j(Mc(C)):ie.done()}).next(()=>{for(;C;)o(C,null),C=g.hasNext()?g.getNext():null})}getAllFromCollection(e,n,o){const u=[n.popLast().toArray(),n.lastSegment(),pd(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],d=[n.popLast().toArray(),n.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Vu(e).W(IDBKeyRange.bound(u,d,!0)).next(g=>{let C=no();for(const U of g){const z=this.jn(Qt.fromSegments(U.prefixPath.concat(U.collectionGroup,U.documentId)),U);C=C.insert(z.key,z)}return C})}getAllFromCollectionGroup(e,n,o,u){let d=no();const g=bd(n,o),C=bd(n,As.max());return Vu(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(g,C,!0)},(U,z,ie)=>{const Ne=this.jn(Qt.fromSegments(z.prefixPath.concat(z.collectionGroup,z.documentId)),z);d=d.insert(Ne.key,Ne),d.size===u&&ie.done()}).next(()=>d)}newChangeBuffer(e){return new $l(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return Cd(e).get("remoteDocumentGlobalKey").next(n=>(en(!!n),n))}Qn(e,n){return Cd(e).put("remoteDocumentGlobalKey",n)}jn(e,n){if(n){const o=function Cp(i,e){let n;if(e.document)n=pp(i.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=Qt.fromSegments(e.noDocument.path),u=Ba(e.noDocument.readTime);n=ti.newNoDocument(o,u),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return zt();{const o=Qt.fromSegments(e.unknownDocument.path),u=Ba(e.unknownDocument.version);n=ti.newUnknownDocument(o,u)}}return e.readTime&&n.setReadTime(function(o){const u=new cn(o[0],o[1]);return Kt.fromTimestamp(u)}(e.readTime)),n}(this.It,n);if(!o.isNoDocument()||!o.version.isEqual(Kt.min()))return o}return ti.newInvalidDocument(e)}}function qm(i){return new Fp(i)}class $l extends Dd{constructor(e,n){super(),this.Yn=e,this.trackRemovals=n,this.Xn=new za(o=>o.toString(),(o,u)=>o.isEqual(u))}applyChanges(e){const n=[];let o=0,u=new tr((d,g)=>Rn(d.canonicalString(),g.canonicalString()));return this.changes.forEach((d,g)=>{const C=this.Xn.get(d);if(n.push(this.Yn.removeEntry(e,d,C.readTime)),g.isValidDocument()){const U=fd(this.Yn.It,g);u=u.add(d.path.popLast()),o+=Aa(U)-C.size,n.push(this.Yn.addEntry(e,d,U))}else if(o-=C.size,this.trackRemovals){const U=fd(this.Yn.It,g.convertToNoDocument(Kt.min()));n.push(this.Yn.addEntry(e,d,U))}}),u.forEach(d=>{n.push(this.Yn.indexManager.addToCollectionParentIndex(e,d))}),n.push(this.Yn.updateMetadata(e,o)),at.waitFor(n)}getFromCache(e,n){return this.Yn.Wn(e,n).next(o=>(this.Xn.set(n,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,n){return this.Yn.Hn(e,n).next(({documents:o,Jn:u})=>(u.forEach((d,g)=>{this.Xn.set(d,{size:g,readTime:o.get(d).readTime})}),o))}}function Cd(i){return Mo(i,"remoteDocumentGlobal")}function Vu(i){return Mo(i,"remoteDocumentsV14")}function Mc(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function bd(i,e){const n=e.documentKey.path.toArray();return[i,pd(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Lp(i,e){const n=i.path.toArray(),o=e.path.toArray();let u=0;for(let d=0;d<n.length-2&&d<o.length-2;++d)if(u=Rn(n[d],o[d]),u)return u;return u=Rn(n.length,o.length),u||(u=Rn(n[n.length-2],o[o.length-2]),u||Rn(n[n.length-1],o[o.length-1]))}class Zm{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Vp{constructor(e,n,o,u){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,n){let o=null;return this.documentOverlayCache.getOverlay(e,n).next(u=>(o=u,this.getBaseDocument(e,n,o))).next(u=>(null!==o&&p(o.mutation,u,Gs.empty(),cn.now()),u))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.getLocalViewOfDocuments(e,o,Mr()).next(()=>o))}getLocalViewOfDocuments(e,n,o=Mr()){const u=Ea();return this.populateOverlays(e,u,n).next(()=>this.computeViews(e,n,u,o).next(d=>{let g=Nu();return d.forEach((C,U)=>{g=g.insert(C,U.overlayedDocument)}),g}))}getOverlayedDocuments(e,n){const o=Ea();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,Mr()))}populateOverlays(e,n,o){const u=[];return o.forEach(d=>{n.has(d)||u.push(d)}),this.documentOverlayCache.getOverlays(e,u).next(d=>{d.forEach((g,C)=>{n.set(g,C)})})}computeViews(e,n,o,u){let d=no();const g=Sa(),C=Sa();return n.forEach((U,z)=>{const ie=o.get(z.key);u.has(z.key)&&(void 0===ie||ie.mutation instanceof tt)?d=d.insert(z.key,z):void 0!==ie&&(g.set(z.key,ie.mutation.getFieldMask()),p(ie.mutation,z,ie.mutation.getFieldMask(),cn.now()))}),this.recalculateAndSaveOverlays(e,d).next(U=>(U.forEach((z,ie)=>g.set(z,ie)),n.forEach((z,ie)=>{var Ne;return C.set(z,new Zm(ie,null!==(Ne=g.get(z))&&void 0!==Ne?Ne:null))}),C))}recalculateAndSaveOverlays(e,n){const o=Sa();let u=new Yr((g,C)=>g-C),d=Mr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(g=>{for(const C of g)C.keys().forEach(U=>{const z=n.get(U);if(null===z)return;let ie=o.get(U)||Gs.empty();ie=C.applyToLocalView(z,ie),o.set(U,ie);const Ne=(u.get(C.batchId)||Mr()).add(U);u=u.insert(C.batchId,Ne)})}).next(()=>{const g=[],C=u.getReverseIterator();for(;C.hasNext();){const U=C.getNext(),z=U.key,ie=U.value,Ne=gc();ie.forEach(pt=>{if(!d.has(pt)){const Pt=I(n.get(pt),o.get(pt));null!==Pt&&Ne.set(pt,Pt),d=d.add(pt)}}),g.push(this.documentOverlayCache.saveOverlays(e,z,Ne))}return at.waitFor(g)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,n,o){return Qt.isDocumentKey((u=n).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):uc(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,o):this.getDocumentsMatchingCollectionQuery(e,n,o);var u}getNextDocuments(e,n,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,o,u).next(d=>{const g=u-d.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,o.largestBatchId,u-d.size):at.resolve(Ea());let C=-1,U=d;return g.next(z=>at.forEach(z,(ie,Ne)=>(C<Ne.largestBatchId&&(C=Ne.largestBatchId),d.get(ie)?at.resolve():this.getBaseDocument(e,ie,Ne).next(pt=>{U=U.insert(ie,pt)}))).next(()=>this.populateOverlays(e,z,d)).next(()=>this.computeViews(e,U,z,Mr())).next(ie=>({batchId:C,changes:Rl(ie)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Qt(n)).next(o=>{let u=Nu();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,n,o){const u=n.collectionGroup;let d=Nu();return this.indexManager.getCollectionParents(e,u).next(g=>at.forEach(g,C=>{const U=(z=n,ie=C.child(u),new va(ie,null,z.explicitOrderBy.slice(),z.filters.slice(),z.limit,z.limitType,z.startAt,z.endAt));var z,ie;return this.getDocumentsMatchingCollectionQuery(e,U,o).next(z=>{z.forEach((ie,Ne)=>{d=d.insert(ie,Ne)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,n,o){let u;return this.remoteDocumentCache.getAllFromCollection(e,n.path,o).next(d=>(u=d,this.documentOverlayCache.getOverlaysForCollection(e,n.path,o.largestBatchId))).next(d=>{d.forEach((C,U)=>{const z=U.getKey();null===u.get(z)&&(u=u.insert(z,ti.newInvalidDocument(z)))});let g=Nu();return u.forEach((C,U)=>{const z=d.get(C);void 0!==z&&p(z.mutation,U,Gs.empty(),cn.now()),Su(n,U)&&(g=g.insert(C,U))}),g})}getBaseDocument(e,n,o){return null===o||1===o.mutation.type?this.remoteDocumentCache.getEntry(e,n):at.resolve(ti.newInvalidDocument(n))}}class Ym{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return at.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var o;return this.Zn.set(n.id,{id:(o=n).id,version:o.version,createTime:co(o.createTime)}),at.resolve()}getNamedQuery(e,n){return at.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,{name:(o=n).name,query:gd(o.bundledQuery),readTime:co(o.readTime)}),at.resolve();var o}}class Qm{constructor(){this.overlays=new Yr(Qt.comparator),this.es=new Map}getOverlay(e,n){return at.resolve(this.overlays.get(n))}getOverlays(e,n){const o=Ea();return at.forEach(n,u=>this.getOverlay(e,u).next(d=>{null!==d&&o.set(u,d)})).next(()=>o)}saveOverlays(e,n,o){return o.forEach((u,d)=>{this.ue(e,n,d)}),at.resolve()}removeOverlaysForBatchId(e,n,o){const u=this.es.get(o);return void 0!==u&&(u.forEach(d=>this.overlays=this.overlays.remove(d)),this.es.delete(o)),at.resolve()}getOverlaysForCollection(e,n,o){const u=Ea(),d=n.length+1,g=new Qt(n.child("")),C=this.overlays.getIteratorFrom(g);for(;C.hasNext();){const U=C.getNext().value,z=U.getKey();if(!n.isPrefixOf(z.path))break;z.path.length===d&&U.largestBatchId>o&&u.set(U.getKey(),U)}return at.resolve(u)}getOverlaysForCollectionGroup(e,n,o,u){let d=new Yr((z,ie)=>z-ie);const g=this.overlays.getIterator();for(;g.hasNext();){const z=g.getNext().value;if(z.getKey().getCollectionGroup()===n&&z.largestBatchId>o){let ie=d.get(z.largestBatchId);null===ie&&(ie=Ea(),d=d.insert(z.largestBatchId,ie)),ie.set(z.getKey(),z)}}const C=Ea(),U=d.getIterator();for(;U.hasNext()&&(U.getNext().value.forEach((z,ie)=>C.set(z,ie)),!(C.size()>=u)););return at.resolve(C)}ue(e,n,o){const u=this.overlays.get(o.key);if(null!==u){const g=this.es.get(u.largestBatchId).delete(o.key);this.es.set(u.largestBatchId,g)}this.overlays=this.overlays.insert(o.key,new Dc(n,o));let d=this.es.get(n);void 0===d&&(d=Mr(),this.es.set(n,d)),this.es.set(n,d.add(o.key))}}class Oh{constructor(){this.ns=new tr(ro.ss),this.rs=new tr(ro.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const o=new ro(e,n);this.ns=this.ns.add(o),this.rs=this.rs.add(o)}us(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.cs(new ro(e,n))}hs(e,n){e.forEach(o=>this.removeReference(o,n))}ls(e){const n=new Qt(new kn([])),o=new ro(n,e),u=new ro(n,e+1),d=[];return this.rs.forEachInRange([o,u],g=>{this.cs(g),d.push(g.key)}),d}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new Qt(new kn([])),o=new ro(n,e),u=new ro(n,e+1);let d=Mr();return this.rs.forEachInRange([o,u],g=>{d=d.add(g.key)}),d}containsKey(e){const n=new ro(e,0),o=this.ns.firstAfterOrEqual(n);return null!==o&&e.isEqual(o.key)}}class ro{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return Qt.comparator(e.key,n.key)||Rn(e._s,n._s)}static os(e,n){return Rn(e._s,n._s)||Qt.comparator(e.key,n.key)}}class Ph{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new tr(ro.ss)}checkEmpty(e){return at.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,o,u){const d=this.ws;this.ws++;const g=new Th(d,n,o,u);this.mutationQueue.push(g);for(const C of u)this.gs=this.gs.add(new ro(C.key,d)),this.indexManager.addToCollectionParentIndex(e,C.key.path.popLast());return at.resolve(g)}lookupMutationBatch(e,n){return at.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const u=this.ps(n+1),d=u<0?0:u;return at.resolve(this.mutationQueue.length>d?this.mutationQueue[d]:null)}getHighestUnacknowledgedBatchId(){return at.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return at.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new ro(n,0),u=new ro(n,Number.POSITIVE_INFINITY),d=[];return this.gs.forEachInRange([o,u],g=>{const C=this.ys(g._s);d.push(C)}),at.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new tr(Rn);return n.forEach(u=>{const d=new ro(u,0),g=new ro(u,Number.POSITIVE_INFINITY);this.gs.forEachInRange([d,g],C=>{o=o.add(C._s)})}),at.resolve(this.Is(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,u=o.length+1;let d=o;Qt.isDocumentKey(d)||(d=d.child(""));const g=new ro(new Qt(d),0);let C=new tr(Rn);return this.gs.forEachWhile(U=>{const z=U.key.path;return!!o.isPrefixOf(z)&&(z.length===u&&(C=C.add(U._s)),!0)},g),at.resolve(this.Is(C))}Is(e){const n=[];return e.forEach(o=>{const u=this.ys(o);null!==u&&n.push(u)}),n}removeMutationBatch(e,n){en(0===this.Ts(n.batchId,"removed")),this.mutationQueue.shift();let o=this.gs;return at.forEach(n.mutations,u=>{const d=new ro(u.key,n.batchId);return o=o.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.gs=o})}An(e){}containsKey(e,n){const o=new ro(n,0),u=this.gs.firstAfterOrEqual(o);return at.resolve(n.isEqual(u&&u.key))}performConsistencyCheck(e){return at.resolve()}Ts(e,n){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Up{constructor(e){this.Es=e,this.docs=new Yr(Qt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,u=this.docs.get(o),d=u?u.size:0,g=this.Es(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:g}),this.size+=g-d,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return at.resolve(o?o.document.mutableCopy():ti.newInvalidDocument(n))}getEntries(e,n){let o=no();return n.forEach(u=>{const d=this.docs.get(u);o=o.insert(u,d?d.document.mutableCopy():ti.newInvalidDocument(u))}),at.resolve(o)}getAllFromCollection(e,n,o){let u=no();const d=new Qt(n.child("")),g=this.docs.getIteratorFrom(d);for(;g.hasNext();){const{key:C,value:{document:U}}=g.getNext();if(!n.isPrefixOf(C.path))break;C.path.length>n.length+1||ki(na(U),o)<=0||(u=u.insert(U.key,U.mutableCopy()))}return at.resolve(u)}getAllFromCollectionGroup(e,n,o,u){zt()}As(e,n){return at.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new kh(this)}getSize(e){return at.resolve(this.size)}}class kh extends Dd{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?n.push(this.Yn.addEntry(e,u)):this.Yn.removeEntry(o)}),at.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}class Jm{constructor(e){this.persistence=e,this.Rs=new za(n=>F(n),ye),this.lastRemoteSnapshotVersion=Kt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Oh,this.targetCount=0,this.vs=Bl.Pn()}forEachTarget(e,n){return this.Rs.forEach((o,u)=>n(u)),at.resolve()}getLastRemoteSnapshotVersion(e){return at.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return at.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),at.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.bs&&(this.bs=n),at.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new Bl(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,at.resolve()}updateTargetData(e,n){return this.Dn(n),at.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,at.resolve()}removeTargets(e,n,o){let u=0;const d=[];return this.Rs.forEach((g,C)=>{C.sequenceNumber<=n&&null===o.get(C.targetId)&&(this.Rs.delete(g),d.push(this.removeMatchingKeysForTargetId(e,C.targetId)),u++)}),at.waitFor(d).next(()=>u)}getTargetCount(e){return at.resolve(this.targetCount)}getTargetData(e,n){const o=this.Rs.get(n)||null;return at.resolve(o)}addMatchingKeys(e,n,o){return this.Ps.us(n,o),at.resolve()}removeMatchingKeys(e,n,o){this.Ps.hs(n,o);const u=this.persistence.referenceDelegate,d=[];return u&&n.forEach(g=>{d.push(u.markPotentiallyOrphaned(e,g))}),at.waitFor(d)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),at.resolve()}getMatchingKeysForTargetId(e,n){const o=this.Ps.ds(n);return at.resolve(o)}containsKey(e,n){return at.resolve(this.Ps.containsKey(n))}}class Bp{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new Ms(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new Jm(this),this.indexManager=new Gm,this.remoteDocumentCache=new Up(o=>this.referenceDelegate.xs(o)),this.It=new Sh(n),this.Ns=new Ym(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Qm,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.Vs[e.toKey()];return o||(o=new Ph(n,this.referenceDelegate),this.Vs[e.toKey()]=o),o}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,o){_e("MemoryPersistence","Starting transaction:",e);const u=new jp(this.Ss.next());return this.referenceDelegate.ks(),o(u).next(d=>this.referenceDelegate.Ms(u).next(()=>d)).toPromise().then(d=>(u.raiseOnCommittedEvent(),d))}Os(e,n){return at.or(Object.values(this.Vs).map(o=>()=>o.containsKey(e,n)))}}class jp extends nu{constructor(e){super(),this.currentSequenceNumber=e}}class xc{constructor(e){this.persistence=e,this.Fs=new Oh,this.$s=null}static Bs(e){return new xc(e)}get Ls(){if(this.$s)return this.$s;throw zt()}addReference(e,n,o){return this.Fs.addReference(o,n),this.Ls.delete(o.toString()),at.resolve()}removeReference(e,n,o){return this.Fs.removeReference(o,n),this.Ls.add(o.toString()),at.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),at.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(u=>this.Ls.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(u=>{u.forEach(d=>this.Ls.add(d.toString()))}).next(()=>o.removeTargetData(e,n))}ks(){this.$s=new Set}Ms(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return at.forEach(this.Ls,o=>{const u=Qt.fromPath(o);return this.Us(e,u).next(d=>{d||n.removeEntry(u,Kt.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.Us(e,n).next(o=>{o?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}Us(e,n){return at.or([()=>at.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Os(e,n)])}}class rl{constructor(e){this.It=e}$(e,n,o,u){const d=new Vo("createOrUpgrade",n);var C;o<1&&u>=1&&(e.createObjectStore("owner"),(C=e).createObjectStore("mutationQueues",{keyPath:"userId"}),C.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",vp,{unique:!0}),C.createObjectStore("documentMutations"),Fh(e),function(C){C.createObjectStore("remoteDocuments")}(e));let g=at.resolve();return o<3&&u>=3&&(0!==o&&(function(C){C.deleteObjectStore("targetDocuments"),C.deleteObjectStore("targets"),C.deleteObjectStore("targetGlobal")}(e),Fh(e)),g=g.next(()=>function(C){const U=C.store("targetGlobal"),z={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Kt.min().toTimestamp(),targetCount:0};return U.put("targetGlobalKey",z)}(d))),o<4&&u>=4&&(0!==o&&(g=g.next(()=>function(C,U){return U.store("mutations").W().next(z=>{C.deleteObjectStore("mutations"),C.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",vp,{unique:!0});const ie=U.store("mutations"),Ne=z.map(pt=>ie.put(pt));return at.waitFor(Ne)})}(e,d))),g=g.next(()=>{!function(C){C.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&u>=5&&(g=g.next(()=>this.qs(d))),o<6&&u>=6&&(g=g.next(()=>(function(C){C.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(d)))),o<7&&u>=7&&(g=g.next(()=>this.Gs(d))),o<8&&u>=8&&(g=g.next(()=>this.Qs(e,d))),o<9&&u>=9&&(g=g.next(()=>{!function(C){C.objectStoreNames.contains("remoteDocumentChanges")&&C.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&u>=10&&(g=g.next(()=>this.js(d))),o<11&&u>=11&&(g=g.next(()=>{(function(C){C.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(C){C.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&u>=12&&(g=g.next(()=>{!function(C){const U=C.createObjectStore("documentOverlays",{keyPath:Lm});U.createIndex("collectionPathOverlayIndex",Ch,{unique:!1}),U.createIndex("collectionGroupOverlayIndex",kv,{unique:!1})}(e)})),o<13&&u>=13&&(g=g.next(()=>function(C){const U=C.createObjectStore("remoteDocumentsV14",{keyPath:Ic});U.createIndex("documentKeyIndex",Rm),U.createIndex("collectionGroupIndex",Pv)}(e)).next(()=>this.Ws(e,d)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&u>=14&&(g=g.next(()=>this.zs(e,d))),o<15&&u>=15&&(g=g.next(()=>function(C){C.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),C.createObjectStore("indexState",{keyPath:wp}).createIndex("sequenceNumberIndex",Ip,{unique:!1}),C.createObjectStore("indexEntries",{keyPath:Dh}).createIndex("documentKeyIndex",Fm,{unique:!1})}(e))),g}Ks(e){let n=0;return e.store("remoteDocuments").Z((o,u)=>{n+=Aa(u)}).next(()=>{const o={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}qs(e){const n=e.store("mutationQueues"),o=e.store("mutations");return n.W().next(u=>at.forEach(u,d=>{const g=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return o.W("userMutationsIndex",g).next(C=>at.forEach(C,U=>{en(U.userId===d.userId);const z=Xu(this.It,U);return tl(e,d.userId,z).next(()=>{})}))}))}Gs(e){const n=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const d=[];return o.Z((g,C)=>{const U=new kn(g),z=[0,$o(U)];d.push(n.get(z).next(ie=>ie?at.resolve():n.put({targetId:0,path:$o(U),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>at.waitFor(d))})}Qs(e,n){e.createObjectStore("collectionParents",{keyPath:km});const o=n.store("collectionParents"),u=new vd,d=g=>{if(u.add(g)){const C=g.lastSegment(),U=g.popLast();return o.put({collectionId:C,parent:$o(U)})}};return n.store("remoteDocuments").Z({X:!0},(g,C)=>{const U=new kn(g);return d(U.popLast())}).next(()=>n.store("documentMutations").Z({X:!0},([g,C,U],z)=>{const ie=fu(C);return d(ie.popLast())}))}js(e){const n=e.store("targets");return n.Z((o,u)=>{const d=Cc(u),g=bp(this.It,d);return n.put(g)})}Ws(e,n){const o=n.store("remoteDocuments"),u=[];return o.Z((d,g)=>{const C=n.store("remoteDocumentsV14"),U=(z=g,z.document?new Qt(kn.fromString(z.document.name).popFirst(5)):z.noDocument?Qt.fromSegments(z.noDocument.path):z.unknownDocument?Qt.fromSegments(z.unknownDocument.path):zt()).path.toArray();var z;const ie={prefixPath:U.slice(0,U.length-2),collectionGroup:U[U.length-2],documentId:U[U.length-1],readTime:g.readTime||[0,0],unknownDocument:g.unknownDocument,noDocument:g.noDocument,document:g.document,hasCommittedMutations:!!g.hasCommittedMutations};u.push(C.put(ie))}).next(()=>at.waitFor(u))}zs(e,n){const o=n.store("mutations"),u=qm(this.It),d=new Bp(xc.Bs,this.It.re);return o.W().next(g=>{const C=new Map;return g.forEach(U=>{var z;let ie=null!==(z=C.get(U.userId))&&void 0!==z?z:Mr();Xu(this.It,U).keys().forEach(Ne=>ie=ie.add(Ne)),C.set(U.userId,ie)}),at.forEach(C,(U,z)=>{const ie=new R(z),Ne=yd.oe(this.It,ie),pt=d.getIndexManager(ie),Pt=wd.oe(ie,this.It,pt,d.referenceDelegate);return new Vp(u,Pt,Ne,pt).recalculateAndSaveOverlaysForDocumentKeys(new Dp(n,Ms.at),U).next()})})}}function Fh(i){i.createObjectStore("targetDocuments",{keyPath:Om}).createIndex("documentTargetsIndex",Pm,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ep,{unique:!0}),i.createObjectStore("targetGlobal")}const Td="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Lh{constructor(e,n,o,u,d,g,C,U,z,ie,Ne=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=o,this.Hs=d,this.window=g,this.document=C,this.Js=z,this.Ys=ie,this.Xs=Ne,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=pt=>Promise.resolve(),!Lh.C())throw new St(et.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Km(this,u),this.ii=n+"main",this.It=new Sh(U),this.ri=new Hi(this.ii,this.Xs,new rl(this.It)),this.Cs=new Wa(this.referenceDelegate,this.It),this.remoteDocumentCache=qm(this.It),this.Ns=new jm,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===ie&&ct("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new St(et.FAILED_PRECONDITION,Td);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Ms(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var n=this;return this.si=function(){var o=(0,c.Z)(function*(u){if(n.started)return e(u)});return function(u){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var n=(0,c.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,c.Z)(function*(){n.started&&(yield n.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>il(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(n=>{n||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(n=>this.isPrimary&&!n?this._i(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(Hs(e))return _e("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return _e("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Sd(e).get("owner").next(n=>at.resolve(this.mi(n)))}gi(e){return il(e).delete(this.clientId)}yi(){var e=this;return(0,c.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const u=Mo(o,"clientMetadata");return u.W().next(d=>{const g=e.Ii(d,18e5),C=d.filter(U=>-1===g.indexOf(U));return at.forEach(C,U=>u.delete(U.clientId)).next(()=>C)})}).catch(()=>[]);if(e.oi)for(const o of n)e.oi.removeItem(e.Ti(o.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?at.resolve(!0):Sd(e).get("owner").next(n=>{if(null!==n&&this.pi(n.leaseTimestampMs,5e3)&&!this.Ei(n.ownerId)){if(this.mi(n)&&this.networkEnabled)return!0;if(!this.mi(n)){if(!n.allowTabSynchronization)throw new St(et.FAILED_PRECONDITION,Td);return!1}}return!(!this.networkEnabled||!this.inForeground)||il(e).W().next(o=>void 0===this.Ii(o,5e3).find(u=>{if(this.clientId!==u.clientId){const g=!this.inForeground&&u.inForeground,C=this.networkEnabled===u.networkEnabled;if(!this.networkEnabled&&u.networkEnabled||g&&C)return!0}return!1}))}).next(n=>(this.isPrimary!==n&&_e("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,c.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const o=new Dp(n,Ms.at);return e._i(o).next(()=>e.gi(o))}),e.ri.close(),e.Pi()})()}Ii(e,n){return e.filter(o=>this.pi(o.updateTimeMs,n)&&!this.Ei(o.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>il(e).W().next(n=>this.Ii(n,18e5).map(o=>o.clientId)))}get started(){return this.Ds}getMutationQueue(e,n){return wd.oe(e,this.It,n,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Np(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return yd.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,n,o){_e("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===n?"readonly":"readwrite",d=15===(g=this.Xs)?Fv:14===g?Bm:13===g?Um:12===g?bh:11===g?Vm:void zt();var g;let C;return this.ri.runTransaction(e,u,d,U=>(C=new Dp(U,this.Ss?this.Ss.next():Ms.at),"readwrite-primary"===n?this.fi(C).next(z=>!!z||this.di(C)).next(z=>{if(!z)throw ct(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new St(et.FAILED_PRECONDITION,da);return o(C)}).next(z=>this.wi(C).next(()=>z)):this.Vi(C).next(()=>o(C)))).then(U=>(C.raiseOnCommittedEvent(),U))}Vi(e){return Sd(e).get("owner").next(n=>{if(null!==n&&this.pi(n.leaseTimestampMs,5e3)&&!this.Ei(n.ownerId)&&!this.mi(n)&&!(this.Ys||this.allowTabSynchronization&&n.allowTabSynchronization))throw new St(et.FAILED_PRECONDITION,Td)})}wi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Sd(e).put("owner",n)}static C(){return Hi.C()}_i(e){const n=Sd(e);return n.get("owner").next(o=>this.mi(o)?(_e("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):at.resolve())}pi(e,n){const o=Date.now();return!(e<o-n||e>o&&(ct(`Detected an update time that is in the future: ${e} > ${o}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,ve.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var n;try{const o=null!==(null===(n=this.oi)||void 0===n?void 0:n.getItem(this.Ti(e)));return _e("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return ct("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){ct("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Sd(i){return Mo(i,"owner")}function il(i){return Mo(i,"clientMetadata")}function Vh(i,e){let n=i.projectId;return i.isDefaultDatabase||(n+="."+i.database),"firestore/"+e+"/"+n+"/"}class Ad{constructor(e,n,o,u){this.targetId=e,this.fromCache=n,this.Si=o,this.Di=u}static Ci(e,n){let o=Mr(),u=Mr();for(const d of n.docChanges)switch(d.type){case 0:o=o.add(d.doc.key);break;case 1:u=u.add(d.doc.key)}return new Ad(e,n.fromCache,o,u)}}class Uh{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,o,u){return this.ki(e,n).next(d=>d||this.Mi(e,n,u,o)).next(d=>d||this.Oi(e,n))}ki(e,n){if(ed(n))return at.resolve(null);let o=Qo(n);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==n.limit&&1===u&&(n=qu(n,null,"F"),o=Qo(n)),this.indexManager.getDocumentsMatchingTarget(e,o).next(d=>{const g=Mr(...d);return this.Ni.getDocuments(e,g).next(C=>this.indexManager.getMinOffset(e,o).next(U=>{const z=this.Fi(n,C);return this.$i(n,z,g,U.readTime)?this.ki(e,qu(n,null,"F")):this.Bi(e,z,n,U)}))})))}Mi(e,n,o,u){return ed(n)||u.isEqual(Kt.min())?this.Oi(e,n):this.Ni.getDocuments(e,o).next(d=>{const g=this.Fi(n,d);return this.$i(n,g,o,u)?this.Oi(e,n):(Se()<=Te.in.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),lc(n)),this.Bi(e,g,n,Lo(u,-1)))})}Fi(e,n){let o=new tr(Al(e));return n.forEach((u,d)=>{Su(e,d)&&(o=o.add(d))}),o}$i(e,n,o,u){if(null===e.limit)return!1;if(o.size!==n.size)return!0;const d="F"===e.limitType?n.last():n.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(u)>0)}Oi(e,n){return Se()<=Te.in.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",lc(n)),this.Ni.getDocumentsMatchingQuery(e,n,As.min())}Bi(e,n,o,u){return this.Ni.getDocumentsMatchingQuery(e,o,u).next(d=>(n.forEach(g=>{d=d.insert(g.key,g)}),d))}}class $p{constructor(e,n,o,u){this.persistence=e,this.Li=n,this.It=u,this.Ui=new Yr(Rn),this.qi=new za(d=>F(d),ye),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(o)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Vp(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ui))}}function Md(i,e,n,o){return new $p(i,e,n,o)}function Bh(i,e){return Hl.apply(this,arguments)}function Hl(){return Hl=(0,c.Z)(function*(i,e){const n=At(i);return yield n.persistence.runTransaction("Handle user change","readonly",o=>{let u;return n.mutationQueue.getAllMutationBatches(o).next(d=>(u=d,n.Qi(e),n.mutationQueue.getAllMutationBatches(o))).next(d=>{const g=[],C=[];let U=Mr();for(const z of u){g.push(z.batchId);for(const ie of z.mutations)U=U.add(ie.key)}for(const z of d){C.push(z.batchId);for(const ie of z.mutations)U=U.add(ie.key)}return n.localDocuments.getDocuments(o,U).next(z=>({ji:z,removedBatchIds:g,addedBatchIds:C}))})})}),Hl.apply(this,arguments)}function xd(i,e){const n=At(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),d=n.Gi.newChangeBuffer({trackRemovals:!0});return function(g,C,U,z){const ie=U.batch,Ne=ie.keys();let pt=at.resolve();return Ne.forEach(Pt=>{pt=pt.next(()=>z.getEntry(C,Pt)).next(Ut=>{const Cn=U.docVersions.get(Pt);en(null!==Cn),Ut.version.compareTo(Cn)<0&&(ie.applyToRemoteDocument(Ut,U),Ut.isValidDocument()&&(Ut.setReadTime(U.commitVersion),z.addEntry(Ut)))})}),pt.next(()=>g.mutationQueue.removeMutationBatch(C,ie))}(n,o,e,d).next(()=>d.apply(o)).next(()=>n.mutationQueue.performConsistencyCheck(o)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(g){let C=Mr();for(let U=0;U<g.mutationResults.length;++U)g.mutationResults[U].transformResults.length>0&&(C=C.add(g.batch.mutations[U].key));return C}(e))).next(()=>n.localDocuments.getDocuments(o,u))})}function jh(i){const e=At(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function $h(i,e){const n=At(i),o=e.snapshotVersion;let u=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const g=n.Gi.newChangeBuffer({trackRemovals:!0});u=n.Ui;const C=[];e.targetChanges.forEach((ie,Ne)=>{const pt=u.get(Ne);if(!pt)return;C.push(n.Cs.removeMatchingKeys(d,ie.removedDocuments,Ne).next(()=>n.Cs.addMatchingKeys(d,ie.addedDocuments,Ne)));let Pt=pt.withSequenceNumber(d.currentSequenceNumber);var Ut,Cn,Ln;e.targetMismatches.has(Ne)?Pt=Pt.withResumeToken(Pr.EMPTY_BYTE_STRING,Kt.min()).withLastLimboFreeSnapshotVersion(Kt.min()):ie.resumeToken.approximateByteSize()>0&&(Pt=Pt.withResumeToken(ie.resumeToken,o)),u=u.insert(Ne,Pt),Cn=Pt,Ln=ie,(0===(Ut=pt).resumeToken.approximateByteSize()||Cn.snapshotVersion.toMicroseconds()-Ut.snapshotVersion.toMicroseconds()>=3e8||Ln.addedDocuments.size+Ln.modifiedDocuments.size+Ln.removedDocuments.size>0)&&C.push(n.Cs.updateTargetData(d,Pt))});let U=no(),z=Mr();if(e.documentUpdates.forEach(ie=>{e.resolvedLimboDocuments.has(ie)&&C.push(n.persistence.referenceDelegate.updateLimboDocument(d,ie))}),C.push(Hh(d,g,e.documentUpdates).next(ie=>{U=ie.Wi,z=ie.zi})),!o.isEqual(Kt.min())){const ie=n.Cs.getLastRemoteSnapshotVersion(d).next(Ne=>n.Cs.setTargetsMetadata(d,d.currentSequenceNumber,o));C.push(ie)}return at.waitFor(C).next(()=>g.apply(d)).next(()=>n.localDocuments.getLocalViewOfDocuments(d,U,z)).next(()=>U)}).then(d=>(n.Ui=u,d))}function Hh(i,e,n){let o=Mr(),u=Mr();return n.forEach(d=>o=o.add(d)),e.getEntries(i,o).next(d=>{let g=no();return n.forEach((C,U)=>{const z=d.get(C);U.isFoundDocument()!==z.isFoundDocument()&&(u=u.add(C)),U.isNoDocument()&&U.version.isEqual(Kt.min())?(e.removeEntry(C,U.readTime),g=g.insert(C,U)):!z.isValidDocument()||U.version.compareTo(z.version)>0||0===U.version.compareTo(z.version)&&z.hasPendingWrites?(e.addEntry(U),g=g.insert(C,U)):_e("LocalStore","Ignoring outdated watch update for ",C,". Current version:",z.version," Watch version:",U.version)}),{Wi:g,zi:u}})}function Gh(i,e){const n=At(i);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function Ka(i,e){const n=At(i);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return n.Cs.getTargetData(o,e).next(d=>d?(u=d,at.resolve(u)):n.Cs.allocateTargetId(o).next(g=>(u=new pu(e,g,0,o.currentSequenceNumber),n.Cs.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=n.Ui.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(o.targetId,o),n.qi.set(e,o.targetId)),o})}function Gl(i,e,n){return Nd.apply(this,arguments)}function Nd(){return Nd=(0,c.Z)(function*(i,e,n){const o=At(i),u=o.Ui.get(e),d=n?"readwrite":"readwrite-primary";try{n||(yield o.persistence.runTransaction("Release target",d,g=>o.persistence.referenceDelegate.removeTarget(g,u)))}catch(g){if(!Hs(g))throw g;_e("LocalStore",`Failed to update sequence numbers for target ${e}: ${g}`)}o.Ui=o.Ui.remove(e),o.qi.delete(u.target)}),Nd.apply(this,arguments)}function Rd(i,e,n){const o=At(i);let u=Kt.min(),d=Mr();return o.persistence.runTransaction("Execute query","readonly",g=>function(C,U,z){const ie=At(C),Ne=ie.qi.get(z);return void 0!==Ne?at.resolve(ie.Ui.get(Ne)):ie.Cs.getTargetData(U,z)}(o,g,Qo(e)).next(C=>{if(C)return u=C.lastLimboFreeSnapshotVersion,o.Cs.getMatchingKeysForTargetId(g,C.targetId).next(U=>{d=U})}).next(()=>o.Li.getDocumentsMatchingQuery(g,e,n?u:Kt.min(),n?d:Mr())).next(C=>(Od(o,Zu(e),C),{documents:C,Hi:d})))}function Hp(i,e){const n=At(i),o=At(n.Cs),u=n.Ui.get(e);return u?Promise.resolve(u.target):n.persistence.runTransaction("Get target data","readonly",d=>o.se(d,e).next(g=>g?g.target:null))}function zh(i,e){const n=At(i),o=n.Ki.get(e)||Kt.min();return n.persistence.runTransaction("Get new document changes","readonly",u=>n.Gi.getAllFromCollectionGroup(u,e,Lo(o,-1),Number.MAX_SAFE_INTEGER)).then(u=>(Od(n,e,u),u))}function Od(i,e,n){let o=Kt.min();n.forEach((u,d)=>{d.readTime.compareTo(o)>0&&(o=d.readTime)}),i.Ki.set(e,o)}function zp(){return zp=(0,c.Z)(function*(i,e,n,o){const u=At(i);let d=Mr(),g=no();for(const z of n){const ie=e.Ji(z.metadata.name);z.document&&(d=d.add(ie));const Ne=e.Yi(z);Ne.setReadTime(e.Xi(z.metadata.readTime)),g=g.insert(ie,Ne)}const C=u.Gi.newChangeBuffer({trackRemovals:!0}),U=yield Ka(u,(z=o,Qo(uu(kn.fromString(`__bundle__/docs/${z}`)))));var z;return u.persistence.runTransaction("Apply bundle documents","readwrite",z=>Hh(z,C,g).next(ie=>(C.apply(z),ie)).next(ie=>u.Cs.removeMatchingKeysForTargetId(z,U.targetId).next(()=>u.Cs.addMatchingKeys(z,d,U.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(z,ie.Wi,ie.zi)).next(()=>ie.Wi)))}),zp.apply(this,arguments)}function Wp(i,e){return Wh.apply(this,arguments)}function Wh(){return Wh=(0,c.Z)(function*(i,e,n=Mr()){const o=yield Ka(i,Qo(gd(e.bundledQuery))),u=At(i);return u.persistence.runTransaction("Save named query","readwrite",d=>{const g=co(e.readTime);if(o.snapshotVersion.compareTo(g)>=0)return u.Ns.saveNamedQuery(d,e);const C=o.withResumeToken(Pr.EMPTY_BYTE_STRING,g);return u.Ui=u.Ui.insert(C.targetId,C),u.Cs.updateTargetData(d,C).next(()=>u.Cs.removeMatchingKeysForTargetId(d,o.targetId)).next(()=>u.Cs.addMatchingKeys(d,n,o.targetId)).next(()=>u.Ns.saveNamedQuery(d,e))})}),Wh.apply(this,arguments)}function Kh(i,e){return`firestore_clients_${i}_${e}`}function Kp(i,e,n){let o=`firestore_mutations_${i}_${n}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function qh(i,e){return`firestore_targets_${i}_${e}`}class sa{constructor(e,n,o,u){this.user=e,this.batchId=n,this.state=o,this.error=u}static Zi(e,n,o){const u=JSON.parse(o);let d,g="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return g&&u.error&&(g="string"==typeof u.error.message&&"string"==typeof u.error.code,g&&(d=new St(u.error.code,u.error.message))),g?new sa(e,n,u.state,d):(ct("SharedClientState",`Failed to parse mutation state for ID '${n}': ${o}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Nc{constructor(e,n,o){this.targetId=e,this.state=n,this.error=o}static Zi(e,n){const o=JSON.parse(n);let u,d="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return d&&o.error&&(d="string"==typeof o.error.message&&"string"==typeof o.error.code,d&&(u=new St(o.error.code,o.error.message))),d?new Nc(e,o.state,u):(ct("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Rc{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Zi(e,n){const o=JSON.parse(n);let u="object"==typeof o&&o.activeTargetIds instanceof Array,d=mc();for(let g=0;u&&g<o.activeTargetIds.length;++g)u=su(o.activeTargetIds[g]),d=d.add(o.activeTargetIds[g]);return u?new Rc(e,d):(ct("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class Zh{constructor(e,n){this.clientId=e,this.onlineState=n}static Zi(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new Zh(n.clientId,n.onlineState):(ct("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Yh{constructor(){this.activeTargetIds=mc()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Qh{constructor(e,n,o,u,d){this.window=e,this.Hs=n,this.persistenceKey=o,this.sr=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Yr(Rn),this.started=!1,this.cr=[];const g=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.ar=Kh(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new Yh),this.lr=new RegExp(`^firestore_clients_${g}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${g}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${g}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(C){return`firestore_bundle_loaded_v2_${C}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,c.Z)(function*(){const n=yield e.syncEngine.vi();for(const u of n){if(u===e.sr)continue;const d=e.getItem(Kh(e.persistenceKey,u));if(d){const g=Rc.Zi(u,d);g&&(e.ur=e.ur.insert(g.clientId,g))}}e.gr();const o=e.storage.getItem(e.wr);if(o){const u=e.yr(o);u&&e.pr(u)}for(const u of e.cr)e.rr(u);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let n=!1;return this.ur.forEach((o,u)=>{u.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,n,o){this.Tr(e,n,o),this.Er(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(qh(this.persistenceKey,e));if(o){const u=Nc.Zi(e,o);u&&(n=u.state)}}return this.Ar.er(e),this.gr(),n}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(qh(this.persistenceKey,e))}updateQueryState(e,n,o){this.Rr(e,n,o)}handleUserChange(e,n,o){n.forEach(u=>{this.Er(u)}),this.currentUser=e,o.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return _e("SharedClientState","READ",e,n),n}setItem(e,n){_e("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){_e("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var n=this;const o=e;if(o.storageArea===this.storage){if(_e("SharedClientState","EVENT",o.key,o.newValue),o.key===this.ar)return void ct("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,c.Z)(function*(){if(n.started){if(null!==o.key)if(n.lr.test(o.key)){if(null==o.newValue){const u=n.vr(o.key);return n.Vr(u,null)}{const u=n.Sr(o.key,o.newValue);if(u)return n.Vr(u.clientId,u)}}else if(n.dr.test(o.key)){if(null!==o.newValue){const u=n.Dr(o.key,o.newValue);if(u)return n.Cr(u)}}else if(n._r.test(o.key)){if(null!==o.newValue){const u=n.Nr(o.key,o.newValue);if(u)return n.kr(u)}}else if(o.key===n.wr){if(null!==o.newValue){const u=n.yr(o.newValue);if(u)return n.pr(u)}}else if(o.key===n.hr){const u=function(d){let g=Ms.at;if(null!=d)try{const C=JSON.parse(d);en("number"==typeof C),g=C}catch(C){ct("SharedClientState","Failed to read sequence number from WebStorage",C)}return g}(o.newValue);u!==Ms.at&&n.sequenceNumberHandler(u)}else if(o.key===n.mr){const u=n.Mr(o.newValue);yield Promise.all(u.map(d=>n.syncEngine.Or(d)))}}else n.cr.push(o)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,n,o){const u=new sa(this.currentUser,e,n,o),d=Kp(this.persistenceKey,this.currentUser,e);this.setItem(d,u.tr())}Er(e){const n=Kp(this.persistenceKey,this.currentUser,e);this.removeItem(n)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,n,o){const u=qh(this.persistenceKey,e),d=new Nc(e,n,o);this.setItem(u,d.tr())}Pr(e){const n=JSON.stringify(Array.from(e));this.setItem(this.mr,n)}vr(e){const n=this.lr.exec(e);return n?n[1]:null}Sr(e,n){const o=this.vr(e);return Rc.Zi(o,n)}Dr(e,n){const o=this.dr.exec(e),u=Number(o[1]);return sa.Zi(new R(void 0!==o[2]?o[2]:null),u,n)}Nr(e,n){const o=this._r.exec(e),u=Number(o[1]);return Nc.Zi(u,n)}yr(e){return Zh.Zi(e)}Mr(e){return JSON.parse(e)}Cr(e){var n=this;return(0,c.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.Fr(e.batchId,e.state,e.error);_e("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,n){const o=n?this.ur.insert(e,n):this.ur.remove(e),u=this.Ir(this.ur),d=this.Ir(o),g=[],C=[];return d.forEach(U=>{u.has(U)||g.push(U)}),u.forEach(U=>{d.has(U)||C.push(U)}),this.syncEngine.Br(g,C).then(()=>{this.ur=o})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let n=mc();return e.forEach((o,u)=>{n=n.unionWith(u.activeTargetIds)}),n}}class qp{constructor(){this.Lr=new Yh,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,n,o){this.Ur[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Yh,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Zp{qr(e){}shutdown(){}}class Yp{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){_e("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){_e("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Xm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class ey{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Ir extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,n,o,u,d){const g=this.ao(e,n);_e("RestConnection","Sending: ",g,o);const C={};return this.ho(C,u,d),this.lo(e,g,C,o).then(U=>(_e("RestConnection","Received: ",U),U),U=>{throw ln("RestConnection",`${e} failed with error: `,U,"url: ",g,"request:",o),U})}fo(e,n,o,u,d,g){return this.co(e,n,o,u,d)}ho(e,n,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+W,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((u,d)=>e[d]=u),o&&o.headers.forEach((u,d)=>e[d]=u)}ao(e,n){return`${this.oo}/v1/${n}:${Xm[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,n,o,u){return new Promise((d,g)=>{const C=new v;C.listenOnce(Sr.COMPLETE,()=>{try{switch(C.getLastErrorCode()){case Tr.NO_ERROR:const z=C.getResponseJson();_e("Connection","XHR received:",JSON.stringify(z)),d(z);break;case Tr.TIMEOUT:_e("Connection",'RPC "'+e+'" timed out'),g(new St(et.DEADLINE_EXCEEDED,"Request time out"));break;case Tr.HTTP_ERROR:const ie=C.getStatus();if(_e("Connection",'RPC "'+e+'" failed with status:',ie,"response text:",C.getResponseText()),ie>0){const Ne=C.getResponseJson().error;if(Ne&&Ne.status&&Ne.message){const pt=function(Pt){const Ut=Pt.toLowerCase().replace(/_/g,"-");return Object.values(et).indexOf(Ut)>=0?Ut:et.UNKNOWN}(Ne.status);g(new St(pt,Ne.message))}else g(new St(et.UNKNOWN,"Server responded with status "+C.getStatus()))}else g(new St(et.UNAVAILABLE,"Connection failed."));break;default:zt()}}finally{_e("Connection",'RPC "'+e+'" completed.')}});const U=JSON.stringify(u);C.send(n,"POST",U,o,15)})}_o(e,n,o){const u=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Tn(),g=wr(),C={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(C.xmlHttpFactory=new Vr({})),this.ho(C.initMessageHeaders,n,o),C.encodeInitMessageHeaders=!0;const U=u.join("");_e("Connection","Creating WebChannel: "+U,C);const z=d.createWebChannel(U,C);let ie=!1,Ne=!1;const pt=new ey({Hr:Ut=>{Ne?_e("Connection","Not sending because WebChannel is closed:",Ut):(ie||(_e("Connection","Opening WebChannel transport."),z.open(),ie=!0),_e("Connection","WebChannel sending:",Ut),z.send(Ut))},Jr:()=>z.close()}),Pt=(Ut,Cn,Ln)=>{Ut.listen(Cn,ni=>{try{Ln(ni)}catch(gi){setTimeout(()=>{throw gi},0)}})};return Pt(z,$.EventType.OPEN,()=>{Ne||_e("Connection","WebChannel transport opened.")}),Pt(z,$.EventType.CLOSE,()=>{Ne||(Ne=!0,_e("Connection","WebChannel transport closed"),pt.io())}),Pt(z,$.EventType.ERROR,Ut=>{Ne||(Ne=!0,ln("Connection","WebChannel transport errored:",Ut),pt.io(new St(et.UNAVAILABLE,"The operation could not be completed")))}),Pt(z,$.EventType.MESSAGE,Ut=>{var Cn;if(!Ne){const Ln=Ut.data[0];en(!!Ln);const ni=Ln,gi=ni.error||(null===(Cn=ni[0])||void 0===Cn?void 0:Cn.error);if(gi){_e("Connection","WebChannel received error:",gi);const mi=gi.status;let Rs=function(yi){const ho=Ci[yi];if(void 0!==ho)return xu(ho)}(mi),Si=gi.message;void 0===Rs&&(Rs=et.INTERNAL,Si="Unknown error status: "+mi+" with message "+gi.message),Ne=!0,pt.io(new St(Rs,Si)),z.close()}else _e("Connection","WebChannel received:",Ln),pt.ro(Ln)}}),Pt(g,hr.STAT_EVENT,Ut=>{Ut.stat===ui.PROXY?_e("Connection","Detected buffering proxy"):Ut.stat===ui.NOPROXY&&_e("Connection","Detected no buffering proxy")}),setTimeout(()=>{pt.so()},0),pt}}function Jh(){return typeof window<"u"?window:null}function Oc(){return typeof document<"u"?document:null}function zl(i){return new ph(i,!0)}class Xh{constructor(e,n,o=1e3,u=1.5,d=6e4){this.Hs=e,this.timerId=n,this.wo=o,this.mo=u,this.yo=d,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const n=Math.floor(this.po+this.Ro()),o=Math.max(0,Date.now()-this.To),u=Math.max(0,n-o);u>0&&_e("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.po} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,u,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class Qp{constructor(e,n,o,u,d,g,C,U){this.Hs=e,this.Po=o,this.vo=u,this.Vo=d,this.authCredentialsProvider=g,this.appCheckCredentialsProvider=C,this.listener=U,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Xh(e,n)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,c.Z)(function*(){e.No()&&(yield e.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,c.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,n){var o=this;return(0,c.Z)(function*(){o.Lo(),o.Uo(),o.xo.cancel(),o.So++,4!==e?o.xo.reset():n&&n.code===et.RESOURCE_EXHAUSTED?(ct(n.toString()),ct("Using maximum backoff delay to prevent overloading the backend."),o.xo.Eo()):n&&n.code===et.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.qo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Zr(n)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.So===n&&this.Go(o,u)},o=>{e(()=>{const u=new St(et.UNKNOWN,"Fetching auth token failed: "+o.message);return this.Qo(u)})})}Go(e,n){const o=this.Ko(this.So);this.stream=this.jo(e,n),this.stream.Yr(()=>{o(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(u=>{o(()=>this.Qo(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}Mo(){var e=this;this.state=5,this.xo.Ao((0,c.Z)(function*(){e.state=0,e.start()}))}Qo(e){return _e("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return n=>{this.Hs.enqueueAndForget(()=>this.So===e?n():(_e("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Jp extends Qp{constructor(e,n,o,u,d,g){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,u,g),this.It=d}jo(e,n){return this.Vo._o("Listen",e,n)}onMessage(e){this.xo.reset();const n=function ld(i,e){let n;if("targetChange"in e){const o="NO_CHANGE"===(U=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===U?1:"REMOVE"===U?2:"CURRENT"===U?3:"RESET"===U?4:zt(),u=e.targetChange.targetIds||[],d=function(U,z){return U.gt?(en(void 0===z||"string"==typeof z),Pr.fromBase64String(z||"")):(en(void 0===z||z instanceof Uint8Array),Pr.fromUint8Array(z||new Uint8Array))}(i,e.targetChange.resumeToken),g=e.targetChange.cause,C=g&&function(U){const z=void 0===U.code?et.UNKNOWN:xu(U.code);return new St(z,U.message||"")}(g);n=new cp(o,u,d,C||null)}else if("documentChange"in e){const o=e.documentChange,u=hu(i,o.document.name),d=co(o.document.updateTime),g=new vs({mapValue:{fields:o.document.fields}}),C=ti.newFoundDocument(u,d,g);n=new vc(o.targetIds||[],o.removedTargetIds||[],C.key,C)}else if("documentDelete"in e){const o=e.documentDelete,u=hu(i,o.document),d=o.readTime?co(o.readTime):Kt.min(),g=ti.newNoDocument(u,d);n=new vc([],o.removedTargetIds||[],g.key,g)}else if("documentRemove"in e){const o=e.documentRemove,u=hu(i,o.document);n=new vc([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return zt();{const o=e.filter,d=new Ua(o.count||0);n=new lp(o.targetId,d)}}var U;return n}(this.It,e),o=function(u){if(!("targetChange"in u))return Kt.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?Kt.min():d.readTime?co(d.readTime):Kt.min()}(e);return this.listener.Wo(n,o)}zo(e){const n={};n.database=Pl(this.It),n.addTarget=function(u,d){let g;const C=d.target;return g=Qe(C)?{documents:Ou(u,C)}:{query:Eh(u,C)},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0?g.resumeToken=gh(u,d.resumeToken):d.snapshotVersion.compareTo(Kt.min())>0&&(g.readTime=Ol(u,d.snapshotVersion.toTimestamp())),g}(this.It,e);const o=function Am(i,e){const n=function(o,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return zt()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);o&&(n.labels=o),this.Bo(n)}Ho(e){const n={};n.database=Pl(this.It),n.removeTarget=e,this.Bo(n)}}class ty extends Qp{constructor(e,n,o,u,d,g){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,u,g),this.It=d,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,n){return this.Vo._o("Write",e,n)}onMessage(e){if(en(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const n=function cd(i,e){return i&&i.length>0?(en(void 0!==e),i.map(n=>function(o,u){let d=co(o.updateTime?o.updateTime:u);return d.isEqual(Kt.min())&&(d=co(u)),new dh(d,o.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),o=co(e.commitTime);return this.listener.Zo(o,n)}return en(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Pl(this.It),this.Bo(e)}Xo(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>Ec(this.It,o))};this.Bo(n)}}class Xp extends class{}{constructor(e,n,o,u){super(),this.authCredentials=e,this.appCheckCredentials=n,this.Vo=o,this.It=u,this.nu=!1}su(){if(this.nu)throw new St(et.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,n,o){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.Vo.co(e,n,o,u,d)).catch(u=>{throw"FirebaseError"===u.name?(u.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new St(et.UNKNOWN,u.toString())})}fo(e,n,o,u){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.Vo.fo(e,n,o,d,g,u)).catch(d=>{throw"FirebaseError"===d.name?(d.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new St(et.UNKNOWN,d.toString())})}terminate(){this.nu=!0}}class ny{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(ct(n),this.ou=!1):_e("OnlineStateTracker",n)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class ry{constructor(e,n,o,u,d){var g=this;this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=d,this.mu.qr(C=>{o.enqueueAndForget((0,c.Z)(function*(){var U;al(g)&&(_e("RemoteStore","Restarting streams for network reachability change."),yield(U=(0,c.Z)(function*(z){const ie=At(z);ie._u.add(4),yield sl(ie),ie.gu.set("Unknown"),ie._u.delete(4),yield Pd(ie)}),function(z){return U.apply(this,arguments)})(g))}))}),this.gu=new ny(o,u)}}function Pd(i){return kd.apply(this,arguments)}function kd(){return kd=(0,c.Z)(function*(i){if(al(i))for(const e of i.wu)yield e(!0)}),kd.apply(this,arguments)}function sl(i){return mu.apply(this,arguments)}function mu(){return mu=(0,c.Z)(function*(i){for(const e of i.wu)yield e(!1)}),mu.apply(this,arguments)}function Fd(i,e){const n=At(i);n.du.has(e.targetId)||(n.du.set(e.targetId,e),ng(n)?tg(n):Ho(n).ko()&&Pc(n,e))}function ol(i,e){const n=At(i),o=Ho(n);n.du.delete(e),o.ko()&&eg(n,e),0===n.du.size&&(o.ko()?o.Fo():al(n)&&n.gu.set("Unknown"))}function Pc(i,e){i.yu.Ot(e.targetId),Ho(i).zo(e)}function eg(i,e){i.yu.Ot(e),Ho(i).Ho(e)}function tg(i){i.yu=new Tm({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),se:e=>i.du.get(e)||null}),Ho(i).start(),i.gu.uu()}function ng(i){return al(i)&&!Ho(i).No()&&i.du.size>0}function al(i){return 0===At(i)._u.size}function rg(i){i.yu=void 0}function ig(i){return sg.apply(this,arguments)}function sg(){return sg=(0,c.Z)(function*(i){i.du.forEach((e,n)=>{Pc(i,e)})}),sg.apply(this,arguments)}function iy(i,e){return Uu.apply(this,arguments)}function Uu(){return Uu=(0,c.Z)(function*(i,e){rg(i),ng(i)?(i.gu.hu(e),tg(i)):i.gu.set("Unknown")}),Uu.apply(this,arguments)}function sy(i,e,n){return Ld.apply(this,arguments)}function Ld(){return Ld=(0,c.Z)(function*(i,e,n){if(i.gu.set("Online"),e instanceof cp&&2===e.state&&e.cause)try{yield(o=(0,c.Z)(function*(u,d){const g=d.cause;for(const C of d.targetIds)u.du.has(C)&&(yield u.remoteSyncer.rejectListen(C,g),u.du.delete(C),u.yu.removeTarget(C))}),function(u,d){return o.apply(this,arguments)})(i,e)}catch(o){_e("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield ul(i,o)}else if(e instanceof vc?i.yu.Gt(e):e instanceof lp?i.yu.Yt(e):i.yu.Wt(e),!n.isEqual(Kt.min()))try{const o=yield jh(i.localStore);n.compareTo(o)>=0&&(yield function(u,d){const g=u.yu.te(d);return g.targetChanges.forEach((C,U)=>{if(C.resumeToken.approximateByteSize()>0){const z=u.du.get(U);z&&u.du.set(U,z.withResumeToken(C.resumeToken,d))}}),g.targetMismatches.forEach(C=>{const U=u.du.get(C);if(!U)return;u.du.set(C,U.withResumeToken(Pr.EMPTY_BYTE_STRING,U.snapshotVersion)),eg(u,C);const z=new pu(U.target,C,1,U.sequenceNumber);Pc(u,z)}),u.remoteSyncer.applyRemoteEvent(g)}(i,n))}catch(o){_e("RemoteStore","Failed to raise snapshot:",o),yield ul(i,o)}var o}),Ld.apply(this,arguments)}function ul(i,e,n){return ef.apply(this,arguments)}function ef(){return ef=(0,c.Z)(function*(i,e,n){if(!Hs(e))throw e;i._u.add(1),yield sl(i),i.gu.set("Offline"),n||(n=()=>jh(i.localStore)),i.asyncQueue.enqueueRetryable((0,c.Z)(function*(){_e("RemoteStore","Retrying IndexedDB access"),yield n(),i._u.delete(1),yield Pd(i)}))}),ef.apply(this,arguments)}function tf(i,e){return e().catch(n=>ul(i,n,e))}function Wl(i){return nf.apply(this,arguments)}function nf(){return nf=(0,c.Z)(function*(i){const e=At(i),n=yu(e);let o=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;oy(e);)try{const u=yield Gh(e.localStore,o);if(null===u){0===e.fu.length&&n.Fo();break}o=u.batchId,ay(e,u)}catch(u){yield ul(e,u)}og(e)&&rf(e)}),nf.apply(this,arguments)}function oy(i){return al(i)&&i.fu.length<10}function ay(i,e){i.fu.push(e);const n=yu(i);n.ko()&&n.Yo&&n.Xo(e.mutations)}function og(i){return al(i)&&!yu(i).No()&&i.fu.length>0}function rf(i){yu(i).start()}function uy(i){return Vd.apply(this,arguments)}function Vd(){return Vd=(0,c.Z)(function*(i){yu(i).eu()}),Vd.apply(this,arguments)}function ag(i){return kc.apply(this,arguments)}function kc(){return kc=(0,c.Z)(function*(i){const e=yu(i);for(const n of i.fu)e.Xo(n.mutations)}),kc.apply(this,arguments)}function Lv(i,e,n){return Fc.apply(this,arguments)}function Fc(){return Fc=(0,c.Z)(function*(i,e,n){const o=i.fu.shift(),u=hd.from(o,e,n);yield tf(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield Wl(i)}),Fc.apply(this,arguments)}function ly(i,e){return ug.apply(this,arguments)}function ug(){return ug=(0,c.Z)(function*(i,e){var n;e&&yu(i).Yo&&(yield(n=(0,c.Z)(function*(o,u){if(Yu(d=u.code)&&d!==et.ABORTED){const g=o.fu.shift();yu(o).Oo(),yield tf(o,()=>o.remoteSyncer.rejectFailedWrite(g.batchId,u)),yield Wl(o)}var d}),function(o,u){return n.apply(this,arguments)})(i,e)),og(i)&&rf(i)}),ug.apply(this,arguments)}function ll(i,e){return Ud.apply(this,arguments)}function Ud(){return Ud=(0,c.Z)(function*(i,e){const n=At(i);n.asyncQueue.verifyOperationInProgress(),_e("RemoteStore","RemoteStore received new credentials");const o=al(n);n._u.add(3),yield sl(n),o&&n.gu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),yield Pd(n)}),Ud.apply(this,arguments)}function Bd(i,e){return Kl.apply(this,arguments)}function Kl(){return Kl=(0,c.Z)(function*(i,e){const n=At(i);e?(n._u.delete(2),yield Pd(n)):e||(n._u.add(2),yield sl(n),n.gu.set("Unknown"))}),Kl.apply(this,arguments)}function Ho(i){return i.pu||(i.pu=function(e,n,o){const u=At(e);return u.su(),new Jp(n,u.Vo,u.authCredentials,u.appCheckCredentials,u.It,o)}(i.datastore,i.asyncQueue,{Yr:ig.bind(null,i),Zr:iy.bind(null,i),Wo:sy.bind(null,i)}),i.wu.push(function(){var e=(0,c.Z)(function*(n){n?(i.pu.Oo(),ng(i)?tg(i):i.gu.set("Unknown")):(yield i.pu.stop(),rg(i))});return function(n){return e.apply(this,arguments)}}())),i.pu}function yu(i){return i.Iu||(i.Iu=function(e,n,o){const u=At(e);return u.su(),new ty(n,u.Vo,u.authCredentials,u.appCheckCredentials,u.It,o)}(i.datastore,i.asyncQueue,{Yr:uy.bind(null,i),Zr:ly.bind(null,i),tu:ag.bind(null,i),Zo:Lv.bind(null,i)}),i.wu.push(function(){var e=(0,c.Z)(function*(n){n?(i.Iu.Oo(),yield Wl(i)):(yield i.Iu.stop(),i.fu.length>0&&(_e("RemoteStore",`Stopping write stream with ${i.fu.length} pending writes`),i.fu=[]))});return function(n){return e.apply(this,arguments)}}())),i.Iu}class sf{constructor(e,n,o,u,d){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=u,this.removalCallback=d,this.deferred=new fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(g=>{})}static createAndSchedule(e,n,o,u,d){const g=Date.now()+o,C=new sf(e,n,g,u,d);return C.start(o),C}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new St(et.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bu(i,e){if(ct("AsyncQueue",`${e}: ${i}`),Hs(i))return new St(et.UNAVAILABLE,`${e}: ${i}`);throw i}class oa{constructor(e){this.comparator=e?(n,o)=>e(n,o)||Qt.comparator(n.key,o.key):(n,o)=>Qt.comparator(n.key,o.key),this.keyedMap=Nu(),this.sortedSet=new Yr(this.comparator)}static emptySet(e){return new oa(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof oa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const u=n.getNext().key,d=o.getNext().key;if(!u.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const o=new oa;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}class jd{constructor(){this.Tu=new Yr(Qt.comparator)}track(e){const n=e.doc.key,o=this.Tu.get(n);o?0!==e.type&&3===o.type?this.Tu=this.Tu.insert(n,e):3===e.type&&1!==o.type?this.Tu=this.Tu.insert(n,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Tu=this.Tu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Tu=this.Tu.remove(n):1===e.type&&2===o.type?this.Tu=this.Tu.insert(n,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):zt():this.Tu=this.Tu.insert(n,e)}Eu(){const e=[];return this.Tu.inorderTraversal((n,o)=>{e.push(o)}),e}}class cl{constructor(e,n,o,u,d,g,C,U){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=d,this.fromCache=g,this.syncStateChanged=C,this.excludesMetadataChanges=U}static fromInitialDocuments(e,n,o,u){const d=[];return n.forEach(g=>{d.push({type:0,doc:g})}),new cl(e,n,oa.emptySet(n),d,o,u,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let u=0;u<n.length;u++)if(n[u].type!==o[u].type||!n[u].doc.isEqual(o[u].doc))return!1;return!0}}class af{constructor(){this.Au=void 0,this.listeners=[]}}class Vv{constructor(){this.queries=new za(e=>Sl(e),Tl),this.onlineState="Unknown",this.Ru=new Set}}function $d(i,e){return lg.apply(this,arguments)}function lg(){return lg=(0,c.Z)(function*(i,e){const n=At(i),o=e.query;let u=!1,d=n.queries.get(o);if(d||(u=!0,d=new af),u)try{d.Au=yield n.onListen(o)}catch(g){const C=Bu(g,`Initialization of query '${lc(e.query)}' failed`);return void e.onError(C)}n.queries.set(o,d),d.listeners.push(e),e.bu(n.onlineState),d.Au&&e.Pu(d.Au)&&Lc(n)}),lg.apply(this,arguments)}function ql(i,e){return Zl.apply(this,arguments)}function Zl(){return Zl=(0,c.Z)(function*(i,e){const n=At(i),o=e.query;let u=!1;const d=n.queries.get(o);if(d){const g=d.listeners.indexOf(e);g>=0&&(d.listeners.splice(g,1),u=0===d.listeners.length)}if(u)return n.queries.delete(o),n.onUnlisten(o)}),Zl.apply(this,arguments)}function uf(i,e){const n=At(i);let o=!1;for(const u of e){const g=n.queries.get(u.query);if(g){for(const C of g.listeners)C.Pu(u)&&(o=!0);g.Au=u}}o&&Lc(n)}function lf(i,e,n){const o=At(i),u=o.queries.get(e);if(u)for(const d of u.listeners)d.onError(n);o.queries.delete(e)}function Lc(i){i.Ru.forEach(e=>{e.next()})}class cg{constructor(e,n,o){this.query=e,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=o||{}}Pu(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new cl(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),n=!0):this.Cu(e,this.onlineState)&&(this.xu(e),n=!0),this.Su=e,n}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),n=!0),n}Cu(e,n){return!e.fromCache||!(this.options.Nu&&"Offline"!==n||e.docs.isEmpty()&&"Offline"!==n)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=cl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}class cy{constructor(e,n){this.payload=e,this.byteLength=n}ku(){return"metadata"in this.payload}}class dg{constructor(e){this.It=e}Ji(e){return hu(this.It,e)}Yi(e){return e.metadata.exists?pp(this.It,e.document,!1):ti.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return co(e)}}class dy{constructor(e,n,o){this.Mu=e,this.localStore=n,this.It=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=hg(e)}Ou(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++n;const o=kn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}Fu(e){const n=new Map,o=new dg(this.It);for(const u of e)if(u.metadata.queries){const d=o.Ji(u.metadata.name);for(const g of u.metadata.queries){const C=(n.get(g)||Mr()).add(d);n.set(g,C)}}return n}complete(){var e=this;return(0,c.Z)(function*(){const n=yield function Gp(i,e,n,o){return zp.apply(this,arguments)}(e.localStore,new dg(e.It),e.documents,e.Mu.id),o=e.Fu(e.documents);for(const u of e.queries)yield Wp(e.localStore,u,o.get(u.name));return e.progress.taskState="Success",{progress:e.progress,$u:e.collectionGroups,Bu:n}})()}}function hg(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class cf{constructor(e){this.key=e}}class hy{constructor(e){this.key=e}}class fg{constructor(e,n){this.query=e,this.Lu=n,this.Uu=null,this.current=!1,this.qu=Mr(),this.mutatedKeys=Mr(),this.Ku=Al(e),this.Gu=new oa(this.Ku)}get Qu(){return this.Lu}ju(e,n){const o=n?n.Wu:new jd,u=n?n.Gu:this.Gu;let d=n?n.mutatedKeys:this.mutatedKeys,g=u,C=!1;const U="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,z="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((ie,Ne)=>{const pt=u.get(ie),Pt=Su(this.query,Ne)?Ne:null,Ut=!!pt&&this.mutatedKeys.has(pt.key),Cn=!!Pt&&(Pt.hasLocalMutations||this.mutatedKeys.has(Pt.key)&&Pt.hasCommittedMutations);let Ln=!1;pt&&Pt?pt.data.isEqual(Pt.data)?Ut!==Cn&&(o.track({type:3,doc:Pt}),Ln=!0):this.zu(pt,Pt)||(o.track({type:2,doc:Pt}),Ln=!0,(U&&this.Ku(Pt,U)>0||z&&this.Ku(Pt,z)<0)&&(C=!0)):!pt&&Pt?(o.track({type:0,doc:Pt}),Ln=!0):pt&&!Pt&&(o.track({type:1,doc:pt}),Ln=!0,(U||z)&&(C=!0)),Ln&&(Pt?(g=g.add(Pt),d=Cn?d.add(ie):d.delete(ie)):(g=g.delete(ie),d=d.delete(ie)))}),null!==this.query.limit)for(;g.size>this.query.limit;){const ie="F"===this.query.limitType?g.last():g.first();g=g.delete(ie.key),d=d.delete(ie.key),o.track({type:1,doc:ie})}return{Gu:g,Wu:o,$i:C,mutatedKeys:d}}zu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o){const u=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const d=e.Wu.Eu();d.sort((z,ie)=>function(Ne,pt){const Pt=Ut=>{switch(Ut){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return zt()}};return Pt(Ne)-Pt(pt)}(z.type,ie.type)||this.Ku(z.doc,ie.doc)),this.Hu(o);const g=n?this.Ju():[],C=0===this.qu.size&&this.current?1:0,U=C!==this.Uu;return this.Uu=C,0!==d.length||U?{snapshot:new cl(this.query,e.Gu,u,d,e.mutatedKeys,0===C,U,!1),Yu:g}:{Yu:g}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new jd,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(n=>this.Lu=this.Lu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Lu=this.Lu.delete(n)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=Mr(),this.Gu.forEach(o=>{this.Xu(o.key)&&(this.qu=this.qu.add(o.key))});const n=[];return e.forEach(o=>{this.qu.has(o)||n.push(new hy(o))}),this.qu.forEach(o=>{e.has(o)||n.push(new cf(o))}),n}Zu(e){this.Lu=e.Hi,this.qu=Mr();const n=this.ju(e.documents);return this.applyChanges(n,!0)}tc(){return cl.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class Uv{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class pg{constructor(e){this.key=e,this.ec=!1}}class gg{constructor(e,n,o,u,d,g){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=u,this.currentUser=d,this.maxConcurrentLimboResolutions=g,this.nc={},this.sc=new za(C=>Sl(C),Tl),this.ic=new Map,this.rc=new Set,this.oc=new Yr(Qt.comparator),this.uc=new Map,this.cc=new Oh,this.ac={},this.hc=new Map,this.lc=Bl.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function fy(i,e){return Vc.apply(this,arguments)}function Vc(){return Vc=(0,c.Z)(function*(i,e){const n=ea(i);let o,u;const d=n.sc.get(e);if(d)o=d.targetId,n.sharedClientState.addLocalQueryTarget(o),u=d.view.tc();else{const g=yield Ka(n.localStore,Qo(e));n.isPrimaryClient&&Fd(n.remoteStore,g);const C=n.sharedClientState.addLocalQueryTarget(g.targetId);o=g.targetId,u=yield mg(n,e,o,"current"===C)}return u}),Vc.apply(this,arguments)}function mg(i,e,n,o){return yg.apply(this,arguments)}function yg(){return yg=(0,c.Z)(function*(i,e,n,o){i.dc=(ie,Ne,pt)=>{return(Pt=(0,c.Z)(function*(Ut,Cn,Ln,ni){let gi=Cn.view.ju(Ln);gi.$i&&(gi=yield Rd(Ut.localStore,Cn.query,!1).then(({documents:Si})=>Cn.view.ju(Si,gi)));const mi=ni&&ni.targetChanges.get(Cn.targetId),Rs=Cn.view.applyChanges(gi,Ut.isPrimaryClient,mi);return pf(Ut,Cn.targetId,Rs.Yu),Rs.snapshot}),function(Ut,Cn,Ln,ni){return Pt.apply(this,arguments)})(i,ie,Ne,pt);var Pt};const u=yield Rd(i.localStore,e,!0),d=new fg(e,u.Hi),g=d.ju(u.documents),C=Qu.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==i.onlineState),U=d.applyChanges(g,i.isPrimaryClient,C);pf(i,n,U.Yu);const z=new Uv(e,n,d);return i.sc.set(e,z),i.ic.has(n)?i.ic.get(n).push(e):i.ic.set(n,[e]),U.snapshot}),yg.apply(this,arguments)}function Bv(i,e){return vg.apply(this,arguments)}function vg(){return vg=(0,c.Z)(function*(i,e){const n=At(i),o=n.sc.get(e),u=n.ic.get(o.targetId);if(u.length>1)return n.ic.set(o.targetId,u.filter(d=>!Tl(d,e))),void n.sc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Gl(n.localStore,o.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(o.targetId),ol(n.remoteStore,o.targetId),dl(n,o.targetId)}).catch($s))):(dl(n,o.targetId),yield Gl(n.localStore,o.targetId,!0))}),vg.apply(this,arguments)}function _g(){return _g=(0,c.Z)(function*(i,e,n){const o=zd(i);try{const u=yield function(d,g){const C=At(d),U=cn.now(),z=g.reduce((pt,Pt)=>pt.add(Pt.key),Mr());let ie,Ne;return C.persistence.runTransaction("Locally write mutations","readwrite",pt=>{let Pt=no(),Ut=Mr();return C.Gi.getEntries(pt,z).next(Cn=>{Pt=Cn,Pt.forEach((Ln,ni)=>{ni.isValidDocument()||(Ut=Ut.add(Ln))})}).next(()=>C.localDocuments.getOverlayedDocuments(pt,Pt)).next(Cn=>{ie=Cn;const Ln=[];for(const ni of g){const gi=b(ni,ie.get(ni.key).overlayedDocument);null!=gi&&Ln.push(new tt(ni.key,gi,Gi(gi.value.mapValue),Li.exists(!0)))}return C.mutationQueue.addMutationBatch(pt,U,Ln,g)}).next(Cn=>{Ne=Cn;const Ln=Cn.applyToLocalDocumentSet(ie,Ut);return C.documentOverlayCache.saveOverlays(pt,Cn.batchId,Ln)})}).then(()=>({batchId:Ne.batchId,changes:Rl(ie)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(d,g,C){let U=d.ac[d.currentUser.toKey()];U||(U=new Yr(Rn)),U=U.insert(g,C),d.ac[d.currentUser.toKey()]=U}(o,u.batchId,n),yield vu(o,u.changes),yield Wl(o.remoteStore)}catch(u){const d=Bu(u,"Failed to persist write");n.reject(d)}}),_g.apply(this,arguments)}function py(i,e){return Eg.apply(this,arguments)}function Eg(){return Eg=(0,c.Z)(function*(i,e){const n=At(i);try{const o=yield $h(n.localStore,e);e.targetChanges.forEach((u,d)=>{const g=n.uc.get(d);g&&(en(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?g.ec=!0:u.modifiedDocuments.size>0?en(g.ec):u.removedDocuments.size>0&&(en(g.ec),g.ec=!1))}),yield vu(n,o,e)}catch(o){yield $s(o)}}),Eg.apply(this,arguments)}function gy(i,e,n){const o=At(i);if(o.isPrimaryClient&&0===n||!o.isPrimaryClient&&1===n){const u=[];o.sc.forEach((d,g)=>{const C=g.view.bu(e);C.snapshot&&u.push(C.snapshot)}),function(d,g){const C=At(d);C.onlineState=g;let U=!1;C.queries.forEach((z,ie)=>{for(const Ne of ie.listeners)Ne.bu(g)&&(U=!0)}),U&&Lc(C)}(o.eventManager,e),u.length&&o.nc.Wo(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function $v(i,e,n){return qa.apply(this,arguments)}function qa(){return qa=(0,c.Z)(function*(i,e,n){const o=At(i);o.sharedClientState.updateQueryState(e,"rejected",n);const u=o.uc.get(e),d=u&&u.key;if(d){let g=new Yr(Qt.comparator);g=g.insert(d,ti.newNoDocument(d,Kt.min()));const C=Mr().add(d),U=new yc(Kt.min(),new Map,new tr(Rn),g,C);yield py(o,U),o.oc=o.oc.remove(d),o.uc.delete(e),gf(o)}else yield Gl(o.localStore,e,!1).then(()=>dl(o,e,n)).catch($s)}),qa.apply(this,arguments)}function df(i,e){return hf.apply(this,arguments)}function hf(){return hf=(0,c.Z)(function*(i,e){const n=At(i),o=e.batch.batchId;try{const u=yield xd(n.localStore,e);Za(n,o,null),ff(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),yield vu(n,u)}catch(u){yield $s(u)}}),hf.apply(this,arguments)}function wg(i,e,n){return Uc.apply(this,arguments)}function Uc(){return Uc=(0,c.Z)(function*(i,e,n){const o=At(i);try{const u=yield function(d,g){const C=At(d);return C.persistence.runTransaction("Reject batch","readwrite-primary",U=>{let z;return C.mutationQueue.lookupMutationBatch(U,g).next(ie=>(en(null!==ie),z=ie.keys(),C.mutationQueue.removeMutationBatch(U,ie))).next(()=>C.mutationQueue.performConsistencyCheck(U)).next(()=>C.documentOverlayCache.removeOverlaysForBatchId(U,z,g)).next(()=>C.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(U,z)).next(()=>C.localDocuments.getDocuments(U,z))})}(o.localStore,e);Za(o,e,n),ff(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),yield vu(o,u)}catch(u){yield $s(u)}}),Uc.apply(this,arguments)}function Bc(){return Bc=(0,c.Z)(function*(i,e){const n=At(i);al(n.remoteStore)||_e("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(d){const g=At(d);return g.persistence.runTransaction("Get highest unacknowledged batch id","readonly",C=>g.mutationQueue.getHighestUnacknowledgedBatchId(C))}(n.localStore);if(-1===o)return void e.resolve();const u=n.hc.get(o)||[];u.push(e),n.hc.set(o,u)}catch(o){const u=Bu(o,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}}),Bc.apply(this,arguments)}function ff(i,e){(i.hc.get(e)||[]).forEach(n=>{n.resolve()}),i.hc.delete(e)}function Za(i,e,n){const o=At(i);let u=o.ac[o.currentUser.toKey()];if(u){const d=u.get(e);d&&(n?d.reject(n):d.resolve(),u=u.remove(e)),o.ac[o.currentUser.toKey()]=u}}function dl(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.ic.get(e))i.sc.delete(o),n&&i.nc._c(o,n);i.ic.delete(e),i.isPrimaryClient&&i.cc.ls(e).forEach(o=>{i.cc.containsKey(o)||Dg(i,o)})}function Dg(i,e){i.rc.delete(e.path.canonicalString());const n=i.oc.get(e);null!==n&&(ol(i.remoteStore,n),i.oc=i.oc.remove(e),i.uc.delete(n),gf(i))}function pf(i,e,n){for(const o of n)o instanceof cf?(i.cc.addReference(o.key,e),Cg(i,o)):o instanceof hy?(_e("SyncEngine","Document no longer in limbo: "+o.key),i.cc.removeReference(o.key,e),i.cc.containsKey(o.key)||Dg(i,o.key)):zt()}function Cg(i,e){const n=e.key,o=n.path.canonicalString();i.oc.get(n)||i.rc.has(o)||(_e("SyncEngine","New document in limbo: "+n),i.rc.add(o),gf(i))}function gf(i){for(;i.rc.size>0&&i.oc.size<i.maxConcurrentLimboResolutions;){const e=i.rc.values().next().value;i.rc.delete(e);const n=new Qt(kn.fromString(e)),o=i.lc.next();i.uc.set(o,new pg(n)),i.oc=i.oc.insert(n,o),Fd(i.remoteStore,new pu(Qo(uu(n.path)),o,2,Ms.at))}}function vu(i,e,n){return Yl.apply(this,arguments)}function Yl(){return Yl=(0,c.Z)(function*(i,e,n){const o=At(i),u=[],d=[],g=[];var C;o.sc.isEmpty()||(o.sc.forEach((C,U)=>{g.push(o.dc(U,e,n).then(z=>{if(z){o.isPrimaryClient&&o.sharedClientState.updateQueryState(U.targetId,z.fromCache?"not-current":"current"),u.push(z);const ie=Ad.Ci(U.targetId,z);d.push(ie)}}))}),yield Promise.all(g),o.nc.Wo(u),yield(C=(0,c.Z)(function*(U,z){const ie=At(U);try{yield ie.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ne=>at.forEach(z,pt=>at.forEach(pt.Si,Pt=>ie.persistence.referenceDelegate.addReference(Ne,pt.targetId,Pt)).next(()=>at.forEach(pt.Di,Pt=>ie.persistence.referenceDelegate.removeReference(Ne,pt.targetId,Pt)))))}catch(Ne){if(!Hs(Ne))throw Ne;_e("LocalStore","Failed to update sequence numbers: "+Ne)}for(const Ne of z){const pt=Ne.targetId;if(!Ne.fromCache){const Pt=ie.Ui.get(pt),Cn=Pt.withLastLimboFreeSnapshotVersion(Pt.snapshotVersion);ie.Ui=ie.Ui.insert(pt,Cn)}}}),function(U,z){return C.apply(this,arguments)})(o.localStore,d))}),Yl.apply(this,arguments)}function Ql(i,e){return jc.apply(this,arguments)}function jc(){return jc=(0,c.Z)(function*(i,e){const n=At(i);if(!n.currentUser.isEqual(e)){_e("SyncEngine","User change. New user:",e.toKey());const o=yield Bh(n.localStore,e);n.currentUser=e,(u=n).hc.forEach(g=>{g.forEach(C=>{C.reject(new St(et.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.hc.clear(),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield vu(n,o.ji)}var u}),jc.apply(this,arguments)}function Jl(i,e){const n=At(i),o=n.uc.get(e);if(o&&o.ec)return Mr().add(o.key);{let u=Mr();const d=n.ic.get(e);if(!d)return u;for(const g of d){const C=n.sc.get(g);u=u.unionWith(C.view.Qu)}return u}}function mf(i,e){return Xl.apply(this,arguments)}function Xl(){return Xl=(0,c.Z)(function*(i,e){const n=At(i),o=yield Rd(n.localStore,e.query,!0),u=e.view.Zu(o);return n.isPrimaryClient&&pf(n,e.targetId,u.Yu),u}),Xl.apply(this,arguments)}function bg(i,e){return Hd.apply(this,arguments)}function Hd(){return Hd=(0,c.Z)(function*(i,e){const n=At(i);return zh(n.localStore,e).then(o=>vu(n,o))}),Hd.apply(this,arguments)}function yf(i,e,n,o){return $c.apply(this,arguments)}function $c(){return $c=(0,c.Z)(function*(i,e,n,o){const u=At(i),d=yield function(g,C){const U=At(g),z=At(U.mutationQueue);return U.persistence.runTransaction("Lookup mutation documents","readonly",ie=>z.Tn(ie,C).next(Ne=>Ne?U.localDocuments.getDocuments(ie,Ne):at.resolve(null)))}(u.localStore,e);var C;null!==d?("pending"===n?yield Wl(u.remoteStore):"acknowledged"===n||"rejected"===n?(Za(u,e,o||null),ff(u,e),C=e,At(At(u.localStore).mutationQueue).An(C)):zt(),yield vu(u,d)):_e("SyncEngine","Cannot apply mutation batch with id: "+e)}),$c.apply(this,arguments)}function Hc(){return Hc=(0,c.Z)(function*(i,e){const n=At(i);if(ea(n),zd(n),!0===e&&!0!==n.fc){const o=n.sharedClientState.getAllActiveQueryTargets(),u=yield Sg(n,o.toArray());n.fc=!0,yield Bd(n.remoteStore,!0);for(const d of u)Fd(n.remoteStore,d)}else if(!1===e&&!1!==n.fc){const o=[];let u=Promise.resolve();n.ic.forEach((d,g)=>{n.sharedClientState.isLocalQueryTarget(g)?o.push(g):u=u.then(()=>(dl(n,g),Gl(n.localStore,g,!0))),ol(n.remoteStore,g)}),yield u,yield Sg(n,o),function(d){const g=At(d);g.uc.forEach((C,U)=>{ol(g.remoteStore,U)}),g.cc.fs(),g.uc=new Map,g.oc=new Yr(Qt.comparator)}(n),n.fc=!1,yield Bd(n.remoteStore,!1)}}),Hc.apply(this,arguments)}function Sg(i,e,n){return Ag.apply(this,arguments)}function Ag(){return Ag=(0,c.Z)(function*(i,e,n){const o=At(i),u=[],d=[];for(const g of e){let C;const U=o.ic.get(g);if(U&&0!==U.length){C=yield Ka(o.localStore,Qo(U[0]));for(const z of U){const ie=o.sc.get(z),Ne=yield mf(o,ie);Ne.snapshot&&d.push(Ne.snapshot)}}else{const z=yield Hp(o.localStore,g);C=yield Ka(o.localStore,z),yield mg(o,Mg(z),g,!1)}u.push(C)}return o.nc.Wo(d),u}),Ag.apply(this,arguments)}function Mg(i){return Xc(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function xg(i){const e=At(i);return At(At(e.localStore).persistence).vi()}function my(i,e,n,o){return Gd.apply(this,arguments)}function Gd(){return Gd=(0,c.Z)(function*(i,e,n,o){const u=At(i);if(u.fc)return void _e("SyncEngine","Ignoring unexpected query state notification.");const d=u.ic.get(e);if(d&&d.length>0)switch(n){case"current":case"not-current":{const g=yield zh(u.localStore,Zu(d[0])),C=yc.createSynthesizedRemoteEventForCurrentChange(e,"current"===n);yield vu(u,g,C);break}case"rejected":yield Gl(u.localStore,e,!0),dl(u,e,o);break;default:zt()}}),Gd.apply(this,arguments)}function Ng(i,e,n){return vf.apply(this,arguments)}function vf(){return vf=(0,c.Z)(function*(i,e,n){const o=ea(i);if(o.fc){for(const u of e){if(o.ic.has(u)){_e("SyncEngine","Adding an already active target "+u);continue}const d=yield Hp(o.localStore,u),g=yield Ka(o.localStore,d);yield mg(o,Mg(d),g.targetId,!1),Fd(o.remoteStore,g)}for(const u of n)o.ic.has(u)&&(yield Gl(o.localStore,u,!1).then(()=>{ol(o.remoteStore,u),dl(o,u)}).catch($s))}}),vf.apply(this,arguments)}function ea(i){const e=At(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=py.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Jl.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$v.bind(null,e),e.nc.Wo=uf.bind(null,e.eventManager),e.nc._c=lf.bind(null,e.eventManager),e}function zd(i){const e=At(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=df.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wg.bind(null,e),e}class vy{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,c.Z)(function*(){n.It=zl(e.databaseInfo.databaseId),n.sharedClientState=n.mc(e),n.persistence=n.gc(e),yield n.persistence.start(),n.localStore=n.yc(e),n.gcScheduler=n.Ic(e,n.localStore),n.indexBackfillerScheduler=n.Tc(e,n.localStore)})()}Ic(e,n){return null}Tc(e,n){return null}yc(e){return Md(this.persistence,new Uh,e.initialUser,this.It)}gc(e){return new Bp(xc.Bs,this.It)}mc(e){return new qp}terminate(){var e=this;return(0,c.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Rg extends vy{constructor(e,n,o){super(),this.Ec=e,this.cacheSizeBytes=n,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,o=this;return(0,c.Z)(function*(){yield n().call(o,e),yield o.Ec.initialize(o,e),yield zd(o.Ec.syncEngine),yield Wl(o.Ec.remoteStore),yield o.persistence.li(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}yc(e){return Md(this.persistence,new Uh,e.initialUser,this.It)}Ic(e,n){return new Ac(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}Tc(e,n){const o=new Ha(n,this.persistence);return new ru(e.asyncQueue,o)}gc(e){const n=Vh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?ia.withCacheSize(this.cacheSizeBytes):ia.DEFAULT;return new Lh(this.synchronizeTabs,n,e.clientId,o,e.asyncQueue,Jh(),Oc(),this.It,this.sharedClientState,!!this.forceOwnership)}mc(e){return new qp}}class _f extends Rg{constructor(e,n){super(e,n,!1),this.Ec=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,o=this;return(0,c.Z)(function*(){yield n().call(o,e);const u=o.Ec.syncEngine;o.sharedClientState instanceof Qh&&(o.sharedClientState.syncEngine={Fr:yf.bind(null,u),$r:my.bind(null,u),Br:Ng.bind(null,u),vi:xg.bind(null,u),Or:bg.bind(null,u)},yield o.sharedClientState.start()),yield o.persistence.li(function(){var d=(0,c.Z)(function*(g){yield function Tg(i,e){return Hc.apply(this,arguments)}(o.Ec.syncEngine,g),o.gcScheduler&&(g&&!o.gcScheduler.started?o.gcScheduler.start():g||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(g&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():g||o.indexBackfillerScheduler.stop())});return function(g){return d.apply(this,arguments)}}())})()}mc(e){const n=Jh();if(!Qh.C(n))throw new St(et.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Vh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Qh(n,e.asyncQueue,o,e.clientId,e.initialUser)}}class Wd{initialize(e,n){var o=this;return(0,c.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(n),o.remoteStore=o.createRemoteStore(n),o.eventManager=o.createEventManager(n),o.syncEngine=o.createSyncEngine(n,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>gy(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=Ql.bind(null,o.syncEngine),yield Bd(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Vv}createDatastore(e){const n=zl(e.databaseInfo.databaseId),o=new Ir(e.databaseInfo);return new Xp(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return n=this.localStore,o=this.datastore,u=e.asyncQueue,d=C=>gy(this.syncEngine,C,0),g=Yp.C()?new Yp:new Zp,new ry(n,o,u,d,g);var n,o,u,d,g}createSyncEngine(e,n){return function(o,u,d,g,C,U,z){const ie=new gg(o,u,d,g,C,U);return z&&(ie.fc=!0),ie}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,c.Z)(function*(n){const o=At(n);_e("RemoteStore","RemoteStore shutting down."),o._u.add(5),yield sl(o),o.mu.shutdown(),o.gu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}function Og(i,e=10240){let n=0;return{read:()=>(0,c.Z)(function*(){if(n<i.byteLength){const o={value:i.slice(n,n+e),done:!1};return n+=e,o}return{done:!0}})(),cancel:()=>(0,c.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Kd{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):ct("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class _y{constructor(e,n){this.bc=e,this.It=n,this.metadata=new fr,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then(o=>{o&&o.ku()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(o?.payload)}`))},o=>this.metadata.reject(o))}close(){return this.bc.cancel()}getMetadata(){var e=this;return(0,c.Z)(function*(){return e.metadata.promise})()}wc(){var e=this;return(0,c.Z)(function*(){return yield e.getMetadata(),e.vc()})()}vc(){var e=this;return(0,c.Z)(function*(){const n=yield e.Vc();if(null===n)return null;const o=e.Pc.decode(n),u=Number(o);isNaN(u)&&e.Sc(`length string (${o}) is not valid number`);const d=yield e.Dc(u);return new cy(JSON.parse(d),n.length+u)})()}Cc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Vc(){var e=this;return(0,c.Z)(function*(){for(;e.Cc()<0&&!(yield e.xc()););if(0===e.buffer.length)return null;const n=e.Cc();n<0&&e.Sc("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),o})()}Dc(e){var n=this;return(0,c.Z)(function*(){for(;n.buffer.length<e;)(yield n.xc())&&n.Sc("Reached the end of bundle when more is expected.");const o=n.Pc.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),o})()}Sc(e){throw this.bc.cancel(),new Error(`Invalid bundle format: ${e}`)}xc(){var e=this;return(0,c.Z)(function*(){const n=yield e.bc.read();if(!n.done){const o=new Uint8Array(e.buffer.length+n.value.length);o.set(e.buffer),o.set(n.value,e.buffer.length),e.buffer=o}return n.done})()}}class Pg{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,c.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new St(et.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(u=(0,c.Z)(function*(d,g){const C=At(d),U=Pl(C.It)+"/documents",z={documents:g.map(Pt=>Ju(C.It,Pt))},ie=yield C.fo("BatchGetDocuments",U,z,g.length),Ne=new Map;ie.forEach(Pt=>{const Ut=function _h(i,e){return"found"in e?function(n,o){en(!!o.found);const u=hu(n,o.found.name),d=co(o.found.updateTime),g=new vs({mapValue:{fields:o.found.fields}});return ti.newFoundDocument(u,d,g)}(i,e):"missing"in e?function(n,o){en(!!o.missing),en(!!o.readTime);const u=hu(n,o.missing),d=co(o.readTime);return ti.newNoDocument(u,d)}(i,e):zt()}(C.It,Pt);Ne.set(Ut.key.toString(),Ut)});const pt=[];return g.forEach(Pt=>{const Ut=Ne.get(Pt.toString());en(!!Ut),pt.push(Ut)}),pt}),function(d,g){return u.apply(this,arguments)})(n.datastore,e);var u;return o.forEach(u=>n.recordVersion(u)),o})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new lr(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,c.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var o;e.mutations.forEach(o=>{n.delete(o.key.toString())}),n.forEach((o,u)=>{const d=Qt.fromPath(u);e.mutations.push(new pi(d,e.precondition(d)))}),yield(o=(0,c.Z)(function*(u,d){const g=At(u),C=Pl(g.It)+"/documents",U={writes:d.map(z=>Ec(g.It,z))};yield g.co("Commit",C,U)}),function(u,d){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw zt();n=Kt.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!n.isEqual(o))throw new St(et.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Kt.min())?Li.exists(!1):Li.updateTime(n):Li.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Kt.min()))throw new St(et.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Li.updateTime(n)}return Li.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Ey{constructor(e,n,o,u,d){this.asyncQueue=e,this.datastore=n,this.options=o,this.updateFunction=u,this.deferred=d,this.Nc=o.maxAttempts,this.xo=new Xh(this.asyncQueue,"transaction_retry")}run(){this.Nc-=1,this.kc()}kc(){var e=this;this.xo.Ao((0,c.Z)(function*(){const n=new Pg(e.datastore),o=e.Mc(n);o&&o.then(u=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(u)}).catch(d=>{e.Oc(d)}))}).catch(u=>{e.Oc(u)})}))}Mc(e){try{const n=this.updateFunction(e);return!ra(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Oc(e){this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget(()=>(this.kc(),Promise.resolve()))):this.deferred.reject(e)}Fc(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||!Yu(n)}return!1}}class kg{constructor(e,n,o,u){var d=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=u,this.user=R.UNAUTHENTICATED,this.clientId=uo.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var g=(0,c.Z)(function*(C){_e("FirestoreClient","Received user=",C.uid),yield d.authCredentialListener(C),d.user=C});return function(C){return g.apply(this,arguments)}}()),this.appCheckCredentials.start(o,g=>(_e("FirestoreClient","Received new app check token=",g),this.appCheckCredentialListener(g,this.user)))}getConfiguration(){var e=this;return(0,c.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new St(et.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,c.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(o){const u=Bu(o,"Failed to shutdown persistence");n.reject(u)}})),n.promise}}function Fg(i,e){return Ef.apply(this,arguments)}function Ef(){return Ef=(0,c.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),_e("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let o=n.initialUser;i.setCredentialChangeListener(function(){var u=(0,c.Z)(function*(d){o.isEqual(d)||(yield Bh(e.localStore,d),o=d)});return function(d){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),Ef.apply(this,arguments)}function wf(i,e){return qd.apply(this,arguments)}function qd(){return qd=(0,c.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield If(i);_e("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(n,o),i.setCredentialChangeListener(u=>ll(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,d)=>ll(e.remoteStore,d)),i.onlineComponents=e}),qd.apply(this,arguments)}function If(i){return Ma.apply(this,arguments)}function Ma(){return Ma=(0,c.Z)(function*(i){return i.offlineComponents||(_e("FirestoreClient","Using default OfflineComponentProvider"),yield Fg(i,new vy)),i.offlineComponents}),Ma.apply(this,arguments)}function ec(i){return Df.apply(this,arguments)}function Df(){return Df=(0,c.Z)(function*(i){return i.onlineComponents||(_e("FirestoreClient","Using default OnlineComponentProvider"),yield wf(i,new Wd)),i.onlineComponents}),Df.apply(this,arguments)}function Lg(i){return If(i).then(e=>e.persistence)}function Cf(i){return If(i).then(e=>e.localStore)}function bf(i){return ec(i).then(e=>e.remoteStore)}function Tf(i){return ec(i).then(e=>e.syncEngine)}function tc(i){return Sf.apply(this,arguments)}function Sf(){return Sf=(0,c.Z)(function*(i){const e=yield ec(i),n=e.eventManager;return n.onListen=fy.bind(null,e.syncEngine),n.onUnlisten=Bv.bind(null,e.syncEngine),n}),Sf.apply(this,arguments)}function Gc(i,e,n={}){const o=new fr;return i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return function(u,d,g,C,U){const z=new Kd({next:Ne=>{d.enqueueAndForget(()=>ql(u,ie));const pt=Ne.docs.has(g);!pt&&Ne.fromCache?U.reject(new St(et.UNAVAILABLE,"Failed to get document because the client is offline.")):pt&&Ne.fromCache&&C&&"server"===C.source?U.reject(new St(et.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):U.resolve(Ne)},error:Ne=>U.reject(Ne)}),ie=new cg(uu(g.path),z,{includeMetadataChanges:!0,Nu:!0});return $d(u,ie)}(yield tc(i),i.asyncQueue,e,n,o)})),o.promise}function zc(i,e,n={}){const o=new fr;return i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return function(u,d,g,C,U){const z=new Kd({next:Ne=>{d.enqueueAndForget(()=>ql(u,ie)),Ne.fromCache&&"server"===C.source?U.reject(new St(et.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):U.resolve(Ne)},error:Ne=>U.reject(Ne)}),ie=new cg(g,z,{includeMetadataChanges:!0,Nu:!0});return $d(u,ie)}(yield tc(i),i.asyncQueue,e,n,o)})),o.promise}const Nf=new Map;function Zd(i,e,n){if(!n)throw new St(et.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Rf(i,e,n,o){if(!0===e&&!0===o)throw new St(et.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Yd(i){if(!Qt.isDocumentKey(i))throw new St(et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Ya(i){if(Qt.isDocumentKey(i))throw new St(et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function hl(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(n=i).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof i?"a function":zt()}function Fr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new St(et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hl(i);throw new St(et.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function nc(i,e){if(e<=0)throw new St(et.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class Ug{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new St(et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new St(et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Rf("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fl{constructor(e,n,o,u){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ug({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new St(et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new St(et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ug(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Oi;switch(n.type){case"gapi":return new Zs(n.client,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new St(et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Nf.get(e);n&&(_e("ComponentProvider","Removing Datastore"),Nf.delete(e),n.terminate())}(this),Promise.resolve()}}function Bg(i,e,n,o={}){var u;const d=(i=Fr(i,fl))._getSettings();if("firestore.googleapis.com"!==d.host&&d.host!==e&&ln("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},d),{host:`${e}:${n}`,ssl:!1})),o.mockUserToken){let g,C;if("string"==typeof o.mockUserToken)g=o.mockUserToken,C=R.MOCK_USER;else{g=(0,ve.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const U=o.mockUserToken.sub||o.mockUserToken.user_id;if(!U)throw new St(et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");C=new R(U)}i._authCredentials=new ei(new Ri(g,C))}}class Es{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new aa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Es(this.firestore,e,this._key)}}class Go{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Go(this.firestore,e,this._query)}}class aa extends Go{constructor(e,n,o){super(e,n,uu(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Es(this.firestore,null,new Qt(e))}withConverter(e){return new aa(this.firestore,e,this._path)}}function Dy(i,e,...n){if(i=(0,ve.m9)(i),Zd("collection","path",e),i instanceof fl){const o=kn.fromString(e,...n);return Ya(o),new aa(i,null,o)}{if(!(i instanceof Es||i instanceof aa))throw new St(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(kn.fromString(e,...n));return Ya(o),new aa(i.firestore,null,o)}}function zv(i,e){if(i=Fr(i,fl),Zd("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new St(et.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Go(i,null,(n=e,new va(kn.emptyPath(),n)));var n}function jg(i,e,...n){if(i=(0,ve.m9)(i),1===arguments.length&&(e=uo.R()),Zd("doc","path",e),i instanceof fl){const o=kn.fromString(e,...n);return Yd(o),new Es(i,null,new Qt(o))}{if(!(i instanceof Es||i instanceof aa))throw new St(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(kn.fromString(e,...n));return Yd(o),new Es(i.firestore,i instanceof aa?i.converter:null,new Qt(o))}}function Wv(i,e){return i=(0,ve.m9)(i),e=(0,ve.m9)(e),(i instanceof Es||i instanceof aa)&&(e instanceof Es||e instanceof aa)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function $g(i,e){return i=(0,ve.m9)(i),e=(0,ve.m9)(e),i instanceof Go&&e instanceof Go&&i.firestore===e.firestore&&Tl(i._query,e._query)&&i.converter===e.converter}class Cy{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new Xh(this,"async_queue_retry"),this.jc=()=>{const n=Oc();n&&_e("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.bo()};const e=Oc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const n=Oc();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const n=new fr;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}Hc(){var e=this;return(0,c.Z)(function*(){if(0!==e.Bc.length){try{yield e.Bc[0](),e.Bc.shift(),e.xo.reset()}catch(n){if(!Hs(n))throw n;_e("AsyncQueue","Operation failed with retryable error: "+n)}e.Bc.length>0&&e.xo.Ao(()=>e.Hc())}})()}zc(e){const n=this.$c.then(()=>(this.Kc=!0,e().catch(o=>{throw this.qc=o,this.Kc=!1,ct("INTERNAL UNHANDLED ERROR: ",function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+"\n"+d.stack),g}(o)),o}).then(o=>(this.Kc=!1,o))));return this.$c=n,n}enqueueAfterDelay(e,n,o){this.Wc(),this.Qc.indexOf(e)>-1&&(n=0);const u=sf.createAndSchedule(this,e,n,o,d=>this.Jc(d));return this.Uc.push(u),u}Wc(){this.qc&&zt()}verifyOperationInProgress(){}Yc(){var e=this;return(0,c.Z)(function*(){let n;do{n=e.$c,yield n}while(n!==e.$c)})()}Xc(e){for(const n of this.Uc)if(n.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.Uc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const n=this.Uc.indexOf(e);this.Uc.splice(n,1)}}function Of(i){return function(e,n){if("object"!=typeof e||null===e)return!1;const o=e;for(const u of["next","error","complete"])if(u in o&&"function"==typeof o[u])return!0;return!1}(i)}class Hg{constructor(){this._progressObserver={},this._taskCompletionResolver=new fr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,o){this._progressObserver={next:e,error:n,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Pf=-1;class ns extends fl{constructor(e,n,o,u){super(e,n,o,u),this.type="firestore",this._queue=new Cy,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||zg(this),this._firestoreClient.terminate()}}function zs(i){return i._firestoreClient||zg(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function zg(i){var e;const n=i._freezeSettings(),o=(d=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new ga(i._databaseId,d,i._persistenceKey,(C=n).host,C.ssl,C.experimentalForceLongPolling,C.experimentalAutoDetectLongPolling,C.useFetchStreams));var d,C;i._firestoreClient=new kg(i._authCredentials,i._appCheckCredentials,i._queue,o)}function by(i,e){Kg(i=Fr(i,ns));const n=zs(i),o=i._freezeSettings(),u=new Wd;return Wg(n,u,new Rg(u,o.cacheSizeBytes,e?.forceOwnership))}function Ty(i){Kg(i=Fr(i,ns));const e=zs(i),n=i._freezeSettings(),o=new Wd;return Wg(e,o,new _f(o,n.cacheSizeBytes))}function Wg(i,e,n){const o=new fr;return i.asyncQueue.enqueue((0,c.Z)(function*(){try{yield Fg(i,n),yield wf(i,e),o.resolve()}catch(u){const d=u;if(!("FirebaseError"===(g=d).name?g.code===et.FAILED_PRECONDITION||g.code===et.UNIMPLEMENTED:!(typeof DOMException<"u"&&g instanceof DOMException)||22===g.code||20===g.code||11===g.code))throw d;ln("Error enabling offline persistence. Falling back to persistence disabled: "+d),o.reject(d)}var g})).then(()=>o.promise)}function Qd(i){if(i._initialized&&!i._terminated)throw new St(et.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new fr;return i._queue.enqueueAndForgetEvenWhileRestricted((0,c.Z)(function*(){try{yield(n=(0,c.Z)(function*(o){if(!Hi.C())return Promise.resolve();const u=o+"main";yield Hi.delete(u)}),function(o){return n.apply(this,arguments)})(Vh(i._databaseId,i._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}function pl(i){return function(e){const n=new fr;return e.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return function Ig(i,e){return Bc.apply(this,arguments)}(yield Tf(e),n)})),n.promise}(zs(i=Fr(i,ns)))}function qv(i){return function Af(i){return i.asyncQueue.enqueue((0,c.Z)(function*(){const e=yield Lg(i),n=yield bf(i);return e.setNetworkEnabled(!0),function(o){const u=At(o);return u._u.delete(0),Pd(u)}(n)}))}(zs(i=Fr(i,ns)))}function Wc(i){return function wy(i){return i.asyncQueue.enqueue((0,c.Z)(function*(){const e=yield Lg(i),n=yield bf(i);return e.setNetworkEnabled(!1),(o=(0,c.Z)(function*(u){const d=At(u);d._u.add(0),yield sl(d),d.gu.set("Offline")}),function(u){return o.apply(this,arguments)})(n);var o}))}(zs(i=Fr(i,ns)))}function Sy(i,e){const n=zs(i=Fr(i,ns)),o=new Hg;return function Gv(i,e,n,o){const u=function(d,g){let C;return C="string"==typeof d?(new TextEncoder).encode(d):d,U=function(U,z){if(U instanceof Uint8Array)return Og(U,z);if(U instanceof ArrayBuffer)return Og(new Uint8Array(U),z);if(U instanceof ReadableStream)return U.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(C),new _y(U,g);var U}(n,zl(e));i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){!function yy(i,e,n){const o=At(i);var u;(u=(0,c.Z)(function*(d,g,C){try{const U=yield g.getMetadata();if(yield function(pt,Pt){const Ut=At(pt),Cn=co(Pt.createTime);return Ut.persistence.runTransaction("hasNewerBundle","readonly",Ln=>Ut.Ns.getBundleMetadata(Ln,Pt.id)).then(Ln=>!!Ln&&Ln.createTime.compareTo(Cn)>=0)}(d.localStore,U))return yield g.close(),C._completeWith({taskState:"Success",documentsLoaded:(pt=U).totalDocuments,bytesLoaded:pt.totalBytes,totalDocuments:pt.totalDocuments,totalBytes:pt.totalBytes}),Promise.resolve(new Set);C._updateProgress(hg(U));const z=new dy(U,d.localStore,g.It);let ie=yield g.wc();for(;ie;){const pt=yield z.Ou(ie);pt&&C._updateProgress(pt),ie=yield g.wc()}const Ne=yield z.complete();return yield vu(d,Ne.Bu,void 0),yield function(pt,Pt){const Ut=At(pt);return Ut.persistence.runTransaction("Save bundle","readwrite",Cn=>Ut.Ns.saveBundleMetadata(Cn,Pt))}(d.localStore,U),C._completeWith(Ne.progress),Promise.resolve(Ne.$u)}catch(U){return ln("SyncEngine",`Loading bundle failed with ${U}`),C._failWith(U),Promise.resolve(new Set)}var pt}),function(d,g,C){return u.apply(this,arguments)})(o,e,n).then(u=>{o.sharedClientState.notifyBundleLoaded(u)})}(yield Tf(i),u,o)}))}(n,i._databaseId,e,o),o}function kf(i,e){return function Vg(i,e){return i.asyncQueue.enqueue((0,c.Z)(function*(){return function(n,o){const u=At(n);return u.persistence.runTransaction("Get named query","readonly",d=>u.Ns.getNamedQuery(d,o))}(yield Cf(i),e)}))}(zs(i=Fr(i,ns)),e).then(n=>n?new Go(i,null,n.query):null)}function Kg(i){if(i._initialized||i._terminated)throw new St(et.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class xo{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new St(et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class as{constructor(e){this._byteString=e}static fromBase64String(e){try{return new as(Pr.fromBase64String(e))}catch(n){throw new St(et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new as(Pr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class wa{constructor(e){this._methodName=e}}class gl{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new St(et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new St(et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Rn(this._lat,e._lat)||Rn(this._long,e._long)}}const xa=/^__.*__$/;class Ff{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return null!==this.fieldMask?new tt(e,this.data,this.fieldMask,n,this.fieldTransforms):new se(e,this.data,n,this.fieldTransforms)}}class ml{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return new tt(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function yl(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw zt()}}class _u{constructor(e,n,o,u,d,g){this.settings=e,this.databaseId=n,this.It=o,this.ignoreUndefinedProperties=u,void 0===d&&this.ea(),this.fieldTransforms=d||[],this.fieldMask=g||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new _u(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.sa({path:o,ra:!1});return u.oa(e),u}ua(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.sa({path:o,ra:!1});return u.ea(),u}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return Kc(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(yl(this.na)&&xa.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class rc{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.It=o||zl(e)}fa(e,n,o,u=!1){return new _u({na:e,methodName:n,la:o,path:pr.emptyPath(),ra:!1,ha:u},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Na(i){const e=i._freezeSettings(),n=zl(i._databaseId);return new rc(i._databaseId,!!e.ignoreUndefinedProperties,n)}function Eu(i,e,n,o,u,d={}){const g=i.fa(d.merge||d.mergeFields?2:0,e,n,u);Bf("Data must be an object, but it was:",g,o);const C=Vf(o,g);let U,z;if(d.merge)U=new Gs(g.fieldMask),z=g.fieldTransforms;else if(d.mergeFields){const ie=[];for(const Ne of d.mergeFields){const pt=jf(e,Ne,n);if(!g.contains(pt))throw new St(et.INVALID_ARGUMENT,`Field '${pt}' is specified in your field mask but missing from your input data.`);nh(ie,pt)||ie.push(pt)}U=new Gs(ie),z=g.fieldTransforms.filter(Ne=>U.covers(Ne.field))}else U=null,z=g.fieldTransforms;return new Ff(new vs(C),U,z)}class Qa extends wa{_toFieldTransform(e){if(2!==e.na)throw e.aa(1===e.na?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qa}}function vl(i,e,n){return new _u({na:3,la:e.settings.la,methodName:i._methodName,ra:n},e.databaseId,e.It,e.ignoreUndefinedProperties)}class ju extends wa{_toFieldTransform(e){return new _a(e.path,new Va)}isEqual(e){return e instanceof ju}}class qg extends wa{constructor(e,n){super(e),this.da=n}_toFieldTransform(e){const n=vl(this,e,!0),o=this.da.map(d=>$u(d,n)),u=new Jo(o);return new _a(e.path,u)}isEqual(e){return this===e}}class Zg extends wa{constructor(e,n){super(e),this.da=n}_toFieldTransform(e){const n=vl(this,e,!0),o=this.da.map(d=>$u(d,n)),u=new du(o);return new _a(e.path,u)}isEqual(e){return this===e}}class Yg extends wa{constructor(e,n){super(e),this._a=n}_toFieldTransform(e){const n=new Mu(e.It,rd(e.It,this._a));return new _a(e.path,n)}isEqual(e){return this===e}}function Xd(i,e,n,o){const u=i.fa(1,e,n);Bf("Data must be an object, but it was:",u,o);const d=[],g=vs.empty();qo(o,(U,z)=>{const ie=th(e,U,n);z=(0,ve.m9)(z);const Ne=u.ua(ie);if(z instanceof Qa)d.push(ie);else{const pt=$u(z,Ne);null!=pt&&(d.push(ie),g.set(ie,pt))}});const C=new Gs(d);return new ml(g,C,u.fieldTransforms)}function eh(i,e,n,o,u,d){const g=i.fa(1,e,n),C=[jf(e,o,n)],U=[u];if(d.length%2!=0)throw new St(et.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let pt=0;pt<d.length;pt+=2)C.push(jf(e,d[pt])),U.push(d[pt+1]);const z=[],ie=vs.empty();for(let pt=C.length-1;pt>=0;--pt)if(!nh(z,C[pt])){const Pt=C[pt];let Ut=U[pt];Ut=(0,ve.m9)(Ut);const Cn=g.ua(Pt);if(Ut instanceof Qa)z.push(Pt);else{const Ln=$u(Ut,Cn);null!=Ln&&(z.push(Pt),ie.set(Pt,Ln))}}const Ne=new Gs(z);return new ml(ie,Ne,g.fieldTransforms)}function Lf(i,e,n,o=!1){return $u(n,i.fa(o?4:3,e))}function $u(i,e){if(Uf(i=(0,ve.m9)(i)))return Bf("Unsupported field value:",e,i),Vf(i,e);if(i instanceof wa)return function(n,o){if(!yl(o.na))throw o.aa(`${n._methodName}() can only be used with update() and set()`);if(!o.path)throw o.aa(`${n._methodName}() is not currently supported inside arrays`);const u=n._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.ra&&4!==e.na)throw e.aa("Nested arrays are not supported");return function(n,o){const u=[];let d=0;for(const g of n){let C=$u(g,o.ca(d));null==C&&(C={nullValue:"NULL_VALUE"}),u.push(C),d++}return{arrayValue:{values:u}}}(i,e)}return function(n,o){if(null===(n=(0,ve.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return rd(o.It,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const u=cn.fromDate(n);return{timestampValue:Ol(o.It,u)}}if(n instanceof cn){const u=new cn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Ol(o.It,u)}}if(n instanceof gl)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof as)return{bytesValue:gh(o.It,n._byteString)};if(n instanceof Es){const u=o.databaseId,d=n.firestore._databaseId;if(!d.isEqual(u))throw o.aa(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ad(n.firestore._databaseId||o.databaseId,n._key.path)}}throw o.aa(`Unsupported field value: ${hl(n)}`)}(i,e)}function Vf(i,e){const n={};return Ku(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qo(i,(o,u)=>{const d=$u(u,e.ia(o));null!=d&&(n[o]=d)}),{mapValue:{fields:n}}}function Uf(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof cn||i instanceof gl||i instanceof as||i instanceof Es||i instanceof wa)}function Bf(i,e,n){if(!Uf(n)||"object"!=typeof(o=n)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=hl(n);throw e.aa("an object"===o?i+" a custom object":i+" "+o)}var o}function jf(i,e,n){if((e=(0,ve.m9)(e))instanceof xo)return e._internalPath;if("string"==typeof e)return th(i,e);throw Kc("Field path arguments must be of type string or ",i,!1,void 0,n)}const Qg=new RegExp("[~\\*/\\[\\]]");function th(i,e,n){if(e.search(Qg)>=0)throw Kc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new xo(...e.split("."))._internalPath}catch{throw Kc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Kc(i,e,n,o,u){const d=o&&!o.isEmpty(),g=void 0!==u;let C=`Function ${e}() called with invalid data`;n&&(C+=" (via `toFirestore()`)"),C+=". ";let U="";return(d||g)&&(U+=" (found",d&&(U+=` in field ${o}`),g&&(U+=` in document ${u}`),U+=")"),new St(et.INVALID_ARGUMENT,C+i+U)}function nh(i,e){return i.some(n=>n.isEqual(e))}class _l{constructor(e,n,o,u,d){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=u,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new Es(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ay(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(El("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Ay extends _l{data(){return super.data()}}function El(i,e){return"string"==typeof e?th(i,e):e instanceof xo?e._internalPath:e._delegate._internalPath}class Ja{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wu extends _l{constructor(e,n,o,u,d,g){super(e,n,o,u,g),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(El("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class qc extends wu{data(e={}){return super.data(e)}}class Xa{constructor(e,n,o,u){this._firestore=e,this._userDataWriter=n,this._snapshot=u,this.metadata=new Ja(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new qc(this._firestore,this._userDataWriter,o.key,o,new Ja(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new St(et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>({type:"added",doc:new qc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Ja(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:d++}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>u||3!==g.type).map(g=>{const C=new qc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Ja(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let U=-1,z=-1;return 0!==g.type&&(U=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),1!==g.type&&(d=d.add(g.doc),z=d.indexOf(g.doc.key)),{type:rh(g.type),doc:C,oldIndex:U,newIndex:z}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function rh(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return zt()}}function Jg(i,e){return i instanceof wu&&e instanceof wu?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof Xa&&e instanceof Xa&&i._firestore===e._firestore&&$g(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function $f(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new St(et.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wl{}function Xg(i,...e){for(const n of e)i=n._apply(i);return i}class em extends wl{constructor(e,n,o){super(),this.wa=e,this.ma=n,this.ga=o,this.type="where"}_apply(e){const n=Na(e.firestore),o=function(u,d,g,C,U,z,ie){let Ne;if(U.isKeyField()){if("array-contains"===z||"array-contains-any"===z)throw new St(et.INVALID_ARGUMENT,`Invalid Query. You can't perform '${z}' queries on documentId().`);if("in"===z||"not-in"===z){Yf(ie,z);const Pt=[];for(const Ut of ie)Pt.push(Zf(C,u,Ut));Ne={arrayValue:{values:Pt}}}else Ne=Zf(C,u,ie)}else"in"!==z&&"not-in"!==z&&"array-contains-any"!==z||Yf(ie,z),Ne=Lf(g,"where",ie,"in"===z||"not-in"===z);const pt=Dn.create(U,z,Ne);return function(Pt,Ut){if(Ut.dt()){const Ln=bl(Pt);if(null!==Ln&&!Ln.isEqual(Ut.field))throw new St(et.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ln.toString()}' and '${Ut.field.toString()}'`);const ni=La(Pt);null!==ni&&Qf(0,Ut.field,ni)}const Cn=function(Ln,ni){for(const gi of Ln.filters)if(ni.indexOf(gi.op)>=0)return gi.op;return null}(Pt,function(Ln){switch(Ln){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Ut.op));if(null!==Cn)throw new St(et.INVALID_ARGUMENT,Cn===Ut.op?`Invalid query. You cannot use more than one '${Ut.op.toString()}' filter.`:`Invalid query. You cannot use '${Ut.op.toString()}' filters with '${Cn.toString()}' filters.`)}(u,pt),pt}(e._query,0,n,e.firestore._databaseId,this.wa,this.ma,this.ga);return new Go(e.firestore,e.converter,function(u,d){const g=u.filters.concat([d]);return new va(u.path,u.collectionGroup,u.explicitOrderBy.slice(),g,u.limit,u.limitType,u.startAt,u.endAt)}(e._query,o))}}function Hf(i,e,n){const o=e,u=El("where",i);return new em(u,o,n)}class tm extends wl{constructor(e,n){super(),this.wa=e,this.ya=n,this.type="orderBy"}_apply(e){const n=function(o,u,d){if(null!==o.startAt)throw new St(et.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new St(et.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const g=new ba(u,d);return function(C,U){if(null===La(C)){const z=bl(C);null!==z&&Qf(0,z,U.field)}}(o,g),g}(e._query,this.wa,this.ya);return new Go(e.firestore,e.converter,function(o,u){const d=o.explicitOrderBy.concat([u]);return new va(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function My(i,e="asc"){const n=e,o=El("orderBy",i);return new tm(o,n)}class Gf extends wl{constructor(e,n,o){super(),this.type=e,this.pa=n,this.Ia=o}_apply(e){return new Go(e.firestore,e.converter,qu(e._query,this.pa,this.Ia))}}function nm(i){return nc("limit",i),new Gf("limit",i,"F")}function rm(i){return nc("limitToLast",i),new Gf("limitToLast",i,"L")}class zf extends wl{constructor(e,n,o){super(),this.type=e,this.Ta=n,this.Ea=o}_apply(e){const n=qf(e,this.type,this.Ta,this.Ea);return new Go(e.firestore,e.converter,(u=n,new va((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)));var o,u}}function xy(...i){return new zf("startAt",i,!0)}function Ny(...i){return new zf("startAfter",i,!1)}class im extends wl{constructor(e,n,o){super(),this.type=e,this.Ta=n,this.Ea=o}_apply(e){const n=qf(e,this.type,this.Ta,this.Ea);return new Go(e.firestore,e.converter,(u=n,new va((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,u)));var o,u}}function Wf(...i){return new im("endBefore",i,!1)}function Kf(...i){return new im("endAt",i,!0)}function qf(i,e,n,o){if(n[0]=(0,ve.m9)(n[0]),n[0]instanceof _l)return function(u,d,g,C,U){if(!C)throw new St(et.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${g}().`);const z=[];for(const ie of lu(u))if(ie.field.isKeyField())z.push(Xt(d,C.key));else{const Ne=C.data.field(ie.field);if(Ga(Ne))throw new St(et.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ie.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ne){const pt=ie.field.canonicalString();throw new St(et.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${pt}' (used as the orderBy) does not exist.`)}z.push(Ne)}return new lo(z,U)}(i._query,i.firestore._databaseId,e,n[0]._document,o);{const u=Na(i.firestore);return function(d,g,C,U,z,ie){const Ne=d.explicitOrderBy;if(z.length>Ne.length)throw new St(et.INVALID_ARGUMENT,`Too many arguments provided to ${U}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const pt=[];for(let Pt=0;Pt<z.length;Pt++){const Ut=z[Pt];if(Ne[Pt].field.isKeyField()){if("string"!=typeof Ut)throw new St(et.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${U}(), but got a ${typeof Ut}`);if(!uc(d)&&-1!==Ut.indexOf("/"))throw new St(et.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${U}() must be a plain document ID, but '${Ut}' contains a slash.`);const Cn=d.path.child(kn.fromString(Ut));if(!Qt.isDocumentKey(Cn))throw new St(et.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${U}() must result in a valid document path, but '${Cn}' is not because it contains an odd number of segments.`);const Ln=new Qt(Cn);pt.push(Xt(g,Ln))}else{const Cn=Lf(C,U,Ut);pt.push(Cn)}}return new lo(pt,ie)}(i._query,i.firestore._databaseId,u,e,n,o)}}function Zf(i,e,n){if("string"==typeof(n=(0,ve.m9)(n))){if(""===n)throw new St(et.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uc(e)&&-1!==n.indexOf("/"))throw new St(et.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const o=e.path.child(kn.fromString(n));if(!Qt.isDocumentKey(o))throw new St(et.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Xt(i,new Qt(o))}if(n instanceof Es)return Xt(i,n._key);throw new St(et.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hl(n)}.`)}function Yf(i,e){if(!Array.isArray(i)||0===i.length)throw new St(et.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new St(et.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Qf(i,e,n){if(!n.isEqual(e))throw new St(et.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}const sm={maxAttempts:5};class ih{convertValue(e,n="none"){switch(m(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Js(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw zt()}}convertObject(e,n){const o={};return qo(e.fields,(u,d)=>{o[u]=this.convertValue(d,n)}),o}convertGeoPoint(e){return new gl(Qr(e.latitude),Qr(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=iu(e);return null==o?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(ka(e));default:return null}}convertTimestamp(e){const n=Ao(e);return new cn(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=kn.fromString(e);en(yp(o));const u=new Yo(o.get(1),o.get(3)),d=new Qt(o.popFirst(5));return u.isEqual(n)||ct(`Document ${d} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),d}}function Zc(i,e,n){let o;return o=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,o}class om extends ih{constructor(e){super(),this.firestore=e}convertBytes(e){return new as(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Es(this.firestore,null,n)}}class Ry{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Na(e)}set(e,n,o){this._verifyNotCommitted();const u=Hu(e,this._firestore),d=Zc(u.converter,n,o),g=Eu(this._dataReader,"WriteBatch.set",u._key,d,null!==u.converter,o);return this._mutations.push(g.toMutation(u._key,Li.none())),this}update(e,n,o,...u){this._verifyNotCommitted();const d=Hu(e,this._firestore);let g;return g="string"==typeof(n=(0,ve.m9)(n))||n instanceof xo?eh(this._dataReader,"WriteBatch.update",d._key,n,o,u):Xd(this._dataReader,"WriteBatch.update",d._key,n),this._mutations.push(g.toMutation(d._key,Li.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Hu(e,this._firestore);return this._mutations=this._mutations.concat(new lr(n._key,Li.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new St(et.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Hu(i,e){if((i=(0,ve.m9)(i)).firestore!==e)throw new St(et.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}function Oy(i){i=Fr(i,Es);const e=Fr(i.firestore,ns);return Gc(zs(e),i._key).then(n=>sh(e,i,n))}class Gu extends ih{constructor(e){super(),this.firestore=e}convertBytes(e){return new as(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Es(this.firestore,null,n)}}function Py(i){i=Fr(i,Es);const e=Fr(i.firestore,ns),n=zs(e),o=new Gu(e);return function Iy(i,e){const n=new fr;return i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return(o=(0,c.Z)(function*(u,d,g){try{const C=yield function(U,z){const ie=At(U);return ie.persistence.runTransaction("read document","readonly",Ne=>ie.localDocuments.getDocument(Ne,z))}(u,d);C.isFoundDocument()?g.resolve(C):C.isNoDocument()?g.resolve(null):g.reject(new St(et.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(C){const U=Bu(C,`Failed to get document '${d} from cache`);g.reject(U)}}),function(u,d,g){return o.apply(this,arguments)})(yield Cf(i),e,n);var o})),n.promise}(n,i._key).then(u=>new wu(e,o,i._key,u,new Ja(null!==u&&u.hasLocalMutations,!0),i.converter))}function io(i){i=Fr(i,Es);const e=Fr(i.firestore,ns);return Gc(zs(e),i._key,{source:"server"}).then(n=>sh(e,i,n))}function am(i){i=Fr(i,Go);const e=Fr(i.firestore,ns),n=zs(e),o=new Gu(e);return $f(i._query),zc(n,i._query).then(u=>new Xa(e,o,i,u))}function ky(i){i=Fr(i,Go);const e=Fr(i.firestore,ns),n=zs(e),o=new Gu(e);return function Mf(i,e){const n=new fr;return i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return(o=(0,c.Z)(function*(u,d,g){try{const C=yield Rd(u,d,!0),U=new fg(d,C.Hi),z=U.ju(C.documents),ie=U.applyChanges(z,!1);g.resolve(ie.snapshot)}catch(C){const U=Bu(C,`Failed to execute query '${d} against cache`);g.reject(U)}}),function(u,d,g){return o.apply(this,arguments)})(yield Cf(i),e,n);var o})),n.promise}(n,i._query).then(u=>new Xa(e,o,i,u))}function Fy(i){i=Fr(i,Go);const e=Fr(i.firestore,ns),n=zs(e),o=new Gu(e);return zc(n,i._query,{source:"server"}).then(u=>new Xa(e,o,i,u))}function um(i,e,n){i=Fr(i,Es);const o=Fr(i.firestore,ns),u=Zc(i.converter,e,n);return sc(o,[Eu(Na(o),"setDoc",i._key,u,null!==i.converter,n).toMutation(i._key,Li.none())])}function Ly(i,e,n,...o){i=Fr(i,Es);const u=Fr(i.firestore,ns),d=Na(u);let g;return g="string"==typeof(e=(0,ve.m9)(e))||e instanceof xo?eh(d,"updateDoc",i._key,e,n,o):Xd(d,"updateDoc",i._key,e),sc(u,[g.toMutation(i._key,Li.exists(!0))])}function lm(i){return sc(Fr(i.firestore,ns),[new lr(i._key,Li.none())])}function cm(i,e){const n=Fr(i.firestore,ns),o=jg(i),u=Zc(i.converter,e);return sc(n,[Eu(Na(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,Li.exists(!1))]).then(()=>o)}function ic(i,...e){var n,o,u;i=(0,ve.m9)(i);let d={includeMetadataChanges:!1},g=0;"object"!=typeof e[g]||Of(e[g])||(d=e[g],g++);const C={includeMetadataChanges:d.includeMetadataChanges};if(Of(e[g])){const Ne=e[g];e[g]=null===(n=Ne.next)||void 0===n?void 0:n.bind(Ne),e[g+1]=null===(o=Ne.error)||void 0===o?void 0:o.bind(Ne),e[g+2]=null===(u=Ne.complete)||void 0===u?void 0:u.bind(Ne)}let U,z,ie;if(i instanceof Es)z=Fr(i.firestore,ns),ie=uu(i._key.path),U={next:Ne=>{e[g]&&e[g](sh(z,i,Ne))},error:e[g+1],complete:e[g+2]};else{const Ne=Fr(i,Go);z=Fr(Ne.firestore,ns),ie=Ne._query;const pt=new Gu(z);U={next:Pt=>{e[g]&&e[g](new Xa(z,pt,Ne,Pt))},error:e[g+1],complete:e[g+2]},$f(i._query)}return function(Ne,pt,Pt,Ut){const Cn=new Kd(Ut),Ln=new cg(pt,Cn,Pt);return Ne.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return $d(yield tc(Ne),Ln)})),()=>{Cn.Rc(),Ne.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return ql(yield tc(Ne),Ln)}))}}(zs(z),ie,C,U)}function Vy(i,e){return function Hv(i,e){const n=new Kd(e);return i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return o=yield tc(i),u=n,At(o).Ru.add(u),void u.next();var o,u})),()=>{n.Rc(),i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return o=yield tc(i),u=n,void At(o).Ru.delete(u);var o,u}))}}(zs(i=Fr(i,ns)),Of(e)?e:{next:e})}function sc(i,e){return function(n,o){const u=new fr;return n.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return function jv(i,e,n){return _g.apply(this,arguments)}(yield Tf(n),o,u)})),u.promise}(zs(i),e)}function sh(i,e,n){const o=n.docs.get(e._key),u=new Gu(i);return new wu(i,u,e._key,o,new Ja(n.hasPendingWrites,n.fromCache),e.converter)}class Uy extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Na(e)}get(e){const n=Hu(e,this._firestore),o=new om(this._firestore);return this._transaction.lookup([n._key]).then(u=>{if(!u||1!==u.length)return zt();const d=u[0];if(d.isFoundDocument())return new _l(this._firestore,o,d.key,d,n.converter);if(d.isNoDocument())return new _l(this._firestore,o,n._key,null,n.converter);throw zt()})}set(e,n,o){const u=Hu(e,this._firestore),d=Zc(u.converter,n,o),g=Eu(this._dataReader,"Transaction.set",u._key,d,null!==u.converter,o);return this._transaction.set(u._key,g),this}update(e,n,o,...u){const d=Hu(e,this._firestore);let g;return g="string"==typeof(n=(0,ve.m9)(n))||n instanceof xo?eh(this._dataReader,"Transaction.update",d._key,n,o,u):Xd(this._dataReader,"Transaction.update",d._key,n),this._transaction.update(d._key,g),this}delete(e){const n=Hu(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Hu(e,this._firestore),o=new Gu(this._firestore);return super.get(e).then(u=>new wu(this._firestore,o,n._key,u._document,new Ja(!1,!1),n.converter))}}function dm(i,e,n){i=Fr(i,ns);const o=Object.assign(Object.assign({},sm),n);return function(u){if(u.maxAttempts<1)throw new St(et.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function xf(i,e,n){const o=new fr;return i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){const u=yield(d=i,ec(d).then(g=>g.datastore));var d;new Ey(i.asyncQueue,u,n,e,o).run()})),o.promise}(zs(i),u=>e(new Uy(i,u)),o)}function Yv(){return new Qa("deleteField")}function Jf(){return new ju("serverTimestamp")}function Xf(...i){return new qg("arrayUnion",i)}function eu(...i){return new Zg("arrayRemove",i)}function By(i){return new Yg("increment",i)}!function(i,e=!0){W=k.SDK_VERSION,(0,k._registerComponent)(new H.wA("firestore",(n,{instanceIdentifier:o,options:u})=>{const d=n.getProvider("app").getImmediate(),g=new ns(new To(n.getProvider("auth-internal")),new Bs(n.getProvider("app-check-internal")),function(C,U){if(!Object.prototype.hasOwnProperty.apply(C.options,["projectId"]))throw new St(et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yo(C.options.projectId,U)}(d,o),d);return u=Object.assign({useFetchStreams:e},u),g._setSettings(u),g},"PUBLIC").setMultipleInstances(!0)),(0,k.registerVersion)(_,"3.5.0",i),(0,k.registerVersion)(_,"3.5.0","esm2017")}()},2090:(nn,ot,V)=>{V.d(ot,{$s:()=>Zn,BH:()=>vt,G6:()=>Fe,L:()=>ce,LL:()=>Tt,Sg:()=>_t,UG:()=>ut,US:()=>Ve,ZB:()=>ge,ZR:()=>Ke,b$:()=>ft,eu:()=>Je,hl:()=>We,jU:()=>He,m9:()=>Nn,ne:()=>Jn,pd:()=>On,r3:()=>Re,ru:()=>bt,tV:()=>Ye,uI:()=>Ht,vZ:()=>Wn,w1:()=>Ae,xO:()=>rr,xb:()=>Zt,z$:()=>nt,zI:()=>xe,zd:()=>tn});const Te=function(De){const oe=[];let me=0;for(let Me=0;Me<De.length;Me++){let te=De.charCodeAt(Me);te<128?oe[me++]=te:te<2048?(oe[me++]=te>>6|192,oe[me++]=63&te|128):55296==(64512&te)&&Me+1<De.length&&56320==(64512&De.charCodeAt(Me+1))?(te=65536+((1023&te)<<10)+(1023&De.charCodeAt(++Me)),oe[me++]=te>>18|240,oe[me++]=te>>12&63|128,oe[me++]=te>>6&63|128,oe[me++]=63&te|128):(oe[me++]=te>>12|224,oe[me++]=te>>6&63|128,oe[me++]=63&te|128)}return oe},Ve={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(De,oe){if(!Array.isArray(De))throw Error("encodeByteArray takes an array as a parameter");this.init_();const me=oe?this.byteToCharMapWebSafe_:this.byteToCharMap_,Me=[];for(let te=0;te<De.length;te+=3){const j=De[te],ee=te+1<De.length,Ge=ee?De[te+1]:0,xt=te+2<De.length,rn=xt?De[te+2]:0;let Ee=(15&Ge)<<2|rn>>6,Ce=63&rn;xt||(Ce=64,ee||(Ee=64)),Me.push(me[j>>2],me[(3&j)<<4|Ge>>4],me[Ee],me[Ce])}return Me.join("")},encodeString(De,oe){return this.HAS_NATIVE_SUPPORT&&!oe?btoa(De):this.encodeByteArray(Te(De),oe)},decodeString(De,oe){return this.HAS_NATIVE_SUPPORT&&!oe?atob(De):function(De){const oe=[];let me=0,Me=0;for(;me<De.length;){const te=De[me++];if(te<128)oe[Me++]=String.fromCharCode(te);else if(te>191&&te<224){const j=De[me++];oe[Me++]=String.fromCharCode((31&te)<<6|63&j)}else if(te>239&&te<365){const xt=((7&te)<<18|(63&De[me++])<<12|(63&De[me++])<<6|63&De[me++])-65536;oe[Me++]=String.fromCharCode(55296+(xt>>10)),oe[Me++]=String.fromCharCode(56320+(1023&xt))}else{const j=De[me++],ee=De[me++];oe[Me++]=String.fromCharCode((15&te)<<12|(63&j)<<6|63&ee)}}return oe.join("")}(this.decodeStringToByteArray(De,oe))},decodeStringToByteArray(De,oe){this.init_();const me=oe?this.charToByteMapWebSafe_:this.charToByteMap_,Me=[];for(let te=0;te<De.length;){const j=me[De.charAt(te++)],Ge=te<De.length?me[De.charAt(te)]:0;++te;const rn=te<De.length?me[De.charAt(te)]:64;++te;const ze=te<De.length?me[De.charAt(te)]:64;if(++te,null==j||null==Ge||null==rn||null==ze)throw Error();Me.push(j<<2|Ge>>4),64!==rn&&(Me.push(Ge<<4&240|rn>>2),64!==ze&&Me.push(rn<<6&192|ze))}return Me},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let De=0;De<this.ENCODED_VALS.length;De++)this.byteToCharMap_[De]=this.ENCODED_VALS.charAt(De),this.charToByteMap_[this.byteToCharMap_[De]]=De,this.byteToCharMapWebSafe_[De]=this.ENCODED_VALS_WEBSAFE.charAt(De),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[De]]=De,De>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(De)]=De,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(De)]=De)}}},ce=function(De){return function(De){const oe=Te(De);return Ve.encodeByteArray(oe,!0)}(De).replace(/\./g,"")},Ye=function(De){try{return Ve.decodeString(De,!0)}catch(oe){console.error("base64Decode failed: ",oe)}return null};function ge(De,oe){if(!(oe instanceof Object))return oe;switch(oe.constructor){case Date:return new Date(oe.getTime());case Object:void 0===De&&(De={});break;case Array:De=[];break;default:return oe}for(const me in oe)!oe.hasOwnProperty(me)||!ke(me)||(De[me]=ge(De[me],oe[me]));return De}function ke(De){return"__proto__"!==De}class vt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((oe,me)=>{this.resolve=oe,this.reject=me})}wrapCallback(oe){return(me,Me)=>{me?this.reject(me):this.resolve(Me),"function"==typeof oe&&(this.promise.catch(()=>{}),1===oe.length?oe(me):oe(me,Me))}}}function _t(De,oe){if(De.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Me=oe||"demo-project",te=De.iat||0,j=De.sub||De.user_id;if(!j)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ee=Object.assign({iss:`https://securetoken.google.com/${Me}`,aud:Me,iat:te,exp:te+3600,auth_time:te,sub:j,user_id:j,firebase:{sign_in_provider:"custom",identities:{}}},De);return[ce(JSON.stringify({alg:"none",type:"JWT"})),ce(JSON.stringify(ee)),""].join(".")}function nt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ht(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nt())}function ut(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function He(){return"object"==typeof self&&self.self===self}function bt(){const De="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof De&&void 0!==De.id}function ft(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ae(){const De=nt();return De.indexOf("MSIE ")>=0||De.indexOf("Trident/")>=0}function Fe(){return!ut()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function We(){return"object"==typeof indexedDB}function Je(){return new Promise((De,oe)=>{try{let me=!0;const Me="validate-browser-context-for-indexeddb-analytics-module",te=self.indexedDB.open(Me);te.onsuccess=()=>{te.result.close(),me||self.indexedDB.deleteDatabase(Me),De(!0)},te.onupgradeneeded=()=>{me=!1},te.onerror=()=>{var j;oe((null===(j=te.error)||void 0===j?void 0:j.message)||"")}}catch(me){oe(me)}})}function xe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ke extends Error{constructor(oe,me,Me){super(me),this.code=oe,this.customData=Me,this.name="FirebaseError",Object.setPrototypeOf(this,Ke.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tt.prototype.create)}}class Tt{constructor(oe,me,Me){this.service=oe,this.serviceName=me,this.errors=Me}create(oe,...me){const Me=me[0]||{},te=`${this.service}/${oe}`,j=this.errors[oe],ee=j?function Rt(De,oe){return De.replace(kt,(me,Me)=>{const te=oe[Me];return null!=te?String(te):`<${Me}?>`})}(j,Me):"Error";return new Ke(te,`${this.serviceName}: ${ee} (${te}).`,Me)}}const kt=/\{\$([^}]+)}/g;function Re(De,oe){return Object.prototype.hasOwnProperty.call(De,oe)}function Zt(De){for(const oe in De)if(Object.prototype.hasOwnProperty.call(De,oe))return!1;return!0}function Wn(De,oe){if(De===oe)return!0;const me=Object.keys(De),Me=Object.keys(oe);for(const te of me){if(!Me.includes(te))return!1;const j=De[te],ee=oe[te];if(Un(j)&&Un(ee)){if(!Wn(j,ee))return!1}else if(j!==ee)return!1}for(const te of Me)if(!me.includes(te))return!1;return!0}function Un(De){return null!==De&&"object"==typeof De}function rr(De){const oe=[];for(const[me,Me]of Object.entries(De))Array.isArray(Me)?Me.forEach(te=>{oe.push(encodeURIComponent(me)+"="+encodeURIComponent(te))}):oe.push(encodeURIComponent(me)+"="+encodeURIComponent(Me));return oe.length?"&"+oe.join("&"):""}function tn(De){const oe={};return De.replace(/^\?/,"").split("&").forEach(Me=>{if(Me){const[te,j]=Me.split("=");oe[decodeURIComponent(te)]=decodeURIComponent(j)}}),oe}function On(De){const oe=De.indexOf("?");if(!oe)return"";const me=De.indexOf("#",oe);return De.substring(oe,me>0?me:void 0)}function Jn(De,oe){const me=new jt(De,oe);return me.subscribe.bind(me)}class jt{constructor(oe,me){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=me,this.task.then(()=>{oe(this)}).catch(Me=>{this.error(Me)})}next(oe){this.forEachObserver(me=>{me.next(oe)})}error(oe){this.forEachObserver(me=>{me.error(oe)}),this.close(oe)}complete(){this.forEachObserver(oe=>{oe.complete()}),this.close()}subscribe(oe,me,Me){let te;if(void 0===oe&&void 0===me&&void 0===Me)throw new Error("Missing Observer.");te=function xn(De,oe){if("object"!=typeof De||null===De)return!1;for(const me of oe)if(me in De&&"function"==typeof De[me])return!0;return!1}(oe,["next","error","complete"])?oe:{next:oe,error:me,complete:Me},void 0===te.next&&(te.next=zn),void 0===te.error&&(te.error=zn),void 0===te.complete&&(te.complete=zn);const j=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?te.error(this.finalError):te.complete()}catch{}}),this.observers.push(te),j}unsubscribeOne(oe){void 0===this.observers||void 0===this.observers[oe]||(delete this.observers[oe],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(oe){if(!this.finalized)for(let me=0;me<this.observers.length;me++)this.sendOne(me,oe)}sendOne(oe,me){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[oe])try{me(this.observers[oe])}catch(Me){typeof console<"u"&&console.error&&console.error(Me)}})}close(oe){this.finalized||(this.finalized=!0,void 0!==oe&&(this.finalError=oe),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zn(){}function Zn(De,oe=1e3,me=2){const Me=oe*Math.pow(me,De),te=Math.round(.5*Me*(Math.random()-.5)*2);return Math.min(144e5,Me+te)}function Nn(De){return De&&De._delegate?De._delegate:De}},5269:(nn,ot,V)=>{V.r(ot),V.d(ot,{ComponentsModule:()=>Ve});var c=V(6895),k=V(7001),H=V(4650);const Te=[{path:"chat",loadChildren:()=>V.e(592).then(V.bind(V,3139)).then(Pe=>Pe.ChatModule)}];let ve=(()=>{class Pe{}return Pe.\u0275fac=function(Ye){return new(Ye||Pe)},Pe.\u0275mod=H.oAB({type:Pe}),Pe.\u0275inj=H.cJS({imports:[k.Bz.forChild(Te),k.Bz]}),Pe})(),Ve=(()=>{class Pe{}return Pe.\u0275fac=function(Ye){return new(Ye||Pe)},Pe.\u0275mod=H.oAB({type:Pe}),Pe.\u0275inj=H.cJS({imports:[c.ez,ve]}),Pe})()},6400:(nn,ot,V)=>{V.d(ot,{e:()=>nt});var c=V(5861),k=V(7143),Pe=(V(2090),V(9681),V(1877),V(4859),V(590)),ce=V(2731),Ye=V(3562),re=V(4650),ge=V(7001),ke=V(1894),vt=V(1205),_t=V(7185);let nt=(()=>{class Ht{constructor(He,bt,ft,ae){this.router=He,this.afs=bt,this.afAuth=ft,this.toastr=ae,this.miUser={},this.afAuth.authState.subscribe(Ae=>{console.log("estado:",Ae),Ae&&(this.miUser.name=Ae?.displayName,this.miUser.id=Ae?.uid,this.miUser.email=Ae?.email)})}loguearGoogle(){this.afAuth.signInWithPopup(new k.Q).then(He=>{console.log("Se logueo bien con google"),console.log(He),this.router.navigateByUrl("home")}).catch(He=>{console.log(He)})}loguear(He,bt){var ft=this;return(0,c.Z)(function*(){return yield ft.afAuth.signInWithEmailAndPassword(He,bt).then(Ae=>{ft.toastr.success("El usuario se logue\xf3 satistactoriamente","Exito",{timeOut:1500,progressAnimation:"increasing",positionClass:"toast-top-center"})}).catch(Ae=>{console.log(Ae),ft.toastr.error(ft.firebaseError(Ae.code),"Error",{timeOut:1500,progressAnimation:"decreasing",positionClass:"toast-bottom-center"})})})()}registrar(He){var bt=this;return(0,c.Z)(function*(){try{return yield bt.afAuth.createUserWithEmailAndPassword(He.correo,He.pass).then(function(){var ae=(0,c.Z)(function*(Ae){console.log("user: "+Ae),He.uid=Ae.user?.uid,yield bt.guardarColeccion(He),bt.toastr.success("El usuario se registr\xf3 satistactoriamente","Exito",{timeOut:1e3,progressAnimation:"increasing",positionClass:"toast-top-center"})});return function(Ae){return ae.apply(this,arguments)}}()).catch(ae=>{console.log(ae),bt.toastr.error(bt.firebaseError(ae.code),"Error",{timeOut:2e3,progressAnimation:"decreasing",positionClass:"toast-bottom-center"})})}catch{return"error"}return""})()}guardarColeccion(He){var bt=this;return(0,c.Z)(function*(){try{const ft=yield(0,ce.ET)((0,ce.hJ)(bt.afs.firestore,"Usuarios"),{uid:He.uid,correo:He.correo,pass:He.pass,fecha:new Date,perfil:He.perfil});console.log("Documento escrito en colecci\xf3n: ",ft.id)}catch(ft){console.error("Error al agregar document: ",ft)}})()}traerUsuarios(){let He=(0,ce.hJ)(this.afs.firestore,"Usuarios");return(0,Ye.BS)(He,{idField:"id"})}traerUsuario(He){var bt=this;return(0,c.Z)(function*(){const ft=(0,ce.IO)((0,ce.hJ)(bt.afs.firestore,"Usuarios"),(0,ce.ar)("uid","==",He));return yield(yield(0,ce.PL)(ft)).forEach(Xe=>{bt.doc=Xe.data()}),bt.doc})()}firebaseError(He){switch(He){case"auth/email-already-in-use":return"El usuario ya se encuentra registrado";case"auth/weak-password":return"La contrase\xf1a debe ser m\xednimo de 6 caracteres";case"auth/invalid-email":return"El correo es inv\xe1lido";case"auth/wrong-password":return"La contrase\xf1a es incorrecta";case"auth/user-not-found":return"El usuario no se encuentra registado";default:return"Error desconocido"}}desloguear(){var He=this;return(0,c.Z)(function*(){try{He.miUser={},yield He.afAuth.signOut()}catch(bt){console.log(bt)}})()}getUserLog(){return this.afAuth.authState.pipe((0,Pe.P)()).toPromise()}}return Ht.\u0275fac=function(He){return new(He||Ht)(re.LFG(ge.F0),re.LFG(ke.ST),re.LFG(vt.zQ),re.LFG(_t._W))},Ht.\u0275prov=re.Yz7({token:Ht,factory:Ht.\u0275fac,providedIn:"root"}),Ht})()},958:(nn,ot,V)=>{var c=V(1481),k=V(4650),H=V(7001);const Te=[{path:"pages",loadChildren:()=>Promise.all([V.e(592),V.e(544)]).then(V.bind(V,3544)).then($=>$.PagesModule)},{path:"components",loadChildren:()=>Promise.resolve().then(V.bind(V,5269)).then($=>$.ComponentsModule)},{path:"**",redirectTo:"pages/home",pathMatch:"full"}];let ve=(()=>{class ${}return $.\u0275fac=function(_){return new(_||$)},$.\u0275mod=k.oAB({type:$}),$.\u0275inj=k.cJS({imports:[H.Bz.forRoot(Te),H.Bz]}),$})();var Ve=V(5861),Pe=V(6400),ce=V(6895);function Ye($,v){if(1&$&&(k.TgZ(0,"h5"),k._uU(1),k.qZA()),2&$){const _=k.oxw().ngIf;k.xp6(1),k.Oqu(_.displayName)}}function re($,v){if(1&$&&(k.TgZ(0,"h5"),k._uU(1),k.qZA()),2&$){const _=k.oxw().ngIf;k.xp6(1),k.Oqu(_.email)}}function ge($,v){if(1&$&&(k.TgZ(0,"a",7),k.YNc(1,Ye,2,1,"h5",8),k.YNc(2,re,2,1,"ng-template",null,9,k.W1O),k.qZA()),2&$){const _=v.ngIf,R=k.MAs(3);k.xp6(1),k.Q6J("ngIf",_.displayName)("ngIfElse",R)}}let ke=(()=>{class ${constructor(_,R){this.auth=_,this.router=R,this.item="",this.user$=this.auth.afAuth.user}ngOnInit(){var _=this;return(0,Ve.Z)(function*(){_.user=yield _.auth.getUserLog()})()}desloguear(){this.auth.desloguear(),this.router.navigateByUrl("home")}}return $.\u0275fac=function(_){return new(_||$)(k.Y36(Pe.e),k.Y36(H.F0))},$.\u0275cmp=k.Xpm({type:$,selectors:[["app-navbar"]],inputs:{item:"item"},decls:8,vars:3,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],["class","navbar-brand",4,"ngIf"],["type","button","data-toggle","collapse","data-target","#navbarText","aria-controls","navbarText","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarText",1,"collapse","navbar-collapse"],[1,"navbar-text","ml-lg-5"],[1,"nav-link","active"],[1,"navbar-brand"],[4,"ngIf","ngIfElse"],["notDisplay",""]],template:function(_,R){1&_&&(k.TgZ(0,"nav",0),k.YNc(1,ge,4,2,"a",1),k.ALo(2,"async"),k.TgZ(3,"button",2),k._UZ(4,"span",3),k.qZA(),k.TgZ(5,"div",4)(6,"span",5),k._UZ(7,"a",6),k.qZA()()()),2&_&&(k.xp6(1),k.Q6J("ngIf",k.lcZ(2,1,R.user$)))},dependencies:[ce.O5,ce.Ov],styles:[".titles[_ngcontent-%COMP%]{color:#7e4e1e;font-family:Poppins,sans-serif;text-shadow:1px 1px 1px #251709;display:flex;text-align:center;align-items:center;font-weight:200px;font-size:40px;left:500px;top:0;position:fixed}"]}),$})(),vt=(()=>{class ${constructor(){this.title="saladejuegos"}}return $.\u0275fac=function(_){return new(_||$)},$.\u0275cmp=k.Xpm({type:$,selectors:[["app-root"]],decls:2,vars:0,template:function(_,R){1&_&&k._UZ(0,"app-navbar")(1,"router-outlet")},dependencies:[H.lC,ke],styles:[".titles[_ngcontent-%COMP%]{color:#7e4e1e;font-family:Poppins,sans-serif;text-shadow:2px 2px 2px #251709;display:flex;align-items:center}.miNav[_ngcontent-%COMP%]{color:#f3f1ef}"]}),$})();var _t=V(3562),nt=V(2011),Ht=V(1894);const ut={apiKey:"AIzaSyDV7IISCTLDhPYu-M8it-uvLa3oEuQe9HI",authDomain:"saladejuegos-559fa.firebaseapp.com",projectId:"saladejuegos-559fa",storageBucket:"saladejuegos-559fa.appspot.com",messagingSenderId:"182674480705",appId:"1:182674480705:web:5533daedbe0ac8632ab0c0"};var He=V(433),bt=V(7185),ft=V(7340);function Ae($){return new k.vHH(3e3,!1)}function si(){return typeof window<"u"&&typeof window.document<"u"}function mr(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function rt($){switch($.length){case 0:return new ft.ZN;case 1:return $[0];default:return new ft.ZE($)}}function we($,v,_,R,W=new Map,ne=new Map){const Se=[],Oe=[];let _e=-1,ct=null;if(R.forEach(ln=>{const Sn=ln.get("offset"),zt=Sn==_e,en=zt&&ct||new Map;ln.forEach((Hn,At)=>{let et=At,St=Hn;if("offset"!==At)switch(et=v.normalizePropertyName(et,Se),St){case ft.k1:St=W.get(At);break;case ft.l3:St=ne.get(At);break;default:St=v.normalizeStyleValue(At,et,St,Se)}en.set(et,St)}),zt||Oe.push(en),ct=en,_e=Sn}),Se.length)throw function Wn($){return new k.vHH(3502,!1)}();return Oe}function pe($,v,_,R){switch(v){case"start":$.onStart(()=>R(_&&lt(_,"start",$)));break;case"done":$.onDone(()=>R(_&&lt(_,"done",$)));break;case"destroy":$.onDestroy(()=>R(_&&lt(_,"destroy",$)))}}function lt($,v,_){const ne=ht($.element,$.triggerName,$.fromState,$.toState,v||$.phaseName,_.totalTime??$.totalTime,!!_.disabled),Se=$._data;return null!=Se&&(ne._data=Se),ne}function ht($,v,_,R,W="",ne=0,Se){return{element:$,triggerName:v,fromState:_,toState:R,phaseName:W,totalTime:ne,disabled:!!Se}}function Jt($,v,_){let R=$.get(v);return R||$.set(v,R=_),R}function An($){const v=$.indexOf(":");return[$.substring(1,v),$.slice(v+1)]}let $n=($,v)=>!1,Wt=($,v,_)=>[],Zn=null;function Mn($){const v=$.parentNode||$.host;return v===Zn?null:v}(mr()||typeof Element<"u")&&(si()?(Zn=(()=>document.documentElement)(),$n=($,v)=>{for(;v;){if(v===$)return!0;v=Mn(v)}return!1}):$n=($,v)=>$.contains(v),Wt=($,v,_)=>{if(_)return Array.from($.querySelectorAll(v));const R=$.querySelector(v);return R?[R]:[]});let De=null,oe=!1;const j=$n,ee=Wt;let xt=(()=>{class ${validateStyleProperty(_){return function me($){De||(De=function te(){return typeof document<"u"?document.body:null}()||{},oe=!!De.style&&"WebkitAppearance"in De.style);let v=!0;return De.style&&!function Nn($){return"ebkit"==$.substring(1,6)}($)&&(v=$ in De.style,!v&&oe&&(v="Webkit"+$.charAt(0).toUpperCase()+$.slice(1)in De.style)),v}(_)}matchesElement(_,R){return!1}containsElement(_,R){return j(_,R)}getParentElement(_){return Mn(_)}query(_,R,W){return ee(_,R,W)}computeStyle(_,R,W){return W||""}animate(_,R,W,ne,Se,Oe=[],_e){return new ft.ZN(W,ne)}}return $.\u0275fac=function(_){return new(_||$)},$.\u0275prov=k.Yz7({token:$,factory:$.\u0275fac}),$})(),rn=(()=>{class ${}return $.NOOP=new xt,$})();const Ce="ng-enter",mt="ng-leave",Gt="ng-trigger",gn=".ng-trigger",bn="ng-animating",de=".ng-animating";function le($){if("number"==typeof $)return $;const v=$.match(/^(-?[\.\d]+)(m?s)/);return!v||v.length<2?0:J(parseFloat(v[1]),v[2])}function J($,v){return"s"===v?1e3*$:$}function he($,v,_){return $.hasOwnProperty("duration")?$:function Ue($,v,_){let W,ne=0,Se="";if("string"==typeof $){const Oe=$.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Oe)return v.push(Ae()),{duration:0,delay:0,easing:""};W=J(parseFloat(Oe[1]),Oe[2]);const _e=Oe[3];null!=_e&&(ne=J(parseFloat(_e),Oe[4]));const ct=Oe[5];ct&&(Se=ct)}else W=$;if(!_){let Oe=!1,_e=v.length;W<0&&(v.push(function Xe(){return new k.vHH(3100,!1)}()),Oe=!0),ne<0&&(v.push(function Nt(){return new k.vHH(3101,!1)}()),Oe=!0),Oe&&v.splice(_e,0,Ae())}return{duration:W,delay:ne,easing:Se}}($,v,_)}function Ft($,v={}){return Object.keys($).forEach(_=>{v[_]=$[_]}),v}function wn($){const v=new Map;return Object.keys($).forEach(_=>{v.set(_,$[_])}),v}function Cr($,v=new Map,_){if(_)for(let[R,W]of _)v.set(R,W);for(let[R,W]of $)v.set(R,W);return v}function pn($,v,_){return _?v+":"+_+";":""}function oi($){let v="";for(let _=0;_<$.style.length;_++){const R=$.style.item(_);v+=pn(0,R,$.style.getPropertyValue(R))}for(const _ in $.style)$.style.hasOwnProperty(_)&&!_.startsWith("_")&&(v+=pn(0,zo(_),$.style[_]));$.setAttribute("style",v)}function xr($,v,_){$.style&&(v.forEach((R,W)=>{const ne=Xn(W);_&&!_.has(W)&&_.set(W,$.style[ne]),$.style[ne]=R}),mr()&&oi($))}function _i($,v){$.style&&(v.forEach((_,R)=>{const W=Xn(R);$.style[W]=""}),mr()&&oi($))}function ci($){return Array.isArray($)?1==$.length?$[0]:(0,ft.vP)($):$}const us=new RegExp("{{\\s*(.+?)\\s*}}","g");function Hr($){let v=[];if("string"==typeof $){let _;for(;_=us.exec($);)v.push(_[1]);us.lastIndex=0}return v}function Gr($,v,_){const R=$.toString(),W=R.replace(us,(ne,Se)=>{let Oe=v[Se];return null==Oe&&(_.push(function We($){return new k.vHH(3003,!1)}()),Oe=""),Oe.toString()});return W==R?$:W}function br($){const v=[];let _=$.next();for(;!_.done;)v.push(_.value),_=$.next();return v}const ls=/-+([a-z0-9])/g;function Xn($){return $.replace(ls,(...v)=>v[1].toUpperCase())}function zo($){return $.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Lr($,v,_){switch(v.type){case 7:return $.visitTrigger(v,_);case 0:return $.visitState(v,_);case 1:return $.visitTransition(v,_);case 2:return $.visitSequence(v,_);case 3:return $.visitGroup(v,_);case 4:return $.visitAnimate(v,_);case 5:return $.visitKeyframes(v,_);case 6:return $.visitStyle(v,_);case 8:return $.visitReference(v,_);case 9:return $.visitAnimateChild(v,_);case 10:return $.visitAnimateRef(v,_);case 11:return $.visitQuery(v,_);case 12:return $.visitStagger(v,_);default:throw function Je($){return new k.vHH(3004,!1)}()}}function bi($,v){return window.getComputedStyle($)[v]}function ir($,v){const _=[];return"string"==typeof $?$.split(/\s*,\s*/).forEach(R=>function ar($,v,_){if(":"==$[0]){const _e=function Ki($,v){switch($){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(_,R)=>parseFloat(R)>parseFloat(_);case":decrement":return(_,R)=>parseFloat(R)<parseFloat(_);default:return v.push(function Re($){return new k.vHH(3016,!1)}()),"* => *"}}($,_);if("function"==typeof _e)return void v.push(_e);$=_e}const R=$.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==R||R.length<4)return _.push(function Dt($){return new k.vHH(3015,!1)}()),v;const W=R[1],ne=R[2],Se=R[3];v.push(Ei(W,Se));"<"==ne[0]&&!("*"==W&&"*"==Se)&&v.push(Ei(Se,W))}(R,_,v)):_.push($),_}const cs=new Set(["true","1"]),Ai=new Set(["false","0"]);function Ei($,v){const _=cs.has($)||Ai.has($),R=cs.has(v)||Ai.has(v);return(W,ne)=>{let Se="*"==$||$==W,Oe="*"==v||v==ne;return!Se&&_&&"boolean"==typeof W&&(Se=W?cs.has($):Ai.has($)),!Oe&&R&&"boolean"==typeof ne&&(Oe=ne?cs.has(v):Ai.has(v)),Se&&Oe}}const Vi=new RegExp("s*:selfs*,?","g");function No($,v,_,R){return new ua($).build(v,_,R)}class ua{constructor(v){this._driver=v}build(v,_,R){const W=new Ps(_);return this._resetContextStyleTimingState(W),Lr(this,ci(v),W)}_resetContextStyleTimingState(v){v.currentQuerySelector="",v.collectedStyles=new Map,v.collectedStyles.set("",new Map),v.currentTime=0}visitTrigger(v,_){let R=_.queryCount=0,W=_.depCount=0;const ne=[],Se=[];return"@"==v.name.charAt(0)&&_.errors.push(function Le(){return new k.vHH(3006,!1)}()),v.definitions.forEach(Oe=>{if(this._resetContextStyleTimingState(_),0==Oe.type){const _e=Oe,ct=_e.name;ct.toString().split(/\s*,\s*/).forEach(ln=>{_e.name=ln,ne.push(this.visitState(_e,_))}),_e.name=ct}else if(1==Oe.type){const _e=this.visitTransition(Oe,_);R+=_e.queryCount,W+=_e.depCount,Se.push(_e)}else _.errors.push(function $e(){return new k.vHH(3007,!1)}())}),{type:7,name:v.name,states:ne,transitions:Se,queryCount:R,depCount:W,options:null}}visitState(v,_){const R=this.visitStyle(v.styles,_),W=v.options&&v.options.params||null;if(R.containsDynamicStyles){const ne=new Set,Se=W||{};R.styles.forEach(Oe=>{Oe instanceof Map&&Oe.forEach(_e=>{Hr(_e).forEach(ct=>{Se.hasOwnProperty(ct)||ne.add(ct)})})}),ne.size&&(br(ne.values()),_.errors.push(function Ke($,v){return new k.vHH(3008,!1)}()))}return{type:0,name:v.name,style:R,options:W?{params:W}:null}}visitTransition(v,_){_.queryCount=0,_.depCount=0;const R=Lr(this,ci(v.animation),_);return{type:1,matchers:ir(v.expr,_.errors),animation:R,queryCount:_.queryCount,depCount:_.depCount,options:Ks(v.options)}}visitSequence(v,_){return{type:2,steps:v.steps.map(R=>Lr(this,R,_)),options:Ks(v.options)}}visitGroup(v,_){const R=_.currentTime;let W=0;const ne=v.steps.map(Se=>{_.currentTime=R;const Oe=Lr(this,Se,_);return W=Math.max(W,_.currentTime),Oe});return _.currentTime=W,{type:3,steps:ne,options:Ks(v.options)}}visitAnimate(v,_){const R=function ks($,v){if($.hasOwnProperty("duration"))return $;if("number"==typeof $)return Ro(he($,v).duration,0,"");const _=$;if(_.split(/\s+/).some(ne=>"{"==ne.charAt(0)&&"{"==ne.charAt(1))){const ne=Ro(0,0,"");return ne.dynamic=!0,ne.strValue=_,ne}const W=he(_,v);return Ro(W.duration,W.delay,W.easing)}(v.timings,_.errors);_.currentAnimateTimings=R;let W,ne=v.styles?v.styles:(0,ft.oB)({});if(5==ne.type)W=this.visitKeyframes(ne,_);else{let Se=v.styles,Oe=!1;if(!Se){Oe=!0;const ct={};R.easing&&(ct.easing=R.easing),Se=(0,ft.oB)(ct)}_.currentTime+=R.duration+R.delay;const _e=this.visitStyle(Se,_);_e.isEmptyStep=Oe,W=_e}return _.currentAnimateTimings=null,{type:4,timings:R,style:W,options:null}}visitStyle(v,_){const R=this._makeStyleAst(v,_);return this._validateStyleAst(R,_),R}_makeStyleAst(v,_){const R=[],W=Array.isArray(v.styles)?v.styles:[v.styles];for(let Oe of W)"string"==typeof Oe?Oe===ft.l3?R.push(Oe):_.errors.push(new k.vHH(3002,!1)):R.push(wn(Oe));let ne=!1,Se=null;return R.forEach(Oe=>{if(Oe instanceof Map&&(Oe.has("easing")&&(Se=Oe.get("easing"),Oe.delete("easing")),!ne))for(let _e of Oe.values())if(_e.toString().indexOf("{{")>=0){ne=!0;break}}),{type:6,styles:R,easing:Se,offset:v.offset,containsDynamicStyles:ne,options:null}}_validateStyleAst(v,_){const R=_.currentAnimateTimings;let W=_.currentTime,ne=_.currentTime;R&&ne>0&&(ne-=R.duration+R.delay),v.styles.forEach(Se=>{"string"!=typeof Se&&Se.forEach((Oe,_e)=>{const ct=_.collectedStyles.get(_.currentQuerySelector),ln=ct.get(_e);let Sn=!0;ln&&(ne!=W&&ne>=ln.startTime&&W<=ln.endTime&&(_.errors.push(function kt($,v,_,R,W){return new k.vHH(3010,!1)}()),Sn=!1),ne=ln.startTime),Sn&&ct.set(_e,{startTime:ne,endTime:W}),_.options&&function $r($,v,_){const R=v.params||{},W=Hr($);W.length&&W.forEach(ne=>{R.hasOwnProperty(ne)||_.push(function Fe($){return new k.vHH(3001,!1)}())})}(Oe,_.options,_.errors)})})}visitKeyframes(v,_){const R={type:5,styles:[],options:null};if(!_.currentAnimateTimings)return _.errors.push(function Yt(){return new k.vHH(3011,!1)}()),R;let ne=0;const Se=[];let Oe=!1,_e=!1,ct=0;const ln=v.steps.map(St=>{const fr=this._makeStyleAst(St,_);let Ri=null!=fr.offset?fr.offset:function qi($){if("string"==typeof $)return null;let v=null;if(Array.isArray($))$.forEach(_=>{if(_ instanceof Map&&_.has("offset")){const R=_;v=parseFloat(R.get("offset")),R.delete("offset")}});else if($ instanceof Map&&$.has("offset")){const _=$;v=parseFloat(_.get("offset")),_.delete("offset")}return v}(fr.styles),Oi=0;return null!=Ri&&(ne++,Oi=fr.offset=Ri),_e=_e||Oi<0||Oi>1,Oe=Oe||Oi<ct,ct=Oi,Se.push(Oi),fr});_e&&_.errors.push(function an(){return new k.vHH(3012,!1)}()),Oe&&_.errors.push(function Ct(){return new k.vHH(3200,!1)}());const Sn=v.steps.length;let zt=0;ne>0&&ne<Sn?_.errors.push(function sn(){return new k.vHH(3202,!1)}()):0==ne&&(zt=1/(Sn-1));const en=Sn-1,Hn=_.currentTime,At=_.currentAnimateTimings,et=At.duration;return ln.forEach((St,fr)=>{const Ri=zt>0?fr==en?1:zt*fr:Se[fr],Oi=Ri*et;_.currentTime=Hn+At.delay+Oi,At.duration=Oi,this._validateStyleAst(St,_),St.offset=Ri,R.styles.push(St)}),R}visitReference(v,_){return{type:8,animation:Lr(this,ci(v.animation),_),options:Ks(v.options)}}visitAnimateChild(v,_){return _.depCount++,{type:9,options:Ks(v.options)}}visitAnimateRef(v,_){return{type:10,animation:this.visitReference(v.animation,_),options:Ks(v.options)}}visitQuery(v,_){const R=_.currentQuerySelector,W=v.options||{};_.queryCount++,_.currentQuery=v;const[ne,Se]=function Os($){const v=!!$.split(/\s*,\s*/).find(_=>":self"==_);return v&&($=$.replace(Vi,"")),$=$.replace(/@\*/g,gn).replace(/@\w+/g,_=>gn+"-"+_.slice(1)).replace(/:animating/g,de),[$,v]}(v.selector);_.currentQuerySelector=R.length?R+" "+ne:ne,Jt(_.collectedStyles,_.currentQuerySelector,new Map);const Oe=Lr(this,ci(v.animation),_);return _.currentQuery=null,_.currentQuerySelector=R,{type:11,selector:ne,limit:W.limit||0,optional:!!W.optional,includeSelf:Se,animation:Oe,originalSelector:v.selector,options:Ks(v.options)}}visitStagger(v,_){_.currentQuery||_.errors.push(function dn(){return new k.vHH(3013,!1)}());const R="full"===v.timings?{duration:0,delay:0,easing:"full"}:he(v.timings,_.errors,!0);return{type:12,animation:Lr(this,ci(v.animation),_),timings:R,options:null}}}class Ps{constructor(v){this.errors=v,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ks($){return $?($=Ft($)).params&&($.params=function Wo($){return $?Ft($):null}($.params)):$={},$}function Ro($,v,_){return{duration:$,delay:v,easing:_}}function Oo($,v,_,R,W,ne,Se=null,Oe=!1){return{type:1,element:$,keyframes:v,preStyleProps:_,postStyleProps:R,duration:W,delay:ne,totalTime:W+ne,easing:Se,subTimeline:Oe}}class Zi{constructor(){this._map=new Map}get(v){return this._map.get(v)||[]}append(v,_){let R=this._map.get(v);R||this._map.set(v,R=[]),R.push(..._)}has(v){return this._map.has(v)}clear(){this._map.clear()}}const Kr=new RegExp(":enter","g"),Ds=new RegExp(":leave","g");function qr($,v,_,R,W,ne=new Map,Se=new Map,Oe,_e,ct=[]){return(new ds).buildKeyframes($,v,_,R,W,ne,Se,Oe,_e,ct)}class ds{buildKeyframes(v,_,R,W,ne,Se,Oe,_e,ct,ln=[]){ct=ct||new Zi;const Sn=new hs(v,_,ct,W,ne,ln,[]);Sn.options=_e;const zt=_e.delay?le(_e.delay):0;Sn.currentTimeline.delayNextStep(zt),Sn.currentTimeline.setStyles([Se],null,Sn.errors,_e),Lr(this,R,Sn);const en=Sn.timelines.filter(Hn=>Hn.containsAnimation());if(en.length&&Oe.size){let Hn;for(let At=en.length-1;At>=0;At--){const et=en[At];if(et.element===_){Hn=et;break}}Hn&&!Hn.allowOnlyTimelineStyles()&&Hn.setStyles([Oe],null,Sn.errors,_e)}return en.length?en.map(Hn=>Hn.buildKeyframes()):[Oo(_,[],[],[],0,zt,"",!1)]}visitTrigger(v,_){}visitState(v,_){}visitTransition(v,_){}visitAnimateChild(v,_){const R=_.subInstructions.get(_.element);if(R){const W=_.createSubContext(v.options),ne=_.currentTimeline.currentTime,Se=this._visitSubInstructions(R,W,W.options);ne!=Se&&_.transformIntoNewTimeline(Se)}_.previousNode=v}visitAnimateRef(v,_){const R=_.createSubContext(v.options);R.transformIntoNewTimeline(),this._applyAnimateRefDelay(v.animation,_,R),this.visitReference(v.animation,R),_.transformIntoNewTimeline(R.currentTimeline.currentTime),_.previousNode=v}_applyAnimateRefDelay(v,_,R){const W=v.options?.delay;if(!W)return;let ne;ne="string"==typeof W?le(Gr(W,v.options?.params??{},_.errors)):W,R.delayNextStep(ne)}_visitSubInstructions(v,_,R){let ne=_.currentTimeline.currentTime;const Se=null!=R.duration?le(R.duration):null,Oe=null!=R.delay?le(R.delay):null;return 0!==Se&&v.forEach(_e=>{const ct=_.appendInstructionToTimeline(_e,Se,Oe);ne=Math.max(ne,ct.duration+ct.delay)}),ne}visitReference(v,_){_.updateOptions(v.options,!0),Lr(this,v.animation,_),_.previousNode=v}visitSequence(v,_){const R=_.subContextCount;let W=_;const ne=v.options;if(ne&&(ne.params||ne.delay)&&(W=_.createSubContext(ne),W.transformIntoNewTimeline(),null!=ne.delay)){6==W.previousNode.type&&(W.currentTimeline.snapshotCurrentStyles(),W.previousNode=Yn);const Se=le(ne.delay);W.delayNextStep(Se)}v.steps.length&&(v.steps.forEach(Se=>Lr(this,Se,W)),W.currentTimeline.applyStylesToKeyframe(),W.subContextCount>R&&W.transformIntoNewTimeline()),_.previousNode=v}visitGroup(v,_){const R=[];let W=_.currentTimeline.currentTime;const ne=v.options&&v.options.delay?le(v.options.delay):0;v.steps.forEach(Se=>{const Oe=_.createSubContext(v.options);ne&&Oe.delayNextStep(ne),Lr(this,Se,Oe),W=Math.max(W,Oe.currentTimeline.currentTime),R.push(Oe.currentTimeline)}),R.forEach(Se=>_.currentTimeline.mergeTimelineCollectedStyles(Se)),_.transformIntoNewTimeline(W),_.previousNode=v}_visitTiming(v,_){if(v.dynamic){const R=v.strValue;return he(_.params?Gr(R,_.params,_.errors):R,_.errors)}return{duration:v.duration,delay:v.delay,easing:v.easing}}visitAnimate(v,_){const R=_.currentAnimateTimings=this._visitTiming(v.timings,_),W=_.currentTimeline;R.delay&&(_.incrementTime(R.delay),W.snapshotCurrentStyles());const ne=v.style;5==ne.type?this.visitKeyframes(ne,_):(_.incrementTime(R.duration),this.visitStyle(ne,_),W.applyStylesToKeyframe()),_.currentAnimateTimings=null,_.previousNode=v}visitStyle(v,_){const R=_.currentTimeline,W=_.currentAnimateTimings;!W&&R.hasCurrentStyleProperties()&&R.forwardFrame();const ne=W&&W.easing||v.easing;v.isEmptyStep?R.applyEmptyStep(ne):R.setStyles(v.styles,ne,_.errors,_.options),_.previousNode=v}visitKeyframes(v,_){const R=_.currentAnimateTimings,W=_.currentTimeline.duration,ne=R.duration,Oe=_.createSubContext().currentTimeline;Oe.easing=R.easing,v.styles.forEach(_e=>{Oe.forwardTime((_e.offset||0)*ne),Oe.setStyles(_e.styles,_e.easing,_.errors,_.options),Oe.applyStylesToKeyframe()}),_.currentTimeline.mergeTimelineCollectedStyles(Oe),_.transformIntoNewTimeline(W+ne),_.previousNode=v}visitQuery(v,_){const R=_.currentTimeline.currentTime,W=v.options||{},ne=W.delay?le(W.delay):0;ne&&(6===_.previousNode.type||0==R&&_.currentTimeline.hasCurrentStyleProperties())&&(_.currentTimeline.snapshotCurrentStyles(),_.previousNode=Yn);let Se=R;const Oe=_.invokeQuery(v.selector,v.originalSelector,v.limit,v.includeSelf,!!W.optional,_.errors);_.currentQueryTotal=Oe.length;let _e=null;Oe.forEach((ct,ln)=>{_.currentQueryIndex=ln;const Sn=_.createSubContext(v.options,ct);ne&&Sn.delayNextStep(ne),ct===_.element&&(_e=Sn.currentTimeline),Lr(this,v.animation,Sn),Sn.currentTimeline.applyStylesToKeyframe(),Se=Math.max(Se,Sn.currentTimeline.currentTime)}),_.currentQueryIndex=0,_.currentQueryTotal=0,_.transformIntoNewTimeline(Se),_e&&(_.currentTimeline.mergeTimelineCollectedStyles(_e),_.currentTimeline.snapshotCurrentStyles()),_.previousNode=v}visitStagger(v,_){const R=_.parentContext,W=_.currentTimeline,ne=v.timings,Se=Math.abs(ne.duration),Oe=Se*(_.currentQueryTotal-1);let _e=Se*_.currentQueryIndex;switch(ne.duration<0?"reverse":ne.easing){case"reverse":_e=Oe-_e;break;case"full":_e=R.currentStaggerTime}const ln=_.currentTimeline;_e&&ln.delayNextStep(_e);const Sn=ln.currentTime;Lr(this,v.animation,_),_.previousNode=v,R.currentStaggerTime=W.currentTime-Sn+(W.startTime-R.currentTimeline.startTime)}}const Yn={};class hs{constructor(v,_,R,W,ne,Se,Oe,_e){this._driver=v,this.element=_,this.subInstructions=R,this._enterClassName=W,this._leaveClassName=ne,this.errors=Se,this.timelines=Oe,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Yn,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_e||new is(this._driver,_,0),Oe.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(v,_){if(!v)return;const R=v;let W=this.options;null!=R.duration&&(W.duration=le(R.duration)),null!=R.delay&&(W.delay=le(R.delay));const ne=R.params;if(ne){let Se=W.params;Se||(Se=this.options.params={}),Object.keys(ne).forEach(Oe=>{(!_||!Se.hasOwnProperty(Oe))&&(Se[Oe]=Gr(ne[Oe],Se,this.errors))})}}_copyOptions(){const v={};if(this.options){const _=this.options.params;if(_){const R=v.params={};Object.keys(_).forEach(W=>{R[W]=_[W]})}}return v}createSubContext(v=null,_,R){const W=_||this.element,ne=new hs(this._driver,W,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(W,R||0));return ne.previousNode=this.previousNode,ne.currentAnimateTimings=this.currentAnimateTimings,ne.options=this._copyOptions(),ne.updateOptions(v),ne.currentQueryIndex=this.currentQueryIndex,ne.currentQueryTotal=this.currentQueryTotal,ne.parentContext=this,this.subContextCount++,ne}transformIntoNewTimeline(v){return this.previousNode=Yn,this.currentTimeline=this.currentTimeline.fork(this.element,v),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(v,_,R){const W={duration:_??v.duration,delay:this.currentTimeline.currentTime+(R??0)+v.delay,easing:""},ne=new Qi(this._driver,v.element,v.keyframes,v.preStyleProps,v.postStyleProps,W,v.stretchStartingKeyframe);return this.timelines.push(ne),W}incrementTime(v){this.currentTimeline.forwardTime(this.currentTimeline.duration+v)}delayNextStep(v){v>0&&this.currentTimeline.delayNextStep(v)}invokeQuery(v,_,R,W,ne,Se){let Oe=[];if(W&&Oe.push(this.element),v.length>0){v=(v=v.replace(Kr,"."+this._enterClassName)).replace(Ds,"."+this._leaveClassName);let ct=this._driver.query(this.element,v,1!=R);0!==R&&(ct=R<0?ct.slice(ct.length+R,ct.length):ct.slice(0,R)),Oe.push(...ct)}return!ne&&0==Oe.length&&Se.push(function st($){return new k.vHH(3014,!1)}()),Oe}}class is{constructor(v,_,R,W){this._driver=v,this.element=_,this.startTime=R,this._elementTimelineStylesLookup=W,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(_),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(_,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(v){const _=1===this._keyframes.size&&this._pendingStyles.size;this.duration||_?(this.forwardTime(this.currentTime+v),_&&this.snapshotCurrentStyles()):this.startTime+=v}fork(v,_){return this.applyStylesToKeyframe(),new is(this._driver,v,_||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(v){this.applyStylesToKeyframe(),this.duration=v,this._loadKeyframe()}_updateStyle(v,_){this._localTimelineStyles.set(v,_),this._globalTimelineStyles.set(v,_),this._styleSummary.set(v,{time:this.currentTime,value:_})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(v){v&&this._previousKeyframe.set("easing",v);for(let[_,R]of this._globalTimelineStyles)this._backFill.set(_,R||ft.l3),this._currentKeyframe.set(_,ft.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(v,_,R,W){_&&this._previousKeyframe.set("easing",_);const ne=W&&W.params||{},Se=function Cs($,v){const _=new Map;let R;return $.forEach(W=>{if("*"===W){R=R||v.keys();for(let ne of R)_.set(ne,ft.l3)}else Cr(W,_)}),_}(v,this._globalTimelineStyles);for(let[Oe,_e]of Se){const ct=Gr(_e,ne,R);this._pendingStyles.set(Oe,ct),this._localTimelineStyles.has(Oe)||this._backFill.set(Oe,this._globalTimelineStyles.get(Oe)??ft.l3),this._updateStyle(Oe,ct)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((v,_)=>{this._currentKeyframe.set(_,v)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((v,_)=>{this._currentKeyframe.has(_)||this._currentKeyframe.set(_,v)}))}snapshotCurrentStyles(){for(let[v,_]of this._localTimelineStyles)this._pendingStyles.set(v,_),this._updateStyle(v,_)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const v=[];for(let _ in this._currentKeyframe)v.push(_);return v}mergeTimelineCollectedStyles(v){v._styleSummary.forEach((_,R)=>{const W=this._styleSummary.get(R);(!W||_.time>W.time)&&this._updateStyle(R,_.value)})}buildKeyframes(){this.applyStylesToKeyframe();const v=new Set,_=new Set,R=1===this._keyframes.size&&0===this.duration;let W=[];this._keyframes.forEach((Oe,_e)=>{const ct=Cr(Oe,new Map,this._backFill);ct.forEach((ln,Sn)=>{ln===ft.k1?v.add(Sn):ln===ft.l3&&_.add(Sn)}),R||ct.set("offset",_e/this.duration),W.push(ct)});const ne=v.size?br(v.values()):[],Se=_.size?br(_.values()):[];if(R){const Oe=W[0],_e=new Map(Oe);Oe.set("offset",0),_e.set("offset",1),W=[Oe,_e]}return Oo(this.element,W,ne,Se,this.duration,this.startTime,this.easing,!1)}}class Qi extends is{constructor(v,_,R,W,ne,Se,Oe=!1){super(v,_,Se.delay),this.keyframes=R,this.preStyleProps=W,this.postStyleProps=ne,this._stretchStartingKeyframe=Oe,this.timings={duration:Se.duration,delay:Se.delay,easing:Se.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let v=this.keyframes,{delay:_,duration:R,easing:W}=this.timings;if(this._stretchStartingKeyframe&&_){const ne=[],Se=R+_,Oe=_/Se,_e=Cr(v[0]);_e.set("offset",0),ne.push(_e);const ct=Cr(v[0]);ct.set("offset",go(Oe)),ne.push(ct);const ln=v.length-1;for(let Sn=1;Sn<=ln;Sn++){let zt=Cr(v[Sn]);const en=zt.get("offset");zt.set("offset",go((_+en*R)/Se)),ne.push(zt)}R=Se,_=0,W="",v=ne}return Oo(this.element,v,this.preStyleProps,this.postStyleProps,R,_,W,!0)}}function go($,v=3){const _=Math.pow(10,v-1);return Math.round($*_)/_}class wi{}const Ui=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class fi extends wi{normalizePropertyName(v,_){return Xn(v)}normalizeStyleValue(v,_,R,W){let ne="";const Se=R.toString().trim();if(Ui.has(_)&&0!==R&&"0"!==R)if("number"==typeof R)ne="px";else{const Oe=R.match(/^[+-]?[\d\.]+([a-z]*)$/);Oe&&0==Oe[1].length&&W.push(function xe($,v){return new k.vHH(3005,!1)}())}return Se+ne}}function ri($,v,_,R,W,ne,Se,Oe,_e,ct,ln,Sn,zt){return{type:0,element:$,triggerName:v,isRemovalTransition:W,fromState:_,fromStyles:ne,toState:R,toStyles:Se,timelines:Oe,queriedElements:_e,preStyleProps:ct,postStyleProps:ln,totalTime:Sn,errors:zt}}const Fs={};class mo{constructor(v,_,R){this._triggerName=v,this.ast=_,this._stateStyles=R}match(v,_,R,W){return function Or($,v,_,R,W){return $.some(ne=>ne(v,_,R,W))}(this.ast.matchers,v,_,R,W)}buildStyles(v,_,R){let W=this._stateStyles.get("*");return void 0!==v&&(W=this._stateStyles.get(v?.toString())||W),W?W.buildStyles(_,R):new Map}build(v,_,R,W,ne,Se,Oe,_e,ct,ln){const Sn=[],zt=this.ast.options&&this.ast.options.params||Fs,Hn=this.buildStyles(R,Oe&&Oe.params||Fs,Sn),At=_e&&_e.params||Fs,et=this.buildStyles(W,At,Sn),St=new Set,fr=new Map,Ri=new Map,Oi="void"===W,ei={params:yo(At,zt),delay:this.ast.options?.delay},To=ln?[]:qr(v,_,this.ast.animation,ne,Se,Hn,et,ei,ct,Sn);let hi=0;if(To.forEach(ys=>{hi=Math.max(ys.duration+ys.delay,hi)}),Sn.length)return ri(_,this._triggerName,R,W,Oi,Hn,et,[],[],fr,Ri,hi,Sn);To.forEach(ys=>{const Bs=ys.element,$a=Jt(fr,Bs,new Set);ys.preStyleProps.forEach(uo=>$a.add(uo));const Wr=Jt(Ri,Bs,new Set);ys.postStyleProps.forEach(uo=>Wr.add(uo)),Bs!==_&&St.add(Bs)});const Zs=br(St.values());return ri(_,this._triggerName,R,W,Oi,Hn,et,To,Zs,fr,Ri,hi)}}function yo($,v){const _=Ft(v);for(const R in $)$.hasOwnProperty(R)&&null!=$[R]&&(_[R]=$[R]);return _}class Ko{constructor(v,_,R){this.styles=v,this.defaultParams=_,this.normalizer=R}buildStyles(v,_){const R=new Map,W=Ft(this.defaultParams);return Object.keys(v).forEach(ne=>{const Se=v[ne];null!==Se&&(W[ne]=Se)}),this.styles.styles.forEach(ne=>{"string"!=typeof ne&&ne.forEach((Se,Oe)=>{Se&&(Se=Gr(Se,W,_));const _e=this.normalizer.normalizePropertyName(Oe,_);Se=this.normalizer.normalizeStyleValue(Oe,_e,Se,_),R.set(_e,Se)})}),R}}class Jr{constructor(v,_,R){this.name=v,this.ast=_,this._normalizer=R,this.transitionFactories=[],this.states=new Map,_.states.forEach(W=>{this.states.set(W.name,new Ko(W.style,W.options&&W.options.params||{},R))}),fs(this.states,"true","1"),fs(this.states,"false","0"),_.transitions.forEach(W=>{this.transitionFactories.push(new mo(v,W,this.states))}),this.fallbackTransition=function Mi($,v,_){return new mo($,{type:1,animation:{type:2,steps:[],options:null},matchers:[(Se,Oe)=>!0],options:null,queryCount:0,depCount:0},v)}(v,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(v,_,R,W){return this.transitionFactories.find(Se=>Se.match(v,_,R,W))||null}matchStyles(v,_,R){return this.fallbackTransition.buildStyles(v,_,R)}}function fs($,v,_){$.has(v)?$.has(_)||$.set(_,$.get(v)):$.has(_)&&$.set(v,$.get(_))}const ji=new Zi;class yr{constructor(v,_,R){this.bodyNode=v,this._driver=_,this._normalizer=R,this._animations=new Map,this._playersById=new Map,this.players=[]}register(v,_){const R=[],ne=No(this._driver,_,R,[]);if(R.length)throw function Un($){return new k.vHH(3503,!1)}();this._animations.set(v,ne)}_buildPlayer(v,_,R){const W=v.element,ne=we(0,this._normalizer,0,v.keyframes,_,R);return this._driver.animate(W,ne,v.duration,v.delay,v.easing,[],!0)}create(v,_,R={}){const W=[],ne=this._animations.get(v);let Se;const Oe=new Map;if(ne?(Se=qr(this._driver,_,ne,Ce,mt,new Map,new Map,R,ji,W),Se.forEach(ln=>{const Sn=Jt(Oe,ln.element,new Map);ln.postStyleProps.forEach(zt=>Sn.set(zt,null))})):(W.push(function nr(){return new k.vHH(3300,!1)}()),Se=[]),W.length)throw function rr($){return new k.vHH(3504,!1)}();Oe.forEach((ln,Sn)=>{ln.forEach((zt,en)=>{ln.set(en,this._driver.computeStyle(Sn,en,ft.l3))})});const ct=rt(Se.map(ln=>{const Sn=Oe.get(ln.element);return this._buildPlayer(ln,new Map,Sn)}));return this._playersById.set(v,ct),ct.onDestroy(()=>this.destroy(v)),this.players.push(ct),ct}destroy(v){const _=this._getPlayer(v);_.destroy(),this._playersById.delete(v);const R=this.players.indexOf(_);R>=0&&this.players.splice(R,1)}_getPlayer(v){const _=this._playersById.get(v);if(!_)throw function tn($){return new k.vHH(3301,!1)}();return _}listen(v,_,R,W){const ne=ht(_,"","","");return pe(this._getPlayer(v),R,ne,W),()=>{}}command(v,_,R,W){if("register"==R)return void this.register(v,W[0]);if("create"==R)return void this.create(v,_,W[0]||{});const ne=this._getPlayer(v);switch(R){case"play":ne.play();break;case"pause":ne.pause();break;case"reset":ne.reset();break;case"restart":ne.restart();break;case"finish":ne.finish();break;case"init":ne.init();break;case"setPosition":ne.setPosition(parseFloat(W[0]));break;case"destroy":this.destroy(v)}}}const Ls="ng-animate-queued",so="ng-animate-disabled",Fn=[],gs={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ko={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},di="__ng_removed";class Vs{constructor(v,_=""){this.namespaceId=_;const R=v&&v.hasOwnProperty("value");if(this.value=function Fo($){return $??null}(R?v.value:v),R){const ne=Ft(v);delete ne.value,this.options=ne}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(v){const _=v.params;if(_){const R=this.options.params;Object.keys(_).forEach(W=>{null==R[W]&&(R[W]=_[W])})}}}const Ur="void",Ti=new Vs(Ur);class Us{constructor(v,_,R){this.id=v,this.hostElement=_,this._engine=R,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+v,Ii(_,this._hostClassName)}listen(v,_,R,W){if(!this._triggers.has(_))throw function On($,v){return new k.vHH(3302,!1)}();if(null==R||0==R.length)throw function Dr($){return new k.vHH(3303,!1)}();if(!function Xr($){return"start"==$||"done"==$}(R))throw function Jn($,v){return new k.vHH(3400,!1)}();const ne=Jt(this._elementListeners,v,[]),Se={name:_,phase:R,callback:W};ne.push(Se);const Oe=Jt(this._engine.statesByElement,v,new Map);return Oe.has(_)||(Ii(v,Gt),Ii(v,Gt+"-"+_),Oe.set(_,Ti)),()=>{this._engine.afterFlush(()=>{const _e=ne.indexOf(Se);_e>=0&&ne.splice(_e,1),this._triggers.has(_)||Oe.delete(_)})}}register(v,_){return!this._triggers.has(v)&&(this._triggers.set(v,_),!0)}_getTrigger(v){const _=this._triggers.get(v);if(!_)throw function jt($){return new k.vHH(3401,!1)}();return _}trigger(v,_,R,W=!0){const ne=this._getTrigger(_),Se=new Lt(this.id,_,v);let Oe=this._engine.statesByElement.get(v);Oe||(Ii(v,Gt),Ii(v,Gt+"-"+_),this._engine.statesByElement.set(v,Oe=new Map));let _e=Oe.get(_);const ct=new Vs(R,this.id);if(!(R&&R.hasOwnProperty("value"))&&_e&&ct.absorbOptions(_e.options),Oe.set(_,ct),_e||(_e=Ti),ct.value!==Ur&&_e.value===ct.value){if(!function O($,v){const _=Object.keys($),R=Object.keys(v);if(_.length!=R.length)return!1;for(let W=0;W<_.length;W++){const ne=_[W];if(!v.hasOwnProperty(ne)||$[ne]!==v[ne])return!1}return!0}(_e.params,ct.params)){const At=[],et=ne.matchStyles(_e.value,_e.params,At),St=ne.matchStyles(ct.value,ct.params,At);At.length?this._engine.reportError(At):this._engine.afterFlush(()=>{_i(v,et),xr(v,St)})}return}const zt=Jt(this._engine.playersByElement,v,[]);zt.forEach(At=>{At.namespaceId==this.id&&At.triggerName==_&&At.queued&&At.destroy()});let en=ne.matchTransition(_e.value,ct.value,v,ct.params),Hn=!1;if(!en){if(!W)return;en=ne.fallbackTransition,Hn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:v,triggerName:_,transition:en,fromState:_e,toState:ct,player:Se,isFallbackTransition:Hn}),Hn||(Ii(v,Ls),Se.onStart(()=>{Zr(v,Ls)})),Se.onDone(()=>{let At=this.players.indexOf(Se);At>=0&&this.players.splice(At,1);const et=this._engine.playersByElement.get(v);if(et){let St=et.indexOf(Se);St>=0&&et.splice(St,1)}}),this.players.push(Se),zt.push(Se),Se}deregister(v){this._triggers.delete(v),this._engine.statesByElement.forEach(_=>_.delete(v)),this._elementListeners.forEach((_,R)=>{this._elementListeners.set(R,_.filter(W=>W.name!=v))})}clearElementCache(v){this._engine.statesByElement.delete(v),this._elementListeners.delete(v);const _=this._engine.playersByElement.get(v);_&&(_.forEach(R=>R.destroy()),this._engine.playersByElement.delete(v))}_signalRemovalForInnerTriggers(v,_){const R=this._engine.driver.query(v,gn,!0);R.forEach(W=>{if(W[di])return;const ne=this._engine.fetchNamespacesByElement(W);ne.size?ne.forEach(Se=>Se.triggerLeaveAnimation(W,_,!1,!0)):this.clearElementCache(W)}),this._engine.afterFlushAnimationsDone(()=>R.forEach(W=>this.clearElementCache(W)))}triggerLeaveAnimation(v,_,R,W){const ne=this._engine.statesByElement.get(v),Se=new Map;if(ne){const Oe=[];if(ne.forEach((_e,ct)=>{if(Se.set(ct,_e.value),this._triggers.has(ct)){const ln=this.trigger(v,ct,Ur,W);ln&&Oe.push(ln)}}),Oe.length)return this._engine.markElementAsRemoved(this.id,v,!0,_,Se),R&&rt(Oe).onDone(()=>this._engine.processLeaveNode(v)),!0}return!1}prepareLeaveAnimationListeners(v){const _=this._elementListeners.get(v),R=this._engine.statesByElement.get(v);if(_&&R){const W=new Set;_.forEach(ne=>{const Se=ne.name;if(W.has(Se))return;W.add(Se);const _e=this._triggers.get(Se).fallbackTransition,ct=R.get(Se)||Ti,ln=new Vs(Ur),Sn=new Lt(this.id,Se,v);this._engine.totalQueuedPlayers++,this._queue.push({element:v,triggerName:Se,transition:_e,fromState:ct,toState:ln,player:Sn,isFallbackTransition:!0})})}}removeNode(v,_){const R=this._engine;if(v.childElementCount&&this._signalRemovalForInnerTriggers(v,_),this.triggerLeaveAnimation(v,_,!0))return;let W=!1;if(R.totalAnimations){const ne=R.players.length?R.playersByQueriedElement.get(v):[];if(ne&&ne.length)W=!0;else{let Se=v;for(;Se=Se.parentNode;)if(R.statesByElement.get(Se)){W=!0;break}}}if(this.prepareLeaveAnimationListeners(v),W)R.markElementAsRemoved(this.id,v,!1,_);else{const ne=v[di];(!ne||ne===gs)&&(R.afterFlush(()=>this.clearElementCache(v)),R.destroyInnerAnimations(v),R._onRemovalComplete(v,_))}}insertNode(v,_){Ii(v,this._hostClassName)}drainQueuedTransitions(v){const _=[];return this._queue.forEach(R=>{const W=R.player;if(W.destroyed)return;const ne=R.element,Se=this._elementListeners.get(ne);Se&&Se.forEach(Oe=>{if(Oe.name==R.triggerName){const _e=ht(ne,R.triggerName,R.fromState.value,R.toState.value);_e._data=v,pe(R.player,Oe.phase,_e,Oe.callback)}}),W.markedForDestroy?this._engine.afterFlush(()=>{W.destroy()}):_.push(R)}),this._queue=[],_.sort((R,W)=>{const ne=R.transition.ast.depCount,Se=W.transition.ast.depCount;return 0==ne||0==Se?ne-Se:this._engine.driver.containsElement(R.element,W.element)?1:-1})}destroy(v){this.players.forEach(_=>_.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,v)}elementContainsData(v){let _=!1;return this._elementListeners.has(v)&&(_=!0),_=!!this._queue.find(R=>R.element===v)||_,_}}class Br{constructor(v,_,R){this.bodyNode=v,this.driver=_,this._normalizer=R,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(W,ne)=>{}}_onRemovalComplete(v,_){this.onRemovalComplete(v,_)}get queuedPlayers(){const v=[];return this._namespaceList.forEach(_=>{_.players.forEach(R=>{R.queued&&v.push(R)})}),v}createNamespace(v,_){const R=new Us(v,_,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,_)?this._balanceNamespaceList(R,_):(this.newHostElements.set(_,R),this.collectEnterElement(_)),this._namespaceLookup[v]=R}_balanceNamespaceList(v,_){const R=this._namespaceList,W=this.namespacesByHostElement;if(R.length-1>=0){let Se=!1,Oe=this.driver.getParentElement(_);for(;Oe;){const _e=W.get(Oe);if(_e){const ct=R.indexOf(_e);R.splice(ct+1,0,v),Se=!0;break}Oe=this.driver.getParentElement(Oe)}Se||R.unshift(v)}else R.push(v);return W.set(_,v),v}register(v,_){let R=this._namespaceLookup[v];return R||(R=this.createNamespace(v,_)),R}registerTrigger(v,_,R){let W=this._namespaceLookup[v];W&&W.register(_,R)&&this.totalAnimations++}destroy(v,_){if(!v)return;const R=this._fetchNamespace(v);this.afterFlush(()=>{this.namespacesByHostElement.delete(R.hostElement),delete this._namespaceLookup[v];const W=this._namespaceList.indexOf(R);W>=0&&this._namespaceList.splice(W,1)}),this.afterFlushAnimationsDone(()=>R.destroy(_))}_fetchNamespace(v){return this._namespaceLookup[v]}fetchNamespacesByElement(v){const _=new Set,R=this.statesByElement.get(v);if(R)for(let W of R.values())if(W.namespaceId){const ne=this._fetchNamespace(W.namespaceId);ne&&_.add(ne)}return _}trigger(v,_,R,W){if(ms(_)){const ne=this._fetchNamespace(v);if(ne)return ne.trigger(_,R,W),!0}return!1}insertNode(v,_,R,W){if(!ms(_))return;const ne=_[di];if(ne&&ne.setForRemoval){ne.setForRemoval=!1,ne.setForMove=!0;const Se=this.collectedLeaveElements.indexOf(_);Se>=0&&this.collectedLeaveElements.splice(Se,1)}if(v){const Se=this._fetchNamespace(v);Se&&Se.insertNode(_,R)}W&&this.collectEnterElement(_)}collectEnterElement(v){this.collectedEnterElements.push(v)}markElementAsDisabled(v,_){_?this.disabledNodes.has(v)||(this.disabledNodes.add(v),Ii(v,so)):this.disabledNodes.has(v)&&(this.disabledNodes.delete(v),Zr(v,so))}removeNode(v,_,R,W){if(ms(_)){const ne=v?this._fetchNamespace(v):null;if(ne?ne.removeNode(_,W):this.markElementAsRemoved(v,_,!1,W),R){const Se=this.namespacesByHostElement.get(_);Se&&Se.id!==v&&Se.removeNode(_,W)}}else this._onRemovalComplete(_,W)}markElementAsRemoved(v,_,R,W,ne){this.collectedLeaveElements.push(_),_[di]={namespaceId:v,setForRemoval:W,hasAnimation:R,removedBeforeQueried:!1,previousTriggersValues:ne}}listen(v,_,R,W,ne){return ms(_)?this._fetchNamespace(v).listen(_,R,W,ne):()=>{}}_buildInstruction(v,_,R,W,ne){return v.transition.build(this.driver,v.element,v.fromState.value,v.toState.value,R,W,v.fromState.options,v.toState.options,_,ne)}destroyInnerAnimations(v){let _=this.driver.query(v,gn,!0);_.forEach(R=>this.destroyActiveAnimationsForElement(R)),0!=this.playersByQueriedElement.size&&(_=this.driver.query(v,de,!0),_.forEach(R=>this.finishActiveQueriedAnimationOnElement(R)))}destroyActiveAnimationsForElement(v){const _=this.playersByElement.get(v);_&&_.forEach(R=>{R.queued?R.markedForDestroy=!0:R.destroy()})}finishActiveQueriedAnimationOnElement(v){const _=this.playersByQueriedElement.get(v);_&&_.forEach(R=>R.finish())}whenRenderingDone(){return new Promise(v=>{if(this.players.length)return rt(this.players).onDone(()=>v());v()})}processLeaveNode(v){const _=v[di];if(_&&_.setForRemoval){if(v[di]=gs,_.namespaceId){this.destroyInnerAnimations(v);const R=this._fetchNamespace(_.namespaceId);R&&R.clearElementCache(v)}this._onRemovalComplete(v,_.setForRemoval)}v.classList?.contains(so)&&this.markElementAsDisabled(v,!1),this.driver.query(v,".ng-animate-disabled",!0).forEach(R=>{this.markElementAsDisabled(R,!1)})}flush(v=-1){let _=[];if(this.newHostElements.size&&(this.newHostElements.forEach((R,W)=>this._balanceNamespaceList(R,W)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let R=0;R<this.collectedEnterElements.length;R++)Ii(this.collectedEnterElements[R],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const R=[];try{_=this._flushAnimations(R,v)}finally{for(let W=0;W<R.length;W++)R[W]()}}else for(let R=0;R<this.collectedLeaveElements.length;R++)this.processLeaveNode(this.collectedLeaveElements[R]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(R=>R()),this._flushFns=[],this._whenQuietFns.length){const R=this._whenQuietFns;this._whenQuietFns=[],_.length?rt(_).onDone(()=>{R.forEach(W=>W())}):R.forEach(W=>W())}}reportError(v){throw function Pn($){return new k.vHH(3402,!1)}()}_flushAnimations(v,_){const R=new Zi,W=[],ne=new Map,Se=[],Oe=new Map,_e=new Map,ct=new Map,ln=new Set;this.disabledNodes.forEach(vn=>{ln.add(vn);const cn=this.driver.query(vn,".ng-animate-queued",!0);for(let Kt=0;Kt<cn.length;Kt++)ln.add(cn[Kt])});const Sn=this.bodyNode,zt=Array.from(this.statesByElement.keys()),en=ai(zt,this.collectedEnterElements),Hn=new Map;let At=0;en.forEach((vn,cn)=>{const Kt=Ce+At++;Hn.set(cn,Kt),vn.forEach(or=>Ii(or,Kt))});const et=[],St=new Set,fr=new Set;for(let vn=0;vn<this.collectedLeaveElements.length;vn++){const cn=this.collectedLeaveElements[vn],Kt=cn[di];Kt&&Kt.setForRemoval&&(et.push(cn),St.add(cn),Kt.hasAnimation?this.driver.query(cn,".ng-star-inserted",!0).forEach(or=>St.add(or)):fr.add(cn))}const Ri=new Map,Oi=ai(zt,Array.from(St));Oi.forEach((vn,cn)=>{const Kt=mt+At++;Ri.set(cn,Kt),vn.forEach(or=>Ii(or,Kt))}),v.push(()=>{en.forEach((vn,cn)=>{const Kt=Hn.get(cn);vn.forEach(or=>Zr(or,Kt))}),Oi.forEach((vn,cn)=>{const Kt=Ri.get(cn);vn.forEach(or=>Zr(or,Kt))}),et.forEach(vn=>{this.processLeaveNode(vn)})});const ei=[],To=[];for(let vn=this._namespaceList.length-1;vn>=0;vn--)this._namespaceList[vn].drainQueuedTransitions(_).forEach(Kt=>{const or=Kt.player,kn=Kt.element;if(ei.push(or),this.collectedEnterElements.length){const li=kn[di];if(li&&li.setForMove){if(li.previousTriggersValues&&li.previousTriggersValues.has(Kt.triggerName)){const Pi=li.previousTriggersValues.get(Kt.triggerName),js=this.statesByElement.get(Kt.element);if(js&&js.has(Kt.triggerName)){const Ss=js.get(Kt.triggerName);Ss.value=Pi,js.set(Kt.triggerName,Ss)}}return void or.destroy()}}const Xi=!Sn||!this.driver.containsElement(Sn,kn),pr=Ri.get(kn),Qt=Hn.get(kn),Ar=this._buildInstruction(Kt,R,Qt,pr,Xi);if(Ar.errors&&Ar.errors.length)return void To.push(Ar);if(Xi)return or.onStart(()=>_i(kn,Ar.fromStyles)),or.onDestroy(()=>xr(kn,Ar.toStyles)),void W.push(or);if(Kt.isFallbackTransition)return or.onStart(()=>_i(kn,Ar.fromStyles)),or.onDestroy(()=>xr(kn,Ar.toStyles)),void W.push(or);const ca=[];Ar.timelines.forEach(li=>{li.stretchStartingKeyframe=!0,this.disabledNodes.has(li.element)||ca.push(li)}),Ar.timelines=ca,R.append(kn,Ar.timelines),Se.push({instruction:Ar,player:or,element:kn}),Ar.queriedElements.forEach(li=>Jt(Oe,li,[]).push(or)),Ar.preStyleProps.forEach((li,Pi)=>{if(li.size){let js=_e.get(Pi);js||_e.set(Pi,js=new Set),li.forEach((Ss,Lo)=>js.add(Lo))}}),Ar.postStyleProps.forEach((li,Pi)=>{let js=ct.get(Pi);js||ct.set(Pi,js=new Set),li.forEach((Ss,Lo)=>js.add(Lo))})});if(To.length){const vn=[];To.forEach(cn=>{vn.push(function zn($,v){return new k.vHH(3505,!1)}())}),ei.forEach(cn=>cn.destroy()),this.reportError(vn)}const hi=new Map,Zs=new Map;Se.forEach(vn=>{const cn=vn.element;R.has(cn)&&(Zs.set(cn,cn),this._beforeAnimationBuild(vn.player.namespaceId,vn.instruction,hi))}),W.forEach(vn=>{const cn=vn.element;this._getPreviousPlayers(cn,!1,vn.namespaceId,vn.triggerName,null).forEach(or=>{Jt(hi,cn,[]).push(or),or.destroy()})});const ys=et.filter(vn=>A(vn,_e,ct)),Bs=new Map;bs(Bs,this.driver,fr,ct,ft.l3).forEach(vn=>{A(vn,_e,ct)&&ys.push(vn)});const Wr=new Map;en.forEach((vn,cn)=>{bs(Wr,this.driver,new Set(vn),_e,ft.k1)}),ys.forEach(vn=>{const cn=Bs.get(vn),Kt=Wr.get(vn);Bs.set(vn,new Map([...Array.from(cn?.entries()??[]),...Array.from(Kt?.entries()??[])]))});const uo=[],Rn=[],So={};Se.forEach(vn=>{const{element:cn,player:Kt,instruction:or}=vn;if(R.has(cn)){if(ln.has(cn))return Kt.onDestroy(()=>xr(cn,or.toStyles)),Kt.disabled=!0,Kt.overrideTotalTime(or.totalTime),void W.push(Kt);let kn=So;if(Zs.size>1){let pr=cn;const Qt=[];for(;pr=pr.parentNode;){const Ar=Zs.get(pr);if(Ar){kn=Ar;break}Qt.push(pr)}Qt.forEach(Ar=>Zs.set(Ar,kn))}const Xi=this._buildAnimation(Kt.namespaceId,or,hi,ne,Wr,Bs);if(Kt.setRealPlayer(Xi),kn===So)uo.push(Kt);else{const pr=this.playersByElement.get(kn);pr&&pr.length&&(Kt.parentPlayer=rt(pr)),W.push(Kt)}}else _i(cn,or.fromStyles),Kt.onDestroy(()=>xr(cn,or.toStyles)),Rn.push(Kt),ln.has(cn)&&W.push(Kt)}),Rn.forEach(vn=>{const cn=ne.get(vn.element);if(cn&&cn.length){const Kt=rt(cn);vn.setRealPlayer(Kt)}}),W.forEach(vn=>{vn.parentPlayer?vn.syncPlayerEvents(vn.parentPlayer):vn.destroy()});for(let vn=0;vn<et.length;vn++){const cn=et[vn],Kt=cn[di];if(Zr(cn,mt),Kt&&Kt.hasAnimation)continue;let or=[];if(Oe.size){let Xi=Oe.get(cn);Xi&&Xi.length&&or.push(...Xi);let pr=this.driver.query(cn,de,!0);for(let Qt=0;Qt<pr.length;Qt++){let Ar=Oe.get(pr[Qt]);Ar&&Ar.length&&or.push(...Ar)}}const kn=or.filter(Xi=>!Xi.destroyed);kn.length?_o(this,cn,kn):this.processLeaveNode(cn)}return et.length=0,uo.forEach(vn=>{this.players.push(vn),vn.onDone(()=>{vn.destroy();const cn=this.players.indexOf(vn);this.players.splice(cn,1)}),vn.play()}),uo}elementContainsData(v,_){let R=!1;const W=_[di];return W&&W.setForRemoval&&(R=!0),this.playersByElement.has(_)&&(R=!0),this.playersByQueriedElement.has(_)&&(R=!0),this.statesByElement.has(_)&&(R=!0),this._fetchNamespace(v).elementContainsData(_)||R}afterFlush(v){this._flushFns.push(v)}afterFlushAnimationsDone(v){this._whenQuietFns.push(v)}_getPreviousPlayers(v,_,R,W,ne){let Se=[];if(_){const Oe=this.playersByQueriedElement.get(v);Oe&&(Se=Oe)}else{const Oe=this.playersByElement.get(v);if(Oe){const _e=!ne||ne==Ur;Oe.forEach(ct=>{ct.queued||!_e&&ct.triggerName!=W||Se.push(ct)})}}return(R||W)&&(Se=Se.filter(Oe=>!(R&&R!=Oe.namespaceId||W&&W!=Oe.triggerName))),Se}_beforeAnimationBuild(v,_,R){const ne=_.element,Se=_.isRemovalTransition?void 0:v,Oe=_.isRemovalTransition?void 0:_.triggerName;for(const _e of _.timelines){const ct=_e.element,ln=ct!==ne,Sn=Jt(R,ct,[]);this._getPreviousPlayers(ct,ln,Se,Oe,_.toState).forEach(en=>{const Hn=en.getRealPlayer();Hn.beforeDestroy&&Hn.beforeDestroy(),en.destroy(),Sn.push(en)})}_i(ne,_.fromStyles)}_buildAnimation(v,_,R,W,ne,Se){const Oe=_.triggerName,_e=_.element,ct=[],ln=new Set,Sn=new Set,zt=_.timelines.map(Hn=>{const At=Hn.element;ln.add(At);const et=At[di];if(et&&et.removedBeforeQueried)return new ft.ZN(Hn.duration,Hn.delay);const St=At!==_e,fr=function Eo($){const v=[];return L($,v),v}((R.get(At)||Fn).map(hi=>hi.getRealPlayer())).filter(hi=>!!hi.element&&hi.element===At),Ri=ne.get(At),Oi=Se.get(At),ei=we(0,this._normalizer,0,Hn.keyframes,Ri,Oi),To=this._buildPlayer(Hn,ei,fr);if(Hn.subTimeline&&W&&Sn.add(At),St){const hi=new Lt(v,Oe,At);hi.setRealPlayer(To),ct.push(hi)}return To});ct.forEach(Hn=>{Jt(this.playersByQueriedElement,Hn.element,[]).push(Hn),Hn.onDone(()=>function er($,v,_){let R=$.get(v);if(R){if(R.length){const W=R.indexOf(_);R.splice(W,1)}0==R.length&&$.delete(v)}return R}(this.playersByQueriedElement,Hn.element,Hn))}),ln.forEach(Hn=>Ii(Hn,bn));const en=rt(zt);return en.onDestroy(()=>{ln.forEach(Hn=>Zr(Hn,bn)),xr(_e,_.toStyles)}),Sn.forEach(Hn=>{Jt(W,Hn,[]).push(en)}),en}_buildPlayer(v,_,R){return _.length>0?this.driver.animate(v.element,_,v.duration,v.delay,v.easing,R):new ft.ZN(v.duration,v.delay)}}class Lt{constructor(v,_,R){this.namespaceId=v,this.triggerName=_,this.element=R,this._player=new ft.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(v){this._containsRealPlayer||(this._player=v,this._queuedCallbacks.forEach((_,R)=>{_.forEach(W=>pe(v,R,void 0,W))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(v.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(v){this.totalTime=v}syncPlayerEvents(v){const _=this._player;_.triggerCallback&&v.onStart(()=>_.triggerCallback("start")),v.onDone(()=>this.finish()),v.onDestroy(()=>this.destroy())}_queueEvent(v,_){Jt(this._queuedCallbacks,v,[]).push(_)}onDone(v){this.queued&&this._queueEvent("done",v),this._player.onDone(v)}onStart(v){this.queued&&this._queueEvent("start",v),this._player.onStart(v)}onDestroy(v){this.queued&&this._queueEvent("destroy",v),this._player.onDestroy(v)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(v){this.queued||this._player.setPosition(v)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(v){const _=this._player;_.triggerCallback&&_.triggerCallback(v)}}function ms($){return $&&1===$.nodeType}function Ji($,v){const _=$.style.display;return $.style.display=v??"none",_}function bs($,v,_,R,W){const ne=[];_.forEach(_e=>ne.push(Ji(_e)));const Se=[];R.forEach((_e,ct)=>{const ln=new Map;_e.forEach(Sn=>{const zt=v.computeStyle(ct,Sn,W);ln.set(Sn,zt),(!zt||0==zt.length)&&(ct[di]=ko,Se.push(ct))}),$.set(ct,ln)});let Oe=0;return _.forEach(_e=>Ji(_e,ne[Oe++])),Se}function ai($,v){const _=new Map;if($.forEach(Oe=>_.set(Oe,[])),0==v.length)return _;const W=new Set(v),ne=new Map;function Se(Oe){if(!Oe)return 1;let _e=ne.get(Oe);if(_e)return _e;const ct=Oe.parentNode;return _e=_.has(ct)?ct:W.has(ct)?1:Se(ct),ne.set(Oe,_e),_e}return v.forEach(Oe=>{const _e=Se(Oe);1!==_e&&_.get(_e).push(Oe)}),_}function Ii($,v){$.classList?.add(v)}function Zr($,v){$.classList?.remove(v)}function _o($,v,_){rt(_).onDone(()=>$.processLeaveNode(v))}function L($,v){for(let _=0;_<$.length;_++){const R=$[_];R instanceof ft.ZE?L(R.players,v):v.push(R)}}function A($,v,_){const R=_.get($);if(!R)return!1;let W=v.get($);return W?R.forEach(ne=>W.add(ne)):v.set($,R),_.delete($),!0}class Q{constructor(v,_,R){this.bodyNode=v,this._driver=_,this._normalizer=R,this._triggerCache={},this.onRemovalComplete=(W,ne)=>{},this._transitionEngine=new Br(v,_,R),this._timelineEngine=new yr(v,_,R),this._transitionEngine.onRemovalComplete=(W,ne)=>this.onRemovalComplete(W,ne)}registerTrigger(v,_,R,W,ne){const Se=v+"-"+W;let Oe=this._triggerCache[Se];if(!Oe){const _e=[],ln=No(this._driver,ne,_e,[]);if(_e.length)throw function yn($,v){return new k.vHH(3404,!1)}();Oe=function Bi($,v,_){return new Jr($,v,_)}(W,ln,this._normalizer),this._triggerCache[Se]=Oe}this._transitionEngine.registerTrigger(_,W,Oe)}register(v,_){this._transitionEngine.register(v,_)}destroy(v,_){this._transitionEngine.destroy(v,_)}onInsert(v,_,R,W){this._transitionEngine.insertNode(v,_,R,W)}onRemove(v,_,R,W){this._transitionEngine.removeNode(v,_,W||!1,R)}disableAnimations(v,_){this._transitionEngine.markElementAsDisabled(v,_)}process(v,_,R,W){if("@"==R.charAt(0)){const[ne,Se]=An(R);this._timelineEngine.command(ne,_,Se,W)}else this._transitionEngine.trigger(v,_,R,W)}listen(v,_,R,W,ne){if("@"==R.charAt(0)){const[Se,Oe]=An(R);return this._timelineEngine.listen(Se,_,Oe,ne)}return this._transitionEngine.listen(v,_,R,W,ne)}flush(v=-1){this._transitionEngine.flush(v)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let hn=(()=>{class ${constructor(_,R,W){this._element=_,this._startStyles=R,this._endStyles=W,this._state=0;let ne=$.initialStylesByElement.get(_);ne||$.initialStylesByElement.set(_,ne=new Map),this._initialStyles=ne}start(){this._state<1&&(this._startStyles&&xr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(xr(this._element,this._initialStyles),this._endStyles&&(xr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&($.initialStylesByElement.delete(this._element),this._startStyles&&(_i(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(_i(this._element,this._endStyles),this._endStyles=null),xr(this._element,this._initialStyles),this._state=3)}}return $.initialStylesByElement=new WeakMap,$})();function ur($){let v=null;return $.forEach((_,R)=>{(function xi($){return"display"===$||"position"===$})(R)&&(v=v||new Map,v.set(R,_))}),v}class Ni{constructor(v,_,R,W){this.element=v,this.keyframes=_,this.options=R,this._specialStyles=W,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=R.duration,this._delay=R.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(v=>v()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const v=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,v,this.options),this._finalKeyframe=v.length?v[v.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(v){const _=[];return v.forEach(R=>{_.push(Object.fromEntries(R))}),_}_triggerWebAnimation(v,_,R){return v.animate(this._convertKeyframesToObject(_),R)}onStart(v){this._originalOnStartFns.push(v),this._onStartFns.push(v)}onDone(v){this._originalOnDoneFns.push(v),this._onDoneFns.push(v)}onDestroy(v){this._onDestroyFns.push(v)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(v=>v()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(v=>v()),this._onDestroyFns=[])}setPosition(v){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=v*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const v=new Map;this.hasStarted()&&this._finalKeyframe.forEach((R,W)=>{"offset"!==W&&v.set(W,this._finished?R:bi(this.element,W))}),this.currentSnapshot=v}triggerCallback(v){const _="start"===v?this._onStartFns:this._onDoneFns;_.forEach(R=>R()),_.length=0}}class Di{validateStyleProperty(v){return!0}validateAnimatableStyleProperty(v){return!0}matchesElement(v,_){return!1}containsElement(v,_){return j(v,_)}getParentElement(v){return Mn(v)}query(v,_,R){return ee(v,_,R)}computeStyle(v,_,R){return window.getComputedStyle(v)[_]}animate(v,_,R,W,ne,Se=[]){const _e={duration:R,delay:W,fill:0==W?"both":"forwards"};ne&&(_e.easing=ne);const ct=new Map,ln=Se.filter(en=>en instanceof Ni);(function zr($,v){return 0===$||0===v})(R,W)&&ln.forEach(en=>{en.currentSnapshot.forEach((Hn,At)=>ct.set(At,Hn))});let Sn=function In($){return $.length?$[0]instanceof Map?$:$.map(v=>wn(v)):[]}(_).map(en=>Cr(en));Sn=function Wi($,v,_){if(_.size&&v.length){let R=v[0],W=[];if(_.forEach((ne,Se)=>{R.has(Se)||W.push(Se),R.set(Se,ne)}),W.length)for(let ne=1;ne<v.length;ne++){let Se=v[ne];W.forEach(Oe=>Se.set(Oe,bi($,Oe)))}}return v}(v,Sn,ct);const zt=function gt($,v){let _=null,R=null;return Array.isArray(v)&&v.length?(_=ur(v[0]),v.length>1&&(R=ur(v[v.length-1]))):v instanceof Map&&(_=ur(v)),_||R?new hn($,_,R):null}(v,Sn);return new Ni(v,Sn,_e,zt)}}let wo=(()=>{class $ extends ft._j{constructor(_,R){super(),this._nextAnimationId=0,this._renderer=_.createRenderer(R.body,{id:"0",encapsulation:k.ifc.None,styles:[],data:{animation:[]}})}build(_){const R=this._nextAnimationId.toString();this._nextAnimationId++;const W=Array.isArray(_)?(0,ft.vP)(_):_;return oo(this._renderer,null,R,"register",[W]),new Ts(R,this._renderer)}}return $.\u0275fac=function(_){return new(_||$)(k.LFG(k.FYo),k.LFG(ce.K0))},$.\u0275prov=k.Yz7({token:$,factory:$.\u0275fac}),$})();class Ts extends ft.LC{constructor(v,_){super(),this._id=v,this._renderer=_}create(v,_){return new Io(this._id,v,_||{},this._renderer)}}class Io{constructor(v,_,R,W){this.id=v,this.element=_,this._renderer=W,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",R)}_listen(v,_){return this._renderer.listen(this.element,`@@${this.id}:${v}`,_)}_command(v,..._){return oo(this._renderer,this.element,this.id,v,_)}onDone(v){this._listen("done",v)}onStart(v){this._listen("start",v)}onDestroy(v){this._listen("destroy",v)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(v){this._command("setPosition",v)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function oo($,v,_,R,W){return $.setProperty(v,`@@${_}:${R}`,W)}const qs="@.disabled";let la=(()=>{class ${constructor(_,R,W){this.delegate=_,this.engine=R,this._zone=W,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),R.onRemovalComplete=(ne,Se)=>{const Oe=Se?.parentNode(ne);Oe&&Se.removeChild(Oe,ne)}}createRenderer(_,R){const ne=this.delegate.createRenderer(_,R);if(!(_&&R&&R.data&&R.data.animation)){let ln=this._rendererCache.get(ne);return ln||(ln=new ao("",ne,this.engine),this._rendererCache.set(ne,ln)),ln}const Se=R.id,Oe=R.id+"-"+this._currentId;this._currentId++,this.engine.register(Oe,_);const _e=ln=>{Array.isArray(ln)?ln.forEach(_e):this.engine.registerTrigger(Se,Oe,_,ln.name,ln)};return R.data.animation.forEach(_e),new Co(this,Oe,ne,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(_,R,W){_>=0&&_<this._microtaskId?this._zone.run(()=>R(W)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(ne=>{const[Se,Oe]=ne;Se(Oe)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([R,W]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return $.\u0275fac=function(_){return new(_||$)(k.LFG(k.FYo),k.LFG(Q),k.LFG(k.R0b))},$.\u0275prov=k.Yz7({token:$,factory:$.\u0275fac}),$})();class ao{constructor(v,_,R){this.namespaceId=v,this.delegate=_,this.engine=R,this.destroyNode=this.delegate.destroyNode?W=>_.destroyNode(W):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(v,_){return this.delegate.createElement(v,_)}createComment(v){return this.delegate.createComment(v)}createText(v){return this.delegate.createText(v)}appendChild(v,_){this.delegate.appendChild(v,_),this.engine.onInsert(this.namespaceId,_,v,!1)}insertBefore(v,_,R,W=!0){this.delegate.insertBefore(v,_,R),this.engine.onInsert(this.namespaceId,_,v,W)}removeChild(v,_,R){this.engine.onRemove(this.namespaceId,_,this.delegate,R)}selectRootElement(v,_){return this.delegate.selectRootElement(v,_)}parentNode(v){return this.delegate.parentNode(v)}nextSibling(v){return this.delegate.nextSibling(v)}setAttribute(v,_,R,W){this.delegate.setAttribute(v,_,R,W)}removeAttribute(v,_,R){this.delegate.removeAttribute(v,_,R)}addClass(v,_){this.delegate.addClass(v,_)}removeClass(v,_){this.delegate.removeClass(v,_)}setStyle(v,_,R,W){this.delegate.setStyle(v,_,R,W)}removeStyle(v,_,R){this.delegate.removeStyle(v,_,R)}setProperty(v,_,R){"@"==_.charAt(0)&&_==qs?this.disableAnimations(v,!!R):this.delegate.setProperty(v,_,R)}setValue(v,_){this.delegate.setValue(v,_)}listen(v,_,R){return this.delegate.listen(v,_,R)}disableAnimations(v,_){this.engine.disableAnimations(v,_)}}class Co extends ao{constructor(v,_,R,W){super(_,R,W),this.factory=v,this.namespaceId=_}setProperty(v,_,R){"@"==_.charAt(0)?"."==_.charAt(1)&&_==qs?this.disableAnimations(v,R=void 0===R||!!R):this.engine.process(this.namespaceId,v,_.slice(1),R):this.delegate.setProperty(v,_,R)}listen(v,_,R){if("@"==_.charAt(0)){const W=function bo($){switch($){case"body":return document.body;case"document":return document;case"window":return window;default:return $}}(v);let ne=_.slice(1),Se="";return"@"!=ne.charAt(0)&&([ne,Se]=function Da($){const v=$.indexOf(".");return[$.substring(0,v),$.slice(v+1)]}(ne)),this.engine.listen(this.namespaceId,W,ne,Se,Oe=>{this.factory.scheduleListenerCallback(Oe._data||-1,R,Oe)})}return this.delegate.listen(v,_,R)}}const Z=[{provide:ft._j,useClass:wo},{provide:wi,useFactory:function G(){return new fi}},{provide:Q,useClass:(()=>{class $ extends Q{constructor(_,R,W,ne){super(_.body,R,W)}ngOnDestroy(){this.flush()}}return $.\u0275fac=function(_){return new(_||$)(k.LFG(ce.K0),k.LFG(rn),k.LFG(wi),k.LFG(k.z2F))},$.\u0275prov=k.Yz7({token:$,factory:$.\u0275fac}),$})()},{provide:k.FYo,useFactory:function N($,v,_){return new la($,v,_)},deps:[c.se,Q,k.R0b]}],Ie=[{provide:rn,useFactory:()=>new Di},{provide:k.QbO,useValue:"BrowserAnimations"},...Z],yt=[{provide:rn,useClass:xt},{provide:k.QbO,useValue:"NoopAnimations"},...Z];let It=(()=>{class ${static withConfig(_){return{ngModule:$,providers:_.disableAnimations?yt:Ie}}}return $.\u0275fac=function(_){return new(_||$)},$.\u0275mod=k.oAB({type:$}),$.\u0275inj=k.cJS({providers:Ie,imports:[c.b2]}),$})();var Sr=V(5269),hr=V(529);let ui=(()=>{class ${}return $.\u0275fac=function(_){return new(_||$)},$.\u0275mod=k.oAB({type:$,bootstrap:[vt]}),$.\u0275inj=k.cJS({imports:[c.b2,ve,H.Bz,Sr.ComponentsModule,He.u5,_t.Um,nt.hO,Ht.yb,He.UX,bt.Rh.forRoot(),It,nt.hO.initializeApp(ut),hr.JF]}),$})();(0,k.G48)(),c.q6().bootstrapModule(ui).catch($=>console.error($))},5867:(nn,ot,V)=>{V.d(ot,{C6:()=>c.getApps,KN:()=>c.registerVersion,Mq:()=>c.getApp});var c=V(9681);(0,c.registerVersion)("firebase","9.10.0","app")},127:(nn,ot,V)=>{V.d(ot,{Z:()=>c.Z});var c=V(3942);c.Z.registerVersion("firebase","9.10.0","app-compat")},5881:(nn,ot,V)=>{V.r(ot);var c=V(5861),k=V(3942),H=V(7143),Te=V(2090),Pe=(V(9681),V(1877),V(4859));function ce(){return window}function ge(){return(ge=(0,c.Z)(function*(ze,Ee,Ce){var mt;const{BuildInfo:Gt}=ce();(0,H.aq)(Ee.sessionId,"AuthEvent did not contain a session ID");const gn=yield He(Ee.sessionId),bn={};return(0,H.ar)()?bn.ibi=Gt.packageName:(0,H.as)()?bn.apn=Gt.packageName:(0,H.at)(ze,"operation-not-supported-in-this-environment"),Gt.displayName&&(bn.appDisplayName=Gt.displayName),bn.sessionId=gn,(0,H.au)(ze,Ce,Ee.type,void 0,null!==(mt=Ee.eventId)&&void 0!==mt?mt:void 0,bn)})).apply(this,arguments)}function vt(){return(vt=(0,c.Z)(function*(ze){const{BuildInfo:Ee}=ce(),Ce={};(0,H.ar)()?Ce.iosBundleId=Ee.packageName:(0,H.as)()?Ce.androidPackageName=Ee.packageName:(0,H.at)(ze,"operation-not-supported-in-this-environment"),yield(0,H.av)(ze,Ce)})).apply(this,arguments)}function Ht(){return(Ht=(0,c.Z)(function*(ze,Ee,Ce){const{cordova:mt}=ce();let Gt=()=>{};try{yield new Promise((gn,bn)=>{let de=null;function le(){var Ue;gn();const Ft=null===(Ue=mt.plugins.browsertab)||void 0===Ue?void 0:Ue.close;"function"==typeof Ft&&Ft(),"function"==typeof Ce?.close&&Ce.close()}function J(){de||(de=window.setTimeout(()=>{bn((0,H.aw)(ze,"redirect-cancelled-by-user"))},2e3))}function he(){"visible"===document?.visibilityState&&J()}Ee.addPassiveListener(le),document.addEventListener("resume",J,!1),(0,H.as)()&&document.addEventListener("visibilitychange",he,!1),Gt=()=>{Ee.removePassiveListener(le),document.removeEventListener("resume",J,!1),document.removeEventListener("visibilitychange",he,!1),de&&window.clearTimeout(de)}})}finally{Gt()}})).apply(this,arguments)}function He(ze){return bt.apply(this,arguments)}function bt(){return(bt=(0,c.Z)(function*(ze){const Ee=ft(ze),Ce=yield crypto.subtle.digest("SHA-256",Ee);return Array.from(new Uint8Array(Ce)).map(Gt=>Gt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function ft(ze){if((0,H.aq)(/[0-9a-zA-Z]+/.test(ze),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(ze);const Ee=new ArrayBuffer(ze.length),Ce=new Uint8Array(Ee);for(let mt=0;mt<ze.length;mt++)Ce[mt]=ze.charCodeAt(mt);return Ce}class Ae extends H.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(Ee=>{this.resolveInialized=Ee})}addPassiveListener(Ee){this.passiveListeners.add(Ee)}removePassiveListener(Ee){this.passiveListeners.delete(Ee)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(Ee){return this.resolveInialized(),this.passiveListeners.forEach(Ce=>Ce(Ee)),super.onEvent(Ee)}initialized(){var Ee=this;return(0,c.Z)(function*(){yield Ee.initPromise})()}}function Fe(ze){return We.apply(this,arguments)}function We(){return(We=(0,c.Z)(function*(ze){const Ee=yield Le()._get($e(ze));return Ee&&(yield Le()._remove($e(ze))),Ee})).apply(this,arguments)}function xe(){const ze=[],Ee="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let Ce=0;Ce<20;Ce++){const mt=Math.floor(Math.random()*Ee.length);ze.push(Ee.charAt(mt))}return ze.join("")}function Le(){return(0,H.ay)(H.b)}function $e(ze){return(0,H.az)("authEvent",ze.config.apiKey,ze.name)}function Rt(ze){if(!ze?.includes("?"))return{};const[Ee,...Ce]=ze.split("?");return(0,Te.zd)(Ce.join("?"))}function Ct(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,H.aw)("no-auth-event")}}function Re(){var ze;return(null===(ze=self?.location)||void 0===ze?void 0:ze.protocol)||null}function Zt(ze=(0,Te.z$)()){return!("file:"!==Re()&&"ionic:"!==Re()&&"capacitor:"!==Re()||!ze.toLowerCase().match(/iphone|ipad|ipod|android/))}function rr(){try{const ze=self.localStorage,Ee=H.aI();if(ze)return ze.setItem(Ee,"1"),ze.removeItem(Ee),!function nr(ze=(0,Te.z$)()){return function Wn(){return(0,Te.w1)()&&11===document?.documentMode}()||function Un(ze=(0,Te.z$)()){return/Edge\/\d+/.test(ze)}(ze)}()||(0,Te.hl)()}catch{return tn()&&(0,Te.hl)()}return!1}function tn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function On(){return(function qe(){return"http:"===Re()||"https:"===Re()}()||(0,Te.ru)()||Zt())&&!function yn(){return(0,Te.b$)()||(0,Te.UG)()}()&&rr()&&!tn()}function Dr(){return Zt()&&typeof document<"u"}function jt(){return(jt=(0,c.Z)(function*(){return!!Dr()&&new Promise(ze=>{const Ee=setTimeout(()=>{ze(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(Ee),ze(!0)})})})).apply(this,arguments)}const xn={LOCAL:"local",NONE:"none",SESSION:"session"},zn=H.ax,Er="persistence";function mr(ze){return rt.apply(this,arguments)}function rt(){return(rt=(0,c.Z)(function*(ze){yield ze._initializationPromise;const Ee=pe(),Ce=H.az(Er,ze.config.apiKey,ze.name);Ee&&Ee.setItem(Ce,ze._getPersistence())})).apply(this,arguments)}function pe(){var ze;try{return(null===(ze=function Pn(){return typeof window<"u"?window:null}())||void 0===ze?void 0:ze.sessionStorage)||null}catch{return null}}const lt=H.ax;class ht{constructor(){this.browserResolver=H.ay(H.k),this.cordovaResolver=H.ay(class Yt{constructor(){this._redirectPersistence=H.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=H.aB,this._overrideRedirectResult=H.aC}_initialize(Ee){var Ce=this;return(0,c.Z)(function*(){const mt=Ee._key();let Gt=Ce.eventManagers.get(mt);return Gt||(Gt=new Ae(Ee),Ce.eventManagers.set(mt,Gt),Ce.attachCallbackListeners(Ee,Gt)),Gt})()}_openPopup(Ee){(0,H.at)(Ee,"operation-not-supported-in-this-environment")}_openRedirect(Ee,Ce,mt,Gt){var gn=this;return(0,c.Z)(function*(){!function ut(ze){var Ee,Ce,mt,Gt,gn,bn,de,le,J,he;const Ue=ce();(0,H.ax)("function"==typeof(null===(Ee=Ue?.universalLinks)||void 0===Ee?void 0:Ee.subscribe),ze,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,H.ax)(typeof(null===(Ce=Ue?.BuildInfo)||void 0===Ce?void 0:Ce.packageName)<"u",ze,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,H.ax)("function"==typeof(null===(gn=null===(Gt=null===(mt=Ue?.cordova)||void 0===mt?void 0:mt.plugins)||void 0===Gt?void 0:Gt.browsertab)||void 0===gn?void 0:gn.openUrl),ze,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,H.ax)("function"==typeof(null===(le=null===(de=null===(bn=Ue?.cordova)||void 0===bn?void 0:bn.plugins)||void 0===de?void 0:de.browsertab)||void 0===le?void 0:le.isAvailable),ze,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,H.ax)("function"==typeof(null===(he=null===(J=Ue?.cordova)||void 0===J?void 0:J.InAppBrowser)||void 0===he?void 0:he.open),ze,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(Ee);const bn=yield gn._initialize(Ee);yield bn.initialized(),bn.resetRedirect(),(0,H.aD)(),yield gn._originValidation(Ee);const de=function Xe(ze,Ee,Ce=null){return{type:Ee,eventId:Ce,urlResponse:null,sessionId:xe(),postBody:null,tenantId:ze.tenantId,error:(0,H.aw)(ze,"no-auth-event")}}(Ee,mt,Gt);yield function Nt(ze,Ee){return Le()._set($e(ze),Ee)}(Ee,de);const le=yield function re(ze,Ee,Ce){return ge.apply(this,arguments)}(Ee,de,Ce),J=yield function _t(ze){const{cordova:Ee}=ce();return new Promise(Ce=>{Ee.plugins.browsertab.isAvailable(mt=>{let Gt=null;mt?Ee.plugins.browsertab.openUrl(ze):Gt=Ee.InAppBrowser.open(ze,(0,H.ap)()?"_blank":"_system","location=yes"),Ce(Gt)})})}(le);return function nt(ze,Ee,Ce){return Ht.apply(this,arguments)}(Ee,bn,J)})()}_isIframeWebStorageSupported(Ee,Ce){throw new Error("Method not implemented.")}_originValidation(Ee){const Ce=Ee._key();return this.originValidationPromises[Ce]||(this.originValidationPromises[Ce]=function ke(ze){return vt.apply(this,arguments)}(Ee)),this.originValidationPromises[Ce]}attachCallbackListeners(Ee,Ce){const{universalLinks:mt,handleOpenURL:Gt,BuildInfo:gn}=ce(),bn=setTimeout((0,c.Z)(function*(){yield Fe(Ee),Ce.onEvent(Ct())}),500),de=function(){var he=(0,c.Z)(function*(Ue){clearTimeout(bn);const Ft=yield Fe(Ee);let wn=null;Ft&&Ue?.url&&(wn=function Je(ze,Ee){var Ce,mt;const Gt=function Tt(ze){const Ee=Rt(ze),Ce=Ee.link?decodeURIComponent(Ee.link):void 0,mt=Rt(Ce).link,Gt=Ee.deep_link_id?decodeURIComponent(Ee.deep_link_id):void 0;return Rt(Gt).link||Gt||mt||Ce||ze}(Ee);if(Gt.includes("/__/auth/callback")){const gn=Rt(Gt),bn=gn.firebaseError?function Ke(ze){try{return JSON.parse(ze)}catch{return null}}(decodeURIComponent(gn.firebaseError)):null,de=null===(mt=null===(Ce=bn?.code)||void 0===Ce?void 0:Ce.split("auth/"))||void 0===mt?void 0:mt[1],le=de?(0,H.aw)(de):null;return le?{type:ze.type,eventId:ze.eventId,tenantId:ze.tenantId,error:le,urlResponse:null,sessionId:null,postBody:null}:{type:ze.type,eventId:ze.eventId,tenantId:ze.tenantId,sessionId:ze.sessionId,urlResponse:Gt,postBody:null}}return null}(Ft,Ue.url)),Ce.onEvent(wn||Ct())});return function(Ft){return he.apply(this,arguments)}}();typeof mt<"u"&&"function"==typeof mt.subscribe&&mt.subscribe(null,de);const le=Gt,J=`${gn.packageName.toLowerCase()}://`;ce().handleOpenURL=function(){var he=(0,c.Z)(function*(Ue){if(Ue.toLowerCase().startsWith(J)&&de({url:Ue}),"function"==typeof le)try{le(Ue)}catch(Ft){console.error(Ft)}});return function(Ue){return he.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=H.a,this._completeRedirectFn=H.aB,this._overrideRedirectResult=H.aC}_initialize(Ee){var Ce=this;return(0,c.Z)(function*(){return yield Ce.selectUnderlyingResolver(),Ce.assertedUnderlyingResolver._initialize(Ee)})()}_openPopup(Ee,Ce,mt,Gt){var gn=this;return(0,c.Z)(function*(){return yield gn.selectUnderlyingResolver(),gn.assertedUnderlyingResolver._openPopup(Ee,Ce,mt,Gt)})()}_openRedirect(Ee,Ce,mt,Gt){var gn=this;return(0,c.Z)(function*(){return yield gn.selectUnderlyingResolver(),gn.assertedUnderlyingResolver._openRedirect(Ee,Ce,mt,Gt)})()}_isIframeWebStorageSupported(Ee,Ce){this.assertedUnderlyingResolver._isIframeWebStorageSupported(Ee,Ce)}_originValidation(Ee){return this.assertedUnderlyingResolver._originValidation(Ee)}get _shouldInitProactively(){return Dr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return lt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var Ee=this;return(0,c.Z)(function*(){if(Ee.underlyingResolver)return;const Ce=yield function Jn(){return jt.apply(this,arguments)}();Ee.underlyingResolver=Ce?Ee.cordovaResolver:Ee.browserResolver})()}}function Jt(ze){return ze.unwrap()}function $n(ze){return Zn(ze)}function Zn(ze){const{_tokenResponse:Ee}=ze instanceof Te.ZR?ze.customData:ze;if(!Ee)return null;if(!(ze instanceof Te.ZR)&&"temporaryProof"in Ee&&"phoneNumber"in Ee)return H.P.credentialFromResult(ze);const Ce=Ee.providerId;if(!Ce||Ce===H.o.PASSWORD)return null;let mt;switch(Ce){case H.o.GOOGLE:mt=H.Q;break;case H.o.FACEBOOK:mt=H.N;break;case H.o.GITHUB:mt=H.T;break;case H.o.TWITTER:mt=H.W;break;default:const{oauthIdToken:Gt,oauthAccessToken:gn,oauthTokenSecret:bn,pendingToken:de,nonce:le}=Ee;return gn||bn||Gt||de?de?Ce.startsWith("saml.")?H.aL._create(Ce,de):H.J._fromParams({providerId:Ce,signInMethod:Ce,pendingToken:de,idToken:Gt,accessToken:gn}):new H.U(Ce).credential({idToken:Gt,accessToken:gn,rawNonce:le}):null}return ze instanceof Te.ZR?mt.credentialFromError(ze):mt.credentialFromResult(ze)}function Mn(ze,Ee){return Ee.catch(Ce=>{throw Ce instanceof Te.ZR&&function Wt(ze,Ee){var Ce,mt;const Gt=null===(Ce=Ee.customData)||void 0===Ce?void 0:Ce._tokenResponse;if("auth/multi-factor-auth-required"===(null===(mt=Ee)||void 0===mt?void 0:mt.code))Ee.resolver=new De(ze,H.an(ze,Ee));else if(Gt){const gn=Zn(Ee),bn=Ee;gn&&(bn.credential=gn,bn.tenantId=Gt.tenantId||void 0,bn.email=Gt.email||void 0,bn.phoneNumber=Gt.phoneNumber||void 0)}}(ze,Ce),Ce}).then(Ce=>{const Gt=Ce.user;return{operationType:Ce.operationType,credential:$n(Ce),additionalUserInfo:H.al(Ce),user:oe.getOrCreate(Gt)}})}function Nr(ze,Ee){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,c.Z)(function*(ze,Ee){const Ce=yield Ee;return{verificationId:Ce.verificationId,confirm:mt=>Mn(ze,Ce.confirm(mt))}})).apply(this,arguments)}class De{constructor(Ee,Ce){this.resolver=Ce,this.auth=function An(ze){return ze.wrapped()}(Ee)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(Ee){return Mn(Jt(this.auth),this.resolver.resolveSignIn(Ee))}}class oe{constructor(Ee){this._delegate=Ee,this.multiFactor=H.ao(Ee)}static getOrCreate(Ee){return oe.USER_MAP.has(Ee)||oe.USER_MAP.set(Ee,new oe(Ee)),oe.USER_MAP.get(Ee)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(Ee){return this._delegate.getIdTokenResult(Ee)}getIdToken(Ee){return this._delegate.getIdToken(Ee)}linkAndRetrieveDataWithCredential(Ee){return this.linkWithCredential(Ee)}linkWithCredential(Ee){var Ce=this;return(0,c.Z)(function*(){return Mn(Ce.auth,H.Z(Ce._delegate,Ee))})()}linkWithPhoneNumber(Ee,Ce){var mt=this;return(0,c.Z)(function*(){return Nr(mt.auth,H.l(mt._delegate,Ee,Ce))})()}linkWithPopup(Ee){var Ce=this;return(0,c.Z)(function*(){return Mn(Ce.auth,H.d(Ce._delegate,Ee,ht))})()}linkWithRedirect(Ee){var Ce=this;return(0,c.Z)(function*(){return yield mr(H.aE(Ce.auth)),H.g(Ce._delegate,Ee,ht)})()}reauthenticateAndRetrieveDataWithCredential(Ee){return this.reauthenticateWithCredential(Ee)}reauthenticateWithCredential(Ee){var Ce=this;return(0,c.Z)(function*(){return Mn(Ce.auth,H._(Ce._delegate,Ee))})()}reauthenticateWithPhoneNumber(Ee,Ce){return Nr(this.auth,H.r(this._delegate,Ee,Ce))}reauthenticateWithPopup(Ee){return Mn(this.auth,H.e(this._delegate,Ee,ht))}reauthenticateWithRedirect(Ee){var Ce=this;return(0,c.Z)(function*(){return yield mr(H.aE(Ce.auth)),H.h(Ce._delegate,Ee,ht)})()}sendEmailVerification(Ee){return H.ab(this._delegate,Ee)}unlink(Ee){var Ce=this;return(0,c.Z)(function*(){return yield H.ak(Ce._delegate,Ee),Ce})()}updateEmail(Ee){return H.ag(this._delegate,Ee)}updatePassword(Ee){return H.ah(this._delegate,Ee)}updatePhoneNumber(Ee){return H.u(this._delegate,Ee)}updateProfile(Ee){return H.af(this._delegate,Ee)}verifyBeforeUpdateEmail(Ee,Ce){return H.ac(this._delegate,Ee,Ce)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}oe.USER_MAP=new WeakMap;const me=H.ax;let Me=(()=>{class ze{constructor(Ce,mt){if(this.app=Ce,mt.isInitialized())return this._delegate=mt.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Gt}=Ce.options;me(Gt,"invalid-api-key",{appName:Ce.name}),me(Gt,"invalid-api-key",{appName:Ce.name});const gn=typeof window<"u"?ht:void 0;this._delegate=mt.initialize({options:{persistence:j(Gt,Ce.name),popupRedirectResolver:gn}}),this._delegate._updateErrorMap(H.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?oe.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(Ce){this._delegate.languageCode=Ce}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(Ce){this._delegate.tenantId=Ce}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(Ce,mt){H.G(this._delegate,Ce,mt)}applyActionCode(Ce){return H.a2(this._delegate,Ce)}checkActionCode(Ce){return H.a3(this._delegate,Ce)}confirmPasswordReset(Ce,mt){return H.a1(this._delegate,Ce,mt)}createUserWithEmailAndPassword(Ce,mt){var Gt=this;return(0,c.Z)(function*(){return Mn(Gt._delegate,H.a5(Gt._delegate,Ce,mt))})()}fetchProvidersForEmail(Ce){return this.fetchSignInMethodsForEmail(Ce)}fetchSignInMethodsForEmail(Ce){return H.aa(this._delegate,Ce)}isSignInWithEmailLink(Ce){return H.a8(this._delegate,Ce)}getRedirectResult(){var Ce=this;return(0,c.Z)(function*(){me(On(),Ce._delegate,"operation-not-supported-in-this-environment");const mt=yield H.j(Ce._delegate,ht);return mt?Mn(Ce._delegate,Promise.resolve(mt)):{credential:null,user:null}})()}addFrameworkForLogging(Ce){!function sn(ze,Ee){(0,H.aE)(ze)._logFramework(Ee)}(this._delegate,Ce)}onAuthStateChanged(Ce,mt,Gt){const{next:gn,error:bn,complete:de}=te(Ce,mt,Gt);return this._delegate.onAuthStateChanged(gn,bn,de)}onIdTokenChanged(Ce,mt,Gt){const{next:gn,error:bn,complete:de}=te(Ce,mt,Gt);return this._delegate.onIdTokenChanged(gn,bn,de)}sendSignInLinkToEmail(Ce,mt){return H.a7(this._delegate,Ce,mt)}sendPasswordResetEmail(Ce,mt){return H.a0(this._delegate,Ce,mt||void 0)}setPersistence(Ce){var mt=this;return(0,c.Z)(function*(){let Gt;switch(function si(ze,Ee){zn(Object.values(xn).includes(Ee),ze,"invalid-persistence-type"),(0,Te.b$)()?zn(Ee!==xn.SESSION,ze,"unsupported-persistence-type"):(0,Te.UG)()?zn(Ee===xn.NONE,ze,"unsupported-persistence-type"):tn()?zn(Ee===xn.NONE||Ee===xn.LOCAL&&(0,Te.hl)(),ze,"unsupported-persistence-type"):zn(Ee===xn.NONE||rr(),ze,"unsupported-persistence-type")}(mt._delegate,Ce),Ce){case xn.SESSION:Gt=H.a;break;case xn.LOCAL:Gt=(yield H.ay(H.i)._isAvailable())?H.i:H.b;break;case xn.NONE:Gt=H.L;break;default:return H.at("argument-error",{appName:mt._delegate.name})}return mt._delegate.setPersistence(Gt)})()}signInAndRetrieveDataWithCredential(Ce){return this.signInWithCredential(Ce)}signInAnonymously(){return Mn(this._delegate,H.X(this._delegate))}signInWithCredential(Ce){return Mn(this._delegate,H.Y(this._delegate,Ce))}signInWithCustomToken(Ce){return Mn(this._delegate,H.$(this._delegate,Ce))}signInWithEmailAndPassword(Ce,mt){return Mn(this._delegate,H.a6(this._delegate,Ce,mt))}signInWithEmailLink(Ce,mt){return Mn(this._delegate,H.a9(this._delegate,Ce,mt))}signInWithPhoneNumber(Ce,mt){return Nr(this._delegate,H.s(this._delegate,Ce,mt))}signInWithPopup(Ce){var mt=this;return(0,c.Z)(function*(){return me(On(),mt._delegate,"operation-not-supported-in-this-environment"),Mn(mt._delegate,H.c(mt._delegate,Ce,ht))})()}signInWithRedirect(Ce){var mt=this;return(0,c.Z)(function*(){return me(On(),mt._delegate,"operation-not-supported-in-this-environment"),yield mr(mt._delegate),H.f(mt._delegate,Ce,ht)})()}updateCurrentUser(Ce){return this._delegate.updateCurrentUser(Ce)}verifyPasswordResetCode(Ce){return H.a4(this._delegate,Ce)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return ze.Persistence=xn,ze})();function te(ze,Ee,Ce){let mt=ze;"function"!=typeof ze&&({next:mt,error:Ee,complete:Ce}=ze);const Gt=mt;return{next:bn=>Gt(bn&&oe.getOrCreate(bn)),error:Ee,complete:Ce}}function j(ze,Ee){const Ce=function we(ze,Ee){const Ce=pe();if(!Ce)return[];const mt=H.az(Er,ze,Ee);switch(Ce.getItem(mt)){case xn.NONE:return[H.L];case xn.LOCAL:return[H.i,H.a];case xn.SESSION:return[H.a];default:return[]}}(ze,Ee);if(typeof self<"u"&&!Ce.includes(H.i)&&Ce.push(H.i),typeof window<"u")for(const mt of[H.b,H.a])Ce.includes(mt)||Ce.push(mt);return Ce.includes(H.L)||Ce.push(H.L),Ce}class ee{constructor(){this.providerId="phone",this._delegate=new H.P(Jt(k.Z.auth()))}static credential(Ee,Ce){return H.P.credential(Ee,Ce)}verifyPhoneNumber(Ee,Ce){return this._delegate.verifyPhoneNumber(Ee,Ce)}unwrap(){return this._delegate}}ee.PHONE_SIGN_IN_METHOD=H.P.PHONE_SIGN_IN_METHOD,ee.PROVIDER_ID=H.P.PROVIDER_ID;const Ge=H.ax;class xt{constructor(Ee,Ce,mt=k.Z.app()){var Gt;Ge(null===(Gt=mt.options)||void 0===Gt?void 0:Gt.apiKey,"invalid-api-key",{appName:mt.name}),this._delegate=new H.R(Ee,Ce,mt.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Bn(ze){ze.INTERNAL.registerComponent(new Pe.wA("auth-compat",Ee=>{const Ce=Ee.getProvider("app-compat").getImmediate(),mt=Ee.getProvider("auth");return new Me(Ce,mt)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:H.A.EMAIL_SIGNIN,PASSWORD_RESET:H.A.PASSWORD_RESET,RECOVER_EMAIL:H.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:H.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:H.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:H.A.VERIFY_EMAIL}},EmailAuthProvider:H.M,FacebookAuthProvider:H.N,GithubAuthProvider:H.T,GoogleAuthProvider:H.Q,OAuthProvider:H.U,SAMLAuthProvider:H.V,PhoneAuthProvider:ee,PhoneMultiFactorGenerator:H.m,RecaptchaVerifier:xt,TwitterAuthProvider:H.W,Auth:Me,AuthCredential:H.H,Error:Te.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ze.registerVersion("@firebase/auth-compat","0.2.20")}(k.Z)},2731:(nn,ot,V)=>{V.d(ot,{ET:()=>c.ET,IO:()=>c.IO,JU:()=>c.JU,PL:()=>c.PL,ar:()=>c.ar,cf:()=>c.cf,hJ:()=>c.hJ,r7:()=>c.r7});var c=V(5525)},9751:(nn,ot,V)=>{V.d(ot,{y:()=>ce});var c=V(2961),k=V(727),H=V(8822),Te=V(9635),ve=V(2416),Ve=V(576),Pe=V(2806);let ce=(()=>{class ke{constructor(_t){_t&&(this._subscribe=_t)}lift(_t){const nt=new ke;return nt.source=this,nt.operator=_t,nt}subscribe(_t,nt,Ht){const ut=function ge(ke){return ke&&ke instanceof c.Lv||function re(ke){return ke&&(0,Ve.m)(ke.next)&&(0,Ve.m)(ke.error)&&(0,Ve.m)(ke.complete)}(ke)&&(0,k.Nn)(ke)}(_t)?_t:new c.Hp(_t,nt,Ht);return(0,Pe.x)(()=>{const{operator:He,source:bt}=this;ut.add(He?He.call(ut,bt):bt?this._subscribe(ut):this._trySubscribe(ut))}),ut}_trySubscribe(_t){try{return this._subscribe(_t)}catch(nt){_t.error(nt)}}forEach(_t,nt){return new(nt=Ye(nt))((Ht,ut)=>{const He=new c.Hp({next:bt=>{try{_t(bt)}catch(ft){ut(ft),He.unsubscribe()}},error:ut,complete:Ht});this.subscribe(He)})}_subscribe(_t){var nt;return null===(nt=this.source)||void 0===nt?void 0:nt.subscribe(_t)}[H.L](){return this}pipe(..._t){return(0,Te.U)(_t)(this)}toPromise(_t){return new(_t=Ye(_t))((nt,Ht)=>{let ut;this.subscribe(He=>ut=He,He=>Ht(He),()=>nt(ut))})}}return ke.create=vt=>new ke(vt),ke})();function Ye(ke){var vt;return null!==(vt=ke??ve.v.Promise)&&void 0!==vt?vt:Promise}},7579:(nn,ot,V)=>{V.d(ot,{x:()=>Pe});var c=V(9751),k=V(727);const Te=(0,V(3888).d)(Ye=>function(){Ye(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ve=V(8737),Ve=V(2806);let Pe=(()=>{class Ye extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ge){const ke=new ce(this,this);return ke.operator=ge,ke}_throwIfClosed(){if(this.closed)throw new Te}next(ge){(0,Ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ke of this.currentObservers)ke.next(ge)}})}error(ge){(0,Ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ge;const{observers:ke}=this;for(;ke.length;)ke.shift().error(ge)}})}complete(){(0,Ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ge}=this;for(;ge.length;)ge.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ge;return(null===(ge=this.observers)||void 0===ge?void 0:ge.length)>0}_trySubscribe(ge){return this._throwIfClosed(),super._trySubscribe(ge)}_subscribe(ge){return this._throwIfClosed(),this._checkFinalizedStatuses(ge),this._innerSubscribe(ge)}_innerSubscribe(ge){const{hasError:ke,isStopped:vt,observers:_t}=this;return ke||vt?k.Lc:(this.currentObservers=null,_t.push(ge),new k.w0(()=>{this.currentObservers=null,(0,ve.P)(_t,ge)}))}_checkFinalizedStatuses(ge){const{hasError:ke,thrownError:vt,isStopped:_t}=this;ke?ge.error(vt):_t&&ge.complete()}asObservable(){const ge=new c.y;return ge.source=this,ge}}return Ye.create=(re,ge)=>new ce(re,ge),Ye})();class ce extends Pe{constructor(re,ge){super(),this.destination=re,this.source=ge}next(re){var ge,ke;null===(ke=null===(ge=this.destination)||void 0===ge?void 0:ge.next)||void 0===ke||ke.call(ge,re)}error(re){var ge,ke;null===(ke=null===(ge=this.destination)||void 0===ge?void 0:ge.error)||void 0===ke||ke.call(ge,re)}complete(){var re,ge;null===(ge=null===(re=this.destination)||void 0===re?void 0:re.complete)||void 0===ge||ge.call(re)}_subscribe(re){var ge,ke;return null!==(ke=null===(ge=this.source)||void 0===ge?void 0:ge.subscribe(re))&&void 0!==ke?ke:k.Lc}}},2961:(nn,ot,V)=>{V.d(ot,{Hp:()=>Ht,Lv:()=>ke});var c=V(576),k=V(727),H=V(2416),Te=V(7849);function ve(){}const Ve=Ye("C",void 0,void 0);function Ye(ae,Ae,Xe){return{kind:ae,value:Ae,error:Xe}}var re=V(3410),ge=V(2806);class ke extends k.w0{constructor(Ae){super(),this.isStopped=!1,Ae?(this.destination=Ae,(0,k.Nn)(Ae)&&Ae.add(this)):this.destination=ft}static create(Ae,Xe,Nt){return new Ht(Ae,Xe,Nt)}next(Ae){this.isStopped?bt(function ce(ae){return Ye("N",ae,void 0)}(Ae),this):this._next(Ae)}error(Ae){this.isStopped?bt(function Pe(ae){return Ye("E",void 0,ae)}(Ae),this):(this.isStopped=!0,this._error(Ae))}complete(){this.isStopped?bt(Ve,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ae){this.destination.next(Ae)}_error(Ae){try{this.destination.error(Ae)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const vt=Function.prototype.bind;function _t(ae,Ae){return vt.call(ae,Ae)}class nt{constructor(Ae){this.partialObserver=Ae}next(Ae){const{partialObserver:Xe}=this;if(Xe.next)try{Xe.next(Ae)}catch(Nt){ut(Nt)}}error(Ae){const{partialObserver:Xe}=this;if(Xe.error)try{Xe.error(Ae)}catch(Nt){ut(Nt)}else ut(Ae)}complete(){const{partialObserver:Ae}=this;if(Ae.complete)try{Ae.complete()}catch(Xe){ut(Xe)}}}class Ht extends ke{constructor(Ae,Xe,Nt){let Fe;if(super(),(0,c.m)(Ae)||!Ae)Fe={next:Ae??void 0,error:Xe??void 0,complete:Nt??void 0};else{let We;this&&H.v.useDeprecatedNextContext?(We=Object.create(Ae),We.unsubscribe=()=>this.unsubscribe(),Fe={next:Ae.next&&_t(Ae.next,We),error:Ae.error&&_t(Ae.error,We),complete:Ae.complete&&_t(Ae.complete,We)}):Fe=Ae}this.destination=new nt(Fe)}}function ut(ae){H.v.useDeprecatedSynchronousErrorHandling?(0,ge.O)(ae):(0,Te.h)(ae)}function bt(ae,Ae){const{onStoppedNotification:Xe}=H.v;Xe&&re.z.setTimeout(()=>Xe(ae,Ae))}const ft={closed:!0,next:ve,error:function He(ae){throw ae},complete:ve}},727:(nn,ot,V)=>{V.d(ot,{Lc:()=>Ve,w0:()=>ve,Nn:()=>Pe});var c=V(576);const H=(0,V(3888).d)(Ye=>function(ge){Ye(this),this.message=ge?`${ge.length} errors occurred during unsubscription:\n${ge.map((ke,vt)=>`${vt+1}) ${ke.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ge});var Te=V(8737);class ve{constructor(re){this.initialTeardown=re,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let re;if(!this.closed){this.closed=!0;const{_parentage:ge}=this;if(ge)if(this._parentage=null,Array.isArray(ge))for(const _t of ge)_t.remove(this);else ge.remove(this);const{initialTeardown:ke}=this;if((0,c.m)(ke))try{ke()}catch(_t){re=_t instanceof H?_t.errors:[_t]}const{_finalizers:vt}=this;if(vt){this._finalizers=null;for(const _t of vt)try{ce(_t)}catch(nt){re=re??[],nt instanceof H?re=[...re,...nt.errors]:re.push(nt)}}if(re)throw new H(re)}}add(re){var ge;if(re&&re!==this)if(this.closed)ce(re);else{if(re instanceof ve){if(re.closed||re._hasParent(this))return;re._addParent(this)}(this._finalizers=null!==(ge=this._finalizers)&&void 0!==ge?ge:[]).push(re)}}_hasParent(re){const{_parentage:ge}=this;return ge===re||Array.isArray(ge)&&ge.includes(re)}_addParent(re){const{_parentage:ge}=this;this._parentage=Array.isArray(ge)?(ge.push(re),ge):ge?[ge,re]:re}_removeParent(re){const{_parentage:ge}=this;ge===re?this._parentage=null:Array.isArray(ge)&&(0,Te.P)(ge,re)}remove(re){const{_finalizers:ge}=this;ge&&(0,Te.P)(ge,re),re instanceof ve&&re._removeParent(this)}}ve.EMPTY=(()=>{const Ye=new ve;return Ye.closed=!0,Ye})();const Ve=ve.EMPTY;function Pe(Ye){return Ye instanceof ve||Ye&&"closed"in Ye&&(0,c.m)(Ye.remove)&&(0,c.m)(Ye.add)&&(0,c.m)(Ye.unsubscribe)}function ce(Ye){(0,c.m)(Ye)?Ye():Ye.unsubscribe()}},2416:(nn,ot,V)=>{V.d(ot,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(nn,ot,V)=>{V.d(ot,{z:()=>ve});var c=V(8189),H=V(7669),Te=V(8996);function ve(...Ve){return function k(){return(0,c.J)(1)}()((0,Te.D)(Ve,(0,H.yG)(Ve)))}},515:(nn,ot,V)=>{V.d(ot,{E:()=>k});const k=new(V(9751).y)(ve=>ve.complete())},8996:(nn,ot,V)=>{V.d(ot,{D:()=>Ae});var c=V(8421),k=V(5363),H=V(9468),Ve=V(9751),ce=V(2202),Ye=V(576),re=V(9672);function ke(Xe,Nt){if(!Xe)throw new Error("Iterable cannot be null");return new Ve.y(Fe=>{(0,re.f)(Fe,Nt,()=>{const We=Xe[Symbol.asyncIterator]();(0,re.f)(Fe,Nt,()=>{We.next().then(Je=>{Je.done?Fe.complete():Fe.next(Je.value)})},0,!0)})})}var vt=V(3670),_t=V(8239),nt=V(1144),Ht=V(6495),ut=V(2206),He=V(4532),bt=V(3260);function Ae(Xe,Nt){return Nt?function ae(Xe,Nt){if(null!=Xe){if((0,vt.c)(Xe))return function Te(Xe,Nt){return(0,c.Xf)(Xe).pipe((0,H.R)(Nt),(0,k.Q)(Nt))}(Xe,Nt);if((0,nt.z)(Xe))return function Pe(Xe,Nt){return new Ve.y(Fe=>{let We=0;return Nt.schedule(function(){We===Xe.length?Fe.complete():(Fe.next(Xe[We++]),Fe.closed||this.schedule())})})}(Xe,Nt);if((0,_t.t)(Xe))return function ve(Xe,Nt){return(0,c.Xf)(Xe).pipe((0,H.R)(Nt),(0,k.Q)(Nt))}(Xe,Nt);if((0,ut.D)(Xe))return ke(Xe,Nt);if((0,Ht.T)(Xe))return function ge(Xe,Nt){return new Ve.y(Fe=>{let We;return(0,re.f)(Fe,Nt,()=>{We=Xe[ce.h](),(0,re.f)(Fe,Nt,()=>{let Je,xe;try{({value:Je,done:xe}=We.next())}catch(Le){return void Fe.error(Le)}xe?Fe.complete():Fe.next(Je)},0,!0)}),()=>(0,Ye.m)(We?.return)&&We.return()})}(Xe,Nt);if((0,bt.L)(Xe))return function ft(Xe,Nt){return ke((0,bt.Q)(Xe),Nt)}(Xe,Nt)}throw(0,He.z)(Xe)}(Xe,Nt):(0,c.Xf)(Xe)}},8421:(nn,ot,V)=>{V.d(ot,{Xf:()=>vt});var c=V(655),k=V(1144),H=V(8239),Te=V(9751),ve=V(3670),Ve=V(2206),Pe=V(4532),ce=V(6495),Ye=V(3260),re=V(576),ge=V(7849),ke=V(8822);function vt(ae){if(ae instanceof Te.y)return ae;if(null!=ae){if((0,ve.c)(ae))return function _t(ae){return new Te.y(Ae=>{const Xe=ae[ke.L]();if((0,re.m)(Xe.subscribe))return Xe.subscribe(Ae);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ae);if((0,k.z)(ae))return function nt(ae){return new Te.y(Ae=>{for(let Xe=0;Xe<ae.length&&!Ae.closed;Xe++)Ae.next(ae[Xe]);Ae.complete()})}(ae);if((0,H.t)(ae))return function Ht(ae){return new Te.y(Ae=>{ae.then(Xe=>{Ae.closed||(Ae.next(Xe),Ae.complete())},Xe=>Ae.error(Xe)).then(null,ge.h)})}(ae);if((0,Ve.D)(ae))return He(ae);if((0,ce.T)(ae))return function ut(ae){return new Te.y(Ae=>{for(const Xe of ae)if(Ae.next(Xe),Ae.closed)return;Ae.complete()})}(ae);if((0,Ye.L)(ae))return function bt(ae){return He((0,Ye.Q)(ae))}(ae)}throw(0,Pe.z)(ae)}function He(ae){return new Te.y(Ae=>{(function ft(ae,Ae){var Xe,Nt,Fe,We;return(0,c.mG)(this,void 0,void 0,function*(){try{for(Xe=(0,c.KL)(ae);!(Nt=yield Xe.next()).done;)if(Ae.next(Nt.value),Ae.closed)return}catch(Je){Fe={error:Je}}finally{try{Nt&&!Nt.done&&(We=Xe.return)&&(yield We.call(Xe))}finally{if(Fe)throw Fe.error}}Ae.complete()})})(ae,Ae).catch(Xe=>Ae.error(Xe))})}},6451:(nn,ot,V)=>{V.d(ot,{T:()=>Ve});var c=V(8189),k=V(8421),H=V(515),Te=V(7669),ve=V(8996);function Ve(...Pe){const ce=(0,Te.yG)(Pe),Ye=(0,Te._6)(Pe,1/0),re=Pe;return re.length?1===re.length?(0,k.Xf)(re[0]):(0,c.J)(Ye)((0,ve.D)(re,ce)):H.E}},9646:(nn,ot,V)=>{V.d(ot,{of:()=>H});var c=V(7669),k=V(8996);function H(...Te){const ve=(0,c.yG)(Te);return(0,k.D)(Te,ve)}},5403:(nn,ot,V)=>{V.d(ot,{x:()=>k});var c=V(2961);function k(Te,ve,Ve,Pe,ce){return new H(Te,ve,Ve,Pe,ce)}class H extends c.Lv{constructor(ve,Ve,Pe,ce,Ye,re){super(ve),this.onFinalize=Ye,this.shouldUnsubscribe=re,this._next=Ve?function(ge){try{Ve(ge)}catch(ke){ve.error(ke)}}:super._next,this._error=ce?function(ge){try{ce(ge)}catch(ke){ve.error(ke)}finally{this.unsubscribe()}}:super._error,this._complete=Pe?function(){try{Pe()}catch(ge){ve.error(ge)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ve;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ve}=this;super.unsubscribe(),!Ve&&(null===(ve=this.onFinalize)||void 0===ve||ve.call(this))}}}},4351:(nn,ot,V)=>{V.d(ot,{b:()=>H});var c=V(5577),k=V(576);function H(Te,ve){return(0,k.m)(ve)?(0,c.z)(Te,ve,1):(0,c.z)(Te,1)}},6590:(nn,ot,V)=>{V.d(ot,{d:()=>H});var c=V(4482),k=V(5403);function H(Te){return(0,c.e)((ve,Ve)=>{let Pe=!1;ve.subscribe((0,k.x)(Ve,ce=>{Pe=!0,Ve.next(ce)},()=>{Pe||Ve.next(Te),Ve.complete()}))})}},9300:(nn,ot,V)=>{V.d(ot,{h:()=>H});var c=V(4482),k=V(5403);function H(Te,ve){return(0,c.e)((Ve,Pe)=>{let ce=0;Ve.subscribe((0,k.x)(Pe,Ye=>Te.call(ve,Ye,ce++)&&Pe.next(Ye)))})}},590:(nn,ot,V)=>{V.d(ot,{P:()=>Pe});var c=V(6805),k=V(9300),H=V(5698),Te=V(6590),ve=V(8068),Ve=V(4671);function Pe(ce,Ye){const re=arguments.length>=2;return ge=>ge.pipe(ce?(0,k.h)((ke,vt)=>ce(ke,vt,ge)):Ve.y,(0,H.q)(1),re?(0,Te.d)(Ye):(0,ve.T)(()=>new c.K))}},4004:(nn,ot,V)=>{V.d(ot,{U:()=>H});var c=V(4482),k=V(5403);function H(Te,ve){return(0,c.e)((Ve,Pe)=>{let ce=0;Ve.subscribe((0,k.x)(Pe,Ye=>{Pe.next(Te.call(ve,Ye,ce++))}))})}},8189:(nn,ot,V)=>{V.d(ot,{J:()=>H});var c=V(5577),k=V(4671);function H(Te=1/0){return(0,c.z)(k.y,Te)}},5577:(nn,ot,V)=>{V.d(ot,{z:()=>ce});var c=V(4004),k=V(8421),H=V(4482),Te=V(9672),ve=V(5403),Pe=V(576);function ce(Ye,re,ge=1/0){return(0,Pe.m)(re)?ce((ke,vt)=>(0,c.U)((_t,nt)=>re(ke,_t,vt,nt))((0,k.Xf)(Ye(ke,vt))),ge):("number"==typeof re&&(ge=re),(0,H.e)((ke,vt)=>function Ve(Ye,re,ge,ke,vt,_t,nt,Ht){const ut=[];let He=0,bt=0,ft=!1;const ae=()=>{ft&&!ut.length&&!He&&re.complete()},Ae=Nt=>He<ke?Xe(Nt):ut.push(Nt),Xe=Nt=>{_t&&re.next(Nt),He++;let Fe=!1;(0,k.Xf)(ge(Nt,bt++)).subscribe((0,ve.x)(re,We=>{vt?.(We),_t?Ae(We):re.next(We)},()=>{Fe=!0},void 0,()=>{if(Fe)try{for(He--;ut.length&&He<ke;){const We=ut.shift();nt?(0,Te.f)(re,nt,()=>Xe(We)):Xe(We)}ae()}catch(We){re.error(We)}}))};return Ye.subscribe((0,ve.x)(re,Ae,()=>{ft=!0,ae()})),()=>{Ht?.()}}(ke,vt,Ye,ge)))}},5363:(nn,ot,V)=>{V.d(ot,{Q:()=>Te});var c=V(9672),k=V(4482),H=V(5403);function Te(ve,Ve=0){return(0,k.e)((Pe,ce)=>{Pe.subscribe((0,H.x)(ce,Ye=>(0,c.f)(ce,ve,()=>ce.next(Ye),Ve),()=>(0,c.f)(ce,ve,()=>ce.complete(),Ve),Ye=>(0,c.f)(ce,ve,()=>ce.error(Ye),Ve)))})}},5026:(nn,ot,V)=>{V.d(ot,{R:()=>Te});var c=V(4482),k=V(5403);function H(ve,Ve,Pe,ce,Ye){return(re,ge)=>{let ke=Pe,vt=Ve,_t=0;re.subscribe((0,k.x)(ge,nt=>{const Ht=_t++;vt=ke?ve(vt,nt,Ht):(ke=!0,nt),ce&&ge.next(vt)},Ye&&(()=>{ke&&ge.next(vt),ge.complete()})))}}function Te(ve,Ve){return(0,c.e)(H(ve,Ve,arguments.length>=2,!0))}},3099:(nn,ot,V)=>{V.d(ot,{B:()=>ve});var c=V(8421),k=V(7579),H=V(2961),Te=V(4482);function ve(Pe={}){const{connector:ce=(()=>new k.x),resetOnError:Ye=!0,resetOnComplete:re=!0,resetOnRefCountZero:ge=!0}=Pe;return ke=>{let vt,_t,nt,Ht=0,ut=!1,He=!1;const bt=()=>{_t?.unsubscribe(),_t=void 0},ft=()=>{bt(),vt=nt=void 0,ut=He=!1},ae=()=>{const Ae=vt;ft(),Ae?.unsubscribe()};return(0,Te.e)((Ae,Xe)=>{Ht++,!He&&!ut&&bt();const Nt=nt=nt??ce();Xe.add(()=>{Ht--,0===Ht&&!He&&!ut&&(_t=Ve(ae,ge))}),Nt.subscribe(Xe),!vt&&Ht>0&&(vt=new H.Hp({next:Fe=>Nt.next(Fe),error:Fe=>{He=!0,bt(),_t=Ve(ft,Ye,Fe),Nt.error(Fe)},complete:()=>{ut=!0,bt(),_t=Ve(ft,re),Nt.complete()}}),(0,c.Xf)(Ae).subscribe(vt))})(ke)}}function Ve(Pe,ce,...Ye){if(!0===ce)return void Pe();if(!1===ce)return;const re=new H.Hp({next:()=>{re.unsubscribe(),Pe()}});return ce(...Ye).subscribe(re)}},8675:(nn,ot,V)=>{V.d(ot,{O:()=>Te});var c=V(7272),k=V(7669),H=V(4482);function Te(...ve){const Ve=(0,k.yG)(ve);return(0,H.e)((Pe,ce)=>{(Ve?(0,c.z)(ve,Pe,Ve):(0,c.z)(ve,Pe)).subscribe(ce)})}},9468:(nn,ot,V)=>{V.d(ot,{R:()=>k});var c=V(4482);function k(H,Te=0){return(0,c.e)((ve,Ve)=>{Ve.add(H.schedule(()=>ve.subscribe(Ve),Te))})}},3900:(nn,ot,V)=>{V.d(ot,{w:()=>Te});var c=V(8421),k=V(4482),H=V(5403);function Te(ve,Ve){return(0,k.e)((Pe,ce)=>{let Ye=null,re=0,ge=!1;const ke=()=>ge&&!Ye&&ce.complete();Pe.subscribe((0,H.x)(ce,vt=>{Ye?.unsubscribe();let _t=0;const nt=re++;(0,c.Xf)(ve(vt,nt)).subscribe(Ye=(0,H.x)(ce,Ht=>ce.next(Ve?Ve(vt,Ht,nt,_t++):Ht),()=>{Ye=null,ke()}))},()=>{ge=!0,ke()}))})}},5698:(nn,ot,V)=>{V.d(ot,{q:()=>Te});var c=V(515),k=V(4482),H=V(5403);function Te(ve){return ve<=0?()=>c.E:(0,k.e)((Ve,Pe)=>{let ce=0;Ve.subscribe((0,H.x)(Pe,Ye=>{++ce<=ve&&(Pe.next(Ye),ve<=ce&&Pe.complete())}))})}},8505:(nn,ot,V)=>{V.d(ot,{b:()=>ve});var c=V(576),k=V(4482),H=V(5403),Te=V(4671);function ve(Ve,Pe,ce){const Ye=(0,c.m)(Ve)||Pe||ce?{next:Ve,error:Pe,complete:ce}:Ve;return Ye?(0,k.e)((re,ge)=>{var ke;null===(ke=Ye.subscribe)||void 0===ke||ke.call(Ye);let vt=!0;re.subscribe((0,H.x)(ge,_t=>{var nt;null===(nt=Ye.next)||void 0===nt||nt.call(Ye,_t),ge.next(_t)},()=>{var _t;vt=!1,null===(_t=Ye.complete)||void 0===_t||_t.call(Ye),ge.complete()},_t=>{var nt;vt=!1,null===(nt=Ye.error)||void 0===nt||nt.call(Ye,_t),ge.error(_t)},()=>{var _t,nt;vt&&(null===(_t=Ye.unsubscribe)||void 0===_t||_t.call(Ye)),null===(nt=Ye.finalize)||void 0===nt||nt.call(Ye)}))}):Te.y}},8068:(nn,ot,V)=>{V.d(ot,{T:()=>Te});var c=V(6805),k=V(4482),H=V(5403);function Te(Ve=ve){return(0,k.e)((Pe,ce)=>{let Ye=!1;Pe.subscribe((0,H.x)(ce,re=>{Ye=!0,ce.next(re)},()=>Ye?ce.complete():ce.error(Ve())))})}function ve(){return new c.K}},4408:(nn,ot,V)=>{V.d(ot,{o:()=>ve});var c=V(727);class k extends c.w0{constructor(Pe,ce){super()}schedule(Pe,ce=0){return this}}const H={setInterval(Ve,Pe,...ce){const{delegate:Ye}=H;return Ye?.setInterval?Ye.setInterval(Ve,Pe,...ce):setInterval(Ve,Pe,...ce)},clearInterval(Ve){const{delegate:Pe}=H;return(Pe?.clearInterval||clearInterval)(Ve)},delegate:void 0};var Te=V(8737);class ve extends k{constructor(Pe,ce){super(Pe,ce),this.scheduler=Pe,this.work=ce,this.pending=!1}schedule(Pe,ce=0){if(this.closed)return this;this.state=Pe;const Ye=this.id,re=this.scheduler;return null!=Ye&&(this.id=this.recycleAsyncId(re,Ye,ce)),this.pending=!0,this.delay=ce,this.id=this.id||this.requestAsyncId(re,this.id,ce),this}requestAsyncId(Pe,ce,Ye=0){return H.setInterval(Pe.flush.bind(Pe,this),Ye)}recycleAsyncId(Pe,ce,Ye=0){if(null!=Ye&&this.delay===Ye&&!1===this.pending)return ce;H.clearInterval(ce)}execute(Pe,ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ye=this._execute(Pe,ce);if(Ye)return Ye;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Pe,ce){let re,Ye=!1;try{this.work(Pe)}catch(ge){Ye=!0,re=ge||new Error("Scheduled action threw falsy error")}if(Ye)return this.unsubscribe(),re}unsubscribe(){if(!this.closed){const{id:Pe,scheduler:ce}=this,{actions:Ye}=ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Te.P)(Ye,this),null!=Pe&&(this.id=this.recycleAsyncId(ce,Pe,null)),this.delay=null,super.unsubscribe()}}}},7565:(nn,ot,V)=>{V.d(ot,{v:()=>H});var c=V(6063);class k{constructor(ve,Ve=k.now){this.schedulerActionCtor=ve,this.now=Ve}schedule(ve,Ve=0,Pe){return new this.schedulerActionCtor(this,ve).schedule(Pe,Ve)}}k.now=c.l.now;class H extends k{constructor(ve,Ve=k.now){super(ve,Ve),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ve){const{actions:Ve}=this;if(this._active)return void Ve.push(ve);let Pe;this._active=!0;do{if(Pe=ve.execute(ve.state,ve.delay))break}while(ve=Ve.shift());if(this._active=!1,Pe){for(;ve=Ve.shift();)ve.unsubscribe();throw Pe}}}},4986:(nn,ot,V)=>{V.d(ot,{z:()=>H});var c=V(4408);const H=new(V(7565).v)(c.o)},6063:(nn,ot,V)=>{V.d(ot,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(nn,ot,V)=>{V.d(ot,{z:()=>c});const c={setTimeout(k,H,...Te){const{delegate:ve}=c;return ve?.setTimeout?ve.setTimeout(k,H,...Te):setTimeout(k,H,...Te)},clearTimeout(k){const{delegate:H}=c;return(H?.clearTimeout||clearTimeout)(k)},delegate:void 0}},2202:(nn,ot,V)=>{V.d(ot,{h:()=>k});const k=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(nn,ot,V)=>{V.d(ot,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(nn,ot,V)=>{V.d(ot,{K:()=>k});const k=(0,V(3888).d)(H=>function(){H(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(nn,ot,V)=>{V.d(ot,{_6:()=>Ve,jO:()=>Te,yG:()=>ve});var c=V(576);function H(Pe){return Pe[Pe.length-1]}function Te(Pe){return(0,c.m)(H(Pe))?Pe.pop():void 0}function ve(Pe){return function k(Pe){return Pe&&(0,c.m)(Pe.schedule)}(H(Pe))?Pe.pop():void 0}function Ve(Pe,ce){return"number"==typeof H(Pe)?Pe.pop():ce}},4742:(nn,ot,V)=>{V.d(ot,{D:()=>ve});const{isArray:c}=Array,{getPrototypeOf:k,prototype:H,keys:Te}=Object;function ve(Pe){if(1===Pe.length){const ce=Pe[0];if(c(ce))return{args:ce,keys:null};if(function Ve(Pe){return Pe&&"object"==typeof Pe&&k(Pe)===H}(ce)){const Ye=Te(ce);return{args:Ye.map(re=>ce[re]),keys:Ye}}}return{args:Pe,keys:null}}},8737:(nn,ot,V)=>{function c(k,H){if(k){const Te=k.indexOf(H);0<=Te&&k.splice(Te,1)}}V.d(ot,{P:()=>c})},3888:(nn,ot,V)=>{function c(k){const Te=k(ve=>{Error.call(ve),ve.stack=(new Error).stack});return Te.prototype=Object.create(Error.prototype),Te.prototype.constructor=Te,Te}V.d(ot,{d:()=>c})},1810:(nn,ot,V)=>{function c(k,H){return k.reduce((Te,ve,Ve)=>(Te[ve]=H[Ve],Te),{})}V.d(ot,{n:()=>c})},2806:(nn,ot,V)=>{V.d(ot,{O:()=>Te,x:()=>H});var c=V(2416);let k=null;function H(ve){if(c.v.useDeprecatedSynchronousErrorHandling){const Ve=!k;if(Ve&&(k={errorThrown:!1,error:null}),ve(),Ve){const{errorThrown:Pe,error:ce}=k;if(k=null,Pe)throw ce}}else ve()}function Te(ve){c.v.useDeprecatedSynchronousErrorHandling&&k&&(k.errorThrown=!0,k.error=ve)}},9672:(nn,ot,V)=>{function c(k,H,Te,ve=0,Ve=!1){const Pe=H.schedule(function(){Te(),Ve?k.add(this.schedule(null,ve)):this.unsubscribe()},ve);if(k.add(Pe),!Ve)return Pe}V.d(ot,{f:()=>c})},4671:(nn,ot,V)=>{function c(k){return k}V.d(ot,{y:()=>c})},1144:(nn,ot,V)=>{V.d(ot,{z:()=>c});const c=k=>k&&"number"==typeof k.length&&"function"!=typeof k},2206:(nn,ot,V)=>{V.d(ot,{D:()=>k});var c=V(576);function k(H){return Symbol.asyncIterator&&(0,c.m)(H?.[Symbol.asyncIterator])}},576:(nn,ot,V)=>{function c(k){return"function"==typeof k}V.d(ot,{m:()=>c})},3670:(nn,ot,V)=>{V.d(ot,{c:()=>H});var c=V(8822),k=V(576);function H(Te){return(0,k.m)(Te[c.L])}},6495:(nn,ot,V)=>{V.d(ot,{T:()=>H});var c=V(2202),k=V(576);function H(Te){return(0,k.m)(Te?.[c.h])}},8239:(nn,ot,V)=>{V.d(ot,{t:()=>k});var c=V(576);function k(H){return(0,c.m)(H?.then)}},3260:(nn,ot,V)=>{V.d(ot,{L:()=>Te,Q:()=>H});var c=V(655),k=V(576);function H(ve){return(0,c.FC)(this,arguments,function*(){const Pe=ve.getReader();try{for(;;){const{value:ce,done:Ye}=yield(0,c.qq)(Pe.read());if(Ye)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(ce)}}finally{Pe.releaseLock()}})}function Te(ve){return(0,k.m)(ve?.getReader)}},4482:(nn,ot,V)=>{V.d(ot,{A:()=>k,e:()=>H});var c=V(576);function k(Te){return(0,c.m)(Te?.lift)}function H(Te){return ve=>{if(k(ve))return ve.lift(function(Ve){try{return Te(Ve,this)}catch(Pe){this.error(Pe)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(nn,ot,V)=>{V.d(ot,{Z:()=>Te});var c=V(4004);const{isArray:k}=Array;function Te(ve){return(0,c.U)(Ve=>function H(ve,Ve){return k(Ve)?ve(...Ve):ve(Ve)}(ve,Ve))}},9635:(nn,ot,V)=>{V.d(ot,{U:()=>H,z:()=>k});var c=V(4671);function k(...Te){return H(Te)}function H(Te){return 0===Te.length?c.y:1===Te.length?Te[0]:function(Ve){return Te.reduce((Pe,ce)=>ce(Pe),Ve)}}},7849:(nn,ot,V)=>{V.d(ot,{h:()=>H});var c=V(2416),k=V(3410);function H(Te){k.z.setTimeout(()=>{const{onUnhandledError:ve}=c.v;if(!ve)throw Te;ve(Te)})}},4532:(nn,ot,V)=>{function c(k){return new TypeError(`You provided ${null!==k&&"object"==typeof k?"an invalid object":`'${k}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(ot,{z:()=>c})},655:(nn,ot,V)=>{function Te(xe,Le){var $e={};for(var Ke in xe)Object.prototype.hasOwnProperty.call(xe,Ke)&&Le.indexOf(Ke)<0&&($e[Ke]=xe[Ke]);if(null!=xe&&"function"==typeof Object.getOwnPropertySymbols){var Tt=0;for(Ke=Object.getOwnPropertySymbols(xe);Tt<Ke.length;Tt++)Le.indexOf(Ke[Tt])<0&&Object.prototype.propertyIsEnumerable.call(xe,Ke[Tt])&&($e[Ke[Tt]]=xe[Ke[Tt]])}return $e}function ce(xe,Le,$e,Ke){return new($e||($e=Promise))(function(Rt,kt){function Yt(sn){try{Ct(Ke.next(sn))}catch(dn){kt(dn)}}function an(sn){try{Ct(Ke.throw(sn))}catch(dn){kt(dn)}}function Ct(sn){sn.done?Rt(sn.value):function Tt(Rt){return Rt instanceof $e?Rt:new $e(function(kt){kt(Rt)})}(sn.value).then(Yt,an)}Ct((Ke=Ke.apply(xe,Le||[])).next())})}function ut(xe){return this instanceof ut?(this.v=xe,this):new ut(xe)}function He(xe,Le,$e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Tt,Ke=$e.apply(xe,Le||[]),Rt=[];return Tt={},kt("next"),kt("throw"),kt("return"),Tt[Symbol.asyncIterator]=function(){return this},Tt;function kt(st){Ke[st]&&(Tt[st]=function(Dt){return new Promise(function(Re,qe){Rt.push([st,Dt,Re,qe])>1||Yt(st,Dt)})})}function Yt(st,Dt){try{!function an(st){st.value instanceof ut?Promise.resolve(st.value.v).then(Ct,sn):dn(Rt[0][2],st)}(Ke[st](Dt))}catch(Re){dn(Rt[0][3],Re)}}function Ct(st){Yt("next",st)}function sn(st){Yt("throw",st)}function dn(st,Dt){st(Dt),Rt.shift(),Rt.length&&Yt(Rt[0][0],Rt[0][1])}}function ft(xe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $e,Le=xe[Symbol.asyncIterator];return Le?Le.call(xe):(xe=function ke(xe){var Le="function"==typeof Symbol&&Symbol.iterator,$e=Le&&xe[Le],Ke=0;if($e)return $e.call(xe);if(xe&&"number"==typeof xe.length)return{next:function(){return xe&&Ke>=xe.length&&(xe=void 0),{value:xe&&xe[Ke++],done:!xe}}};throw new TypeError(Le?"Object is not iterable.":"Symbol.iterator is not defined.")}(xe),$e={},Ke("next"),Ke("throw"),Ke("return"),$e[Symbol.asyncIterator]=function(){return this},$e);function Ke(Rt){$e[Rt]=xe[Rt]&&function(kt){return new Promise(function(Yt,an){!function Tt(Rt,kt,Yt,an){Promise.resolve(an).then(function(Ct){Rt({value:Ct,done:Yt})},kt)}(Yt,an,(kt=xe[Rt](kt)).done,kt.value)})}}}V.d(ot,{FC:()=>He,KL:()=>ft,_T:()=>Te,mG:()=>ce,qq:()=>ut})},7340:(nn,ot,V)=>{V.d(ot,{LC:()=>k,SB:()=>Ye,X$:()=>Te,ZE:()=>bt,ZN:()=>He,_j:()=>c,eR:()=>ge,jt:()=>ve,k1:()=>ft,l3:()=>H,oB:()=>ce,vP:()=>Pe});class c{}class k{}const H="*";function Te(ae,Ae){return{type:7,name:ae,definitions:Ae,options:{}}}function ve(ae,Ae=null){return{type:4,styles:Ae,timings:ae}}function Pe(ae,Ae=null){return{type:2,steps:ae,options:Ae}}function ce(ae){return{type:6,styles:ae,offset:null}}function Ye(ae,Ae,Xe){return{type:0,name:ae,styles:Ae,options:Xe}}function ge(ae,Ae,Xe=null){return{type:1,expr:ae,animation:Ae,options:Xe}}function ut(ae){Promise.resolve().then(ae)}class He{constructor(Ae=0,Xe=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Ae+Xe}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ae=>Ae()),this._onDoneFns=[])}onStart(Ae){this._originalOnStartFns.push(Ae),this._onStartFns.push(Ae)}onDone(Ae){this._originalOnDoneFns.push(Ae),this._onDoneFns.push(Ae)}onDestroy(Ae){this._onDestroyFns.push(Ae)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){ut(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Ae=>Ae()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Ae=>Ae()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Ae){this._position=this.totalTime?Ae*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Ae){const Xe="start"==Ae?this._onStartFns:this._onDoneFns;Xe.forEach(Nt=>Nt()),Xe.length=0}}class bt{constructor(Ae){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Ae;let Xe=0,Nt=0,Fe=0;const We=this.players.length;0==We?ut(()=>this._onFinish()):this.players.forEach(Je=>{Je.onDone(()=>{++Xe==We&&this._onFinish()}),Je.onDestroy(()=>{++Nt==We&&this._onDestroy()}),Je.onStart(()=>{++Fe==We&&this._onStart()})}),this.totalTime=this.players.reduce((Je,xe)=>Math.max(Je,xe.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ae=>Ae()),this._onDoneFns=[])}init(){this.players.forEach(Ae=>Ae.init())}onStart(Ae){this._onStartFns.push(Ae)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Ae=>Ae()),this._onStartFns=[])}onDone(Ae){this._onDoneFns.push(Ae)}onDestroy(Ae){this._onDestroyFns.push(Ae)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Ae=>Ae.play())}pause(){this.players.forEach(Ae=>Ae.pause())}restart(){this.players.forEach(Ae=>Ae.restart())}finish(){this._onFinish(),this.players.forEach(Ae=>Ae.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Ae=>Ae.destroy()),this._onDestroyFns.forEach(Ae=>Ae()),this._onDestroyFns=[])}reset(){this.players.forEach(Ae=>Ae.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Ae){const Xe=Ae*this.totalTime;this.players.forEach(Nt=>{const Fe=Nt.totalTime?Math.min(1,Xe/Nt.totalTime):1;Nt.setPosition(Fe)})}getPosition(){const Ae=this.players.reduce((Xe,Nt)=>null===Xe||Nt.totalTime>Xe.totalTime?Nt:Xe,null);return null!=Ae?Ae.getPosition():0}beforeDestroy(){this.players.forEach(Ae=>{Ae.beforeDestroy&&Ae.beforeDestroy()})}triggerCallback(Ae){const Xe="start"==Ae?this._onStartFns:this._onDoneFns;Xe.forEach(Nt=>Nt()),Xe.length=0}}const ft="!"},6895:(nn,ot,V)=>{V.d(ot,{Do:()=>ft,EM:()=>yo,HT:()=>ve,JF:()=>fs,K0:()=>Pe,Mx:()=>ls,O5:()=>it,Ov:()=>Wo,PC:()=>Ai,PM:()=>Fs,S$:()=>ut,V_:()=>re,Ye:()=>ae,b0:()=>bt,bD:()=>wi,ez:()=>ta,mk:()=>Xn,q:()=>H,sg:()=>bi,w_:()=>Ve});var c=V(4650);let k=null;function H(){return k}function ve(S){k||(k=S)}class Ve{}const Pe=new c.OlP("DocumentToken");let ce=(()=>{class S{historyGo(N){throw new Error("Not implemented")}}return S.\u0275fac=function(N){return new(N||S)},S.\u0275prov=c.Yz7({token:S,factory:function(){return function Ye(){return(0,c.LFG)(ge)}()},providedIn:"platform"}),S})();const re=new c.OlP("Location Initialized");let ge=(()=>{class S extends ce{constructor(N){super(),this._doc=N,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return H().getBaseHref(this._doc)}onPopState(N){const Z=H().getGlobalEventTarget(this._doc,"window");return Z.addEventListener("popstate",N,!1),()=>Z.removeEventListener("popstate",N)}onHashChange(N){const Z=H().getGlobalEventTarget(this._doc,"window");return Z.addEventListener("hashchange",N,!1),()=>Z.removeEventListener("hashchange",N)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(N){this.location.pathname=N}pushState(N,Z,Ie){ke()?this._history.pushState(N,Z,Ie):this.location.hash=Ie}replaceState(N,Z,Ie){ke()?this._history.replaceState(N,Z,Ie):this.location.hash=Ie}forward(){this._history.forward()}back(){this._history.back()}historyGo(N=0){this._history.go(N)}getState(){return this._history.state}}return S.\u0275fac=function(N){return new(N||S)(c.LFG(Pe))},S.\u0275prov=c.Yz7({token:S,factory:function(){return function vt(){return new ge((0,c.LFG)(Pe))}()},providedIn:"platform"}),S})();function ke(){return!!window.history.pushState}function _t(S,G){if(0==S.length)return G;if(0==G.length)return S;let N=0;return S.endsWith("/")&&N++,G.startsWith("/")&&N++,2==N?S+G.substring(1):1==N?S+G:S+"/"+G}function nt(S){const G=S.match(/#|\?|$/),N=G&&G.index||S.length;return S.slice(0,N-("/"===S[N-1]?1:0))+S.slice(N)}function Ht(S){return S&&"?"!==S[0]?"?"+S:S}let ut=(()=>{class S{historyGo(N){throw new Error("Not implemented")}}return S.\u0275fac=function(N){return new(N||S)},S.\u0275prov=c.Yz7({token:S,factory:function(){return(0,c.f3M)(bt)},providedIn:"root"}),S})();const He=new c.OlP("appBaseHref");let bt=(()=>{class S extends ut{constructor(N,Z){super(),this._platformLocation=N,this._removeListenerFns=[],this._baseHref=Z??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(Pe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(N){this._removeListenerFns.push(this._platformLocation.onPopState(N),this._platformLocation.onHashChange(N))}getBaseHref(){return this._baseHref}prepareExternalUrl(N){return _t(this._baseHref,N)}path(N=!1){const Z=this._platformLocation.pathname+Ht(this._platformLocation.search),Ie=this._platformLocation.hash;return Ie&&N?`${Z}${Ie}`:Z}pushState(N,Z,Ie,yt){const It=this.prepareExternalUrl(Ie+Ht(yt));this._platformLocation.pushState(N,Z,It)}replaceState(N,Z,Ie,yt){const It=this.prepareExternalUrl(Ie+Ht(yt));this._platformLocation.replaceState(N,Z,It)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(N=0){this._platformLocation.historyGo?.(N)}}return S.\u0275fac=function(N){return new(N||S)(c.LFG(ce),c.LFG(He,8))},S.\u0275prov=c.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})(),ft=(()=>{class S extends ut{constructor(N,Z){super(),this._platformLocation=N,this._baseHref="",this._removeListenerFns=[],null!=Z&&(this._baseHref=Z)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(N){this._removeListenerFns.push(this._platformLocation.onPopState(N),this._platformLocation.onHashChange(N))}getBaseHref(){return this._baseHref}path(N=!1){let Z=this._platformLocation.hash;return null==Z&&(Z="#"),Z.length>0?Z.substring(1):Z}prepareExternalUrl(N){const Z=_t(this._baseHref,N);return Z.length>0?"#"+Z:Z}pushState(N,Z,Ie,yt){let It=this.prepareExternalUrl(Ie+Ht(yt));0==It.length&&(It=this._platformLocation.pathname),this._platformLocation.pushState(N,Z,It)}replaceState(N,Z,Ie,yt){let It=this.prepareExternalUrl(Ie+Ht(yt));0==It.length&&(It=this._platformLocation.pathname),this._platformLocation.replaceState(N,Z,It)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(N=0){this._platformLocation.historyGo?.(N)}}return S.\u0275fac=function(N){return new(N||S)(c.LFG(ce),c.LFG(He,8))},S.\u0275prov=c.Yz7({token:S,factory:S.\u0275fac}),S})(),ae=(()=>{class S{constructor(N){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=N;const Z=this._locationStrategy.getBaseHref();this._baseHref=nt(Nt(Z)),this._locationStrategy.onPopState(Ie=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ie.state,type:Ie.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(N=!1){return this.normalize(this._locationStrategy.path(N))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(N,Z=""){return this.path()==this.normalize(N+Ht(Z))}normalize(N){return S.stripTrailingSlash(function Xe(S,G){return S&&G.startsWith(S)?G.substring(S.length):G}(this._baseHref,Nt(N)))}prepareExternalUrl(N){return N&&"/"!==N[0]&&(N="/"+N),this._locationStrategy.prepareExternalUrl(N)}go(N,Z="",Ie=null){this._locationStrategy.pushState(Ie,"",N,Z),this._notifyUrlChangeListeners(this.prepareExternalUrl(N+Ht(Z)),Ie)}replaceState(N,Z="",Ie=null){this._locationStrategy.replaceState(Ie,"",N,Z),this._notifyUrlChangeListeners(this.prepareExternalUrl(N+Ht(Z)),Ie)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(N=0){this._locationStrategy.historyGo?.(N)}onUrlChange(N){return this._urlChangeListeners.push(N),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Z=>{this._notifyUrlChangeListeners(Z.url,Z.state)})),()=>{const Z=this._urlChangeListeners.indexOf(N);this._urlChangeListeners.splice(Z,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(N="",Z){this._urlChangeListeners.forEach(Ie=>Ie(N,Z))}subscribe(N,Z,Ie){return this._subject.subscribe({next:N,error:Z,complete:Ie})}}return S.normalizeQueryParams=Ht,S.joinWithSlash=_t,S.stripTrailingSlash=nt,S.\u0275fac=function(N){return new(N||S)(c.LFG(ut))},S.\u0275prov=c.Yz7({token:S,factory:function(){return function Ae(){return new ae((0,c.LFG)(ut))}()},providedIn:"root"}),S})();function Nt(S){return S.replace(/\/index.html$/,"")}function ls(S,G){G=encodeURIComponent(G);for(const N of S.split(";")){const Z=N.indexOf("="),[Ie,yt]=-1==Z?[N,""]:[N.slice(0,Z),N.slice(Z+1)];if(Ie.trim()===G)return decodeURIComponent(yt)}return null}let Xn=(()=>{class S{constructor(N,Z,Ie,yt){this._iterableDiffers=N,this._keyValueDiffers=Z,this._ngEl=Ie,this._renderer=yt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(N){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof N?N.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(N){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof N?N.split(/\s+/):N,this._rawClass&&((0,c.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const N=this._iterableDiffer.diff(this._rawClass);N&&this._applyIterableChanges(N)}else if(this._keyValueDiffer){const N=this._keyValueDiffer.diff(this._rawClass);N&&this._applyKeyValueChanges(N)}}_applyKeyValueChanges(N){N.forEachAddedItem(Z=>this._toggleClass(Z.key,Z.currentValue)),N.forEachChangedItem(Z=>this._toggleClass(Z.key,Z.currentValue)),N.forEachRemovedItem(Z=>{Z.previousValue&&this._toggleClass(Z.key,!1)})}_applyIterableChanges(N){N.forEachAddedItem(Z=>{if("string"!=typeof Z.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,c.AaK)(Z.item)}`);this._toggleClass(Z.item,!0)}),N.forEachRemovedItem(Z=>this._toggleClass(Z.item,!1))}_applyClasses(N){N&&(Array.isArray(N)||N instanceof Set?N.forEach(Z=>this._toggleClass(Z,!0)):Object.keys(N).forEach(Z=>this._toggleClass(Z,!!N[Z])))}_removeClasses(N){N&&(Array.isArray(N)||N instanceof Set?N.forEach(Z=>this._toggleClass(Z,!1)):Object.keys(N).forEach(Z=>this._toggleClass(Z,!1)))}_toggleClass(N,Z){(N=N.trim())&&N.split(/\s+/g).forEach(Ie=>{Z?this._renderer.addClass(this._ngEl.nativeElement,Ie):this._renderer.removeClass(this._ngEl.nativeElement,Ie)})}}return S.\u0275fac=function(N){return new(N||S)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},S.\u0275dir=c.lG2({type:S,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),S})();class Lr{constructor(G,N,Z,Ie){this.$implicit=G,this.ngForOf=N,this.index=Z,this.count=Ie}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let bi=(()=>{class S{constructor(N,Z,Ie){this._viewContainer=N,this._template=Z,this._differs=Ie,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(N){this._ngForOf=N,this._ngForOfDirty=!0}set ngForTrackBy(N){this._trackByFn=N}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(N){N&&(this._template=N)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const N=this._ngForOf;!this._differ&&N&&(this._differ=this._differs.find(N).create(this.ngForTrackBy))}if(this._differ){const N=this._differ.diff(this._ngForOf);N&&this._applyChanges(N)}}_applyChanges(N){const Z=this._viewContainer;N.forEachOperation((Ie,yt,It)=>{if(null==Ie.previousIndex)Z.createEmbeddedView(this._template,new Lr(Ie.item,this._ngForOf,-1,-1),null===It?void 0:It);else if(null==It)Z.remove(null===yt?void 0:yt);else if(null!==yt){const Tn=Z.get(yt);Z.move(Tn,It),Ze(Tn,Ie)}});for(let Ie=0,yt=Z.length;Ie<yt;Ie++){const Tn=Z.get(Ie).context;Tn.index=Ie,Tn.count=yt,Tn.ngForOf=this._ngForOf}N.forEachIdentityChange(Ie=>{Ze(Z.get(Ie.currentIndex),Ie)})}static ngTemplateContextGuard(N,Z){return!0}}return S.\u0275fac=function(N){return new(N||S)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},S.\u0275dir=c.lG2({type:S,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),S})();function Ze(S,G){S.context.$implicit=G.item}let it=(()=>{class S{constructor(N,Z){this._viewContainer=N,this._context=new Mt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Z}set ngIf(N){this._context.$implicit=this._context.ngIf=N,this._updateView()}set ngIfThen(N){Bt("ngIfThen",N),this._thenTemplateRef=N,this._thenViewRef=null,this._updateView()}set ngIfElse(N){Bt("ngIfElse",N),this._elseTemplateRef=N,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(N,Z){return!0}}return S.\u0275fac=function(N){return new(N||S)(c.Y36(c.s_b),c.Y36(c.Rgc))},S.\u0275dir=c.lG2({type:S,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),S})();class Mt{constructor(){this.$implicit=null,this.ngIf=null}}function Bt(S,G){if(G&&!G.createEmbeddedView)throw new Error(`${S} must be a TemplateRef, but received '${(0,c.AaK)(G)}'.`)}let Ai=(()=>{class S{constructor(N,Z,Ie){this._ngEl=N,this._differs=Z,this._renderer=Ie,this._ngStyle=null,this._differ=null}set ngStyle(N){this._ngStyle=N,!this._differ&&N&&(this._differ=this._differs.find(N).create())}ngDoCheck(){if(this._differ){const N=this._differ.diff(this._ngStyle);N&&this._applyChanges(N)}}_setStyle(N,Z){const[Ie,yt]=N.split("."),It=-1===Ie.indexOf("-")?void 0:c.JOm.DashCase;null!=Z?this._renderer.setStyle(this._ngEl.nativeElement,Ie,yt?`${Z}${yt}`:Z,It):this._renderer.removeStyle(this._ngEl.nativeElement,Ie,It)}_applyChanges(N){N.forEachRemovedItem(Z=>this._setStyle(Z.key,null)),N.forEachAddedItem(Z=>this._setStyle(Z.key,Z.currentValue)),N.forEachChangedItem(Z=>this._setStyle(Z.key,Z.currentValue))}}return S.\u0275fac=function(N){return new(N||S)(c.Y36(c.SBq),c.Y36(c.aQg),c.Y36(c.Qsj))},S.\u0275dir=c.lG2({type:S,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),S})();class No{createSubscription(G,N){return G.subscribe({next:N,error:Z=>{throw Z}})}dispose(G){G.unsubscribe()}}class rs{createSubscription(G,N){return G.then(N,Z=>{throw Z})}dispose(G){}}const ua=new rs,Os=new No;let Wo=(()=>{class S{constructor(N){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=N}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(N){return this._obj?N!==this._obj?(this._dispose(),this.transform(N)):this._latestValue:(N&&this._subscribe(N),this._latestValue)}_subscribe(N){this._obj=N,this._strategy=this._selectStrategy(N),this._subscription=this._strategy.createSubscription(N,Z=>this._updateLatestValue(N,Z))}_selectStrategy(N){if((0,c.QGY)(N))return ua;if((0,c.F4k)(N))return Os;throw function Vi(S,G){return new c.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(N,Z){N===this._obj&&(this._latestValue=Z,this._ref.markForCheck())}}return S.\u0275fac=function(N){return new(N||S)(c.Y36(c.sBO,16))},S.\u0275pipe=c.Yjl({name:"async",type:S,pure:!1,standalone:!0}),S})(),ta=(()=>{class S{}return S.\u0275fac=function(N){return new(N||S)},S.\u0275mod=c.oAB({type:S}),S.\u0275inj=c.cJS({}),S})();const wi="browser";function Fs(S){return"server"===S}let yo=(()=>{class S{}return S.\u0275prov=(0,c.Yz7)({token:S,providedIn:"root",factory:()=>new Ko((0,c.LFG)(Pe),window)}),S})();class Ko{constructor(G,N){this.document=G,this.window=N,this.offset=()=>[0,0]}setOffset(G){this.offset=Array.isArray(G)?()=>G:G}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(G){this.supportsScrolling()&&this.window.scrollTo(G[0],G[1])}scrollToAnchor(G){if(!this.supportsScrolling())return;const N=function Jr(S,G){const N=S.getElementById(G)||S.getElementsByName(G)[0];if(N)return N;if("function"==typeof S.createTreeWalker&&S.body&&(S.body.createShadowRoot||S.body.attachShadow)){const Z=S.createTreeWalker(S.body,NodeFilter.SHOW_ELEMENT);let Ie=Z.currentNode;for(;Ie;){const yt=Ie.shadowRoot;if(yt){const It=yt.getElementById(G)||yt.querySelector(`[name="${G}"]`);if(It)return It}Ie=Z.nextNode()}}return null}(this.document,G);N&&(this.scrollToElement(N),N.focus())}setHistoryScrollRestoration(G){if(this.supportScrollRestoration()){const N=this.window.history;N&&N.scrollRestoration&&(N.scrollRestoration=G)}}scrollToElement(G){const N=G.getBoundingClientRect(),Z=N.left+this.window.pageXOffset,Ie=N.top+this.window.pageYOffset,yt=this.offset();this.window.scrollTo(Z-yt[0],Ie-yt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const G=Bi(this.window.history)||Bi(Object.getPrototypeOf(this.window.history));return!(!G||!G.writable&&!G.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Bi(S){return Object.getOwnPropertyDescriptor(S,"scrollRestoration")}class fs{}},529:(nn,ot,V)=>{V.d(ot,{JF:()=>Er,eN:()=>Rt});var c=V(6895),k=V(4650),H=V(9646),Te=V(9751),ve=V(4351),Ve=V(9300),Pe=V(4004);class ce{}class Ye{}class re{constructor(we){this.normalizedNames=new Map,this.lazyUpdate=null,we?this.lazyInit="string"==typeof we?()=>{this.headers=new Map,we.split("\n").forEach(pe=>{const lt=pe.indexOf(":");if(lt>0){const ht=pe.slice(0,lt),Jt=ht.toLowerCase(),An=pe.slice(lt+1).trim();this.maybeSetNormalizedName(ht,Jt),this.headers.has(Jt)?this.headers.get(Jt).push(An):this.headers.set(Jt,[An])}})}:()=>{this.headers=new Map,Object.keys(we).forEach(pe=>{let lt=we[pe];const ht=pe.toLowerCase();"string"==typeof lt&&(lt=[lt]),lt.length>0&&(this.headers.set(ht,lt),this.maybeSetNormalizedName(pe,ht))})}:this.headers=new Map}has(we){return this.init(),this.headers.has(we.toLowerCase())}get(we){this.init();const pe=this.headers.get(we.toLowerCase());return pe&&pe.length>0?pe[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(we){return this.init(),this.headers.get(we.toLowerCase())||null}append(we,pe){return this.clone({name:we,value:pe,op:"a"})}set(we,pe){return this.clone({name:we,value:pe,op:"s"})}delete(we,pe){return this.clone({name:we,value:pe,op:"d"})}maybeSetNormalizedName(we,pe){this.normalizedNames.has(pe)||this.normalizedNames.set(pe,we)}init(){this.lazyInit&&(this.lazyInit instanceof re?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(we=>this.applyUpdate(we)),this.lazyUpdate=null))}copyFrom(we){we.init(),Array.from(we.headers.keys()).forEach(pe=>{this.headers.set(pe,we.headers.get(pe)),this.normalizedNames.set(pe,we.normalizedNames.get(pe))})}clone(we){const pe=new re;return pe.lazyInit=this.lazyInit&&this.lazyInit instanceof re?this.lazyInit:this,pe.lazyUpdate=(this.lazyUpdate||[]).concat([we]),pe}applyUpdate(we){const pe=we.name.toLowerCase();switch(we.op){case"a":case"s":let lt=we.value;if("string"==typeof lt&&(lt=[lt]),0===lt.length)return;this.maybeSetNormalizedName(we.name,pe);const ht=("a"===we.op?this.headers.get(pe):void 0)||[];ht.push(...lt),this.headers.set(pe,ht);break;case"d":const Jt=we.value;if(Jt){let An=this.headers.get(pe);if(!An)return;An=An.filter($n=>-1===Jt.indexOf($n)),0===An.length?(this.headers.delete(pe),this.normalizedNames.delete(pe)):this.headers.set(pe,An)}else this.headers.delete(pe),this.normalizedNames.delete(pe)}}forEach(we){this.init(),Array.from(this.normalizedNames.keys()).forEach(pe=>we(this.normalizedNames.get(pe),this.headers.get(pe)))}}class ke{encodeKey(we){return Ht(we)}encodeValue(we){return Ht(we)}decodeKey(we){return decodeURIComponent(we)}decodeValue(we){return decodeURIComponent(we)}}const _t=/%(\d[a-f0-9])/gi,nt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ht(rt){return encodeURIComponent(rt).replace(_t,(we,pe)=>nt[pe]??we)}function ut(rt){return`${rt}`}class He{constructor(we={}){if(this.updates=null,this.cloneFrom=null,this.encoder=we.encoder||new ke,we.fromString){if(we.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function vt(rt,we){const pe=new Map;return rt.length>0&&rt.replace(/^\?/,"").split("&").forEach(ht=>{const Jt=ht.indexOf("="),[An,$n]=-1==Jt?[we.decodeKey(ht),""]:[we.decodeKey(ht.slice(0,Jt)),we.decodeValue(ht.slice(Jt+1))],Wt=pe.get(An)||[];Wt.push($n),pe.set(An,Wt)}),pe}(we.fromString,this.encoder)}else we.fromObject?(this.map=new Map,Object.keys(we.fromObject).forEach(pe=>{const lt=we.fromObject[pe],ht=Array.isArray(lt)?lt.map(ut):[ut(lt)];this.map.set(pe,ht)})):this.map=null}has(we){return this.init(),this.map.has(we)}get(we){this.init();const pe=this.map.get(we);return pe?pe[0]:null}getAll(we){return this.init(),this.map.get(we)||null}keys(){return this.init(),Array.from(this.map.keys())}append(we,pe){return this.clone({param:we,value:pe,op:"a"})}appendAll(we){const pe=[];return Object.keys(we).forEach(lt=>{const ht=we[lt];Array.isArray(ht)?ht.forEach(Jt=>{pe.push({param:lt,value:Jt,op:"a"})}):pe.push({param:lt,value:ht,op:"a"})}),this.clone(pe)}set(we,pe){return this.clone({param:we,value:pe,op:"s"})}delete(we,pe){return this.clone({param:we,value:pe,op:"d"})}toString(){return this.init(),this.keys().map(we=>{const pe=this.encoder.encodeKey(we);return this.map.get(we).map(lt=>pe+"="+this.encoder.encodeValue(lt)).join("&")}).filter(we=>""!==we).join("&")}clone(we){const pe=new He({encoder:this.encoder});return pe.cloneFrom=this.cloneFrom||this,pe.updates=(this.updates||[]).concat(we),pe}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(we=>this.map.set(we,this.cloneFrom.map.get(we))),this.updates.forEach(we=>{switch(we.op){case"a":case"s":const pe=("a"===we.op?this.map.get(we.param):void 0)||[];pe.push(ut(we.value)),this.map.set(we.param,pe);break;case"d":if(void 0===we.value){this.map.delete(we.param);break}{let lt=this.map.get(we.param)||[];const ht=lt.indexOf(ut(we.value));-1!==ht&&lt.splice(ht,1),lt.length>0?this.map.set(we.param,lt):this.map.delete(we.param)}}}),this.cloneFrom=this.updates=null)}}class ft{constructor(){this.map=new Map}set(we,pe){return this.map.set(we,pe),this}get(we){return this.map.has(we)||this.map.set(we,we.defaultValue()),this.map.get(we)}delete(we){return this.map.delete(we),this}has(we){return this.map.has(we)}keys(){return this.map.keys()}}function Ae(rt){return typeof ArrayBuffer<"u"&&rt instanceof ArrayBuffer}function Xe(rt){return typeof Blob<"u"&&rt instanceof Blob}function Nt(rt){return typeof FormData<"u"&&rt instanceof FormData}class We{constructor(we,pe,lt,ht){let Jt;if(this.url=pe,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=we.toUpperCase(),function ae(rt){switch(rt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||ht?(this.body=void 0!==lt?lt:null,Jt=ht):Jt=lt,Jt&&(this.reportProgress=!!Jt.reportProgress,this.withCredentials=!!Jt.withCredentials,Jt.responseType&&(this.responseType=Jt.responseType),Jt.headers&&(this.headers=Jt.headers),Jt.context&&(this.context=Jt.context),Jt.params&&(this.params=Jt.params)),this.headers||(this.headers=new re),this.context||(this.context=new ft),this.params){const An=this.params.toString();if(0===An.length)this.urlWithParams=pe;else{const $n=pe.indexOf("?");this.urlWithParams=pe+(-1===$n?"?":$n<pe.length-1?"&":"")+An}}else this.params=new He,this.urlWithParams=pe}serializeBody(){return null===this.body?null:Ae(this.body)||Xe(this.body)||Nt(this.body)||function Fe(rt){return typeof URLSearchParams<"u"&&rt instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof He?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Nt(this.body)?null:Xe(this.body)?this.body.type||null:Ae(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof He?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(we={}){const pe=we.method||this.method,lt=we.url||this.url,ht=we.responseType||this.responseType,Jt=void 0!==we.body?we.body:this.body,An=void 0!==we.withCredentials?we.withCredentials:this.withCredentials,$n=void 0!==we.reportProgress?we.reportProgress:this.reportProgress;let Wt=we.headers||this.headers,Zn=we.params||this.params;const Mn=we.context??this.context;return void 0!==we.setHeaders&&(Wt=Object.keys(we.setHeaders).reduce((Nr,Nn)=>Nr.set(Nn,we.setHeaders[Nn]),Wt)),we.setParams&&(Zn=Object.keys(we.setParams).reduce((Nr,Nn)=>Nr.set(Nn,we.setParams[Nn]),Zn)),new We(pe,lt,Jt,{params:Zn,headers:Wt,context:Mn,reportProgress:$n,responseType:ht,withCredentials:An})}}var Je=(()=>((Je=Je||{})[Je.Sent=0]="Sent",Je[Je.UploadProgress=1]="UploadProgress",Je[Je.ResponseHeader=2]="ResponseHeader",Je[Je.DownloadProgress=3]="DownloadProgress",Je[Je.Response=4]="Response",Je[Je.User=5]="User",Je))();class xe{constructor(we,pe=200,lt="OK"){this.headers=we.headers||new re,this.status=void 0!==we.status?we.status:pe,this.statusText=we.statusText||lt,this.url=we.url||null,this.ok=this.status>=200&&this.status<300}}class Le extends xe{constructor(we={}){super(we),this.type=Je.ResponseHeader}clone(we={}){return new Le({headers:we.headers||this.headers,status:void 0!==we.status?we.status:this.status,statusText:we.statusText||this.statusText,url:we.url||this.url||void 0})}}class $e extends xe{constructor(we={}){super(we),this.type=Je.Response,this.body=void 0!==we.body?we.body:null}clone(we={}){return new $e({body:void 0!==we.body?we.body:this.body,headers:we.headers||this.headers,status:void 0!==we.status?we.status:this.status,statusText:we.statusText||this.statusText,url:we.url||this.url||void 0})}}class Ke extends xe{constructor(we){super(we,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${we.url||"(unknown url)"}`:`Http failure response for ${we.url||"(unknown url)"}: ${we.status} ${we.statusText}`,this.error=we.error||null}}function Tt(rt,we){return{body:we,headers:rt.headers,context:rt.context,observe:rt.observe,params:rt.params,reportProgress:rt.reportProgress,responseType:rt.responseType,withCredentials:rt.withCredentials}}let Rt=(()=>{class rt{constructor(pe){this.handler=pe}request(pe,lt,ht={}){let Jt;if(pe instanceof We)Jt=pe;else{let Wt,Zn;Wt=ht.headers instanceof re?ht.headers:new re(ht.headers),ht.params&&(Zn=ht.params instanceof He?ht.params:new He({fromObject:ht.params})),Jt=new We(pe,lt,void 0!==ht.body?ht.body:null,{headers:Wt,context:ht.context,params:Zn,reportProgress:ht.reportProgress,responseType:ht.responseType||"json",withCredentials:ht.withCredentials})}const An=(0,H.of)(Jt).pipe((0,ve.b)(Wt=>this.handler.handle(Wt)));if(pe instanceof We||"events"===ht.observe)return An;const $n=An.pipe((0,Ve.h)(Wt=>Wt instanceof $e));switch(ht.observe||"body"){case"body":switch(Jt.responseType){case"arraybuffer":return $n.pipe((0,Pe.U)(Wt=>{if(null!==Wt.body&&!(Wt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Wt.body}));case"blob":return $n.pipe((0,Pe.U)(Wt=>{if(null!==Wt.body&&!(Wt.body instanceof Blob))throw new Error("Response is not a Blob.");return Wt.body}));case"text":return $n.pipe((0,Pe.U)(Wt=>{if(null!==Wt.body&&"string"!=typeof Wt.body)throw new Error("Response is not a string.");return Wt.body}));default:return $n.pipe((0,Pe.U)(Wt=>Wt.body))}case"response":return $n;default:throw new Error(`Unreachable: unhandled observe type ${ht.observe}}`)}}delete(pe,lt={}){return this.request("DELETE",pe,lt)}get(pe,lt={}){return this.request("GET",pe,lt)}head(pe,lt={}){return this.request("HEAD",pe,lt)}jsonp(pe,lt){return this.request("JSONP",pe,{params:(new He).append(lt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(pe,lt={}){return this.request("OPTIONS",pe,lt)}patch(pe,lt,ht={}){return this.request("PATCH",pe,Tt(ht,lt))}post(pe,lt,ht={}){return this.request("POST",pe,Tt(ht,lt))}put(pe,lt,ht={}){return this.request("PUT",pe,Tt(ht,lt))}}return rt.\u0275fac=function(pe){return new(pe||rt)(k.LFG(ce))},rt.\u0275prov=k.Yz7({token:rt,factory:rt.\u0275fac}),rt})();class kt{constructor(we,pe){this.next=we,this.interceptor=pe}handle(we){return this.interceptor.intercept(we,this.next)}}const Yt=new k.OlP("HTTP_INTERCEPTORS");let an=(()=>{class rt{intercept(pe,lt){return lt.handle(pe)}}return rt.\u0275fac=function(pe){return new(pe||rt)},rt.\u0275prov=k.Yz7({token:rt,factory:rt.\u0275fac}),rt})();const Wn=/^\)\]\}',?\n/;let nr=(()=>{class rt{constructor(pe){this.xhrFactory=pe}handle(pe){if("JSONP"===pe.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Te.y(lt=>{const ht=this.xhrFactory.build();if(ht.open(pe.method,pe.urlWithParams),pe.withCredentials&&(ht.withCredentials=!0),pe.headers.forEach((De,oe)=>ht.setRequestHeader(De,oe.join(","))),pe.headers.has("Accept")||ht.setRequestHeader("Accept","application/json, text/plain, */*"),!pe.headers.has("Content-Type")){const De=pe.detectContentTypeHeader();null!==De&&ht.setRequestHeader("Content-Type",De)}if(pe.responseType){const De=pe.responseType.toLowerCase();ht.responseType="json"!==De?De:"text"}const Jt=pe.serializeBody();let An=null;const $n=()=>{if(null!==An)return An;const De=ht.statusText||"OK",oe=new re(ht.getAllResponseHeaders()),me=function Un(rt){return"responseURL"in rt&&rt.responseURL?rt.responseURL:/^X-Request-URL:/m.test(rt.getAllResponseHeaders())?rt.getResponseHeader("X-Request-URL"):null}(ht)||pe.url;return An=new Le({headers:oe,status:ht.status,statusText:De,url:me}),An},Wt=()=>{let{headers:De,status:oe,statusText:me,url:Me}=$n(),te=null;204!==oe&&(te=typeof ht.response>"u"?ht.responseText:ht.response),0===oe&&(oe=te?200:0);let j=oe>=200&&oe<300;if("json"===pe.responseType&&"string"==typeof te){const ee=te;te=te.replace(Wn,"");try{te=""!==te?JSON.parse(te):null}catch(Ge){te=ee,j&&(j=!1,te={error:Ge,text:te})}}j?(lt.next(new $e({body:te,headers:De,status:oe,statusText:me,url:Me||void 0})),lt.complete()):lt.error(new Ke({error:te,headers:De,status:oe,statusText:me,url:Me||void 0}))},Zn=De=>{const{url:oe}=$n(),me=new Ke({error:De,status:ht.status||0,statusText:ht.statusText||"Unknown Error",url:oe||void 0});lt.error(me)};let Mn=!1;const Nr=De=>{Mn||(lt.next($n()),Mn=!0);let oe={type:Je.DownloadProgress,loaded:De.loaded};De.lengthComputable&&(oe.total=De.total),"text"===pe.responseType&&!!ht.responseText&&(oe.partialText=ht.responseText),lt.next(oe)},Nn=De=>{let oe={type:Je.UploadProgress,loaded:De.loaded};De.lengthComputable&&(oe.total=De.total),lt.next(oe)};return ht.addEventListener("load",Wt),ht.addEventListener("error",Zn),ht.addEventListener("timeout",Zn),ht.addEventListener("abort",Zn),pe.reportProgress&&(ht.addEventListener("progress",Nr),null!==Jt&&ht.upload&&ht.upload.addEventListener("progress",Nn)),ht.send(Jt),lt.next({type:Je.Sent}),()=>{ht.removeEventListener("error",Zn),ht.removeEventListener("abort",Zn),ht.removeEventListener("load",Wt),ht.removeEventListener("timeout",Zn),pe.reportProgress&&(ht.removeEventListener("progress",Nr),null!==Jt&&ht.upload&&ht.upload.removeEventListener("progress",Nn)),ht.readyState!==ht.DONE&&ht.abort()}})}}return rt.\u0275fac=function(pe){return new(pe||rt)(k.LFG(c.JF))},rt.\u0275prov=k.Yz7({token:rt,factory:rt.\u0275fac}),rt})();const rr=new k.OlP("XSRF_COOKIE_NAME"),tn=new k.OlP("XSRF_HEADER_NAME");class On{}let Dr=(()=>{class rt{constructor(pe,lt,ht){this.doc=pe,this.platform=lt,this.cookieName=ht,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const pe=this.doc.cookie||"";return pe!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,c.Mx)(pe,this.cookieName),this.lastCookieString=pe),this.lastToken}}return rt.\u0275fac=function(pe){return new(pe||rt)(k.LFG(c.K0),k.LFG(k.Lbi),k.LFG(rr))},rt.\u0275prov=k.Yz7({token:rt,factory:rt.\u0275fac}),rt})(),Jn=(()=>{class rt{constructor(pe,lt){this.tokenService=pe,this.headerName=lt}intercept(pe,lt){const ht=pe.url.toLowerCase();if("GET"===pe.method||"HEAD"===pe.method||ht.startsWith("http://")||ht.startsWith("https://"))return lt.handle(pe);const Jt=this.tokenService.getToken();return null!==Jt&&!pe.headers.has(this.headerName)&&(pe=pe.clone({headers:pe.headers.set(this.headerName,Jt)})),lt.handle(pe)}}return rt.\u0275fac=function(pe){return new(pe||rt)(k.LFG(On),k.LFG(tn))},rt.\u0275prov=k.Yz7({token:rt,factory:rt.\u0275fac}),rt})(),jt=(()=>{class rt{constructor(pe,lt){this.backend=pe,this.injector=lt,this.chain=null}handle(pe){if(null===this.chain){const lt=this.injector.get(Yt,[]);this.chain=lt.reduceRight((ht,Jt)=>new kt(ht,Jt),this.backend)}return this.chain.handle(pe)}}return rt.\u0275fac=function(pe){return new(pe||rt)(k.LFG(Ye),k.LFG(k.zs3))},rt.\u0275prov=k.Yz7({token:rt,factory:rt.\u0275fac}),rt})(),zn=(()=>{class rt{static disable(){return{ngModule:rt,providers:[{provide:Jn,useClass:an}]}}static withOptions(pe={}){return{ngModule:rt,providers:[pe.cookieName?{provide:rr,useValue:pe.cookieName}:[],pe.headerName?{provide:tn,useValue:pe.headerName}:[]]}}}return rt.\u0275fac=function(pe){return new(pe||rt)},rt.\u0275mod=k.oAB({type:rt}),rt.\u0275inj=k.cJS({providers:[Jn,{provide:Yt,useExisting:Jn,multi:!0},{provide:On,useClass:Dr},{provide:rr,useValue:"XSRF-TOKEN"},{provide:tn,useValue:"X-XSRF-TOKEN"}]}),rt})(),Er=(()=>{class rt{}return rt.\u0275fac=function(pe){return new(pe||rt)},rt.\u0275mod=k.oAB({type:rt}),rt.\u0275inj=k.cJS({providers:[Rt,{provide:ce,useClass:jt},nr,{provide:Ye,useExisting:nr}],imports:[zn.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),rt})()},4650:(nn,ot,V)=>{V.d(ot,{$8M:()=>ha,$Z:()=>Ud,AFp:()=>k0,ALo:()=>t0,AaK:()=>ce,AsE:()=>Rs,BQk:()=>rh,CHM:()=>Fo,CRH:()=>d0,CZH:()=>Em,CqO:()=>em,D6c:()=>bD,EJc:()=>BI,EiD:()=>od,EpF:()=>$f,F4k:()=>Xg,FYo:()=>Ep,FiY:()=>$t,G48:()=>aD,GfV:()=>wp,Gpc:()=>ge,JOm:()=>Wa,JVY:()=>dh,KtG:()=>ms,L6k:()=>Li,LAX:()=>fc,LFG:()=>Gi,LSH:()=>Qu,Lbi:()=>FI,Lck:()=>Nw,MAs:()=>Kc,MMx:()=>Qy,NdJ:()=>Hf,OlP:()=>jr,Oqu:()=>gi,PXZ:()=>tD,Q6J:()=>nh,QGY:()=>wl,QP$:()=>Gt,QbO:()=>LI,Qsj:()=>Om,R0b:()=>tu,RDi:()=>lc,Rgc:()=>ap,SBq:()=>Ic,Sil:()=>$I,Suo:()=>c0,TTD:()=>Yn,TgZ:()=>El,Tol:()=>jy,Udp:()=>Jf,VKq:()=>q_,W1O:()=>g0,WLB:()=>Z_,X6Q:()=>oD,XFs:()=>jt,Xpm:()=>Me,Xts:()=>ph,Y36:()=>ll,YKP:()=>U_,YNc:()=>Qg,Yjl:()=>ze,Yz7:()=>Dt,Z0I:()=>yn,ZZ4:()=>Iv,_Bn:()=>V_,_UZ:()=>wu,_Vd:()=>Pu,_c5:()=>DD,_uU:()=>ni,aQg:()=>Dv,c2e:()=>VI,cJS:()=>qe,cg1:()=>Hy,d8E:()=>$y,dDg:()=>QI,dqk:()=>ht,eBb:()=>Nl,eFA:()=>q0,ekj:()=>Xf,eoX:()=>z0,f3M:()=>Cl,g9A:()=>L0,h0i:()=>uh,hGG:()=>CD,hij:()=>mi,iGM:()=>l0,ifc:()=>lt,ip1:()=>P0,jDz:()=>j_,kL8:()=>c_,lG2:()=>Bn,lcZ:()=>n0,lqb:()=>Ou,lri:()=>H0,mCW:()=>tt,n5z:()=>ki,oAB:()=>Ge,oJD:()=>mc,oxw:()=>zf,pB0:()=>I,q3G:()=>Ns,q4F:()=>Ip,qLn:()=>Ba,qOj:()=>Pf,qZA:()=>Ja,qzn:()=>_a,rWj:()=>G0,s9C:()=>Wf,sBO:()=>uD,sIi:()=>Wc,s_b:()=>ym,soG:()=>wm,tb:()=>V0,tp0:()=>Dn,uIk:()=>Ff,vHH:()=>nt,vpe:()=>zu,wAp:()=>sr,xp6:()=>Jh,ynx:()=>Xa,z2F:()=>Im,z3N:()=>Ta,zSh:()=>_h,zs3:()=>mu});var c=V(7579),k=V(727),H=V(9751),Te=V(6451),ve=V(3099);function Ve(t){for(let r in t)if(t[r]===Ve)return r;throw Error("Could not find renamed property on target object.")}function Pe(t,r){for(const s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=r[s])}function ce(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ce).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function Ye(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const re=Ve({__forward_ref__:Ve});function ge(t){return t.__forward_ref__=ge,t.toString=function(){return ce(this())},t}function ke(t){return vt(t)?t():t}function vt(t){return"function"==typeof t&&t.hasOwnProperty(re)&&t.__forward_ref__===ge}class nt extends Error{constructor(r,s){super(function Ht(t,r){return`NG0${Math.abs(t)}${r?": "+r.trim():""}`}(r,s)),this.code=r}}function ut(t){return"string"==typeof t?t:null==t?"":String(t)}function Ae(t,r){throw new nt(-201,!1)}function an(t,r){null==t&&function Ct(t,r,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,t,null,"!=")}function Dt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function qe(t){return{providers:t.providers||[],imports:t.imports||[]}}function Zt(t){return Wn(t,tn)||Wn(t,Dr)}function yn(t){return null!==Zt(t)}function Wn(t,r){return t.hasOwnProperty(r)?t[r]:null}function rr(t){return t&&(t.hasOwnProperty(On)||t.hasOwnProperty(Jn))?t[On]:null}const tn=Ve({\u0275prov:Ve}),On=Ve({\u0275inj:Ve}),Dr=Ve({ngInjectableDef:Ve}),Jn=Ve({ngInjectorDef:Ve});var jt=(()=>((jt=jt||{})[jt.Default=0]="Default",jt[jt.Host=1]="Host",jt[jt.Self=2]="Self",jt[jt.SkipSelf=4]="SkipSelf",jt[jt.Optional=8]="Optional",jt))();let Pn;function zn(t){const r=Pn;return Pn=t,r}function Er(t,r,s){const a=Zt(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&jt.Optional?null:void 0!==r?r:void Ae(ce(t))}function mr(t){return{toString:t}.toString()}var rt=(()=>((rt=rt||{})[rt.OnPush=0]="OnPush",rt[rt.Default=1]="Default",rt))(),lt=(()=>{return(t=lt||(lt={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",lt;var t})();const ht=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),$n={},Wt=[],Zn=Ve({\u0275cmp:Ve}),Mn=Ve({\u0275dir:Ve}),Nr=Ve({\u0275pipe:Ve}),Nn=Ve({\u0275mod:Ve}),De=Ve({\u0275fac:Ve}),oe=Ve({__NG_ELEMENT_ID__:Ve});let me=0;function Me(t){return mr(()=>{const s=!0===t.standalone,a={},l={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===rt.OnPush,directiveDefs:null,pipeDefs:null,standalone:s,dependencies:s&&t.dependencies||null,getStandaloneInjector:null,selectors:t.selectors||Wt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||lt.Emulated,id:"c"+me++,styles:t.styles||Wt,_:null,setInput:null,schemas:t.schemas||null,tView:null},h=t.dependencies,y=t.features;return l.inputs=rn(t.inputs,a),l.outputs=rn(t.outputs),y&&y.forEach(D=>D(l)),l.directiveDefs=h?()=>("function"==typeof h?h():h).map(j).filter(ee):null,l.pipeDefs=h?()=>("function"==typeof h?h():h).map(mt).filter(ee):null,l})}function j(t){return Ee(t)||Ce(t)}function ee(t){return null!==t}function Ge(t){return mr(()=>({type:t.type,bootstrap:t.bootstrap||Wt,declarations:t.declarations||Wt,imports:t.imports||Wt,exports:t.exports||Wt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function rn(t,r){if(null==t)return $n;const s={};for(const a in t)if(t.hasOwnProperty(a)){let l=t[a],h=l;Array.isArray(l)&&(h=l[1],l=l[0]),s[l]=a,r&&(r[l]=h)}return s}const Bn=Me;function ze(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ee(t){return t[Zn]||null}function Ce(t){return t[Mn]||null}function mt(t){return t[Nr]||null}function Gt(t){const r=Ee(t)||Ce(t)||mt(t);return null!==r&&r.standalone}function gn(t,r){const s=t[Nn]||null;if(!s&&!0===r)throw new Error(`Type ${ce(t)} does not have '\u0275mod' property.`);return s}function Bt(t){return Array.isArray(t)&&"object"==typeof t[1]}function un(t){return Array.isArray(t)&&!0===t[1]}function Kn(t){return 0!=(8&t.flags)}function Rr(t){return 2==(2&t.flags)}function ir(t){return 1==(1&t.flags)}function ar(t){return null!==t.template}function Ki(t){return 0!=(256&t[2])}function qr(t,r){return t.hasOwnProperty(De)?t[De]:null}class ds{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function Yn(){return hs}function hs(t){return t.type.prototype.ngOnChanges&&(t.setInput=Qi),is}function is(){const t=Cs(this),r=t?.current;if(r){const s=t.previous;if(s===$n)t.previous=r;else for(let a in r)s[a]=r[a];t.current=null,this.ngOnChanges(r)}}function Qi(t,r,s,a){const l=Cs(t)||function ta(t,r){return t[go]=r}(t,{previous:$n,current:null}),h=l.current||(l.current={}),y=l.previous,D=this.declaredInputs[s],M=y[D];h[D]=new ds(M&&M.currentValue,r,y===$n),t[a]=r}Yn.ngInherit=!0;const go="__ngSimpleChanges__";function Cs(t){return t[go]||null}function Or(t){for(;Array.isArray(t);)t=t[0];return t}function Bi(t,r){return Or(r[t])}function Jr(t,r){return Or(r[t.index])}function fs(t,r){return t.data[r]}function ji(t,r){return t[r]}function yr(t,r){const s=r[t];return Bt(s)?s:s[0]}function ps(t){return 64==(64&t[2])}function $i(t,r){return null==r?null:t[r]}function vo(t){t[18]=0}function ii(t,r){t[5]+=r;let s=t,a=t[3];for(;null!==a&&(1===r&&1===s[5]||-1===r&&0===s[5]);)a[5]+=r,s=a,a=a[3]}const Fn={lFrame:bo(null),bindingsEnabled:!0};function Ti(){return Fn.bindingsEnabled}function Lt(){return Fn.lFrame.lView}function er(){return Fn.lFrame.tView}function Fo(t){return Fn.lFrame.contextLView=t,t[8]}function ms(t){return Fn.lFrame.contextLView=null,t}function Xr(){let t=Ji();for(;null!==t&&64===t.type;)t=t.parent;return t}function Ji(){return Fn.lFrame.currentTNode}function ai(t,r){const s=Fn.lFrame;s.currentTNode=t,s.isParent=r}function Ii(){return Fn.lFrame.isParent}function Zr(){Fn.lFrame.isParent=!1}function A(){const t=Fn.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function hn(){return Fn.lFrame.bindingIndex++}function ur(t){const r=Fn.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,s}function Di(t,r){const s=Fn.lFrame;s.bindingIndex=s.bindingRootIndex=t,Ts(r)}function Ts(t){Fn.lFrame.currentDirectiveIndex=t}function Io(t){const r=Fn.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}function oo(){return Fn.lFrame.currentQueryIndex}function Do(t){Fn.lFrame.currentQueryIndex=t}function qs(t){const r=t[1];return 2===r.type?r.declTNode:1===r.type?t[6]:null}function la(t,r,s){if(s&jt.SkipSelf){let l=r,h=t;for(;!(l=l.parent,null!==l||s&jt.Host||(l=qs(h),null===l||(h=h[15],10&l.type))););if(null===l)return!1;r=l,t=h}const a=Fn.lFrame=Co();return a.currentTNode=r,a.lView=t,!0}function ao(t){const r=Co(),s=t[1];Fn.lFrame=r,r.currentTNode=s.firstChild,r.lView=t,r.tView=s,r.contextLView=t,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function Co(){const t=Fn.lFrame,r=null===t?null:t.child;return null===r?bo(t):r}function bo(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function Da(){const t=Fn.lFrame;return Fn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const S=Da;function G(){const t=Da();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ie(){return Fn.lFrame.selectedIndex}function yt(t){Fn.lFrame.selectedIndex=t}function It(){const t=Fn.lFrame;return fs(t.tView,t.selectedIndex)}function Vr(t,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const h=t.data[s].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:D,ngAfterViewInit:M,ngAfterViewChecked:B,ngOnDestroy:X}=h;y&&(t.contentHooks||(t.contentHooks=[])).push(-s,y),D&&((t.contentHooks||(t.contentHooks=[])).push(s,D),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(s,D)),M&&(t.viewHooks||(t.viewHooks=[])).push(-s,M),B&&((t.viewHooks||(t.viewHooks=[])).push(s,B),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(s,B)),null!=X&&(t.destroyHooks||(t.destroyHooks=[])).push(s,X)}}function $(t,r,s){R(t,r,3,s)}function v(t,r,s,a){(3&t[2])===s&&R(t,r,s,a)}function _(t,r){let s=t[2];(3&s)===r&&(s&=2047,s+=1,t[2]=s)}function R(t,r,s,a){const h=a??-1,y=r.length-1;let D=0;for(let M=void 0!==a?65535&t[18]:0;M<y;M++)if("number"==typeof r[M+1]){if(D=r[M],null!=a&&D>=a)break}else r[M]<0&&(t[18]+=65536),(D<h||-1==h)&&(W(t,s,r,M),t[18]=(4294901760&t[18])+M+2),M++}function W(t,r,s,a){const l=s[a]<0,h=s[a+1],D=t[l?-s[a]:s[a]];if(l){if(t[2]>>11<t[18]>>16&&(3&t[2])===r){t[2]+=2048;try{h.call(D)}finally{}}}else try{h.call(D)}finally{}}class Se{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function At(t,r,s){let a=0;for(;a<s.length;){const l=s[a];if("number"==typeof l){if(0!==l)break;a++;const h=s[a++],y=s[a++],D=s[a++];t.setAttribute(r,y,D,h)}else{const h=l,y=s[++a];St(h)?t.setProperty(r,h,y):t.setAttribute(r,h,y),a++}}return a}function et(t){return 3===t||4===t||6===t}function St(t){return 64===t.charCodeAt(0)}function fr(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const l=r[a];"number"==typeof l?s=l:0===s||Ri(t,s,l,null,-1===s||2===s?r[++a]:null)}}return t}function Ri(t,r,s,a,l){let h=0,y=t.length;if(-1===r)y=-1;else for(;h<t.length;){const D=t[h++];if("number"==typeof D){if(D===r){y=-1;break}if(D>r){y=h-1;break}}}for(;h<t.length;){const D=t[h];if("number"==typeof D)break;if(D===s){if(null===a)return void(null!==l&&(t[h+1]=l));if(a===t[h+1])return void(t[h+2]=l)}h++,null!==a&&h++,null!==l&&h++}-1!==y&&(t.splice(y,0,r),h=y+1),t.splice(h++,0,s),null!==a&&t.splice(h++,0,a),null!==l&&t.splice(h++,0,l)}function Oi(t){return-1!==t}function ei(t){return 32767&t}function hi(t,r){let s=function To(t){return t>>16}(t),a=r;for(;s>0;)a=a[15],s--;return a}let Zs=!0;function ys(t){const r=Zs;return Zs=t,r}let uo=0;const Rn={};function vn(t,r){const s=Kt(t,r);if(-1!==s)return s;const a=r[1];a.firstCreatePass&&(t.injectorIndex=r.length,cn(a.data,t),cn(r,null),cn(a.blueprint,null));const l=or(t,r),h=t.injectorIndex;if(Oi(l)){const y=ei(l),D=hi(l,r),M=D[1].data;for(let B=0;B<8;B++)r[h+B]=D[y+B]|M[y+B]}return r[h+8]=l,h}function cn(t,r){t.push(0,0,0,0,0,0,0,0,r)}function Kt(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function or(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,l=r;for(;null!==l;){if(a=$s(l),null===a)return-1;if(s++,l=l[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function kn(t,r,s){!function So(t,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(oe)&&(a=s[oe]),null==a&&(a=s[oe]=uo++);const l=255&a;r.data[t+(l>>5)]|=1<<l}(t,r,s)}function pr(t,r,s){if(s&jt.Optional||void 0!==t)return t;Ae()}function Qt(t,r,s,a){if(s&jt.Optional&&void 0===a&&(a=null),0==(s&(jt.Self|jt.Host))){const l=t[9],h=zn(void 0);try{return l?l.get(r,a,s&jt.Optional):Er(r,a,s&jt.Optional)}finally{zn(h)}}return pr(a,0,s)}function Ar(t,r,s,a=jt.Default,l){if(null!==t){if(1024&r[2]){const y=function nu(t,r,s,a,l){let h=t,y=r;for(;null!==h&&null!==y&&1024&y[2]&&!(256&y[2]);){const D=ca(h,y,s,a|jt.Self,Rn);if(D!==Rn)return D;let M=h.parent;if(!M){const B=y[21];if(B){const X=B.get(s,Rn,a);if(X!==Rn)return X}M=$s(y),y=y[15]}h=M}return l}(t,r,s,a,Rn);if(y!==Rn)return y}const h=ca(t,r,s,a,Rn);if(h!==Rn)return h}return Qt(r,s,a,l)}function ca(t,r,s,a,l){const h=function js(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(oe)?t[oe]:void 0;return"number"==typeof r?r>=0?255&r:As:r}(s);if("function"==typeof h){if(!la(r,t,a))return a&jt.Host?pr(l,0,a):Qt(r,s,a,l);try{const y=h(a);if(null!=y||a&jt.Optional)return y;Ae()}finally{S()}}else if("number"==typeof h){let y=null,D=Kt(t,r),M=-1,B=a&jt.Host?r[16][6]:null;for((-1===D||a&jt.SkipSelf)&&(M=-1===D?or(t,r):r[D+8],-1!==M&&Lo(a,!1)?(y=r[1],D=ei(M),r=hi(M,r)):D=-1);-1!==D;){const X=r[1];if(Ss(h,D,X.data)){const ue=Ys(D,r,s,y,a,B);if(ue!==Rn)return ue}M=r[D+8],-1!==M&&Lo(a,r[1].data[D+8]===B)&&Ss(h,D,r)?(y=X,D=ei(M),r=hi(M,r)):D=-1}}return l}function Ys(t,r,s,a,l,h){const y=r[1],D=y.data[t+8],X=li(D,y,s,null==a?Rr(D)&&Zs:a!=y&&0!=(3&D.type),l&jt.Host&&h===D);return null!==X?Pi(r,y,X,D):Rn}function li(t,r,s,a,l){const h=t.providerIndexes,y=r.data,D=1048575&h,M=t.directiveStart,X=h>>20,je=l?D+X:t.directiveEnd;for(let dt=a?D:D+X;dt<je;dt++){const Vt=y[dt];if(dt<M&&s===Vt||dt>=M&&Vt.type===s)return dt}if(l){const dt=y[M];if(dt&&ar(dt)&&dt.type===s)return M}return null}function Pi(t,r,s,a){let l=t[s];const h=r.data;if(function Oe(t){return t instanceof Se}(l)){const y=l;y.resolving&&function bt(t,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new nt(-200,`Circular dependency in DI detected for ${t}${s}`)}(function He(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ut(t)}(h[s]));const D=ys(y.canSeeViewProviders);y.resolving=!0;const M=y.injectImpl?zn(y.injectImpl):null;la(t,a,jt.Default);try{l=t[s]=y.factory(void 0,h,t,a),r.firstCreatePass&&s>=a.directiveStart&&function ui(t,r,s){const{ngOnChanges:a,ngOnInit:l,ngDoCheck:h}=r.type.prototype;if(a){const y=hs(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(t,y),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,y)}l&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-t,l),h&&((s.preOrderHooks||(s.preOrderHooks=[])).push(t,h),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,h))}(s,h[s],r)}finally{null!==M&&zn(M),ys(D),y.resolving=!1,S()}}return l}function Ss(t,r,s){return!!(s[r+(t>>5)]&1<<t)}function Lo(t,r){return!(t&jt.Self||t&jt.Host&&r)}class na{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return Ar(this._tNode,this._lView,r,a,s)}}function As(){return new na(Xr(),Lt())}function ki(t){return mr(()=>{const r=t.prototype.constructor,s=r[De]||da(r),a=Object.prototype;let l=Object.getPrototypeOf(t.prototype).constructor;for(;l&&l!==a;){const h=l[De]||da(l);if(h&&h!==s)return h;l=Object.getPrototypeOf(l)}return h=>new h})}function da(t){return vt(t)?()=>{const r=da(ke(t));return r&&r()}:qr(t)}function $s(t){const r=t[1],s=r.type;return 2===s?r.declTNode:1===s?t[6]:null}function ha(t){return function Xi(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const s=t.attrs;if(s){const a=s.length;let l=0;for(;l<a;){const h=s[l];if(et(h))break;if(0===h)l+=2;else if("number"==typeof h)for(l++;l<a&&"string"==typeof s[l];)l++;else{if(h===r)return s[l+1];l+=2}}}return null}(Xr(),t)}const Vo="__parameters__";function Hs(t,r,s){return mr(()=>{const a=function fa(t){return function(...s){if(t){const a=t(...s);for(const l in a)this[l]=a[l]}}}(r);function l(...h){if(this instanceof l)return a.apply(this,h),this;const y=new l(...h);return D.annotation=y,D;function D(M,B,X){const ue=M.hasOwnProperty(Vo)?M[Vo]:Object.defineProperty(M,Vo,{value:[]})[Vo];for(;ue.length<=X;)ue.push(null);return(ue[X]=ue[X]||[]).push(y),M}}return s&&(l.prototype=Object.create(s.prototype)),l.prototype.ngMetadataName=t,l.annotationCls=l,l})}class jr{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Dt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Pr(t,r){void 0===r&&(r=t);for(let s=0;s<t.length;s++){let a=t[s];Array.isArray(a)?(r===t&&(r=t.slice(0,s)),Pr(a,r)):r!==t&&r.push(a)}return r}function Bo(t,r){t.forEach(s=>Array.isArray(s)?Bo(s,r):r(s))}function Ao(t,r,s){r>=t.length?t.push(s):t.splice(r,0,s)}function Qr(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function es(t,r,s){let a=E(t,r);return a>=0?t[1|a]=s:(a=~a,function ka(t,r,s,a){let l=t.length;if(l==r)t.push(s,a);else if(1===l)t.push(a,t[0]),t[0]=s;else{for(l--,t.push(t[l-1],t[l]);l>r;)t[l]=t[l-2],l--;t[r]=s,t[r+1]=a}}(t,a,r,s)),a}function su(t,r){const s=E(t,r);if(s>=0)return t[1|s]}function E(t,r){return function m(t,r,s){let a=0,l=t.length>>s;for(;l!==a;){const h=a+(l-a>>1),y=t[h<<s];if(r===y)return h<<s;y>r?l=h:a=h+1}return~(l<<s)}(t,r,1)}const _r={},ts="__NG_DI_FLAG__",os="ngTempTokenPath",Fi=/\n/gm,eo="__source";let Ca;function Fa(t){const r=Ca;return Ca=t,r}function vs(t,r=jt.Default){if(void 0===Ca)throw new nt(-203,!1);return null===Ca?Er(t,void 0,r):Ca.get(t,r&jt.Optional?null:void 0,r)}function Gi(t,r=jt.Default){return(function xn(){return Pn}()||vs)(ke(t),r)}function Cl(t,r=jt.Default){return"number"!=typeof r&&(r=0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)),Gi(t,r)}function x(t){const r=[];for(let s=0;s<t.length;s++){const a=ke(t[s]);if(Array.isArray(a)){if(0===a.length)throw new nt(900,!1);let l,h=jt.Default;for(let y=0;y<a.length;y++){const D=a[y],M=Y(D);"number"==typeof M?-1===M?l=D.token:h|=M:l=D}r.push(Gi(l,h))}else r.push(Gi(a))}return r}function F(t,r){return t[ts]=r,t.prototype[ts]=r,t}function Y(t){return t[ts]}const $t=F(Hs("Optional"),8),Dn=F(Hs("SkipSelf"),4);let Sl,Zu,cu;function lc(t){Sl=t}function Au(t){return function Al(){if(void 0===Zu&&(Zu=null,ht.trustedTypes))try{Zu=ht.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Zu}()?.createHTML(t)||t}function id(t){return function cc(){if(void 0===cu&&(cu=null,ht.trustedTypes))try{cu=ht.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return cu}()?.createHTML(t)||t}class Jo{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Ml extends Jo{getTypeName(){return"HTML"}}class du extends Jo{getTypeName(){return"Style"}}class hc extends Jo{getTypeName(){return"Script"}}class Mu extends Jo{getTypeName(){return"URL"}}class xl extends Jo{getTypeName(){return"ResourceURL"}}function Ta(t){return t instanceof Jo?t.changingThisBreaksApplicationSecurity:t}function _a(t,r){const s=function sd(t){return t instanceof Jo&&t.getTypeName()||null}(t);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}function dh(t){return new Ml(t)}function Li(t){return new du(t)}function Nl(t){return new hc(t)}function fc(t){return new Mu(t)}function I(t){return new xl(t)}class p{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const s=(new window.DOMParser).parseFromString(Au(r),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(r):(s.removeChild(s.firstChild),s)}catch{return null}}}class b{constructor(r){if(this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const a=this.inertDocument.createElement("body");s.appendChild(a)}}getInertBodyElement(r){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=Au(r),s;const a=this.inertDocument.createElement("body");return a.innerHTML=Au(r),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(a),a}stripCustomNsAttrs(r){const s=r.attributes;for(let l=s.length-1;0<l;l--){const y=s.item(l).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&r.removeAttribute(y)}let a=r.firstChild;for(;a;)a.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(a),a=a.nextSibling}}const se=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function tt(t){return(t=String(t)).match(se)?t:"unsafe:"+t}function Ot(t){const r={};for(const s of t.split(","))r[s]=!0;return r}function _n(...t){const r={};for(const s of t)for(const a in s)s.hasOwnProperty(a)&&(r[a]=!0);return r}const jn=Ot("area,br,col,hr,img,wbr"),lr=Ot("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),pi=Ot("rp,rt"),Yu=_n(jn,_n(lr,Ot("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),_n(pi,Ot("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),_n(pi,lr)),xu=Ot("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),no=_n(xu,Ot("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ot("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),pc=Ot("script,style,template");class Nu{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let s=r.firstChild,a=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?a=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,a&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let l=this.checkClobberedElement(s,s.nextSibling);if(l){s=l;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(r){const s=r.nodeName.toLowerCase();if(!Yu.hasOwnProperty(s))return this.sanitizedSomething=!0,!pc.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const a=r.attributes;for(let l=0;l<a.length;l++){const h=a.item(l),y=h.name,D=y.toLowerCase();if(!no.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let M=h.value;xu[D]&&(M=tt(M)),this.buf.push(" ",y,'="',gc(M),'"')}return this.buf.push(">"),!0}endElement(r){const s=r.nodeName.toLowerCase();Yu.hasOwnProperty(s)&&!jn.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(r){this.buf.push(gc(r))}checkClobberedElement(r,s){if(s&&(r.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return s}}const Rl=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ea=/([^\#-~ |!])/g;function gc(t){return t.replace(/&/g,"&amp;").replace(Rl,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(Ea,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Sa;function od(t,r){let s=null;try{Sa=Sa||function f(t){const r=new b(t);return function q(){try{return!!(new window.DOMParser).parseFromString(Au(""),"text/html")}catch{return!1}}()?new p(r):r}(t);let a=r?String(r):"";s=Sa.getInertBodyElement(a);let l=5,h=a;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,a=h,h=s.innerHTML,s=Sa.getInertBodyElement(a)}while(a!==h);return Au((new Nu).sanitizeChildren(fh(s)||s))}finally{if(s){const a=fh(s)||s;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function fh(t){return"content"in t&&function Mr(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Ns=(()=>((Ns=Ns||{})[Ns.NONE=0]="NONE",Ns[Ns.HTML=1]="HTML",Ns[Ns.STYLE=2]="STYLE",Ns[Ns.SCRIPT=3]="SCRIPT",Ns[Ns.URL=4]="URL",Ns[Ns.RESOURCE_URL=5]="RESOURCE_URL",Ns))();function mc(t){const r=_c();return r?id(r.sanitize(Ns.HTML,t)||""):_a(t,"HTML")?id(Ta(t)):od(function Su(){return void 0!==Sl?Sl:typeof document<"u"?document:void 0}(),ut(t))}function Qu(t){const r=_c();return r?r.sanitize(Ns.URL,t)||"":_a(t,"URL")?Ta(t):tt(ut(t))}function _c(){const t=Lt();return t&&t[12]}const ph=new jr("ENVIRONMENT_INITIALIZER"),Ol=new jr("INJECTOR",-1),gh=new jr("INJECTOR_DEF_TYPES");class fp{get(r,s=_r){if(s===_r){const a=new Error(`NullInjectorError: No provider for ${ce(r)}!`);throw a.name="NullInjectorError",a}return s}}function co(...t){return{\u0275providers:ad(0,t)}}function ad(t,...r){const s=[],a=new Set;let l;return Bo(r,h=>{const y=h;Ju(y,s,[],a)&&(l||(l=[]),l.push(y))}),void 0!==l&&mh(l,s),s}function mh(t,r){for(let s=0;s<t.length;s++){const{providers:l}=t[s];Bo(l,h=>{r.push(h)})}}function Ju(t,r,s,a){if(!(t=ke(t)))return!1;let l=null,h=rr(t);const y=!h&&Ee(t);if(h||y){if(y&&!y.standalone)return!1;l=t}else{const M=t.ngModule;if(h=rr(M),!h)return!1;l=M}const D=a.has(l);if(y){if(D)return!1;if(a.add(l),y.dependencies){const M="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const B of M)Ju(B,r,s,a)}}else{if(!h)return!1;{if(null!=h.imports&&!D){let B;a.add(l);try{Bo(h.imports,X=>{Ju(X,r,s,a)&&(B||(B=[]),B.push(X))})}finally{}void 0!==B&&mh(B,r)}if(!D){const B=qr(l)||(()=>new l);r.push({provide:l,useFactory:B,deps:Wt},{provide:gh,useValue:l,multi:!0},{provide:ph,useValue:()=>Gi(l),multi:!0})}const M=h.providers;null==M||D||Bo(M,X=>{r.push(X)})}}return l!==t&&void 0!==t.providers}const yh=Ve({provide:String,useValue:Ve});function ud(t){return null!==t&&"object"==typeof t&&yh in t}function Ru(t){return"function"==typeof t}const _h=new jr("Set Injector scope."),ld={},Ec={};let wc;function cd(){return void 0===wc&&(wc=new fp),wc}class Ou{}class Eh extends Ou{constructor(r,s,a,l){super(),this.parent=s,this.source=a,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,wh(r,y=>this.processProvider(y)),this.records.set(Ol,kl(void 0,this)),l.has("environment")&&this.records.set(Ou,kl(void 0,this));const h=this.records.get(_h);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(gh.multi,Wt,jt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const s=Fa(this),a=zn(void 0);try{return r()}finally{Fa(s),zn(a)}}get(r,s=_r,a=jt.Default){this.assertNotDestroyed();const l=Fa(this),h=zn(void 0);try{if(!(a&jt.SkipSelf)){let D=this.records.get(r);if(void 0===D){const M=function Mm(t){return"function"==typeof t||"object"==typeof t&&t instanceof jr}(r)&&Zt(r);D=M&&this.injectableDefInScope(M)?kl(dd(r),ld):null,this.records.set(r,D)}if(null!=D)return this.hydrate(r,D)}return(a&jt.Self?cd():this.parent).get(r,s=a&jt.Optional&&s===_r?null:s)}catch(y){if("NullInjectorError"===y.name){if((y[os]=y[os]||[]).unshift(ce(r)),l)throw y;return function ye(t,r,s,a){const l=t[os];throw r[eo]&&l.unshift(r[eo]),t.message=function Qe(t,r,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let l=ce(r);if(Array.isArray(r))l=r.map(ce).join(" -> ");else if("object"==typeof r){let h=[];for(let y in r)if(r.hasOwnProperty(y)){let D=r[y];h.push(y+":"+("string"==typeof D?JSON.stringify(D):ce(D)))}l=`{${h.join(", ")}}`}return`${s}${a?"("+a+")":""}[${l}]: ${t.replace(Fi,"\n  ")}`}("\n"+t.message,l,s,a),t.ngTokenPath=l,t[os]=null,t}(y,r,"R3InjectorError",this.source)}throw y}finally{zn(h),Fa(l)}}resolveInjectorInitializers(){const r=Fa(this),s=zn(void 0);try{const a=this.get(ph.multi,Wt,jt.Self);for(const l of a)l()}finally{Fa(r),zn(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(ce(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new nt(205,!1)}processProvider(r){let s=Ru(r=ke(r))?r:ke(r&&r.provide);const a=function gp(t){return ud(t)?kl(void 0,t.useValue):kl(mp(t),ld)}(r);if(Ru(r)||!0!==r.multi)this.records.get(s);else{let l=this.records.get(s);l||(l=kl(void 0,ld,!0),l.factory=()=>x(l.multi),this.records.set(s,l)),s=r,l.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===ld&&(s.value=Ec,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Ll(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=ke(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function dd(t){const r=Zt(t),s=null!==r?r.factory:qr(t);if(null!==s)return s;if(t instanceof jr)throw new nt(204,!1);if(t instanceof Function)return function Am(t){const r=t.length;if(r>0)throw function Js(t,r){const s=[];for(let a=0;a<t;a++)s.push(r);return s}(r,"?"),new nt(204,!1);const s=function Un(t){const r=t&&(t[tn]||t[Dr]);if(r){const s=function nr(t){if(t.hasOwnProperty("name"))return t.name;const r=(""+t).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new nt(204,!1)}function mp(t,r,s){let a;if(Ru(t)){const l=ke(t);return qr(l)||dd(l)}if(ud(t))a=()=>ke(t.useValue);else if(function vh(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...x(t.deps||[]));else if(function Pl(t){return!(!t||!t.useExisting)}(t))a=()=>Gi(ke(t.useExisting));else{const l=ke(t&&(t.useClass||t.provide));if(!function Fl(t){return!!t.deps}(t))return qr(l)||dd(l);a=()=>new l(...x(t.deps))}return a}function kl(t,r,s=!1){return{factory:t,value:r,multi:s?[]:void 0}}function xm(t){return!!t.\u0275providers}function wh(t,r){for(const s of t)Array.isArray(s)?wh(s,r):xm(s)?wh(s.\u0275providers,r):r(s)}class $o{}class vp{resolveComponentFactory(r){throw function Nm(t){const r=Error(`No component factory found for ${ce(t)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=t,r}(r)}}let Pu=(()=>{class t{}return t.NULL=new vp,t})();function _p(){return Vl(Xr(),Lt())}function Vl(t,r){return new Ic(Jr(t,r))}let Ic=(()=>{class t{constructor(s){this.nativeElement=s}}return t.__NG_ELEMENT_ID__=_p,t})();function Rm(t){return t instanceof Ic?t.nativeElement:t}class Ep{}let Om=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function Pm(){const t=Lt(),s=yr(Xr().index,t);return(Bt(s)?s:t)[11]}(),t})(),km=(()=>{class t{}return t.\u0275prov=Dt({token:t,providedIn:"root",factory:()=>null}),t})();class wp{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Ip=new wp("14.2.2"),Dh={};function gu(t){return t.ngOriginalError}class Ba{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&gu(r);for(;s&&gu(s);)s=gu(s);return s||null}}const md=new Map;let Ap=0;const el="__ngContext__";function _s(t,r){Bt(r)?(t[el]=r[20],function bc(t){md.set(t[20],t)}(r)):t[el]=r}function Aa(t){return t instanceof Function?t():t}var Wa=(()=>((Wa=Wa||{})[Wa.Important=1]="Important",Wa[Wa.DashCase=2]="DashCase",Wa))();function Id(t,r){return undefined(t,r)}function Ac(t){const r=t[3];return un(r)?r[3]:r}function jl(t){return Fp(t[13])}function Dd(t){return Fp(t[4])}function Fp(t){for(;null!==t&&!un(t);)t=t[4];return t}function $l(t,r,s,a,l){if(null!=a){let h,y=!1;un(a)?h=a:Bt(a)&&(y=!0,a=a[0]);const D=Or(a);0===t&&null!==s?null==l?Fh(r,s,D):rl(r,s,D,l||null,!0):1===t&&null!==s?rl(r,s,D,l||null,!0):2===t?function Hh(t,r,s){const a=il(t,r);a&&function Lh(t,r,s,a){t.removeChild(r,s,a)}(t,a,r,s)}(r,D,y):3===t&&r.destroyNode(D),null!=h&&function Rd(t,r,s,a,l){const h=s[7];h!==Or(s)&&$l(r,t,a,h,l);for(let D=10;D<s.length;D++){const M=s[D];Ka(M[1],M,t,r,a,h)}}(r,t,h,s,l)}}function bd(t,r,s){return t.createElement(r,s)}function ro(t,r){const s=t[9],a=s.indexOf(r),l=r[3];512&r[2]&&(r[2]&=-513,ii(l,-1)),s.splice(a,1)}function Ph(t,r){if(t.length<=10)return;const s=10+r,a=t[s];if(a){const l=a[17];null!==l&&l!==t&&ro(l,a),r>0&&(t[s-1][4]=a[4]);const h=Qr(t,10+r);!function Lp(t,r){Ka(t,r,r[11],2,null,null),r[0]=null,r[6]=null}(a[1],a);const y=h[19];null!==y&&y.detachView(h[1]),a[3]=null,a[4]=null,a[2]&=-65}return a}function Up(t,r){if(!(128&r[2])){const s=r[11];s.destroyNode&&Ka(t,r,s,3,null,null),function Ym(t){let r=t[13];if(!r)return kh(t[1],t);for(;r;){let s=null;if(Bt(r))s=r[13];else{const a=r[10];a&&(s=a)}if(!s){for(;r&&!r[4]&&r!==t;)Bt(r)&&kh(r[1],r),r=r[3];null===r&&(r=t),Bt(r)&&kh(r[1],r),s=r&&r[4]}r=s}}(r)}}function kh(t,r){if(!(128&r[2])){r[2]&=-65,r[2]|=128,function Bp(t,r){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const l=r[s[a]];if(!(l instanceof Se)){const h=s[a+1];if(Array.isArray(h))for(let y=0;y<h.length;y+=2){const D=l[h[y]],M=h[y+1];try{M.call(D)}finally{}}else try{h.call(l)}finally{}}}}(t,r),function Jm(t,r){const s=t.cleanup,a=r[7];let l=-1;if(null!==s)for(let h=0;h<s.length-1;h+=2)if("string"==typeof s[h]){const y=s[h+1],D="function"==typeof y?y(r):Or(r[y]),M=a[l=s[h+2]],B=s[h+3];"boolean"==typeof B?D.removeEventListener(s[h],M,B):B>=0?a[l=B]():a[l=-B].unsubscribe(),h+=2}else{const y=a[l=s[h+1]];s[h].call(y)}if(null!==a){for(let h=l+1;h<a.length;h++)(0,a[h])();r[7]=null}}(t,r),1===r[1].type&&r[11].destroy();const s=r[17];if(null!==s&&un(r[3])){s!==r[3]&&ro(s,r);const a=r[19];null!==a&&a.detachView(t)}!function $m(t){md.delete(t[20])}(r)}}function jp(t,r,s){return function xc(t,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[0];if(2&a.flags){const l=t.data[a.directiveStart].encapsulation;if(l===lt.None||l===lt.Emulated)return null}return Jr(a,s)}(t,r.parent,s)}function rl(t,r,s,a,l){t.insertBefore(r,s,a,l)}function Fh(t,r,s){t.appendChild(r,s)}function Td(t,r,s,a,l){null!==a?rl(t,r,s,a,l):Fh(t,r,s)}function il(t,r){return t.parentNode(r)}let $p=function Uh(t,r,s){return 40&t.type?Jr(t,s):null};function Hl(t,r,s,a){const l=jp(t,a,r),h=r[11],D=function Ad(t,r,s){return $p(t,r,s)}(a.parent||r[6],a,r);if(null!=l)if(Array.isArray(s))for(let M=0;M<s.length;M++)Td(h,l,s[M],D,!1);else Td(h,l,s,D,!1)}function xd(t,r){if(null!==r){const s=r.type;if(3&s)return Jr(r,t);if(4&s)return $h(-1,t[r.index]);if(8&s){const a=r.child;if(null!==a)return xd(t,a);{const l=t[r.index];return un(l)?$h(-1,l):Or(l)}}if(32&s)return Id(r,t)()||Or(t[r.index]);{const a=jh(t,r);return null!==a?Array.isArray(a)?a[0]:xd(Ac(t[16]),a):xd(t,r.next)}}return null}function jh(t,r){return null!==r?t[16][6].projection[r.projection]:null}function $h(t,r){const s=10+t+1;if(s<r.length){const a=r[s],l=a[1].firstChild;if(null!==l)return xd(a,l)}return r[7]}function Gh(t,r,s,a,l,h,y){for(;null!=s;){const D=a[s.index],M=s.type;if(y&&0===r&&(D&&_s(Or(D),a),s.flags|=4),64!=(64&s.flags))if(8&M)Gh(t,r,s.child,a,l,h,!1),$l(r,t,l,D,h);else if(32&M){const B=Id(s,a);let X;for(;X=B();)$l(r,t,l,X,h);$l(r,t,l,D,h)}else 16&M?Nd(t,r,a,s,l,h):$l(r,t,l,D,h);s=y?s.projectionNext:s.next}}function Ka(t,r,s,a,l,h){Gh(s,a,t.firstChild,r,l,h,!1)}function Nd(t,r,s,a,l,h){const y=s[16],M=y[6].projection[a.projection];if(Array.isArray(M))for(let B=0;B<M.length;B++)$l(r,t,l,M[B],h);else Gh(t,r,M,y[3],l,h,!0)}function zh(t,r,s){t.setAttribute(r,"style",s)}function Od(t,r,s){""===s?t.removeAttribute(r,"class"):t.setAttribute(r,"class",s)}function Gp(t,r,s){let a=t.length;for(;;){const l=t.indexOf(r,s);if(-1===l)return l;if(0===l||t.charCodeAt(l-1)<=32){const h=r.length;if(l+h===a||t.charCodeAt(l+h)<=32)return l}s=l+1}}const Wp="ng-template";function Wh(t,r,s){let a=0;for(;a<t.length;){let l=t[a++];if(s&&"class"===l){if(l=t[a],-1!==Gp(l.toLowerCase(),r,0))return!0}else if(1===l){for(;a<t.length&&"string"==typeof(l=t[a++]);)if(l.toLowerCase()===r)return!0;return!1}}return!1}function Kh(t){return 4===t.type&&t.value!==Wp}function Kp(t,r,s){return r===(4!==t.type||s?t.value:Wp)}function qh(t,r,s){let a=4;const l=t.attrs||[],h=function Yh(t){for(let r=0;r<t.length;r++)if(et(t[r]))return r;return t.length}(l);let y=!1;for(let D=0;D<r.length;D++){const M=r[D];if("number"!=typeof M){if(!y)if(4&a){if(a=2|1&a,""!==M&&!Kp(t,M,s)||""===M&&1===r.length){if(sa(a))return!1;y=!0}}else{const B=8&a?M:r[++D];if(8&a&&null!==t.attrs){if(!Wh(t.attrs,B,s)){if(sa(a))return!1;y=!0}continue}const ue=Nc(8&a?"class":M,l,Kh(t),s);if(-1===ue){if(sa(a))return!1;y=!0;continue}if(""!==B){let je;je=ue>h?"":l[ue+1].toLowerCase();const dt=8&a?je:null;if(dt&&-1!==Gp(dt,B,0)||2&a&&B!==je){if(sa(a))return!1;y=!0}}}}else{if(!y&&!sa(a)&&!sa(M))return!1;if(y&&sa(M))continue;y=!1,a=M|1&a}}return sa(a)||y}function sa(t){return 0==(1&t)}function Nc(t,r,s,a){if(null===r)return-1;let l=0;if(a||!s){let h=!1;for(;l<r.length;){const y=r[l];if(y===t)return l;if(3===y||6===y)h=!0;else{if(1===y||2===y){let D=r[++l];for(;"string"==typeof D;)D=r[++l];continue}if(4===y)break;if(0===y){l+=4;continue}}l+=h?1:2}return-1}return function Qh(t,r){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,t)}function Rc(t,r,s=!1){for(let a=0;a<r.length;a++)if(qh(t,r[a],s))return!0;return!1}function Zp(t,r){return t?":not("+r.trim()+")":r}function Yp(t){let r=t[0],s=1,a=2,l="",h=!1;for(;s<t.length;){let y=t[s];if("string"==typeof y)if(2&a){const D=t[++s];l+="["+y+(D.length>0?'="'+D+'"':"")+"]"}else 8&a?l+="."+y:4&a&&(l+=" "+y);else""!==l&&!sa(y)&&(r+=Zp(h,l),l=""),a=y,h=h||!sa(a);s++}return""!==l&&(r+=Zp(h,l)),r}const Ir={};function Jh(t){Oc(er(),Lt(),Ie()+t,!1)}function Oc(t,r,s,a){if(!a)if(3==(3&r[2])){const h=t.preOrderCheckHooks;null!==h&&$(r,h,s)}else{const h=t.preOrderHooks;null!==h&&v(r,h,0,s)}yt(s)}function kd(t,r=null,s=null,a){const l=sl(t,r,s,a);return l.resolveInjectorInitializers(),l}function sl(t,r=null,s=null,a,l=new Set){const h=[s||Wt,co(t)];return a=a||("object"==typeof t?void 0:ce(t)),new Eh(h,r||cd(),a||null,l)}let mu=(()=>{class t{static create(s,a){if(Array.isArray(s))return kd({name:""},a,s,"");{const l=s.name??"";return kd({name:l},s.parent,s.providers,l)}}}return t.THROW_IF_NOT_FOUND=_r,t.NULL=new fp,t.\u0275prov=Dt({token:t,providedIn:"any",factory:()=>Gi(Ol)}),t.__NG_ELEMENT_ID__=-1,t})();function ll(t,r=jt.Default){const s=Lt();return null===s?Gi(t,r):Ar(Xr(),s,ke(t),r)}function Ud(){throw new Error("invalid")}function Kl(t,r){return t<<17|r<<2}function Ho(t){return t>>17&32767}function Bu(t){return 2|t}function oa(t){return(131068&t)>>2}function jd(t,r){return-131069&t|r<<2}function af(t){return 1|t}function Cg(t,r){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const l=s[a],h=s[a+1];if(-1!==h){const y=t.data[h];Do(l),y.contentQueries(2,r[h],h)}}}function Yl(t,r,s,a,l,h,y,D,M,B,X){const ue=r.blueprint.slice();return ue[0]=l,ue[2]=76|a,(null!==X||t&&1024&t[2])&&(ue[2]|=1024),vo(ue),ue[3]=ue[15]=t,ue[8]=s,ue[10]=y||t&&t[10],ue[11]=D||t&&t[11],ue[12]=M||t&&t[12]||null,ue[9]=B||t&&t[9]||null,ue[6]=h,ue[20]=function yd(){return Ap++}(),ue[21]=X,ue[16]=2==r.type?t[16]:ue,ue}function Ql(t,r,s,a,l){let h=t.data[r];if(null===h)h=function jc(t,r,s,a,l){const h=Ji(),y=Ii(),M=t.data[r]=function my(t,r,s,a,l,h){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?h:h&&h.parent,s,r,a,l);return null===t.firstChild&&(t.firstChild=M),null!==h&&(y?null==h.child&&null!==M.parent&&(h.child=M):null===h.next&&(h.next=M)),M}(t,r,s,a,l),function xi(){return Fn.lFrame.inI18n}()&&(h.flags|=64);else if(64&h.type){h.type=s,h.value=a,h.attrs=l;const y=function bs(){const t=Fn.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();h.injectorIndex=null===y?-1:y.injectorIndex}return ai(h,!0),h}function Jl(t,r,s,a){if(0===s)return-1;const l=r.length;for(let h=0;h<s;h++)r.push(a),t.blueprint.push(a),t.data.push(null);return l}function mf(t,r,s){ao(r);try{const a=t.viewQuery;null!==a&&xf(1,a,s);const l=t.template;null!==l&&bg(t,r,l,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Cg(t,r),t.staticViewQueries&&xf(2,t.viewQuery,s);const h=t.components;null!==h&&function vu(t,r){for(let s=0;s<r.length;s++)wy(t,r[s])}(r,h)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[2]&=-5,G()}}function Xl(t,r,s,a){const l=r[2];if(128!=(128&l)){ao(r);try{vo(r),function gt(t){return Fn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&bg(t,r,s,2,a);const y=3==(3&l);if(y){const B=t.preOrderCheckHooks;null!==B&&$(r,B,null)}else{const B=t.preOrderHooks;null!==B&&v(r,B,0,null),_(r,0)}if(function tc(t){for(let r=jl(t);null!==r;r=Dd(r)){if(!r[2])continue;const s=r[9];for(let a=0;a<s.length;a++){const l=s[a],h=l[3];0==(512&l[2])&&ii(h,1),l[2]|=512}}}(r),function Tf(t){for(let r=jl(t);null!==r;r=Dd(r))for(let s=10;s<r.length;s++){const a=r[s],l=a[1];ps(a)&&Xl(l,a,l.template,a[8])}}(r),null!==t.contentQueries&&Cg(t,r),y){const B=t.contentCheckHooks;null!==B&&$(r,B)}else{const B=t.contentHooks;null!==B&&v(r,B,1),_(r,1)}!function pf(t,r){const s=t.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const l=s[a];if(l<0)yt(~l);else{const h=l,y=s[++a],D=s[++a];Di(y,h),D(2,r[h])}}}finally{yt(-1)}}(t,r);const D=t.components;null!==D&&function gf(t,r){for(let s=0;s<r.length;s++)Sf(t,r[s])}(r,D);const M=t.viewQuery;if(null!==M&&xf(2,M,a),y){const B=t.viewCheckHooks;null!==B&&$(r,B)}else{const B=t.viewHooks;null!==B&&v(r,B,2),_(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[2]&=-41,512&r[2]&&(r[2]&=-513,ii(r[3],-1))}finally{G()}}}function bg(t,r,s,a,l){const h=Ie(),y=2&a;try{yt(-1),y&&r.length>22&&Oc(t,r,22,!1),s(a,l)}finally{yt(h)}}function Hd(t,r,s){if(Kn(r)){const l=r.directiveEnd;for(let h=r.directiveStart;h<l;h++){const y=t.data[h];y.contentQueries&&y.contentQueries(1,s[h],h)}}}function yf(t,r,s){!Ti()||(function Kd(t,r,s,a){const l=s.directiveStart,h=s.directiveEnd;t.firstCreatePass||vn(s,r),_s(a,r);const y=s.initialInputs;for(let D=l;D<h;D++){const M=t.data[D],B=ar(M);B&&If(r,s,M);const X=Pi(r,t,D,s);_s(X,r),null!==y&&Df(0,D-l,X,M,0,y),B&&(yr(s.index,r)[8]=X)}}(t,r,s,Jr(s,r)),128==(128&s.flags)&&function _y(t,r,s){const a=s.directiveStart,l=s.directiveEnd,h=s.index,y=function wo(){return Fn.lFrame.currentDirectiveIndex}();try{yt(h);for(let D=a;D<l;D++){const M=t.data[D],B=r[D];Ts(D),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&Pg(M,B)}}finally{yt(-1),Ts(y)}}(t,r,s))}function $c(t,r,s=Jr){const a=r.localNames;if(null!==a){let l=r.index+1;for(let h=0;h<a.length;h+=2){const y=a[h+1],D=-1===y?s(r,t):t[y];t[l++]=D}}}function Tg(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=Hc(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):r}function Hc(t,r,s,a,l,h,y,D,M,B){const X=22+a,ue=X+l,je=function Sg(t,r){const s=[];for(let a=0;a<r;a++)s.push(a<t?null:Ir);return s}(X,ue),dt="function"==typeof B?B():B;return je[1]={type:t,blueprint:je,template:s,queries:null,viewQuery:D,declTNode:r,data:je.slice().fill(null,X),bindingStartIndex:X,expandoStartIndex:ue,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:M,consts:dt,incompleteFirstPass:!1}}function xg(t,r,s,a){const l=Vg(r);null===s?l.push(a):(l.push(s),t.firstCreatePass&&Nf(t).push(a,l.length-1))}function Gd(t,r,s){for(let a in t)if(t.hasOwnProperty(a)){const l=t[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(r,l):s[a]=[r,l]}return s}function Ng(t,r){const a=r.directiveEnd,l=t.data,h=r.attrs,y=[];let D=null,M=null;for(let B=r.directiveStart;B<a;B++){const X=l[B],ue=X.inputs,je=null===h||Kh(r)?null:Lg(ue,h);y.push(je),D=Gd(ue,B,D),M=Gd(X.outputs,B,M)}null!==D&&(D.hasOwnProperty("class")&&(r.flags|=16),D.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=y,r.inputs=D,r.outputs=M}function ea(t,r,s,a,l,h,y,D){const M=Jr(r,s);let X,B=r.inputs;!D&&null!=B&&(X=B[a])?(Yd(t,s,X,a,l),Rr(r)&&zd(s,r.index)):3&r.type&&(a=function vf(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),l=null!=y?y(l,r.value||"",a):l,h.setProperty(M,a,l))}function zd(t,r){const s=yr(r,t);16&s[2]||(s[2]|=32)}function _f(t,r,s,a){let l=!1;if(Ti()){const h=function Ey(t,r,s){const a=t.directiveRegistry;let l=null;if(a)for(let h=0;h<a.length;h++){const y=a[h];Rc(s,y.selectors,!1)&&(l||(l=[]),kn(vn(s,r),t,y.type),ar(y)?(kg(t,s),l.unshift(y)):l.push(y))}return l}(t,r,s),y=null===a?null:{"":-1};if(null!==h){l=!0,wf(s,t.data.length,h.length);for(let X=0;X<h.length;X++){const ue=h[X];ue.providersResolver&&ue.providersResolver(ue)}let D=!1,M=!1,B=Jl(t,r,h.length,null);for(let X=0;X<h.length;X++){const ue=h[X];s.mergedAttrs=fr(s.mergedAttrs,ue.hostAttrs),qd(t,s,r,B,ue),Ef(B,ue,y),null!==ue.contentQueries&&(s.flags|=8),(null!==ue.hostBindings||null!==ue.hostAttrs||0!==ue.hostVars)&&(s.flags|=128);const je=ue.type.prototype;!D&&(je.ngOnChanges||je.ngOnInit||je.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(s.index),D=!0),!M&&(je.ngOnChanges||je.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(s.index),M=!0),B++}Ng(t,s)}y&&function Fg(t,r,s){if(r){const a=t.localNames=[];for(let l=0;l<r.length;l+=2){const h=s[r[l+1]];if(null==h)throw new nt(-301,!1);a.push(r[l],h)}}}(s,a,y)}return s.mergedAttrs=fr(s.mergedAttrs,s.attrs),l}function Wd(t,r,s,a,l,h){const y=h.hostBindings;if(y){let D=t.hostBindingOpCodes;null===D&&(D=t.hostBindingOpCodes=[]);const M=~r.index;(function Og(t){let r=t.length;for(;r>0;){const s=t[--r];if("number"==typeof s&&s<0)return s}return 0})(D)!=M&&D.push(M),D.push(a,l,y)}}function Pg(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function kg(t,r){r.flags|=2,(t.components||(t.components=[])).push(r.index)}function Ef(t,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=t;ar(r)&&(s[""]=t)}}function wf(t,r,s){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+s,t.providerIndexes=r}function qd(t,r,s,a,l){t.data[a]=l;const h=l.factory||(l.factory=qr(l.type)),y=new Se(h,ar(l),ll);t.blueprint[a]=y,s[a]=y,Wd(t,r,0,a,Jl(t,s,l.hostVars,Ir),l)}function If(t,r,s){const a=Jr(r,t),l=Tg(s),h=t[10],y=Gc(t,Yl(t,l,null,s.onPush?32:16,a,r,h,h.createRenderer(a,s),null,null,null));t[r.index]=y}function Ma(t,r,s,a,l,h){const y=Jr(t,r);!function ec(t,r,s,a,l,h,y){if(null==h)t.removeAttribute(r,l,s);else{const D=null==y?ut(h):y(h,a||"",l);t.setAttribute(r,l,D,s)}}(r[11],y,h,t.value,s,a,l)}function Df(t,r,s,a,l,h){const y=h[r];if(null!==y){const D=a.setInput;for(let M=0;M<y.length;){const B=y[M++],X=y[M++],ue=y[M++];null!==D?a.setInput(s,ue,B,X):s[X]=ue}}}function Lg(t,r){let s=null,a=0;for(;a<r.length;){const l=r[a];if(0!==l)if(5!==l){if("number"==typeof l)break;t.hasOwnProperty(l)&&(null===s&&(s=[]),s.push(l,t[l],r[a+1])),a+=2}else a+=2;else a+=4}return s}function bf(t,r,s,a){return new Array(t,!0,!1,r,null,0,a,s,null,null)}function Sf(t,r){const s=yr(r,t);if(ps(s)){const a=s[1];48&s[2]?Xl(a,s,a.template,s[8]):s[5]>0&&Af(s)}}function Af(t){for(let a=jl(t);null!==a;a=Dd(a))for(let l=10;l<a.length;l++){const h=a[l];if(ps(h))if(512&h[2]){const y=h[1];Xl(y,h,y.template,h[8])}else h[5]>0&&Af(h)}const s=t[1].components;if(null!==s)for(let a=0;a<s.length;a++){const l=yr(s[a],t);ps(l)&&l[5]>0&&Af(l)}}function wy(t,r){const s=yr(r,t),a=s[1];(function Iy(t,r){for(let s=r.length;s<t.blueprint.length;s++)r.push(t.blueprint[s])})(a,s),mf(a,s,s[8])}function Gc(t,r){return t[13]?t[14][4]=r:t[13]=r,t[14]=r,r}function Mf(t){for(;t;){t[2]|=32;const r=Ac(t);if(Ki(t)&&!r)return t;t=r}return null}function zc(t,r,s,a=!0){const l=r[10];l.begin&&l.begin();try{Xl(t,r,t.template,s)}catch(y){throw a&&Rf(r,y),y}finally{l.end&&l.end()}}function xf(t,r,s){Do(0),r(t,s)}function Vg(t){return t[7]||(t[7]=[])}function Nf(t){return t.cleanup||(t.cleanup=[])}function Rf(t,r){const s=t[9],a=s?s.get(Ba,null):null;a&&a.handleError(r)}function Yd(t,r,s,a,l){for(let h=0;h<s.length;){const y=s[h++],D=s[h++],M=r[y],B=t.data[y];null!==B.setInput?B.setInput(M,l,a,D):M[D]=l}}function Ya(t,r,s){const a=Bi(r,t);!function Vu(t,r,s){t.setValue(r,s)}(t[11],a,s)}function hl(t,r,s){let a=s?t.styles:null,l=s?t.classes:null,h=0;if(null!==r)for(let y=0;y<r.length;y++){const D=r[y];"number"==typeof D?h=D:1==h?l=Ye(l,D):2==h&&(a=Ye(a,D+": "+r[++y]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=l:t.classesWithoutHost=l}function Fr(t,r,s,a,l=!1){for(;null!==s;){const h=r[s.index];if(null!==h&&a.push(Or(h)),un(h))for(let D=10;D<h.length;D++){const M=h[D],B=M[1].firstChild;null!==B&&Fr(M[1],M,B,a)}const y=s.type;if(8&y)Fr(t,r,s.child,a);else if(32&y){const D=Id(s,r);let M;for(;M=D();)a.push(M)}else if(16&y){const D=jh(r,s);if(Array.isArray(D))a.push(...D);else{const M=Ac(r[16]);Fr(M[1],M,D,a,!0)}}s=l?s.projectionNext:s.next}return a}class nc{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return Fr(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(un(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(Ph(r,a),Qr(s,a))}this._attachedToViewContainer=!1}Up(this._lView[1],this._lView)}onDestroy(r){xg(this._lView[1],this._lView,null,r)}markForCheck(){Mf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){zc(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new nt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Vp(t,r){Ka(t,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new nt(902,!1);this._appRef=r}}class Ug extends nc{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;zc(r[1],r,r[8],!1)}checkNoChanges(){}get context(){return null}}class fl extends Pu{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=Ee(r);return new aa(s,this.ngModule)}}function Bg(t){const r=[];for(let s in t)t.hasOwnProperty(s)&&r.push({propName:t[s],templateName:s});return r}class Go{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){const l=this.injector.get(r,Dh,a);return l!==Dh||s===Dh?l:this.parentInjector.get(r,s,a)}}class aa extends $o{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function Xm(t){return t.map(Yp).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return Bg(this.componentDef.inputs)}get outputs(){return Bg(this.componentDef.outputs)}create(r,s,a,l){let h=(l=l||this.ngModule)instanceof Ou?l:l?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const y=h?new Go(r,h):r,D=y.get(Ep,null);if(null===D)throw new nt(407,!1);const M=y.get(km,null),B=D.createRenderer(null,this.componentDef),X=this.componentDef.selectors[0][0]||"div",ue=a?function Mg(t,r,s){return t.selectRootElement(r,s===lt.ShadowDom)}(B,a,this.componentDef.encapsulation):bd(D.createRenderer(null,this.componentDef),X,function Es(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(X)),je=this.componentDef.onPush?288:272,dt=Hc(0,null,null,1,0,null,null,null,null,null),Vt=Yl(null,dt,null,je,null,null,D,B,M,y,null);let on,En;ao(Vt);try{const Vn=function $g(t,r,s,a,l,h){const y=s[1];s[22]=t;const M=Ql(y,22,2,"#host",null),B=M.mergedAttrs=r.hostAttrs;null!==B&&(hl(M,B,!0),null!==t&&(At(l,t,B),null!==M.classes&&Od(l,t,M.classes),null!==M.styles&&zh(l,t,M.styles)));const X=a.createRenderer(t,r),ue=Yl(s,Tg(r),null,r.onPush?32:16,s[22],M,a,X,h||null,null,null);return y.firstCreatePass&&(kn(vn(M,s),y,r.type),kg(y,M),wf(M,s.length,1)),Gc(s,ue),s[22]=ue}(ue,this.componentDef,Vt,D,B);if(ue)if(a)At(B,ue,["ng-version",Ip.full]);else{const{attrs:Qn,classes:qt}=function ey(t){const r=[],s=[];let a=1,l=2;for(;a<t.length;){let h=t[a];if("string"==typeof h)2===l?""!==h&&r.push(h,t[++a]):8===l&&s.push(h);else{if(!sa(l))break;l=h}a++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);Qn&&At(B,ue,Qn),qt&&qt.length>0&&Od(B,ue,qt.join(" "))}if(En=fs(dt,22),void 0!==s){const Qn=En.projection=[];for(let qt=0;qt<this.ngContentSelectors.length;qt++){const cr=s[qt];Qn.push(null!=cr?Array.from(cr):null)}}on=function Cy(t,r,s,a){const l=s[1],h=function Rg(t,r,s){const a=Xr();t.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),qd(t,a,r,Jl(t,r,1,null),s),Ng(t,a));const l=Pi(r,t,a.directiveStart,a);_s(l,r);const h=Jr(a,r);return h&&_s(h,r),l}(l,s,r);if(t[8]=s[8]=h,null!==a)for(const D of a)D(h,r);if(r.contentQueries){const D=Xr();r.contentQueries(1,h,D.directiveStart)}const y=Xr();return!l.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(yt(y.index),Wd(s[1],y,0,y.directiveStart,y.directiveEnd,r),Pg(r,h)),h}(Vn,this.componentDef,Vt,[Of]),mf(dt,Vt,null)}finally{G()}return new jg(this.componentType,on,Vl(En,Vt),Vt,En)}}class jg extends class yp{}{constructor(r,s,a,l,h){super(),this.location=a,this._rootLView=l,this._tNode=h,this.instance=s,this.hostView=this.changeDetectorRef=new Ug(l),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let l;if(null!==a&&(l=a[r])){const h=this._rootLView;Yd(h[1],h,l,r,s),zd(h,this._tNode.index)}}get injector(){return new na(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function Of(){const t=Xr();Vr(Lt()[1],t)}function Pf(t){let r=function Hg(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;r;){let l;if(ar(t))l=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new nt(903,!1);l=r.\u0275dir}if(l){if(s){a.push(l);const y=t;y.inputs=Gg(t.inputs),y.declaredInputs=Gg(t.declaredInputs),y.outputs=Gg(t.outputs);const D=l.hostBindings;D&&zg(t,D);const M=l.viewQuery,B=l.contentQueries;if(M&&Kv(t,M),B&&zs(t,B),Pe(t.inputs,l.inputs),Pe(t.declaredInputs,l.declaredInputs),Pe(t.outputs,l.outputs),ar(l)&&l.data.animation){const X=t.data;X.animation=(X.animation||[]).concat(l.data.animation)}}const h=l.features;if(h)for(let y=0;y<h.length;y++){const D=h[y];D&&D.ngInherit&&D(t),D===Pf&&(s=!1)}}r=Object.getPrototypeOf(r)}!function ns(t){let r=0,s=null;for(let a=t.length-1;a>=0;a--){const l=t[a];l.hostVars=r+=l.hostVars,l.hostAttrs=fr(l.hostAttrs,s=fr(s,l.hostAttrs))}}(a)}function Gg(t){return t===$n?{}:t===Wt?[]:t}function Kv(t,r){const s=t.viewQuery;t.viewQuery=s?(a,l)=>{r(a,l),s(a,l)}:r}function zs(t,r){const s=t.contentQueries;t.contentQueries=s?(a,l,h)=>{r(a,l,h),s(a,l,h)}:r}function zg(t,r){const s=t.hostBindings;t.hostBindings=s?(a,l)=>{r(a,l),s(a,l)}:r}let Qd=null;function pl(){if(!Qd){const t=ht.Symbol;if(t&&t.iterator)Qd=t.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const a=r[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(Qd=a)}}}return Qd}function Wc(t){return!!kf(t)&&(Array.isArray(t)||!(t instanceof Map)&&pl()in t)}function kf(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function xo(t,r,s){return t[r]=s}function as(t,r,s){return!Object.is(t[r],s)&&(t[r]=s,!0)}function wa(t,r,s,a){const l=as(t,r,s);return as(t,r+1,a)||l}function Ff(t,r,s,a){const l=Lt();return as(l,hn(),r)&&(er(),Ma(It(),l,t,r,s,a)),Ff}function yl(t,r,s,a){return as(t,hn(),s)?r+ut(s)+a:Ir}function _u(t,r,s,a,l,h){const D=wa(t,function Q(){return Fn.lFrame.bindingIndex}(),s,l);return ur(2),D?r+ut(s)+a+ut(l)+h:Ir}function Qg(t,r,s,a,l,h,y,D){const M=Lt(),B=er(),X=t+22,ue=B.firstCreatePass?function jf(t,r,s,a,l,h,y,D,M){const B=r.consts,X=Ql(r,t,4,y||null,$i(B,D));_f(r,s,X,$i(B,M)),Vr(r,X);const ue=X.tViews=Hc(2,X,a,l,h,r.directiveRegistry,r.pipeRegistry,null,r.schemas,B);return null!==r.queries&&(r.queries.template(r,X),ue.queries=r.queries.embeddedTView(X)),X}(X,B,M,r,s,a,l,h,y):B.data[X];ai(ue,!1);const je=M[11].createComment("");Hl(B,M,je,ue),_s(je,M),Gc(M,M[X]=bf(je,M,je,ue)),ir(ue)&&yf(B,M,ue),null!=y&&$c(M,ue,D)}function Kc(t){return ji(function Eo(){return Fn.lFrame.contextLView}(),22+t)}function nh(t,r,s){const a=Lt();return as(a,hn(),r)&&ea(er(),It(),a,t,r,a[11],s,!1),nh}function _l(t,r,s,a,l){const y=l?"class":"style";Yd(t,s,r.inputs[y],y,a)}function El(t,r,s,a){const l=Lt(),h=er(),y=22+t,D=l[11],M=l[y]=bd(D,r,function hr(){return Fn.lFrame.currentNamespace}()),B=h.firstCreatePass?function Ay(t,r,s,a,l,h,y){const D=r.consts,B=Ql(r,t,2,l,$i(D,h));return _f(r,s,B,$i(D,y)),null!==B.attrs&&hl(B,B.attrs,!1),null!==B.mergedAttrs&&hl(B,B.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,B),B}(y,h,l,0,r,s,a):h.data[y];ai(B,!0);const X=B.mergedAttrs;null!==X&&At(D,M,X);const ue=B.classes;null!==ue&&Od(D,M,ue);const je=B.styles;return null!==je&&zh(D,M,je),64!=(64&B.flags)&&Hl(h,l,M,B),0===function di(){return Fn.lFrame.elementDepthCount}()&&_s(M,l),function Vs(){Fn.lFrame.elementDepthCount++}(),ir(B)&&(yf(h,l,B),Hd(h,B,l)),null!==a&&$c(l,B),El}function Ja(){let t=Xr();Ii()?Zr():(t=t.parent,ai(t,!1));const r=t;!function Ur(){Fn.lFrame.elementDepthCount--}();const s=er();return s.firstCreatePass&&(Vr(s,t),Kn(t)&&s.queries.elementEnd(t)),null!=r.classesWithoutHost&&function Sn(t){return 0!=(16&t.flags)}(r)&&_l(s,r,Lt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function zt(t){return 0!=(32&t.flags)}(r)&&_l(s,r,Lt(),r.stylesWithoutHost,!1),Ja}function wu(t,r,s,a){return El(t,r,s,a),Ja(),wu}function Xa(t,r,s){const a=Lt(),l=er(),h=t+22,y=l.firstCreatePass?function qc(t,r,s,a,l){const h=r.consts,y=$i(h,a),D=Ql(r,t,8,"ng-container",y);return null!==y&&hl(D,y,!0),_f(r,s,D,$i(h,l)),null!==r.queries&&r.queries.elementStart(r,D),D}(h,l,a,r,s):l.data[h];ai(y,!0);const D=a[h]=a[11].createComment("");return Hl(l,a,D,y),_s(D,a),ir(y)&&(yf(l,a,y),Hd(l,y,a)),null!=s&&$c(a,y),Xa}function rh(){let t=Xr();const r=er();return Ii()?Zr():(t=t.parent,ai(t,!1)),r.firstCreatePass&&(Vr(r,t),Kn(t)&&r.queries.elementEnd(t)),rh}function $f(){return Lt()}function wl(t){return!!t&&"function"==typeof t.then}function Xg(t){return!!t&&"function"==typeof t.subscribe}const em=Xg;function Hf(t,r,s,a){const l=Lt(),h=er(),y=Xr();return function Gf(t,r,s,a,l,h,y,D){const M=ir(a),X=t.firstCreatePass&&Nf(t),ue=r[8],je=Vg(r);let dt=!0;if(3&a.type||D){const En=Jr(a,r),Vn=D?D(En):En,Qn=je.length,qt=D?vi=>D(Or(vi[a.index])):a.index;let cr=null;if(!D&&M&&(cr=function My(t,r,s,a){const l=t.cleanup;if(null!=l)for(let h=0;h<l.length-1;h+=2){const y=l[h];if(y===s&&l[h+1]===a){const D=r[7],M=l[h+2];return D.length>M?D[M]:null}"string"==typeof y&&(h+=2)}return null}(t,r,l,a.index)),null!==cr)(cr.__ngLastListenerFn__||cr).__ngNextListenerFn__=h,cr.__ngLastListenerFn__=h,dt=!1;else{h=rm(a,r,ue,h,!1);const vi=s.listen(Vn,l,h);je.push(h,vi),X&&X.push(l,qt,Qn,Qn+1)}}else h=rm(a,r,ue,h,!1);const Vt=a.outputs;let on;if(dt&&null!==Vt&&(on=Vt[l])){const En=on.length;if(En)for(let Vn=0;Vn<En;Vn+=2){const ws=r[on[Vn]][on[Vn+1]].subscribe(h),Jc=je.length;je.push(h,ws),X&&X.push(l,a.index,Jc,-(Jc+1))}}}(h,l,l[11],y,t,r,0,a),Hf}function nm(t,r,s,a){try{return!1!==s(a)}catch(l){return Rf(t,l),!1}}function rm(t,r,s,a,l){return function h(y){if(y===Function)return a;Mf(2&t.flags?yr(t.index,r):r);let M=nm(r,0,a,y),B=h.__ngNextListenerFn__;for(;B;)M=nm(r,0,B,y)&&M,B=B.__ngNextListenerFn__;return l&&!1===M&&(y.preventDefault(),y.returnValue=!1),M}}function zf(t=1){return function N(t){return(Fn.lFrame.contextLView=function Z(t,r){for(;t>0;)r=r[15],t--;return r}(t,Fn.lFrame.contextLView))[8]}(t)}function Wf(t,r,s){return Kf(t,"",r,"",s),Wf}function Kf(t,r,s,a,l){const h=Lt(),y=yl(h,r,s,a);return y!==Ir&&ea(er(),It(),h,t,y,h[11],l,!1),Kf}function Gu(t,r,s,a,l){const h=t[s+1],y=null===r;let D=a?Ho(h):oa(h),M=!1;for(;0!==D&&(!1===M||y);){const X=t[D+1];Py(t[D],r)&&(M=!0,t[D+1]=a?af(X):Bu(X)),D=a?Ho(X):oa(X)}M&&(t[s+1]=a?Bu(h):af(h))}function Py(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&E(t,r)>=0}const io={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function am(t){return t.substring(io.key,io.keyEnd)}function um(t,r){const s=io.textEnd;return s===r?-1:(r=io.keyEnd=function Vy(t,r,s){for(;r<s&&t.charCodeAt(r)>32;)r++;return r}(t,io.key=r,s),ic(t,r,s))}function ic(t,r,s){for(;r<s&&t.charCodeAt(r)<=32;)r++;return r}function Jf(t,r,s){return Ra(t,r,s,!1),Jf}function Xf(t,r){return Ra(t,r,null,!0),Xf}function jy(t){!function i(t,r,s,a){const l=er(),h=ur(2);l.firstUpdatePass&&n(l,null,h,a);const y=Lt();if(s!==Ir&&as(y,h,s)){const D=l.data[Ie()];if(Ln(D,a)&&!e(l,h)){let M=a?D.classesWithoutHost:D.stylesWithoutHost;null!==M&&(s=Ye(M,s||"")),_l(l,D,y,s,a)}else!function Ne(t,r,s,a,l,h,y,D){l===Ir&&(l=Wt);let M=0,B=0,X=0<l.length?l[0]:null,ue=0<h.length?h[0]:null;for(;null!==X||null!==ue;){const je=M<l.length?l[M+1]:void 0,dt=B<h.length?h[B+1]:void 0;let on,Vt=null;X===ue?(M+=2,B+=2,je!==dt&&(Vt=ue,on=dt)):null===ue||null!==X&&X<ue?(M+=2,Vt=X):(B+=2,Vt=ue,on=dt),null!==Vt&&pt(t,r,s,a,Vt,on,y,D),X=M<l.length?l[M]:null,ue=B<h.length?h[B]:null}}(l,D,y,y[11],y[h+1],y[h+1]=function z(t,r,s){if(null==s||""===s)return Wt;const a=[],l=Ta(s);if(Array.isArray(l))for(let h=0;h<l.length;h++)t(a,l[h],!0);else if("object"==typeof l)for(const h in l)l.hasOwnProperty(h)&&t(a,h,l[h]);else"string"==typeof l&&r(a,l);return a}(t,r,s),a,h)}}(es,Iu,t,!0)}function Iu(t,r){for(let s=function Fy(t){return function cm(t){io.key=0,io.keyEnd=0,io.value=0,io.valueEnd=0,io.textEnd=t.length}(t),um(t,ic(t,0,io.textEnd))}(r);s>=0;s=um(r,s))es(t,am(r),!0)}function Ra(t,r,s,a){const l=Lt(),h=er(),y=ur(2);h.firstUpdatePass&&n(h,t,y,a),r!==Ir&&as(l,y,r)&&pt(h,h.data[Ie()],l,l[11],t,l[y+1]=function Cn(t,r){return null==t||("string"==typeof r?t+=r:"object"==typeof t&&(t=ce(Ta(t)))),t}(r,s),a,y)}function e(t,r){return r>=t.expandoStartIndex}function n(t,r,s,a){const l=t.data;if(null===l[s+1]){const h=l[Ie()],y=e(t,s);Ln(h,a)&&null===r&&!y&&(r=!1),r=function o(t,r,s,a){const l=Io(t);let h=a?r.residualClasses:r.residualStyles;if(null===l)0===(a?r.classBindings:r.styleBindings)&&(s=U(s=C(null,t,r,s,a),r.attrs,a),h=null);else{const y=r.directiveStylingLast;if(-1===y||t[y]!==l)if(s=C(l,t,r,s,a),null===h){let M=function u(t,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==oa(a))return t[Ho(a)]}(t,r,a);void 0!==M&&Array.isArray(M)&&(M=C(null,t,r,M[1],a),M=U(M,r.attrs,a),function d(t,r,s,a){t[Ho(s?r.classBindings:r.styleBindings)]=a}(t,r,a,M))}else h=function g(t,r,s){let a;const l=r.directiveEnd;for(let h=1+r.directiveStylingLast;h<l;h++)a=U(a,t[h].hostAttrs,s);return U(a,r.attrs,s)}(t,r,a)}return void 0!==h&&(a?r.residualClasses=h:r.residualStyles=h),s}(l,h,r,a),function Hu(t,r,s,a,l,h){let y=h?r.classBindings:r.styleBindings,D=Ho(y),M=oa(y);t[a]=s;let X,B=!1;if(Array.isArray(s)){const ue=s;X=ue[1],(null===X||E(ue,X)>0)&&(B=!0)}else X=s;if(l)if(0!==M){const je=Ho(t[D+1]);t[a+1]=Kl(je,D),0!==je&&(t[je+1]=jd(t[je+1],a)),t[D+1]=function sf(t,r){return 131071&t|r<<17}(t[D+1],a)}else t[a+1]=Kl(D,0),0!==D&&(t[D+1]=jd(t[D+1],a)),D=a;else t[a+1]=Kl(M,0),0===D?D=a:t[M+1]=jd(t[M+1],a),M=a;B&&(t[a+1]=Bu(t[a+1])),Gu(t,X,a,!0),Gu(t,X,a,!1),function Oy(t,r,s,a,l){const h=l?t.residualClasses:t.residualStyles;null!=h&&"string"==typeof r&&E(h,r)>=0&&(s[a+1]=af(s[a+1]))}(r,X,t,a,h),y=Kl(D,M),h?r.classBindings=y:r.styleBindings=y}(l,h,r,s,y,a)}}function C(t,r,s,a,l){let h=null;const y=s.directiveEnd;let D=s.directiveStylingLast;for(-1===D?D=s.directiveStart:D++;D<y&&(h=r[D],a=U(a,h.hostAttrs,l),h!==t);)D++;return null!==t&&(s.directiveStylingLast=D),a}function U(t,r,s){const a=s?1:2;let l=-1;if(null!==r)for(let h=0;h<r.length;h++){const y=r[h];"number"==typeof y?l=y:l===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),es(t,y,!!s||r[++h]))}return void 0===t?null:t}function pt(t,r,s,a,l,h,y,D){if(!(3&r.type))return;const M=t.data,B=M[D+1];Ut(function cl(t){return 1==(1&t)}(B)?Pt(M,r,s,l,oa(B),y):void 0)||(Ut(h)||function yu(t){return 2==(2&t)}(B)&&(h=Pt(M,null,s,l,D,y)),function Hp(t,r,s,a,l){if(r)l?t.addClass(s,a):t.removeClass(s,a);else{let h=-1===a.indexOf("-")?void 0:Wa.DashCase;null==l?t.removeStyle(s,a,h):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),h|=Wa.Important),t.setStyle(s,a,l,h))}}(a,y,Bi(Ie(),s),l,h))}function Pt(t,r,s,a,l,h){const y=null===r;let D;for(;l>0;){const M=t[l],B=Array.isArray(M),X=B?M[1]:M,ue=null===X;let je=s[l+1];je===Ir&&(je=ue?Wt:void 0);let dt=ue?su(je,a):X===a?je:void 0;if(B&&!Ut(dt)&&(dt=su(M,a)),Ut(dt)&&(D=dt,y))return D;const Vt=t[l+1];l=y?Ho(Vt):oa(Vt)}if(null!==r){let M=h?r.residualClasses:r.residualStyles;null!=M&&(D=su(M,a))}return D}function Ut(t){return void 0!==t}function Ln(t,r){return 0!=(t.flags&(r?16:32))}function ni(t,r=""){const s=Lt(),a=er(),l=t+22,h=a.firstCreatePass?Ql(a,l,1,r,null):a.data[l],y=s[l]=function Cd(t,r){return t.createText(r)}(s[11],r);Hl(a,s,y,h),ai(h,!1)}function gi(t){return mi("",t,""),gi}function mi(t,r,s){const a=Lt(),l=yl(a,t,r,s);return l!==Ir&&Ya(a,Ie(),l),mi}function Rs(t,r,s,a,l){const h=Lt(),y=_u(h,t,r,s,a,l);return y!==Ir&&Ya(h,Ie(),y),Rs}function $y(t,r,s){const a=Lt();if(as(a,hn(),r)){const h=er(),y=It();ea(h,y,a,t,r,function Zd(t,r,s){return(null===t||ar(t))&&(s=function yo(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(s[r.index])),s[11]}(Io(h.data),y,a),s,!0)}return $y}const Yc=void 0;var RE=["en",[["a","p"],["AM","PM"],Yc],[["AM","PM"],Yc,Yc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Yc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Yc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Yc,"{1} 'at' {0}",Yc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function NE(t){const s=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let oh={};function Hy(t){const r=function OE(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=d_(r);if(s)return s;const a=r.split("-")[0];if(s=d_(a),s)return s;if("en"===a)return RE;throw new nt(701,!1)}function c_(t){return Hy(t)[sr.PluralCase]}function d_(t){return t in oh||(oh[t]=ht.ng&&ht.ng.common&&ht.ng.common.locales&&ht.ng.common.locales[t]),oh[t]}var sr=(()=>((sr=sr||{})[sr.LocaleId=0]="LocaleId",sr[sr.DayPeriodsFormat=1]="DayPeriodsFormat",sr[sr.DayPeriodsStandalone=2]="DayPeriodsStandalone",sr[sr.DaysFormat=3]="DaysFormat",sr[sr.DaysStandalone=4]="DaysStandalone",sr[sr.MonthsFormat=5]="MonthsFormat",sr[sr.MonthsStandalone=6]="MonthsStandalone",sr[sr.Eras=7]="Eras",sr[sr.FirstDayOfWeek=8]="FirstDayOfWeek",sr[sr.WeekendRange=9]="WeekendRange",sr[sr.DateFormat=10]="DateFormat",sr[sr.TimeFormat=11]="TimeFormat",sr[sr.DateTimeFormat=12]="DateTimeFormat",sr[sr.NumberSymbols=13]="NumberSymbols",sr[sr.NumberFormats=14]="NumberFormats",sr[sr.CurrencyCode=15]="CurrencyCode",sr[sr.CurrencySymbol=16]="CurrencySymbol",sr[sr.CurrencyName=17]="CurrencyName",sr[sr.Currencies=18]="Currencies",sr[sr.Directionality=19]="Directionality",sr[sr.PluralCase=20]="PluralCase",sr[sr.ExtraData=21]="ExtraData",sr))();const ah="en-US";let h_=ah;function Wy(t,r,s,a,l){if(t=ke(t),Array.isArray(t))for(let h=0;h<t.length;h++)Wy(t[h],r,s,a,l);else{const h=er(),y=Lt();let D=Ru(t)?t:ke(t.provide),M=mp(t);const B=Xr(),X=1048575&B.providerIndexes,ue=B.directiveStart,je=B.providerIndexes>>20;if(Ru(t)||!t.multi){const dt=new Se(M,l,ll),Vt=qy(D,r,l?X:X+je,ue);-1===Vt?(kn(vn(B,y),h,D),Ky(h,t,r.length),r.push(D),B.directiveStart++,B.directiveEnd++,l&&(B.providerIndexes+=1048576),s.push(dt),y.push(dt)):(s[Vt]=dt,y[Vt]=dt)}else{const dt=qy(D,r,X+je,ue),Vt=qy(D,r,X,X+je),on=dt>=0&&s[dt],En=Vt>=0&&s[Vt];if(l&&!En||!l&&!on){kn(vn(B,y),h,D);const Vn=function xw(t,r,s,a,l){const h=new Se(t,s,ll);return h.multi=[],h.index=r,h.componentProviders=0,L_(h,l,a&&!s),h}(l?Mw:Aw,s.length,l,a,M);!l&&En&&(s[Vt].providerFactory=Vn),Ky(h,t,r.length,0),r.push(D),B.directiveStart++,B.directiveEnd++,l&&(B.providerIndexes+=1048576),s.push(Vn),y.push(Vn)}else Ky(h,t,dt>-1?dt:Vt,L_(s[l?Vt:dt],M,!l&&a));!l&&a&&En&&s[Vt].componentProviders++}}}function Ky(t,r,s,a){const l=Ru(r),h=function pp(t){return!!t.useClass}(r);if(l||h){const M=(h?ke(r.useClass):r).prototype.ngOnDestroy;if(M){const B=t.destroyHooks||(t.destroyHooks=[]);if(!l&&r.multi){const X=B.indexOf(s);-1===X?B.push(s,[a,M]):B[X+1].push(a,M)}else B.push(s,M)}}}function L_(t,r,s){return s&&t.componentProviders++,t.multi.push(r)-1}function qy(t,r,s,a){for(let l=s;l<a;l++)if(r[l]===t)return l;return-1}function Aw(t,r,s,a){return Zy(this.multi,[])}function Mw(t,r,s,a){const l=this.multi;let h;if(this.providerFactory){const y=this.providerFactory.componentProviders,D=Pi(s,s[1],this.providerFactory.index,a);h=D.slice(0,y),Zy(l,h);for(let M=y;M<D.length;M++)h.push(D[M])}else h=[],Zy(l,h);return h}function Zy(t,r){for(let s=0;s<t.length;s++)r.push((0,t[s])());return r}function V_(t,r=[]){return s=>{s.providersResolver=(a,l)=>function Sw(t,r,s){const a=er();if(a.firstCreatePass){const l=ar(t);Wy(s,a.data,a.blueprint,l,!0),Wy(r,a.data,a.blueprint,l,!1)}}(a,l?l(t):t,r)}}class uh{}class U_{}function Nw(t,r){return new B_(t,r??null)}class B_ extends uh{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new fl(this);const a=gn(r);this._bootstrapComponents=Aa(a.bootstrap),this._r3Injector=sl(r,s,[{provide:uh,useValue:this},{provide:Pu,useValue:this.componentFactoryResolver}],ce(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class Yy extends U_{constructor(r){super(),this.moduleType=r}create(r){return new B_(this.moduleType,r)}}class Rw extends uh{constructor(r,s,a){super(),this.componentFactoryResolver=new fl(this),this.instance=null;const l=new Eh([...r,{provide:uh,useValue:this},{provide:Pu,useValue:this.componentFactoryResolver}],s||cd(),a,new Set(["environment"]));this.injector=l,l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function Qy(t,r,s=null){return new Rw(t,r,s).injector}let Ow=(()=>{class t{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s.id)){const a=ad(0,s.type),l=a.length>0?Qy([a],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s.id,l)}return this.cachedInjectors.get(s.id)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=Dt({token:t,providedIn:"environment",factory:()=>new t(Gi(Ou))}),t})();function j_(t){t.getStandaloneInjector=r=>r.get(Ow).getOrCreateStandaloneInjector(t)}function q_(t,r,s,a){return Y_(Lt(),A(),t,r,s,a)}function Z_(t,r,s,a,l){return function Q_(t,r,s,a,l,h,y){const D=r+s;return wa(t,D,l,h)?xo(t,D+2,y?a.call(y,l,h):a(l,h)):sp(t,D+2)}(Lt(),A(),t,r,s,a,l)}function sp(t,r){const s=t[r];return s===Ir?void 0:s}function Y_(t,r,s,a,l,h){const y=r+s;return as(t,y,l)?xo(t,y+1,h?a.call(h,l):a(l)):sp(t,y+1)}function t0(t,r){const s=er();let a;const l=t+22;s.firstCreatePass?(a=function Yw(t,r){if(r)for(let s=r.length-1;s>=0;s--){const a=r[s];if(t===a.name)return a}}(r,s.pipeRegistry),s.data[l]=a,a.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(l,a.onDestroy)):a=s.data[l];const h=a.factory||(a.factory=qr(a.type)),y=zn(ll);try{const D=ys(!1),M=h();return ys(D),function th(t,r,s,a){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),r[s]=a}(s,Lt(),l,M),M}finally{zn(y)}}function n0(t,r,s){const a=t+22,l=Lt(),h=ji(l,a);return function op(t,r){return t[1].data[r].pure}(l,a)?Y_(l,A(),r,h.transform,s,h):h.transform(s)}function Xy(t){return r=>{setTimeout(t,void 0,r)}}const zu=class tI extends c.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){let l=r,h=s||(()=>null),y=a;if(r&&"object"==typeof r){const M=r;l=M.next?.bind(M),h=M.error?.bind(M),y=M.complete?.bind(M)}this.__isAsync&&(h=Xy(h),l&&(l=Xy(l)),y&&(y=Xy(y)));const D=super.subscribe({next:l,error:h,complete:y});return r instanceof k.w0&&r.add(D),D}};function nI(){return this._results[pl()]()}class ev{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=pl(),a=ev.prototype;a[s]||(a[s]=nI)}get changes(){return this._changes||(this._changes=new zu)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const l=Pr(r);(this._changesDetected=!function Pa(t,r,s){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let l=t[a],h=r[a];if(s&&(l=s(l),h=s(h)),h!==l)return!1}return!0}(a._results,l,s))&&(a._results=l,a.length=l.length,a.last=l[this.length-1],a.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ap=(()=>{class t{}return t.__NG_ELEMENT_ID__=sI,t})();const rI=ap,iI=class extends rI{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(r,s){const a=this._declarationTContainer.tViews,l=Yl(this._declarationLView,a,r,16,null,a.declTNode,null,null,null,null,s||null);l[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(l[19]=y.createEmbeddedView(a)),mf(a,l,r),new nc(l)}};function sI(){return mm(Xr(),Lt())}function mm(t,r){return 4&t.type?new iI(r,t,Vl(t,r)):null}let ym=(()=>{class t{}return t.__NG_ELEMENT_ID__=oI,t})();function oI(){return o0(Xr(),Lt())}const aI=ym,r0=class extends aI{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return Vl(this._hostTNode,this._hostLView)}get injector(){return new na(this._hostTNode,this._hostLView)}get parentInjector(){const r=or(this._hostTNode,this._hostLView);if(Oi(r)){const s=hi(r,this._hostLView),a=ei(r);return new na(s[1].data[a+8],s)}return new na(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=s0(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,a){let l,h;"number"==typeof a?l=a:null!=a&&(l=a.index,h=a.injector);const y=r.createEmbeddedView(s||{},h);return this.insert(y,l),y}createComponent(r,s,a,l,h){const y=r&&!function Zo(t){return"function"==typeof t}(r);let D;if(y)D=s;else{const ue=s||{};D=ue.index,a=ue.injector,l=ue.projectableNodes,h=ue.environmentInjector||ue.ngModuleRef}const M=y?r:new aa(Ee(r)),B=a||this.parentInjector;if(!h&&null==M.ngModule){const je=(y?B:this.parentInjector).get(Ou,null);je&&(h=je)}const X=M.create(B,l,void 0,h);return this.insert(X.hostView,D),X}insert(r,s){const a=r._lView,l=a[1];if(function so(t){return un(t[3])}(a)){const X=this.indexOf(r);if(-1!==X)this.detach(X);else{const ue=a[3],je=new r0(ue,ue[6],ue[3]);je.detach(je.indexOf(r))}}const h=this._adjustIndex(s),y=this._lContainer;!function Qm(t,r,s,a){const l=10+a,h=s.length;a>0&&(s[l-1][4]=r),a<h-10?(r[4]=s[l],Ao(s,10+a,r)):(s.push(r),r[4]=null),r[3]=s;const y=r[17];null!==y&&s!==y&&function Oh(t,r){const s=t[9];r[16]!==r[3][3][16]&&(t[2]=!0),null===s?t[9]=[r]:s.push(r)}(y,r);const D=r[19];null!==D&&D.insertView(t),r[2]|=64}(l,a,y,h);const D=$h(h,y),M=a[11],B=il(M,y[7]);return null!==B&&function Zm(t,r,s,a,l,h){a[0]=l,a[6]=r,Ka(t,a,s,1,l,h)}(l,y[6],M,a,B,D),r.attachToViewContainerRef(),Ao(tv(y),h,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=s0(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=Ph(this._lContainer,s);a&&(Qr(tv(this._lContainer),s),Up(a[1],a))}detach(r){const s=this._adjustIndex(r,-1),a=Ph(this._lContainer,s);return a&&null!=Qr(tv(this._lContainer),s)?new nc(a):null}_adjustIndex(r,s=0){return r??this.length+s}};function s0(t){return t[8]}function tv(t){return t[8]||(t[8]=[])}function o0(t,r){let s;const a=r[t.index];if(un(a))s=a;else{let l;if(8&t.type)l=Or(a);else{const h=r[11];l=h.createComment("");const y=Jr(t,r);rl(h,il(h,y),l,function Vh(t,r){return t.nextSibling(r)}(h,y),!1)}r[t.index]=s=bf(a,r,l,t),Gc(r,s)}return new r0(s,t,r)}class nv{constructor(r){this.queryList=r,this.matches=null}clone(){return new nv(this.queryList)}setDirty(){this.queryList.setDirty()}}class rv{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,l=[];for(let h=0;h<a;h++){const y=s.getByIndex(h);l.push(this.queries[y.indexInDeclarationView].clone())}return new rv(l)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==p0(r,s).matches&&this.queries[s].setDirty()}}class a0{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class iv{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const l=null!==s?s.length:0,h=this.getByIndex(a).embeddedTView(r,l);h&&(h.indexInDeclarationView=a,null!==s?s.push(h):s=[h])}return null!==s?new iv(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class sv{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new sv(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let l=0;l<a.length;l++){const h=a[l];this.matchTNodeWithReadOption(r,s,cI(s,h)),this.matchTNodeWithReadOption(r,s,li(s,r,h,!1,!1))}else a===ap?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,li(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const l=this.metadata.read;if(null!==l)if(l===Ic||l===ym||l===ap&&4&s.type)this.addMatch(s.index,-2);else{const h=li(s,r,l,!1,!1);null!==h&&this.addMatch(s.index,h)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function cI(t,r){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function hI(t,r,s,a){return-1===s?function dI(t,r){return 11&t.type?Vl(t,r):4&t.type?mm(t,r):null}(r,t):-2===s?function fI(t,r,s){return s===Ic?Vl(r,t):s===ap?mm(r,t):s===ym?o0(r,t):void 0}(t,r,a):Pi(t,t[1],s,r)}function u0(t,r,s,a){const l=r[19].queries[a];if(null===l.matches){const h=t.data,y=s.matches,D=[];for(let M=0;M<y.length;M+=2){const B=y[M];D.push(B<0?null:hI(r,h[B],y[M+1],s.metadata.read))}l.matches=D}return l.matches}function ov(t,r,s,a){const l=t.queries.getByIndex(s),h=l.matches;if(null!==h){const y=u0(t,r,l,s);for(let D=0;D<h.length;D+=2){const M=h[D];if(M>0)a.push(y[D/2]);else{const B=h[D+1],X=r[-M];for(let ue=10;ue<X.length;ue++){const je=X[ue];je[17]===je[3]&&ov(je[1],je,B,a)}if(null!==X[9]){const ue=X[9];for(let je=0;je<ue.length;je++){const dt=ue[je];ov(dt[1],dt,B,a)}}}}}return a}function l0(t){const r=Lt(),s=er(),a=oo();Do(a+1);const l=p0(s,a);if(t.dirty&&function Ls(t){return 4==(4&t[2])}(r)===(2==(2&l.metadata.flags))){if(null===l.matches)t.reset([]);else{const h=l.crossesNgTemplate?ov(s,r,a,[]):u0(s,r,l,a);t.reset(h,Rm),t.notifyOnChanges()}return!0}return!1}function c0(t,r,s,a){const l=er();if(l.firstCreatePass){const h=Xr();(function f0(t,r,s){null===t.queries&&(t.queries=new iv),t.queries.track(new sv(r,s))})(l,new a0(r,s,a),h.index),function mI(t,r){const s=t.contentQueries||(t.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,r)}(l,t),2==(2&s)&&(l.staticContentQueries=!0)}!function h0(t,r,s){const a=new ev(4==(4&s));xg(t,r,a,a.destroy),null===r[19]&&(r[19]=new rv),r[19].queries.push(new nv(a))}(l,Lt(),s)}function d0(){return function gI(t,r){return t[19].queries[r].queryList}(Lt(),oo())}function p0(t,r){return t.queries.getByIndex(r)}function g0(t,r){return mm(t,r)}function _m(...t){}const P0=new jr("Application Initializer");let Em=(()=>{class t{constructor(s){this.appInits=s,this.resolve=_m,this.reject=_m,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,l)=>{this.resolve=a,this.reject=l})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const h=this.appInits[l]();if(wl(h))s.push(h);else if(em(h)){const y=new Promise((D,M)=>{h.subscribe({complete:D,error:M})});s.push(y)}}Promise.all(s).then(()=>{a()}).catch(l=>{this.reject(l)}),0===s.length&&a(),this.initialized=!0}}return t.\u0275fac=function(s){return new(s||t)(Gi(P0,8))},t.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const k0=new jr("AppId",{providedIn:"root",factory:function F0(){return`${dv()}${dv()}${dv()}`}});function dv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const L0=new jr("Platform Initializer"),FI=new jr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),V0=new jr("appBootstrapListener"),LI=new jr("AnimationModuleType");let VI=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const wm=new jr("LocaleId",{providedIn:"root",factory:()=>Cl(wm,jt.Optional|jt.SkipSelf)||function UI(){return typeof $localize<"u"&&$localize.locale||ah}()}),BI=new jr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class jI{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let $I=(()=>{class t{compileModuleSync(s){return new Yy(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),h=Aa(gn(s).declarations).reduce((y,D)=>{const M=Ee(D);return M&&y.push(new aa(M)),y},[]);return new jI(a,h)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const zI=(()=>Promise.resolve(0))();function hv(t){typeof Zone>"u"?zI.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class tu{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new zu(!1),this.onMicrotaskEmpty=new zu(!1),this.onStable=new zu(!1),this.onError=new zu(!1),typeof Zone>"u")throw new nt(908,!1);Zone.assertZonePatched();const l=this;if(l._nesting=0,l._outer=l._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const h=Zone.AsyncStackTaggingZoneSpec;l._inner=l._inner.fork(new h("Angular"))}Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!a&&s,l.shouldCoalesceRunChangeDetection=a,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function WI(){let t=ht.requestAnimationFrame,r=ht.cancelAnimationFrame;if(typeof Zone<"u"&&t&&r){const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function ZI(t){const r=()=>{!function qI(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ht,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,pv(t),t.isCheckStableRunning=!0,fv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),pv(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,l,h,y,D)=>{try{return j0(t),s.invokeTask(l,h,y,D)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||t.shouldCoalesceRunChangeDetection)&&r(),$0(t)}},onInvoke:(s,a,l,h,y,D,M)=>{try{return j0(t),s.invoke(l,h,y,D,M)}finally{t.shouldCoalesceRunChangeDetection&&r(),$0(t)}},onHasTask:(s,a,l,h)=>{s.hasTask(l,h),a===l&&("microTask"==h.change?(t._hasPendingMicrotasks=h.microTask,pv(t),fv(t)):"macroTask"==h.change&&(t.hasPendingMacrotasks=h.macroTask))},onHandleError:(s,a,l,h)=>(s.handleError(l,h),t.runOutsideAngular(()=>t.onError.emit(h)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!tu.isInAngularZone())throw new nt(909,!1)}static assertNotInAngularZone(){if(tu.isInAngularZone())throw new nt(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,l){const h=this._inner,y=h.scheduleEventTask("NgZoneEvent: "+l,r,KI,_m,_m);try{return h.runTask(y,s,a)}finally{h.cancelTask(y)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const KI={};function fv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function pv(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function j0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function $0(t){t._nesting--,fv(t)}class YI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new zu,this.onMicrotaskEmpty=new zu,this.onStable=new zu,this.onError=new zu}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,l){return r.apply(s,a)}}const H0=new jr(""),G0=new jr("");let gv,QI=(()=>{class t{constructor(s,a,l){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,gv||(function JI(t){gv=t}(l),l.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{tu.assertNotInAngularZone(),hv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())hv(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,l){let h=-1;a&&a>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==h),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:h,updateCb:l})}whenStable(s,a,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,l){return[]}}return t.\u0275fac=function(s){return new(s||t)(Gi(tu),Gi(z0),Gi(G0))},t.\u0275prov=Dt({token:t,factory:t.\u0275fac}),t})(),z0=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return gv?.findTestabilityInTree(this,s,a)??null}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),ac=null;const W0=new jr("AllowMultipleToken"),mv=new jr("PlatformDestroyListeners");class tD{constructor(r,s){this.name=r,this.token=s}}function q0(t,r,s=[]){const a=`Platform: ${r}`,l=new jr(a);return(h=[])=>{let y=yv();if(!y||y.injector.get(W0,!1)){const D=[...s,...h,{provide:l,useValue:!0}];t?t(D):function nD(t){if(ac&&!ac.get(W0,!1))throw new nt(400,!1);ac=t;const r=t.get(Y0);(function K0(t){const r=t.get(L0,null);r&&r.forEach(s=>s())})(t)}(function Z0(t=[],r){return mu.create({name:r,providers:[{provide:_h,useValue:"platform"},{provide:mv,useValue:new Set([()=>ac=null])},...t]})}(D,a))}return function iD(t){const r=yv();if(!r)throw new nt(401,!1);return r}()}}function yv(){return ac?.get(Y0)??null}let Y0=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const l=function J0(t,r){let s;return s="noop"===t?new YI:("zone.js"===t?void 0:t)||new tu(r),s}(a?.ngZone,function Q0(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(a)),h=[{provide:tu,useValue:l}];return l.run(()=>{const y=mu.create({providers:h,parent:this.injector,name:s.moduleType.name}),D=s.create(y),M=D.injector.get(Ba,null);if(!M)throw new nt(402,!1);return l.runOutsideAngular(()=>{const B=l.onError.subscribe({next:X=>{M.handleError(X)}});D.onDestroy(()=>{Dm(this._modules,D),B.unsubscribe()})}),function X0(t,r,s){try{const a=s();return wl(a)?a.catch(l=>{throw r.runOutsideAngular(()=>t.handleError(l)),l}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(M,l,()=>{const B=D.injector.get(Em);return B.runInitializers(),B.donePromise.then(()=>(function f_(t){an(t,"Expected localeId to be defined"),"string"==typeof t&&(h_=t.toLowerCase().replace(/_/g,"-"))}(D.injector.get(wm,ah)||ah),this._moduleDoBootstrap(D),D))})})}bootstrapModule(s,a=[]){const l=eE({},a);return function XI(t,r,s){const a=new Yy(s);return Promise.resolve(a)}(0,0,s).then(h=>this.bootstrapModuleFactory(h,l))}_moduleDoBootstrap(s){const a=s.injector.get(Im);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(l=>a.bootstrap(l));else{if(!s.instance.ngDoBootstrap)throw new nt(403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new nt(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(mv,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(s){return new(s||t)(Gi(mu))},t.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function eE(t,r){return Array.isArray(r)?r.reduce(eE,t):{...t,...r}}let Im=(()=>{class t{constructor(s,a,l){this._zone=s,this._injector=a,this._exceptionHandler=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new H.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),y=new H.y(D=>{let M;this._zone.runOutsideAngular(()=>{M=this._zone.onStable.subscribe(()=>{tu.assertNotInAngularZone(),hv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const B=this._zone.onUnstable.subscribe(()=>{tu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{M.unsubscribe(),B.unsubscribe()}});this.isStable=(0,Te.T)(h,y.pipe((0,ve.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,a){const l=s instanceof $o;if(!this._injector.get(Em).done)throw!l&&Gt(s),new nt(405,false);let y;y=l?s:this._injector.get(Pu).resolveComponentFactory(s),this.componentTypes.push(y.componentType);const D=function eD(t){return t.isBoundToModule}(y)?void 0:this._injector.get(uh),B=y.create(mu.NULL,[],a||y.selector,D),X=B.location.nativeElement,ue=B.injector.get(H0,null);return ue?.registerApplication(X),B.onDestroy(()=>{this.detachView(B.hostView),Dm(this.components,B),ue?.unregisterApplication(X)}),this._loadComponent(B),B}tick(){if(this._runningTick)throw new nt(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;Dm(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(V0,[]).concat(this._bootstrapListeners).forEach(l=>l(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>Dm(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new nt(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(s){return new(s||t)(Gi(tu),Gi(Ou),Gi(Ba))},t.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Dm(t,r){const s=t.indexOf(r);s>-1&&t.splice(s,1)}let nE=!0,rE=!1;function oD(){return rE=!0,nE}function aD(){if(rE)throw new Error("Cannot enable prod mode after platform setup.");nE=!1}let uD=(()=>{class t{}return t.__NG_ELEMENT_ID__=lD,t})();function lD(t){return function cD(t,r,s){if(Rr(t)&&!s){const a=yr(t.index,r);return new nc(a,a)}return 47&t.type?new nc(r[16],r):null}(Xr(),Lt(),16==(16&t))}class aE{constructor(){}supports(r){return Wc(r)}create(r){return new mD(r)}}const gD=(t,r)=>r;class mD{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||gD}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,l=0,h=null;for(;s||a;){const y=!a||s&&s.currentIndex<lE(a,l,h)?s:a,D=lE(y,l,h),M=y.currentIndex;if(y===a)l--,a=a._nextRemoved;else if(s=s._next,null==y.previousIndex)l++;else{h||(h=[]);const B=D-l,X=M-l;if(B!=X){for(let je=0;je<B;je++){const dt=je<h.length?h[je]:h[je]=0,Vt=dt+je;X<=Vt&&Vt<B&&(h[je]=dt+1)}h[y.previousIndex]=X-B}}D!==M&&r(y,D,M)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!Wc(r))throw new nt(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let l,h,y,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let D=0;D<this.length;D++)h=r[D],y=this._trackByFn(D,h),null!==s&&Object.is(s.trackById,y)?(a&&(s=this._verifyReinsertion(s,h,y,D)),Object.is(s.item,h)||this._addIdentityChange(s,h)):(s=this._mismatch(s,h,y,D),a=!0),s=s._next}else l=0,function Sy(t,r){if(Array.isArray(t))for(let s=0;s<t.length;s++)r(t[s]);else{const s=t[pl()]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,D=>{y=this._trackByFn(l,D),null!==s&&Object.is(s.trackById,y)?(a&&(s=this._verifyReinsertion(s,D,y,l)),Object.is(s.item,D)||this._addIdentityChange(s,D)):(s=this._mismatch(s,D,y,l),a=!0),s=s._next,l++}),this.length=l;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,l){let h;return null===r?h=this._itTail:(h=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,h,l)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,l))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,h,l)):r=this._addAfter(new yD(s,a),h,l),r}_verifyReinsertion(r,s,a,l){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==h?r=this._reinsertAfter(h,r._prev,l):r.currentIndex!=l&&(r.currentIndex=l,this._addToMoves(r,l)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const l=r._prevRemoved,h=r._nextRemoved;return null===l?this._removalsHead=h:l._nextRemoved=h,null===h?this._removalsTail=l:h._prevRemoved=l,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const l=null===s?this._itHead:s._next;return r._next=l,r._prev=s,null===l?this._itTail=r:l._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new uE),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new uE),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class yD{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class vD{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class uE{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new vD,this.map.set(s,a)),a.add(r)}get(r,s){const l=this.map.get(r);return l?l.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function lE(t,r,s){const a=t.previousIndex;if(null===a)return a;let l=0;return s&&a<s.length&&(l=s[a]),a+r+l}class cE{constructor(){}supports(r){return r instanceof Map||kf(r)}create(){return new _D}}class _D{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||kf(r)))throw new nt(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,l)=>{if(s&&s.key===l)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const h=this._getOrCreateRecordForKey(l,a);s=this._insertBeforeOrAppend(s,h)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const l=this._records.get(r);this._maybeAddToChanges(l,s);const h=l._prev,y=l._next;return h&&(h._next=y),y&&(y._prev=h),l._next=null,l._prev=null,l}const a=new ED(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class ED{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function dE(){return new Iv([new aE])}let Iv=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(null!=a){const l=a.factories.slice();s=s.concat(l)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||dE()),deps:[[t,new Dn,new $t]]}}find(s){const a=this.factories.find(l=>l.supports(s));if(null!=a)return a;throw new nt(901,!1)}}return t.\u0275prov=Dt({token:t,providedIn:"root",factory:dE}),t})();function hE(){return new Dv([new cE])}let Dv=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(a){const l=a.factories.slice();s=s.concat(l)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||hE()),deps:[[t,new Dn,new $t]]}}find(s){const a=this.factories.find(l=>l.supports(s));if(a)return a;throw new nt(901,!1)}}return t.\u0275prov=Dt({token:t,providedIn:"root",factory:hE}),t})();const DD=q0(null,"core",[]);let CD=(()=>{class t{constructor(s){}}return t.\u0275fac=function(s){return new(s||t)(Gi(Im))},t.\u0275mod=Ge({type:t}),t.\u0275inj=qe({}),t})();function bD(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}},433:(nn,ot,V)=>{V.d(ot,{Fj:()=>ae,qu:()=>Ii,u:()=>ta,sg:()=>ds,u5:()=>Fo,JJ:()=>rt,JL:()=>we,On:()=>Os,YN:()=>ri,wV:()=>qi,UX:()=>ms,kI:()=>xe,_Y:()=>Wo,Kr:()=>Ko});var c=V(4650),k=V(6895),H=V(8996),Te=V(9751),ve=V(4742),Ve=V(8421),Pe=V(7669),ce=V(5403),Ye=V(3268),re=V(1810),ke=V(4004);let vt=(()=>{class L{constructor(A,Q){this._renderer=A,this._elementRef=Q,this.onChange=gt=>{},this.onTouched=()=>{}}setProperty(A,Q){this._renderer.setProperty(this._elementRef.nativeElement,A,Q)}registerOnTouched(A){this.onTouched=A}registerOnChange(A){this.onChange=A}setDisabledState(A){this.setProperty("disabled",A)}}return L.\u0275fac=function(A){return new(A||L)(c.Y36(c.Qsj),c.Y36(c.SBq))},L.\u0275dir=c.lG2({type:L}),L})(),_t=(()=>{class L extends vt{}return L.\u0275fac=function(){let O;return function(Q){return(O||(O=c.n5z(L)))(Q||L)}}(),L.\u0275dir=c.lG2({type:L,features:[c.qOj]}),L})();const nt=new c.OlP("NgValueAccessor"),He={provide:nt,useExisting:(0,c.Gpc)(()=>ae),multi:!0},ft=new c.OlP("CompositionEventMode");let ae=(()=>{class L extends vt{constructor(A,Q,gt){super(A,Q),this._compositionMode=gt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function bt(){const L=(0,k.q)()?(0,k.q)().getUserAgent():"";return/android (\d+)/.test(L.toLowerCase())}())}writeValue(A){this.setProperty("value",A??"")}_handleInput(A){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(A)}_compositionStart(){this._composing=!0}_compositionEnd(A){this._composing=!1,this._compositionMode&&this.onChange(A)}}return L.\u0275fac=function(A){return new(A||L)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(ft,8))},L.\u0275dir=c.lG2({type:L,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(A,Q){1&A&&c.NdJ("input",function(hn){return Q._handleInput(hn.target.value)})("blur",function(){return Q.onTouched()})("compositionstart",function(){return Q._compositionStart()})("compositionend",function(hn){return Q._compositionEnd(hn.target.value)})},features:[c._Bn([He]),c.qOj]}),L})();function Xe(L){return null==L||("string"==typeof L||Array.isArray(L))&&0===L.length}function Nt(L){return null!=L&&"number"==typeof L.length}const Fe=new c.OlP("NgValidators"),We=new c.OlP("NgAsyncValidators"),Je=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class xe{static min(O){return function Le(L){return O=>{if(Xe(O.value)||Xe(L))return null;const A=parseFloat(O.value);return!isNaN(A)&&A<L?{min:{min:L,actual:O.value}}:null}}(O)}static max(O){return function $e(L){return O=>{if(Xe(O.value)||Xe(L))return null;const A=parseFloat(O.value);return!isNaN(A)&&A>L?{max:{max:L,actual:O.value}}:null}}(O)}static required(O){return function Ke(L){return Xe(L.value)?{required:!0}:null}(O)}static requiredTrue(O){return function Tt(L){return!0===L.value?null:{required:!0}}(O)}static email(O){return function Rt(L){return Xe(L.value)||Je.test(L.value)?null:{email:!0}}(O)}static minLength(O){return function kt(L){return O=>Xe(O.value)||!Nt(O.value)?null:O.value.length<L?{minlength:{requiredLength:L,actualLength:O.value.length}}:null}(O)}static maxLength(O){return function Yt(L){return O=>Nt(O.value)&&O.value.length>L?{maxlength:{requiredLength:L,actualLength:O.value.length}}:null}(O)}static pattern(O){return function an(L){if(!L)return Ct;let O,A;return"string"==typeof L?(A="","^"!==L.charAt(0)&&(A+="^"),A+=L,"$"!==L.charAt(L.length-1)&&(A+="$"),O=new RegExp(A)):(A=L.toString(),O=L),Q=>{if(Xe(Q.value))return null;const gt=Q.value;return O.test(gt)?null:{pattern:{requiredPattern:A,actualValue:gt}}}}(O)}static nullValidator(O){return null}static compose(O){return Zt(O)}static composeAsync(O){return Wn(O)}}function Ct(L){return null}function sn(L){return null!=L}function dn(L){return(0,c.QGY)(L)?(0,H.D)(L):L}function st(L){let O={};return L.forEach(A=>{O=null!=A?{...O,...A}:O}),0===Object.keys(O).length?null:O}function Dt(L,O){return O.map(A=>A(L))}function qe(L){return L.map(O=>function Re(L){return!L.validate}(O)?O:A=>O.validate(A))}function Zt(L){if(!L)return null;const O=L.filter(sn);return 0==O.length?null:function(A){return st(Dt(A,O))}}function yn(L){return null!=L?Zt(qe(L)):null}function Wn(L){if(!L)return null;const O=L.filter(sn);return 0==O.length?null:function(A){return function ge(...L){const O=(0,Pe.jO)(L),{args:A,keys:Q}=(0,ve.D)(L),gt=new Te.y(hn=>{const{length:ur}=A;if(!ur)return void hn.complete();const xi=new Array(ur);let Ni=ur,Di=ur;for(let wo=0;wo<ur;wo++){let Ts=!1;(0,Ve.Xf)(A[wo]).subscribe((0,ce.x)(hn,Io=>{Ts||(Ts=!0,Di--),xi[wo]=Io},()=>Ni--,void 0,()=>{(!Ni||!Ts)&&(Di||hn.next(Q?(0,re.n)(Q,xi):xi),hn.complete())}))}});return O?gt.pipe((0,Ye.Z)(O)):gt}(Dt(A,O).map(dn)).pipe((0,ke.U)(st))}}function Un(L){return null!=L?Wn(qe(L)):null}function nr(L,O){return null===L?[O]:Array.isArray(L)?[...L,O]:[L,O]}function rr(L){return L._rawValidators}function tn(L){return L._rawAsyncValidators}function On(L){return L?Array.isArray(L)?L:[L]:[]}function Dr(L,O){return Array.isArray(L)?L.includes(O):L===O}function Jn(L,O){const A=On(O);return On(L).forEach(gt=>{Dr(A,gt)||A.push(gt)}),A}function jt(L,O){return On(O).filter(A=>!Dr(L,A))}class Pn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(O){this._rawValidators=O||[],this._composedValidatorFn=yn(this._rawValidators)}_setAsyncValidators(O){this._rawAsyncValidators=O||[],this._composedAsyncValidatorFn=Un(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(O){this._onDestroyCallbacks.push(O)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(O=>O()),this._onDestroyCallbacks=[]}reset(O){this.control&&this.control.reset(O)}hasError(O,A){return!!this.control&&this.control.hasError(O,A)}getError(O,A){return this.control?this.control.getError(O,A):null}}class xn extends Pn{get formDirective(){return null}get path(){return null}}class zn extends Pn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Er{constructor(O){this._cd=O}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let rt=(()=>{class L extends Er{constructor(A){super(A)}}return L.\u0275fac=function(A){return new(A||L)(c.Y36(zn,2))},L.\u0275dir=c.lG2({type:L,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(A,Q){2&A&&c.ekj("ng-untouched",Q.isUntouched)("ng-touched",Q.isTouched)("ng-pristine",Q.isPristine)("ng-dirty",Q.isDirty)("ng-valid",Q.isValid)("ng-invalid",Q.isInvalid)("ng-pending",Q.isPending)},features:[c.qOj]}),L})(),we=(()=>{class L extends Er{constructor(A){super(A)}}return L.\u0275fac=function(A){return new(A||L)(c.Y36(xn,10))},L.\u0275dir=c.lG2({type:L,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(A,Q){2&A&&c.ekj("ng-untouched",Q.isUntouched)("ng-touched",Q.isTouched)("ng-pristine",Q.isPristine)("ng-dirty",Q.isDirty)("ng-valid",Q.isValid)("ng-invalid",Q.isInvalid)("ng-pending",Q.isPending)("ng-submitted",Q.isSubmitted)},features:[c.qOj]}),L})();const Ge="VALID",xt="INVALID",rn="PENDING",Bn="DISABLED";function ze(L){return(Gt(L)?L.validators:L)||null}function Ee(L){return Array.isArray(L)?yn(L):L||null}function Ce(L,O){return(Gt(O)?O.asyncValidators:L)||null}function mt(L){return Array.isArray(L)?Un(L):L||null}function Gt(L){return null!=L&&!Array.isArray(L)&&"object"==typeof L}function gn(L,O,A){const Q=L.controls;if(!(O?Object.keys(Q):Q).length)throw new c.vHH(1e3,"");if(!Q[A])throw new c.vHH(1001,"")}function bn(L,O,A){L._forEachChild((Q,gt)=>{if(void 0===A[gt])throw new c.vHH(1002,"")})}class de{constructor(O,A){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=O,this._rawAsyncValidators=A,this._composedValidatorFn=Ee(this._rawValidators),this._composedAsyncValidatorFn=mt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(O){this._rawValidators=this._composedValidatorFn=O}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(O){this._rawAsyncValidators=this._composedAsyncValidatorFn=O}get parent(){return this._parent}get valid(){return this.status===Ge}get invalid(){return this.status===xt}get pending(){return this.status==rn}get disabled(){return this.status===Bn}get enabled(){return this.status!==Bn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(O){this._rawValidators=O,this._composedValidatorFn=Ee(O)}setAsyncValidators(O){this._rawAsyncValidators=O,this._composedAsyncValidatorFn=mt(O)}addValidators(O){this.setValidators(Jn(O,this._rawValidators))}addAsyncValidators(O){this.setAsyncValidators(Jn(O,this._rawAsyncValidators))}removeValidators(O){this.setValidators(jt(O,this._rawValidators))}removeAsyncValidators(O){this.setAsyncValidators(jt(O,this._rawAsyncValidators))}hasValidator(O){return Dr(this._rawValidators,O)}hasAsyncValidator(O){return Dr(this._rawAsyncValidators,O)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(O={}){this.touched=!0,this._parent&&!O.onlySelf&&this._parent.markAsTouched(O)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(O=>O.markAllAsTouched())}markAsUntouched(O={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(A=>{A.markAsUntouched({onlySelf:!0})}),this._parent&&!O.onlySelf&&this._parent._updateTouched(O)}markAsDirty(O={}){this.pristine=!1,this._parent&&!O.onlySelf&&this._parent.markAsDirty(O)}markAsPristine(O={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(A=>{A.markAsPristine({onlySelf:!0})}),this._parent&&!O.onlySelf&&this._parent._updatePristine(O)}markAsPending(O={}){this.status=rn,!1!==O.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!O.onlySelf&&this._parent.markAsPending(O)}disable(O={}){const A=this._parentMarkedDirty(O.onlySelf);this.status=Bn,this.errors=null,this._forEachChild(Q=>{Q.disable({...O,onlySelf:!0})}),this._updateValue(),!1!==O.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...O,skipPristineCheck:A}),this._onDisabledChange.forEach(Q=>Q(!0))}enable(O={}){const A=this._parentMarkedDirty(O.onlySelf);this.status=Ge,this._forEachChild(Q=>{Q.enable({...O,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:O.emitEvent}),this._updateAncestors({...O,skipPristineCheck:A}),this._onDisabledChange.forEach(Q=>Q(!1))}_updateAncestors(O){this._parent&&!O.onlySelf&&(this._parent.updateValueAndValidity(O),O.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(O){this._parent=O}getRawValue(){return this.value}updateValueAndValidity(O={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ge||this.status===rn)&&this._runAsyncValidator(O.emitEvent)),!1!==O.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!O.onlySelf&&this._parent.updateValueAndValidity(O)}_updateTreeValidity(O={emitEvent:!0}){this._forEachChild(A=>A._updateTreeValidity(O)),this.updateValueAndValidity({onlySelf:!0,emitEvent:O.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Bn:Ge}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(O){if(this.asyncValidator){this.status=rn,this._hasOwnPendingAsyncValidator=!0;const A=dn(this.asyncValidator(this));this._asyncValidationSubscription=A.subscribe(Q=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Q,{emitEvent:O})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(O,A={}){this.errors=O,this._updateControlsErrors(!1!==A.emitEvent)}get(O){let A=O;return null==A||(Array.isArray(A)||(A=A.split(".")),0===A.length)?null:A.reduce((Q,gt)=>Q&&Q._find(gt),this)}getError(O,A){const Q=A?this.get(A):this;return Q&&Q.errors?Q.errors[O]:null}hasError(O,A){return!!this.getError(O,A)}get root(){let O=this;for(;O._parent;)O=O._parent;return O}_updateControlsErrors(O){this.status=this._calculateStatus(),O&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(O)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?Bn:this.errors?xt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(rn)?rn:this._anyControlsHaveStatus(xt)?xt:Ge}_anyControlsHaveStatus(O){return this._anyControls(A=>A.status===O)}_anyControlsDirty(){return this._anyControls(O=>O.dirty)}_anyControlsTouched(){return this._anyControls(O=>O.touched)}_updatePristine(O={}){this.pristine=!this._anyControlsDirty(),this._parent&&!O.onlySelf&&this._parent._updatePristine(O)}_updateTouched(O={}){this.touched=this._anyControlsTouched(),this._parent&&!O.onlySelf&&this._parent._updateTouched(O)}_registerOnCollectionChange(O){this._onCollectionChange=O}_setUpdateStrategy(O){Gt(O)&&null!=O.updateOn&&(this._updateOn=O.updateOn)}_parentMarkedDirty(O){return!O&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(O){return null}}class le extends de{constructor(O,A,Q){super(ze(A),Ce(Q,A)),this.controls=O,this._initObservables(),this._setUpdateStrategy(A),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(O,A){return this.controls[O]?this.controls[O]:(this.controls[O]=A,A.setParent(this),A._registerOnCollectionChange(this._onCollectionChange),A)}addControl(O,A,Q={}){this.registerControl(O,A),this.updateValueAndValidity({emitEvent:Q.emitEvent}),this._onCollectionChange()}removeControl(O,A={}){this.controls[O]&&this.controls[O]._registerOnCollectionChange(()=>{}),delete this.controls[O],this.updateValueAndValidity({emitEvent:A.emitEvent}),this._onCollectionChange()}setControl(O,A,Q={}){this.controls[O]&&this.controls[O]._registerOnCollectionChange(()=>{}),delete this.controls[O],A&&this.registerControl(O,A),this.updateValueAndValidity({emitEvent:Q.emitEvent}),this._onCollectionChange()}contains(O){return this.controls.hasOwnProperty(O)&&this.controls[O].enabled}setValue(O,A={}){bn(this,0,O),Object.keys(O).forEach(Q=>{gn(this,!0,Q),this.controls[Q].setValue(O[Q],{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A)}patchValue(O,A={}){null!=O&&(Object.keys(O).forEach(Q=>{const gt=this.controls[Q];gt&&gt.patchValue(O[Q],{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A))}reset(O={},A={}){this._forEachChild((Q,gt)=>{Q.reset(O[gt],{onlySelf:!0,emitEvent:A.emitEvent})}),this._updatePristine(A),this._updateTouched(A),this.updateValueAndValidity(A)}getRawValue(){return this._reduceChildren({},(O,A,Q)=>(O[Q]=A.getRawValue(),O))}_syncPendingControls(){let O=this._reduceChildren(!1,(A,Q)=>!!Q._syncPendingControls()||A);return O&&this.updateValueAndValidity({onlySelf:!0}),O}_forEachChild(O){Object.keys(this.controls).forEach(A=>{const Q=this.controls[A];Q&&O(Q,A)})}_setUpControls(){this._forEachChild(O=>{O.setParent(this),O._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(O){for(const[A,Q]of Object.entries(this.controls))if(this.contains(A)&&O(Q))return!0;return!1}_reduceValue(){return this._reduceChildren({},(A,Q,gt)=>((Q.enabled||this.disabled)&&(A[gt]=Q.value),A))}_reduceChildren(O,A){let Q=O;return this._forEachChild((gt,hn)=>{Q=A(Q,gt,hn)}),Q}_allControlsDisabled(){for(const O of Object.keys(this.controls))if(this.controls[O].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(O){return this.controls.hasOwnProperty(O)?this.controls[O]:null}}class Ue extends le{}function wn(L,O){return[...O.path,L]}function In(L,O){oi(L,O),O.valueAccessor.writeValue(L.value),L.disabled&&O.valueAccessor.setDisabledState?.(!0),function _i(L,O){O.valueAccessor.registerOnChange(A=>{L._pendingValue=A,L._pendingChange=!0,L._pendingDirty=!0,"change"===L.updateOn&&$r(L,O)})}(L,O),function us(L,O){const A=(Q,gt)=>{O.valueAccessor.writeValue(Q),gt&&O.viewToModelUpdate(Q)};L.registerOnChange(A),O._registerOnDestroy(()=>{L._unregisterOnChange(A)})}(L,O),function ci(L,O){O.valueAccessor.registerOnTouched(()=>{L._pendingTouched=!0,"blur"===L.updateOn&&L._pendingChange&&$r(L,O),"submit"!==L.updateOn&&L.markAsTouched()})}(L,O),function pn(L,O){if(O.valueAccessor.setDisabledState){const A=Q=>{O.valueAccessor.setDisabledState(Q)};L.registerOnDisabledChange(A),O._registerOnDestroy(()=>{L._unregisterOnDisabledChange(A)})}}(L,O)}function dr(L,O,A=!0){const Q=()=>{};O.valueAccessor&&(O.valueAccessor.registerOnChange(Q),O.valueAccessor.registerOnTouched(Q)),xr(L,O),L&&(O._invokeOnDestroyCallbacks(),L._registerOnCollectionChange(()=>{}))}function Cr(L,O){L.forEach(A=>{A.registerOnValidatorChange&&A.registerOnValidatorChange(O)})}function oi(L,O){const A=rr(L);null!==O.validator?L.setValidators(nr(A,O.validator)):"function"==typeof A&&L.setValidators([A]);const Q=tn(L);null!==O.asyncValidator?L.setAsyncValidators(nr(Q,O.asyncValidator)):"function"==typeof Q&&L.setAsyncValidators([Q]);const gt=()=>L.updateValueAndValidity();Cr(O._rawValidators,gt),Cr(O._rawAsyncValidators,gt)}function xr(L,O){let A=!1;if(null!==L){if(null!==O.validator){const gt=rr(L);if(Array.isArray(gt)&&gt.length>0){const hn=gt.filter(ur=>ur!==O.validator);hn.length!==gt.length&&(A=!0,L.setValidators(hn))}}if(null!==O.asyncValidator){const gt=tn(L);if(Array.isArray(gt)&&gt.length>0){const hn=gt.filter(ur=>ur!==O.asyncValidator);hn.length!==gt.length&&(A=!0,L.setAsyncValidators(hn))}}}const Q=()=>{};return Cr(O._rawValidators,Q),Cr(O._rawAsyncValidators,Q),A}function $r(L,O){L._pendingDirty&&L.markAsDirty(),L.setValue(L._pendingValue,{emitModelToViewChange:!1}),O.viewToModelUpdate(L._pendingValue),L._pendingChange=!1}function zr(L,O){if(!L.hasOwnProperty("model"))return!1;const A=L.model;return!!A.isFirstChange()||!Object.is(O,A.currentValue)}function bi(L,O){if(!O)return null;let A,Q,gt;return Array.isArray(O),O.forEach(hn=>{hn.constructor===ae?A=hn:function Wi(L){return Object.getPrototypeOf(L.constructor)===_t}(hn)?Q=hn:gt=hn}),gt||Q||A||null}function un(L,O){const A=L.indexOf(O);A>-1&&L.splice(A,1)}function Kn(L){return"object"==typeof L&&null!==L&&2===Object.keys(L).length&&"value"in L&&"disabled"in L}const Rr=class extends de{constructor(O=null,A,Q){super(ze(A),Ce(Q,A)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(O),this._setUpdateStrategy(A),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Gt(A)&&(A.nonNullable||A.initialValueIsDefault)&&(this.defaultValue=Kn(O)?O.value:O)}setValue(O,A={}){this.value=this._pendingValue=O,this._onChange.length&&!1!==A.emitModelToViewChange&&this._onChange.forEach(Q=>Q(this.value,!1!==A.emitViewToModelChange)),this.updateValueAndValidity(A)}patchValue(O,A={}){this.setValue(O,A)}reset(O=this.defaultValue,A={}){this._applyFormState(O),this.markAsPristine(A),this.markAsUntouched(A),this.setValue(this.value,A),this._pendingChange=!1}_updateValue(){}_anyControls(O){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(O){this._onChange.push(O)}_unregisterOnChange(O){un(this._onChange,O)}registerOnDisabledChange(O){this._onDisabledChange.push(O)}_unregisterOnDisabledChange(O){un(this._onDisabledChange,O)}_forEachChild(O){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(O){Kn(O)?(this.value=this._pendingValue=O.value,O.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=O}},rs={provide:zn,useExisting:(0,c.Gpc)(()=>Os)},ua=(()=>Promise.resolve())();let Os=(()=>{class L extends zn{constructor(A,Q,gt,hn,ur){super(),this._changeDetectorRef=ur,this.control=new Rr,this._registered=!1,this.update=new c.vpe,this._parent=A,this._setValidators(Q),this._setAsyncValidators(gt),this.valueAccessor=bi(0,hn)}ngOnChanges(A){if(this._checkForErrors(),!this._registered||"name"in A){if(this._registered&&(this._checkName(),this.formDirective)){const Q=A.name.previousValue;this.formDirective.removeControl({name:Q,path:this._getPath(Q)})}this._setUpControl()}"isDisabled"in A&&this._updateDisabled(A),zr(A,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(A){this.viewModel=A,this.update.emit(A)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){In(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(A){ua.then(()=>{this.control.setValue(A,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(A){const Q=A.isDisabled.currentValue,gt=0!==Q&&(0,c.D6c)(Q);ua.then(()=>{gt&&!this.control.disabled?this.control.disable():!gt&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(A){return this._parent?wn(A,this._parent):[A]}}return L.\u0275fac=function(A){return new(A||L)(c.Y36(xn,9),c.Y36(Fe,10),c.Y36(We,10),c.Y36(nt,10),c.Y36(c.sBO,8))},L.\u0275dir=c.lG2({type:L,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([rs]),c.qOj,c.TTD]}),L})(),Wo=(()=>{class L{}return L.\u0275fac=function(A){return new(A||L)},L.\u0275dir=c.lG2({type:L,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),L})();const Ps={provide:nt,useExisting:(0,c.Gpc)(()=>qi),multi:!0};let qi=(()=>{class L extends _t{writeValue(A){this.setProperty("value",A??"")}registerOnChange(A){this.onChange=Q=>{A(""==Q?null:parseFloat(Q))}}}return L.\u0275fac=function(){let O;return function(Q){return(O||(O=c.n5z(L)))(Q||L)}}(),L.\u0275dir=c.lG2({type:L,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(A,Q){1&A&&c.NdJ("input",function(hn){return Q.onChange(hn.target.value)})("blur",function(){return Q.onTouched()})},features:[c._Bn([Ps]),c.qOj]}),L})(),Ro=(()=>{class L{}return L.\u0275fac=function(A){return new(A||L)},L.\u0275mod=c.oAB({type:L}),L.\u0275inj=c.cJS({}),L})();const Kr=new c.OlP("NgModelWithFormControlWarning"),qr={provide:xn,useExisting:(0,c.Gpc)(()=>ds)};let ds=(()=>{class L extends xn{constructor(A,Q){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(A),this._setAsyncValidators(Q)}ngOnChanges(A){this._checkFormPresent(),A.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(xr(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(A){const Q=this.form.get(A.path);return In(Q,A),Q.updateValueAndValidity({emitEvent:!1}),this.directives.push(A),Q}getControl(A){return this.form.get(A.path)}removeControl(A){dr(A.control||null,A,!1),function Ze(L,O){const A=L.indexOf(O);A>-1&&L.splice(A,1)}(this.directives,A)}addFormGroup(A){this._setUpFormContainer(A)}removeFormGroup(A){this._cleanUpFormContainer(A)}getFormGroup(A){return this.form.get(A.path)}addFormArray(A){this._setUpFormContainer(A)}removeFormArray(A){this._cleanUpFormContainer(A)}getFormArray(A){return this.form.get(A.path)}updateModel(A,Q){this.form.get(A.path).setValue(Q)}onSubmit(A){return this.submitted=!0,function Lr(L,O){L._syncPendingControls(),O.forEach(A=>{const Q=A.control;"submit"===Q.updateOn&&Q._pendingChange&&(A.viewToModelUpdate(Q._pendingValue),Q._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(A),"dialog"===A?.target?.method}onReset(){this.resetForm()}resetForm(A){this.form.reset(A),this.submitted=!1}_updateDomValue(){this.directives.forEach(A=>{const Q=A.control,gt=this.form.get(A.path);Q!==gt&&(dr(Q||null,A),(L=>L instanceof Rr)(gt)&&(In(gt,A),A.control=gt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(A){const Q=this.form.get(A.path);(function Hr(L,O){oi(L,O)})(Q,A),Q.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(A){if(this.form){const Q=this.form.get(A.path);Q&&function Gr(L,O){return xr(L,O)}(Q,A)&&Q.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){oi(this.form,this),this._oldForm&&xr(this._oldForm,this)}_checkFormPresent(){}}return L.\u0275fac=function(A){return new(A||L)(c.Y36(Fe,10),c.Y36(We,10))},L.\u0275dir=c.lG2({type:L,selectors:[["","formGroup",""]],hostBindings:function(A,Q){1&A&&c.NdJ("submit",function(hn){return Q.onSubmit(hn)})("reset",function(){return Q.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([qr]),c.qOj,c.TTD]}),L})();const Cs={provide:zn,useExisting:(0,c.Gpc)(()=>ta)};let ta=(()=>{class L extends zn{constructor(A,Q,gt,hn,ur){super(),this._ngModelWarningConfig=ur,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=A,this._setValidators(Q),this._setAsyncValidators(gt),this.valueAccessor=bi(0,hn)}set isDisabled(A){}ngOnChanges(A){this._added||this._setUpControl(),zr(A,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(A){this.viewModel=A,this.update.emit(A)}get path(){return wn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return L._ngModelWarningSentOnce=!1,L.\u0275fac=function(A){return new(A||L)(c.Y36(xn,13),c.Y36(Fe,10),c.Y36(We,10),c.Y36(nt,10),c.Y36(Kr,8))},L.\u0275dir=c.lG2({type:L,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([Cs]),c.qOj,c.TTD]}),L})();const wi={provide:nt,useExisting:(0,c.Gpc)(()=>fi),multi:!0};function ss(L,O){return null==L?`${O}`:(O&&"object"==typeof O&&(O="Object"),`${L}: ${O}`.slice(0,50))}let fi=(()=>{class L extends _t{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(A){this._compareWith=A}writeValue(A){this.value=A;const gt=ss(this._getOptionId(A),A);this.setProperty("value",gt)}registerOnChange(A){this.onChange=Q=>{this.value=this._getOptionValue(Q),A(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(A){for(const Q of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(Q),A))return Q;return null}_getOptionValue(A){const Q=function Ui(L){return L.split(":")[0]}(A);return this._optionMap.has(Q)?this._optionMap.get(Q):A}}return L.\u0275fac=function(){let O;return function(Q){return(O||(O=c.n5z(L)))(Q||L)}}(),L.\u0275dir=c.lG2({type:L,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(A,Q){1&A&&c.NdJ("change",function(hn){return Q.onChange(hn.target.value)})("blur",function(){return Q.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([wi]),c.qOj]}),L})(),ri=(()=>{class L{constructor(A,Q,gt){this._element=A,this._renderer=Q,this._select=gt,this._select&&(this.id=this._select._registerOption())}set ngValue(A){null!=this._select&&(this._select._optionMap.set(this.id,A),this._setElementValue(ss(this.id,A)),this._select.writeValue(this._select.value))}set value(A){this._setElementValue(A),this._select&&this._select.writeValue(this._select.value)}_setElementValue(A){this._renderer.setProperty(this._element.nativeElement,"value",A)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return L.\u0275fac=function(A){return new(A||L)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(fi,9))},L.\u0275dir=c.lG2({type:L,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),L})();const Fs={provide:nt,useExisting:(0,c.Gpc)(()=>yo),multi:!0};function mo(L,O){return null==L?`${O}`:("string"==typeof O&&(O=`'${O}'`),O&&"object"==typeof O&&(O="Object"),`${L}: ${O}`.slice(0,50))}let yo=(()=>{class L extends _t{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(A){this._compareWith=A}writeValue(A){let Q;if(this.value=A,Array.isArray(A)){const gt=A.map(hn=>this._getOptionId(hn));Q=(hn,ur)=>{hn._setSelected(gt.indexOf(ur.toString())>-1)}}else Q=(gt,hn)=>{gt._setSelected(!1)};this._optionMap.forEach(Q)}registerOnChange(A){this.onChange=Q=>{const gt=[],hn=Q.selectedOptions;if(void 0!==hn){const ur=hn;for(let xi=0;xi<ur.length;xi++){const Di=this._getOptionValue(ur[xi].value);gt.push(Di)}}else{const ur=Q.options;for(let xi=0;xi<ur.length;xi++){const Ni=ur[xi];if(Ni.selected){const Di=this._getOptionValue(Ni.value);gt.push(Di)}}}this.value=gt,A(gt)}}_registerOption(A){const Q=(this._idCounter++).toString();return this._optionMap.set(Q,A),Q}_getOptionId(A){for(const Q of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(Q)._value,A))return Q;return null}_getOptionValue(A){const Q=function Po(L){return L.split(":")[0]}(A);return this._optionMap.has(Q)?this._optionMap.get(Q)._value:A}}return L.\u0275fac=function(){let O;return function(Q){return(O||(O=c.n5z(L)))(Q||L)}}(),L.\u0275dir=c.lG2({type:L,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(A,Q){1&A&&c.NdJ("change",function(hn){return Q.onChange(hn.target)})("blur",function(){return Q.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([Fs]),c.qOj]}),L})(),Ko=(()=>{class L{constructor(A,Q,gt){this._element=A,this._renderer=Q,this._select=gt,this._select&&(this.id=this._select._registerOption(this))}set ngValue(A){null!=this._select&&(this._value=A,this._setElementValue(mo(this.id,A)),this._select.writeValue(this._select.value))}set value(A){this._select?(this._value=A,this._setElementValue(mo(this.id,A)),this._select.writeValue(this._select.value)):this._setElementValue(A)}_setElementValue(A){this._renderer.setProperty(this._element.nativeElement,"value",A)}_setSelected(A){this._renderer.setProperty(this._element.nativeElement,"selected",A)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return L.\u0275fac=function(A){return new(A||L)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(yo,9))},L.\u0275dir=c.lG2({type:L,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),L})(),er=(()=>{class L{}return L.\u0275fac=function(A){return new(A||L)},L.\u0275mod=c.oAB({type:L}),L.\u0275inj=c.cJS({imports:[Ro]}),L})(),Fo=(()=>{class L{}return L.\u0275fac=function(A){return new(A||L)},L.\u0275mod=c.oAB({type:L}),L.\u0275inj=c.cJS({imports:[er]}),L})(),ms=(()=>{class L{static withConfig(A){return{ngModule:L,providers:[{provide:Kr,useValue:A.warnOnNgModelWithFormControl}]}}}return L.\u0275fac=function(A){return new(A||L)},L.\u0275mod=c.oAB({type:L}),L.\u0275inj=c.cJS({imports:[er]}),L})();class Xr extends de{constructor(O,A,Q){super(ze(A),Ce(Q,A)),this.controls=O,this._initObservables(),this._setUpdateStrategy(A),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(O){return this.controls[this._adjustIndex(O)]}push(O,A={}){this.controls.push(O),this._registerControl(O),this.updateValueAndValidity({emitEvent:A.emitEvent}),this._onCollectionChange()}insert(O,A,Q={}){this.controls.splice(O,0,A),this._registerControl(A),this.updateValueAndValidity({emitEvent:Q.emitEvent})}removeAt(O,A={}){let Q=this._adjustIndex(O);Q<0&&(Q=0),this.controls[Q]&&this.controls[Q]._registerOnCollectionChange(()=>{}),this.controls.splice(Q,1),this.updateValueAndValidity({emitEvent:A.emitEvent})}setControl(O,A,Q={}){let gt=this._adjustIndex(O);gt<0&&(gt=0),this.controls[gt]&&this.controls[gt]._registerOnCollectionChange(()=>{}),this.controls.splice(gt,1),A&&(this.controls.splice(gt,0,A),this._registerControl(A)),this.updateValueAndValidity({emitEvent:Q.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(O,A={}){bn(this,0,O),O.forEach((Q,gt)=>{gn(this,!1,gt),this.at(gt).setValue(Q,{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A)}patchValue(O,A={}){null!=O&&(O.forEach((Q,gt)=>{this.at(gt)&&this.at(gt).patchValue(Q,{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A))}reset(O=[],A={}){this._forEachChild((Q,gt)=>{Q.reset(O[gt],{onlySelf:!0,emitEvent:A.emitEvent})}),this._updatePristine(A),this._updateTouched(A),this.updateValueAndValidity(A)}getRawValue(){return this.controls.map(O=>O.getRawValue())}clear(O={}){this.controls.length<1||(this._forEachChild(A=>A._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:O.emitEvent}))}_adjustIndex(O){return O<0?O+this.length:O}_syncPendingControls(){let O=this.controls.reduce((A,Q)=>!!Q._syncPendingControls()||A,!1);return O&&this.updateValueAndValidity({onlySelf:!0}),O}_forEachChild(O){this.controls.forEach((A,Q)=>{O(A,Q)})}_updateValue(){this.value=this.controls.filter(O=>O.enabled||this.disabled).map(O=>O.value)}_anyControls(O){return this.controls.some(A=>A.enabled&&O(A))}_setUpControls(){this._forEachChild(O=>this._registerControl(O))}_allControlsDisabled(){for(const O of this.controls)if(O.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(O){O.setParent(this),O._registerOnCollectionChange(this._onCollectionChange)}_find(O){return this.at(O)??null}}function ai(L){return!!L&&(void 0!==L.asyncValidators||void 0!==L.validators||void 0!==L.updateOn)}let Ii=(()=>{class L{constructor(){this.useNonNullable=!1}get nonNullable(){const A=new L;return A.useNonNullable=!0,A}group(A,Q=null){const gt=this._reduceControls(A);let hn={};return ai(Q)?hn=Q:null!==Q&&(hn.validators=Q.validator,hn.asyncValidators=Q.asyncValidator),new le(gt,hn)}record(A,Q=null){const gt=this._reduceControls(A);return new Ue(gt,Q)}control(A,Q,gt){let hn={};return this.useNonNullable?(ai(Q)?hn=Q:(hn.validators=Q,hn.asyncValidators=gt),new Rr(A,{...hn,nonNullable:!0})):new Rr(A,Q,gt)}array(A,Q,gt){const hn=A.map(ur=>this._createControl(ur));return new Xr(hn,Q,gt)}_reduceControls(A){const Q={};return Object.keys(A).forEach(gt=>{Q[gt]=this._createControl(A[gt])}),Q}_createControl(A){return A instanceof Rr||A instanceof de?A:Array.isArray(A)?this.control(A[0],A.length>1?A[1]:null,A.length>2?A[2]:null):this.control(A)}}return L.\u0275fac=function(A){return new(A||L)},L.\u0275prov=c.Yz7({token:L,factory:L.\u0275fac,providedIn:ms}),L})()},1481:(nn,ot,V)=>{V.d(ot,{Dx:()=>rt,H7:()=>mt,b2:()=>xn,q6:()=>Dr,se:()=>Ke});var c=V(6895),k=V(4650);class H extends c.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Te extends H{static makeCurrent(){(0,c.HT)(new Te)}onAndCancel(le,J,he){return le.addEventListener(J,he,!1),()=>{le.removeEventListener(J,he,!1)}}dispatchEvent(le,J){le.dispatchEvent(J)}remove(le){le.parentNode&&le.parentNode.removeChild(le)}createElement(le,J){return(J=J||this.getDefaultDocument()).createElement(le)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(le){return le.nodeType===Node.ELEMENT_NODE}isShadowRoot(le){return le instanceof DocumentFragment}getGlobalEventTarget(le,J){return"window"===J?window:"document"===J?le:"body"===J?le.body:null}getBaseHref(le){const J=function Ve(){return ve=ve||document.querySelector("base"),ve?ve.getAttribute("href"):null}();return null==J?null:function ce(de){Pe=Pe||document.createElement("a"),Pe.setAttribute("href",de);const le=Pe.pathname;return"/"===le.charAt(0)?le:`/${le}`}(J)}resetBaseElement(){ve=null}getUserAgent(){return window.navigator.userAgent}getCookie(le){return(0,c.Mx)(document.cookie,le)}}let Pe,ve=null;const Ye=new k.OlP("TRANSITION_ID"),ge=[{provide:k.ip1,useFactory:function re(de,le,J){return()=>{J.get(k.CZH).donePromise.then(()=>{const he=(0,c.q)(),Ue=le.querySelectorAll(`style[ng-transition="${de}"]`);for(let Ft=0;Ft<Ue.length;Ft++)he.remove(Ue[Ft])})}},deps:[Ye,c.K0,k.zs3],multi:!0}];let vt=(()=>{class de{build(){return new XMLHttpRequest}}return de.\u0275fac=function(J){return new(J||de)},de.\u0275prov=k.Yz7({token:de,factory:de.\u0275fac}),de})();const _t=new k.OlP("EventManagerPlugins");let nt=(()=>{class de{constructor(J,he){this._zone=he,this._eventNameToPlugin=new Map,J.forEach(Ue=>Ue.manager=this),this._plugins=J.slice().reverse()}addEventListener(J,he,Ue){return this._findPluginFor(he).addEventListener(J,he,Ue)}addGlobalEventListener(J,he,Ue){return this._findPluginFor(he).addGlobalEventListener(J,he,Ue)}getZone(){return this._zone}_findPluginFor(J){const he=this._eventNameToPlugin.get(J);if(he)return he;const Ue=this._plugins;for(let Ft=0;Ft<Ue.length;Ft++){const wn=Ue[Ft];if(wn.supports(J))return this._eventNameToPlugin.set(J,wn),wn}throw new Error(`No event manager plugin found for event ${J}`)}}return de.\u0275fac=function(J){return new(J||de)(k.LFG(_t),k.LFG(k.R0b))},de.\u0275prov=k.Yz7({token:de,factory:de.\u0275fac}),de})();class Ht{constructor(le){this._doc=le}addGlobalEventListener(le,J,he){const Ue=(0,c.q)().getGlobalEventTarget(this._doc,le);if(!Ue)throw new Error(`Unsupported event target ${Ue} for event ${J}`);return this.addEventListener(Ue,J,he)}}let ut=(()=>{class de{constructor(){this._stylesSet=new Set}addStyles(J){const he=new Set;J.forEach(Ue=>{this._stylesSet.has(Ue)||(this._stylesSet.add(Ue),he.add(Ue))}),this.onStylesAdded(he)}onStylesAdded(J){}getAllStyles(){return Array.from(this._stylesSet)}}return de.\u0275fac=function(J){return new(J||de)},de.\u0275prov=k.Yz7({token:de,factory:de.\u0275fac}),de})(),He=(()=>{class de extends ut{constructor(J){super(),this._doc=J,this._hostNodes=new Map,this._hostNodes.set(J.head,[])}_addStylesToHost(J,he,Ue){J.forEach(Ft=>{const wn=this._doc.createElement("style");wn.textContent=Ft,Ue.push(he.appendChild(wn))})}addHost(J){const he=[];this._addStylesToHost(this._stylesSet,J,he),this._hostNodes.set(J,he)}removeHost(J){const he=this._hostNodes.get(J);he&&he.forEach(bt),this._hostNodes.delete(J)}onStylesAdded(J){this._hostNodes.forEach((he,Ue)=>{this._addStylesToHost(J,Ue,he)})}ngOnDestroy(){this._hostNodes.forEach(J=>J.forEach(bt))}}return de.\u0275fac=function(J){return new(J||de)(k.LFG(c.K0))},de.\u0275prov=k.Yz7({token:de,factory:de.\u0275fac}),de})();function bt(de){(0,c.q)().remove(de)}const ft={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ae=/%COMP%/g;function xe(de,le,J){for(let he=0;he<le.length;he++){let Ue=le[he];Array.isArray(Ue)?xe(de,Ue,J):(Ue=Ue.replace(ae,de),J.push(Ue))}return J}function Le(de){return le=>{if("__ngUnwrap__"===le)return de;!1===de(le)&&(le.preventDefault(),le.returnValue=!1)}}let Ke=(()=>{class de{constructor(J,he,Ue){this.eventManager=J,this.sharedStylesHost=he,this.appId=Ue,this.rendererByCompId=new Map,this.defaultRenderer=new Tt(J)}createRenderer(J,he){if(!J||!he)return this.defaultRenderer;switch(he.encapsulation){case k.ifc.Emulated:{let Ue=this.rendererByCompId.get(he.id);return Ue||(Ue=new an(this.eventManager,this.sharedStylesHost,he,this.appId),this.rendererByCompId.set(he.id,Ue)),Ue.applyToHost(J),Ue}case 1:case k.ifc.ShadowDom:return new Ct(this.eventManager,this.sharedStylesHost,J,he);default:if(!this.rendererByCompId.has(he.id)){const Ue=xe(he.id,he.styles,[]);this.sharedStylesHost.addStyles(Ue),this.rendererByCompId.set(he.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return de.\u0275fac=function(J){return new(J||de)(k.LFG(nt),k.LFG(He),k.LFG(k.AFp))},de.\u0275prov=k.Yz7({token:de,factory:de.\u0275fac}),de})();class Tt{constructor(le){this.eventManager=le,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(le,J){return J?document.createElementNS(ft[J]||J,le):document.createElement(le)}createComment(le){return document.createComment(le)}createText(le){return document.createTextNode(le)}appendChild(le,J){(Yt(le)?le.content:le).appendChild(J)}insertBefore(le,J,he){le&&(Yt(le)?le.content:le).insertBefore(J,he)}removeChild(le,J){le&&le.removeChild(J)}selectRootElement(le,J){let he="string"==typeof le?document.querySelector(le):le;if(!he)throw new Error(`The selector "${le}" did not match any elements`);return J||(he.textContent=""),he}parentNode(le){return le.parentNode}nextSibling(le){return le.nextSibling}setAttribute(le,J,he,Ue){if(Ue){J=Ue+":"+J;const Ft=ft[Ue];Ft?le.setAttributeNS(Ft,J,he):le.setAttribute(J,he)}else le.setAttribute(J,he)}removeAttribute(le,J,he){if(he){const Ue=ft[he];Ue?le.removeAttributeNS(Ue,J):le.removeAttribute(`${he}:${J}`)}else le.removeAttribute(J)}addClass(le,J){le.classList.add(J)}removeClass(le,J){le.classList.remove(J)}setStyle(le,J,he,Ue){Ue&(k.JOm.DashCase|k.JOm.Important)?le.style.setProperty(J,he,Ue&k.JOm.Important?"important":""):le.style[J]=he}removeStyle(le,J,he){he&k.JOm.DashCase?le.style.removeProperty(J):le.style[J]=""}setProperty(le,J,he){le[J]=he}setValue(le,J){le.nodeValue=J}listen(le,J,he){return"string"==typeof le?this.eventManager.addGlobalEventListener(le,J,Le(he)):this.eventManager.addEventListener(le,J,Le(he))}}function Yt(de){return"TEMPLATE"===de.tagName&&void 0!==de.content}class an extends Tt{constructor(le,J,he,Ue){super(le),this.component=he;const Ft=xe(Ue+"-"+he.id,he.styles,[]);J.addStyles(Ft),this.contentAttr=function We(de){return"_ngcontent-%COMP%".replace(ae,de)}(Ue+"-"+he.id),this.hostAttr=function Je(de){return"_nghost-%COMP%".replace(ae,de)}(Ue+"-"+he.id)}applyToHost(le){super.setAttribute(le,this.hostAttr,"")}createElement(le,J){const he=super.createElement(le,J);return super.setAttribute(he,this.contentAttr,""),he}}class Ct extends Tt{constructor(le,J,he,Ue){super(le),this.sharedStylesHost=J,this.hostEl=he,this.shadowRoot=he.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Ft=xe(Ue.id,Ue.styles,[]);for(let wn=0;wn<Ft.length;wn++){const In=document.createElement("style");In.textContent=Ft[wn],this.shadowRoot.appendChild(In)}}nodeOrShadowRoot(le){return le===this.hostEl?this.shadowRoot:le}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(le,J){return super.appendChild(this.nodeOrShadowRoot(le),J)}insertBefore(le,J,he){return super.insertBefore(this.nodeOrShadowRoot(le),J,he)}removeChild(le,J){return super.removeChild(this.nodeOrShadowRoot(le),J)}parentNode(le){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(le)))}}let sn=(()=>{class de extends Ht{constructor(J){super(J)}supports(J){return!0}addEventListener(J,he,Ue){return J.addEventListener(he,Ue,!1),()=>this.removeEventListener(J,he,Ue)}removeEventListener(J,he,Ue){return J.removeEventListener(he,Ue)}}return de.\u0275fac=function(J){return new(J||de)(k.LFG(c.K0))},de.\u0275prov=k.Yz7({token:de,factory:de.\u0275fac}),de})();const dn=["alt","control","meta","shift"],st={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Dt={alt:de=>de.altKey,control:de=>de.ctrlKey,meta:de=>de.metaKey,shift:de=>de.shiftKey};let Re=(()=>{class de extends Ht{constructor(J){super(J)}supports(J){return null!=de.parseEventName(J)}addEventListener(J,he,Ue){const Ft=de.parseEventName(he),wn=de.eventCallback(Ft.fullKey,Ue,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,c.q)().onAndCancel(J,Ft.domEventName,wn))}static parseEventName(J){const he=J.toLowerCase().split("."),Ue=he.shift();if(0===he.length||"keydown"!==Ue&&"keyup"!==Ue)return null;const Ft=de._normalizeKey(he.pop());let wn="",In=he.indexOf("code");if(In>-1&&(he.splice(In,1),wn="code."),dn.forEach(Cr=>{const pn=he.indexOf(Cr);pn>-1&&(he.splice(pn,1),wn+=Cr+".")}),wn+=Ft,0!=he.length||0===Ft.length)return null;const dr={};return dr.domEventName=Ue,dr.fullKey=wn,dr}static matchEventFullKeyCode(J,he){let Ue=st[J.key]||J.key,Ft="";return he.indexOf("code.")>-1&&(Ue=J.code,Ft="code."),!(null==Ue||!Ue)&&(Ue=Ue.toLowerCase()," "===Ue?Ue="space":"."===Ue&&(Ue="dot"),dn.forEach(wn=>{wn!==Ue&&(0,Dt[wn])(J)&&(Ft+=wn+".")}),Ft+=Ue,Ft===he)}static eventCallback(J,he,Ue){return Ft=>{de.matchEventFullKeyCode(Ft,J)&&Ue.runGuarded(()=>he(Ft))}}static _normalizeKey(J){return"esc"===J?"escape":J}}return de.\u0275fac=function(J){return new(J||de)(k.LFG(c.K0))},de.\u0275prov=k.Yz7({token:de,factory:de.\u0275fac}),de})();const Dr=(0,k.eFA)(k._c5,"browser",[{provide:k.Lbi,useValue:c.bD},{provide:k.g9A,useValue:function nr(){Te.makeCurrent()},multi:!0},{provide:c.K0,useFactory:function tn(){return(0,k.RDi)(document),document},deps:[]}]),Jn=new k.OlP(""),jt=[{provide:k.rWj,useClass:class ke{addToWindow(le){k.dqk.getAngularTestability=(he,Ue=!0)=>{const Ft=le.findTestabilityInTree(he,Ue);if(null==Ft)throw new Error("Could not find testability for element.");return Ft},k.dqk.getAllAngularTestabilities=()=>le.getAllTestabilities(),k.dqk.getAllAngularRootElements=()=>le.getAllRootElements(),k.dqk.frameworkStabilizers||(k.dqk.frameworkStabilizers=[]),k.dqk.frameworkStabilizers.push(he=>{const Ue=k.dqk.getAllAngularTestabilities();let Ft=Ue.length,wn=!1;const In=function(dr){wn=wn||dr,Ft--,0==Ft&&he(wn)};Ue.forEach(function(dr){dr.whenStable(In)})})}findTestabilityInTree(le,J,he){return null==J?null:le.getTestability(J)??(he?(0,c.q)().isShadowRoot(J)?this.findTestabilityInTree(le,J.host,!0):this.findTestabilityInTree(le,J.parentElement,!0):null)}},deps:[]},{provide:k.lri,useClass:k.dDg,deps:[k.R0b,k.eoX,k.rWj]},{provide:k.dDg,useClass:k.dDg,deps:[k.R0b,k.eoX,k.rWj]}],Pn=[{provide:k.zSh,useValue:"root"},{provide:k.qLn,useFactory:function rr(){return new k.qLn},deps:[]},{provide:_t,useClass:sn,multi:!0,deps:[c.K0,k.R0b,k.Lbi]},{provide:_t,useClass:Re,multi:!0,deps:[c.K0]},{provide:Ke,useClass:Ke,deps:[nt,He,k.AFp]},{provide:k.FYo,useExisting:Ke},{provide:ut,useExisting:He},{provide:He,useClass:He,deps:[c.K0]},{provide:nt,useClass:nt,deps:[_t,k.R0b]},{provide:c.JF,useClass:vt,deps:[]},[]];let xn=(()=>{class de{constructor(J){}static withServerTransition(J){return{ngModule:de,providers:[{provide:k.AFp,useValue:J.appId},{provide:Ye,useExisting:k.AFp},ge]}}}return de.\u0275fac=function(J){return new(J||de)(k.LFG(Jn,12))},de.\u0275mod=k.oAB({type:de}),de.\u0275inj=k.cJS({providers:[...Pn,...jt],imports:[c.ez,k.hGG]}),de})(),rt=(()=>{class de{constructor(J){this._doc=J}getTitle(){return this._doc.title}setTitle(J){this._doc.title=J||""}}return de.\u0275fac=function(J){return new(J||de)(k.LFG(c.K0))},de.\u0275prov=k.Yz7({token:de,factory:function(J){let he=null;return he=J?new J:function mr(){return new rt((0,k.LFG)(c.K0))}(),he},providedIn:"root"}),de})();typeof window<"u"&&window;let mt=(()=>{class de{}return de.\u0275fac=function(J){return new(J||de)},de.\u0275prov=k.Yz7({token:de,factory:function(J){let he=null;return he=J?new(J||de):k.LFG(gn),he},providedIn:"root"}),de})(),gn=(()=>{class de extends mt{constructor(J){super(),this._doc=J}sanitize(J,he){if(null==he)return null;switch(J){case k.q3G.NONE:return he;case k.q3G.HTML:return(0,k.qzn)(he,"HTML")?(0,k.z3N)(he):(0,k.EiD)(this._doc,String(he)).toString();case k.q3G.STYLE:return(0,k.qzn)(he,"Style")?(0,k.z3N)(he):he;case k.q3G.SCRIPT:if((0,k.qzn)(he,"Script"))return(0,k.z3N)(he);throw new Error("unsafe value used in a script context");case k.q3G.URL:return(0,k.qzn)(he,"URL")?(0,k.z3N)(he):(0,k.mCW)(String(he));case k.q3G.RESOURCE_URL:if((0,k.qzn)(he,"ResourceURL"))return(0,k.z3N)(he);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${J} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(J){return(0,k.JVY)(J)}bypassSecurityTrustStyle(J){return(0,k.L6k)(J)}bypassSecurityTrustScript(J){return(0,k.eBb)(J)}bypassSecurityTrustUrl(J){return(0,k.LAX)(J)}bypassSecurityTrustResourceUrl(J){return(0,k.pB0)(J)}}return de.\u0275fac=function(J){return new(J||de)(k.LFG(c.K0))},de.\u0275prov=k.Yz7({token:de,factory:function(J){let he=null;return he=J?new J:function Gt(de){return new gn(de.get(c.K0))}(k.LFG(k.zs3)),he},providedIn:"root"}),de})()},7001:(nn,ot,V)=>{V.d(ot,{F0:()=>ki,rH:()=>$s,Bz:()=>Js,lC:()=>fs});var c=V(4650),k=V(8996),H=V(9646),Te=V(7579);class ve extends Te.x{constructor(w){super(),this._value=w}get value(){return this.getValue()}_subscribe(w){const m=super._subscribe(w);return!m.closed&&w.next(this._value),m}getValue(){const{hasError:w,thrownError:m,_value:T}=this;if(w)throw m;return this._throwIfClosed(),T}next(w){super.next(this._value=w)}}var Ve=V(6805),Pe=V(9751),ce=V(4742),Ye=V(4671),re=V(3268),ge=V(7669),ke=V(1810),vt=V(5403),_t=V(9672);function nt(...E){const w=(0,ge.yG)(E),m=(0,ge.jO)(E),{args:T,keys:P}=(0,ce.D)(E);if(0===T.length)return(0,k.D)([],w);const K=new Pe.y(function Ht(E,w,m=Ye.y){return T=>{ut(w,()=>{const{length:P}=E,K=new Array(P);let fe=P,be=P;for(let wt=0;wt<P;wt++)ut(w,()=>{const Xt=(0,k.D)(E[wt],w);let qn=!1;Xt.subscribe((0,vt.x)(T,mn=>{K[wt]=mn,qn||(qn=!0,be--),be||T.next(m(K.slice()))},()=>{--fe||T.complete()}))},T)},T)}}(T,w,P?fe=>(0,ke.n)(P,fe):Ye.y));return m?K.pipe((0,re.Z)(m)):K}function ut(E,w,m){E?(0,_t.f)(m,E,w):w()}var He=V(7272),bt=V(8421);function ft(E){return new Pe.y(w=>{(0,bt.Xf)(E()).subscribe(w)})}var ae=V(9635),Ae=V(576);function Xe(E,w){const m=(0,Ae.m)(E)?E:()=>E,T=P=>P.error(m());return new Pe.y(w?P=>w.schedule(T,0,P):T)}var Nt=V(515),Fe=V(727),We=V(4482);function Je(){return(0,We.e)((E,w)=>{let m=null;E._refCount++;const T=(0,vt.x)(w,void 0,void 0,void 0,()=>{if(!E||E._refCount<=0||0<--E._refCount)return void(m=null);const P=E._connection,K=m;m=null,P&&(!K||P===K)&&P.unsubscribe(),w.unsubscribe()});E.subscribe(T),T.closed||(m=E.connect())})}class xe extends Pe.y{constructor(w,m){super(),this.source=w,this.subjectFactory=m,this._subject=null,this._refCount=0,this._connection=null,(0,We.A)(w)&&(this.lift=w.lift)}_subscribe(w){return this.getSubject().subscribe(w)}getSubject(){const w=this._subject;return(!w||w.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:w}=this;this._subject=this._connection=null,w?.unsubscribe()}connect(){let w=this._connection;if(!w){w=this._connection=new Fe.w0;const m=this.getSubject();w.add(this.source.subscribe((0,vt.x)(m,void 0,()=>{this._teardown(),m.complete()},T=>{this._teardown(),m.error(T)},()=>this._teardown()))),w.closed&&(this._connection=null,w=Fe.w0.EMPTY)}return w}refCount(){return Je()(this)}}var Le=V(6895),$e=V(4004),Ke=V(3900),Tt=V(5698),Rt=V(8675),kt=V(9300),Yt=V(5577),an=V(590),Ct=V(4351),sn=V(8505);function dn(E){return(0,We.e)((w,m)=>{let K,T=null,P=!1;T=w.subscribe((0,vt.x)(m,void 0,void 0,fe=>{K=(0,bt.Xf)(E(fe,dn(E)(w))),T?(T.unsubscribe(),T=null,K.subscribe(m)):P=!0})),P&&(T.unsubscribe(),T=null,K.subscribe(m))})}var st=V(5026);function Dt(E){return E<=0?()=>Nt.E:(0,We.e)((w,m)=>{let T=[];w.subscribe((0,vt.x)(m,P=>{T.push(P),E<T.length&&T.shift()},()=>{for(const P of T)m.next(P);m.complete()},void 0,()=>{T=null}))})}var Re=V(8068),qe=V(6590);function Zt(E,w){const m=arguments.length>=2;return T=>T.pipe(E?(0,kt.h)((P,K)=>E(P,K,T)):Ye.y,Dt(1),m?(0,qe.d)(w):(0,Re.T)(()=>new Ve.K))}function Un(E){return(0,We.e)((w,m)=>{try{w.subscribe(m)}finally{m.add(E)}})}var nr=V(8189),rr=V(1481);const tn="primary",On=Symbol("RouteTitle");class Dr{constructor(w){this.params=w||{}}has(w){return Object.prototype.hasOwnProperty.call(this.params,w)}get(w){if(this.has(w)){const m=this.params[w];return Array.isArray(m)?m[0]:m}return null}getAll(w){if(this.has(w)){const m=this.params[w];return Array.isArray(m)?m:[m]}return[]}get keys(){return Object.keys(this.params)}}function Jn(E){return new Dr(E)}function jt(E,w,m){const T=m.path.split("/");if(T.length>E.length||"full"===m.pathMatch&&(w.hasChildren()||T.length<E.length))return null;const P={};for(let K=0;K<T.length;K++){const fe=T[K],be=E[K];if(fe.startsWith(":"))P[fe.substring(1)]=be;else if(fe!==be.path)return null}return{consumed:E.slice(0,T.length),posParams:P}}function xn(E,w){const m=E?Object.keys(E):void 0,T=w?Object.keys(w):void 0;if(!m||!T||m.length!=T.length)return!1;let P;for(let K=0;K<m.length;K++)if(P=m[K],!zn(E[P],w[P]))return!1;return!0}function zn(E,w){if(Array.isArray(E)&&Array.isArray(w)){if(E.length!==w.length)return!1;const m=[...E].sort(),T=[...w].sort();return m.every((P,K)=>T[K]===P)}return E===w}function Er(E){return Array.prototype.concat.apply([],E)}function si(E){return E.length>0?E[E.length-1]:null}function rt(E,w){for(const m in E)E.hasOwnProperty(m)&&w(E[m],m)}function we(E){return(0,c.CqO)(E)?E:(0,c.QGY)(E)?(0,k.D)(Promise.resolve(E)):(0,H.of)(E)}const ht={exact:function Wt(E,w,m){if(!te(E.segments,w.segments)||!Nn(E.segments,w.segments,m)||E.numberOfChildren!==w.numberOfChildren)return!1;for(const T in w.children)if(!E.children[T]||!Wt(E.children[T],w.children[T],m))return!1;return!0},subset:Mn},Jt={exact:function $n(E,w){return xn(E,w)},subset:function Zn(E,w){return Object.keys(w).length<=Object.keys(E).length&&Object.keys(w).every(m=>zn(E[m],w[m]))},ignored:()=>!0};function An(E,w,m){return ht[m.paths](E.root,w.root,m.matrixParams)&&Jt[m.queryParams](E.queryParams,w.queryParams)&&!("exact"===m.fragment&&E.fragment!==w.fragment)}function Mn(E,w,m){return Nr(E,w,w.segments,m)}function Nr(E,w,m,T){if(E.segments.length>m.length){const P=E.segments.slice(0,m.length);return!(!te(P,m)||w.hasChildren()||!Nn(P,m,T))}if(E.segments.length===m.length){if(!te(E.segments,m)||!Nn(E.segments,m,T))return!1;for(const P in w.children)if(!E.children[P]||!Mn(E.children[P],w.children[P],T))return!1;return!0}{const P=m.slice(0,E.segments.length),K=m.slice(E.segments.length);return!!(te(E.segments,P)&&Nn(E.segments,P,T)&&E.children[tn])&&Nr(E.children[tn],w,K,T)}}function Nn(E,w,m){return w.every((T,P)=>Jt[m](E[P].parameters,T.parameters))}class De{constructor(w,m,T){this.root=w,this.queryParams=m,this.fragment=T}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jn(this.queryParams)),this._queryParamMap}toString(){return xt.serialize(this)}}class oe{constructor(w,m){this.segments=w,this.children=m,this.parent=null,rt(m,(T,P)=>T.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return rn(this)}}class me{constructor(w,m){this.path=w,this.parameters=m}get parameterMap(){return this._parameterMap||(this._parameterMap=Jn(this.parameters)),this._parameterMap}toString(){return bn(this)}}function te(E,w){return E.length===w.length&&E.every((m,T)=>m.path===w[T].path)}let ee=(()=>{class E{}return E.\u0275fac=function(m){return new(m||E)},E.\u0275prov=c.Yz7({token:E,factory:function(){return new Ge},providedIn:"root"}),E})();class Ge{parse(w){const m=new dr(w);return new De(m.parseRootSegment(),m.parseQueryParams(),m.parseFragment())}serialize(w){const m=`/${Bn(w.root,!0)}`,T=function le(E){const w=Object.keys(E).map(m=>{const T=E[m];return Array.isArray(T)?T.map(P=>`${Ee(m)}=${Ee(P)}`).join("&"):`${Ee(m)}=${Ee(T)}`}).filter(m=>!!m);return w.length?`?${w.join("&")}`:""}(w.queryParams);return`${m}${T}${"string"==typeof w.fragment?`#${function Ce(E){return encodeURI(E)}(w.fragment)}`:""}`}}const xt=new Ge;function rn(E){return E.segments.map(w=>bn(w)).join("/")}function Bn(E,w){if(!E.hasChildren())return rn(E);if(w){const m=E.children[tn]?Bn(E.children[tn],!1):"",T=[];return rt(E.children,(P,K)=>{K!==tn&&T.push(`${K}:${Bn(P,!1)}`)}),T.length>0?`${m}(${T.join("//")})`:m}{const m=function j(E,w){let m=[];return rt(E.children,(T,P)=>{P===tn&&(m=m.concat(w(T,P)))}),rt(E.children,(T,P)=>{P!==tn&&(m=m.concat(w(T,P)))}),m}(E,(T,P)=>P===tn?[Bn(E.children[tn],!1)]:[`${P}:${Bn(T,!1)}`]);return 1===Object.keys(E.children).length&&null!=E.children[tn]?`${rn(E)}/${m[0]}`:`${rn(E)}/(${m.join("//")})`}}function ze(E){return encodeURIComponent(E).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ee(E){return ze(E).replace(/%3B/gi,";")}function mt(E){return ze(E).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Gt(E){return decodeURIComponent(E)}function gn(E){return Gt(E.replace(/\+/g,"%20"))}function bn(E){return`${mt(E.path)}${function de(E){return Object.keys(E).map(w=>`;${mt(w)}=${mt(E[w])}`).join("")}(E.parameters)}`}const J=/^[^\/()?;=#]+/;function he(E){const w=E.match(J);return w?w[0]:""}const Ue=/^[^=?&#]+/,wn=/^[^&#]+/;class dr{constructor(w){this.url=w,this.remaining=w}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new oe([],{}):new oe([],this.parseChildren())}parseQueryParams(){const w={};if(this.consumeOptional("?"))do{this.parseQueryParam(w)}while(this.consumeOptional("&"));return w}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const w=[];for(this.peekStartsWith("(")||w.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),w.push(this.parseSegment());let m={};this.peekStartsWith("/(")&&(this.capture("/"),m=this.parseParens(!0));let T={};return this.peekStartsWith("(")&&(T=this.parseParens(!1)),(w.length>0||Object.keys(m).length>0)&&(T[tn]=new oe(w,m)),T}parseSegment(){const w=he(this.remaining);if(""===w&&this.peekStartsWith(";"))throw new c.vHH(4009,!1);return this.capture(w),new me(Gt(w),this.parseMatrixParams())}parseMatrixParams(){const w={};for(;this.consumeOptional(";");)this.parseParam(w);return w}parseParam(w){const m=he(this.remaining);if(!m)return;this.capture(m);let T="";if(this.consumeOptional("=")){const P=he(this.remaining);P&&(T=P,this.capture(T))}w[Gt(m)]=Gt(T)}parseQueryParam(w){const m=function Ft(E){const w=E.match(Ue);return w?w[0]:""}(this.remaining);if(!m)return;this.capture(m);let T="";if(this.consumeOptional("=")){const fe=function In(E){const w=E.match(wn);return w?w[0]:""}(this.remaining);fe&&(T=fe,this.capture(T))}const P=gn(m),K=gn(T);if(w.hasOwnProperty(P)){let fe=w[P];Array.isArray(fe)||(fe=[fe],w[P]=fe),fe.push(K)}else w[P]=K}parseParens(w){const m={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const T=he(this.remaining),P=this.remaining[T.length];if("/"!==P&&")"!==P&&";"!==P)throw new c.vHH(4010,!1);let K;T.indexOf(":")>-1?(K=T.slice(0,T.indexOf(":")),this.capture(K),this.capture(":")):w&&(K=tn);const fe=this.parseChildren();m[K]=1===Object.keys(fe).length?fe[tn]:new oe([],fe),this.consumeOptional("//")}return m}peekStartsWith(w){return this.remaining.startsWith(w)}consumeOptional(w){return!!this.peekStartsWith(w)&&(this.remaining=this.remaining.substring(w.length),!0)}capture(w){if(!this.consumeOptional(w))throw new c.vHH(4011,!1)}}function Cr(E){return E.segments.length>0?new oe([],{[tn]:E}):E}function pn(E){const w={};for(const T of Object.keys(E.children)){const K=pn(E.children[T]);(K.segments.length>0||K.hasChildren())&&(w[T]=K)}return function oi(E){if(1===E.numberOfChildren&&E.children[tn]){const w=E.children[tn];return new oe(E.segments.concat(w.segments),w.children)}return E}(new oe(E.segments,w))}function xr(E){return E instanceof De}function Hr(E,w,m,T,P){if(0===m.length)return ls(w.root,w.root,w.root,T,P);const K=function zr(E){if("string"==typeof E[0]&&1===E.length&&"/"===E[0])return new zo(!0,0,E);let w=0,m=!1;const T=E.reduce((P,K,fe)=>{if("object"==typeof K&&null!=K){if(K.outlets){const be={};return rt(K.outlets,(wt,Xt)=>{be[Xt]="string"==typeof wt?wt.split("/"):wt}),[...P,{outlets:be}]}if(K.segmentPath)return[...P,K.segmentPath]}return"string"!=typeof K?[...P,K]:0===fe?(K.split("/").forEach((be,wt)=>{0==wt&&"."===be||(0==wt&&""===be?m=!0:".."===be?w++:""!=be&&P.push(be))}),P):[...P,K]},[]);return new zo(m,w,T)}(m);return K.toRoot()?ls(w.root,w.root,new oe([],{}),T,P):function fe(wt){const Xt=function bi(E,w,m,T){if(E.isAbsolute)return new Wi(w.root,!0,0);if(-1===T)return new Wi(m,m===w.root,0);return function Ze(E,w,m){let T=E,P=w,K=m;for(;K>P;){if(K-=P,T=T.parent,!T)throw new c.vHH(4005,!1);P=T.segments.length}return new Wi(T,!1,P-K)}(m,T+(Gr(E.commands[0])?0:1),E.numberOfDoubleDots)}(K,w,E.snapshot?._urlSegment,wt),qn=Xt.processChildren?Mt(Xt.segmentGroup,Xt.index,K.commands):it(Xt.segmentGroup,Xt.index,K.commands);return ls(w.root,Xt.segmentGroup,qn,T,P)}(E.snapshot?._lastPathIndex)}function Gr(E){return"object"==typeof E&&null!=E&&!E.outlets&&!E.segmentPath}function br(E){return"object"==typeof E&&null!=E&&E.outlets}function ls(E,w,m,T,P){let fe,K={};T&&rt(T,(wt,Xt)=>{K[Xt]=Array.isArray(wt)?wt.map(qn=>`${qn}`):`${wt}`}),fe=E===w?m:Xn(E,w,m);const be=Cr(pn(fe));return new De(be,K,P)}function Xn(E,w,m){const T={};return rt(E.children,(P,K)=>{T[K]=P===w?m:Xn(P,w,m)}),new oe(E.segments,T)}class zo{constructor(w,m,T){if(this.isAbsolute=w,this.numberOfDoubleDots=m,this.commands=T,w&&T.length>0&&Gr(T[0]))throw new c.vHH(4003,!1);const P=T.find(br);if(P&&P!==si(T))throw new c.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Wi{constructor(w,m,T){this.segmentGroup=w,this.processChildren=m,this.index=T}}function it(E,w,m){if(E||(E=new oe([],{})),0===E.segments.length&&E.hasChildren())return Mt(E,w,m);const T=function Bt(E,w,m){let T=0,P=w;const K={match:!1,pathIndex:0,commandIndex:0};for(;P<E.segments.length;){if(T>=m.length)return K;const fe=E.segments[P],be=m[T];if(br(be))break;const wt=`${be}`,Xt=T<m.length-1?m[T+1]:null;if(P>0&&void 0===wt)break;if(wt&&Xt&&"object"==typeof Xt&&void 0===Xt.outlets){if(!ir(wt,Xt,fe))return K;T+=2}else{if(!ir(wt,{},fe))return K;T++}P++}return{match:!0,pathIndex:P,commandIndex:T}}(E,w,m),P=m.slice(T.commandIndex);if(T.match&&T.pathIndex<E.segments.length){const K=new oe(E.segments.slice(0,T.pathIndex),{});return K.children[tn]=new oe(E.segments.slice(T.pathIndex),E.children),Mt(K,0,P)}return T.match&&0===P.length?new oe(E.segments,{}):T.match&&!E.hasChildren()?un(E,w,m):T.match?Mt(E,0,P):un(E,w,m)}function Mt(E,w,m){if(0===m.length)return new oe(E.segments,{});{const T=function Be(E){return br(E[0])?E[0].outlets:{[tn]:E}}(m),P={};return rt(T,(K,fe)=>{"string"==typeof K&&(K=[K]),null!==K&&(P[fe]=it(E.children[fe],w,K))}),rt(E.children,(K,fe)=>{void 0===T[fe]&&(P[fe]=K)}),new oe(E.segments,P)}}function un(E,w,m){const T=E.segments.slice(0,w);let P=0;for(;P<m.length;){const K=m[P];if(br(K)){const wt=Kn(K.outlets);return new oe(T,wt)}if(0===P&&Gr(m[0])){T.push(new me(E.segments[w].path,Rr(m[0]))),P++;continue}const fe=br(K)?K.outlets[tn]:`${K}`,be=P<m.length-1?m[P+1]:null;fe&&be&&Gr(be)?(T.push(new me(fe,Rr(be))),P+=2):(T.push(new me(fe,{})),P++)}return new oe(T,{})}function Kn(E){const w={};return rt(E,(m,T)=>{"string"==typeof m&&(m=[m]),null!==m&&(w[T]=un(new oe([],{}),0,m))}),w}function Rr(E){const w={};return rt(E,(m,T)=>w[T]=`${m}`),w}function ir(E,w,m){return E==m.path&&xn(w,m.parameters)}class ar{constructor(w,m){this.id=w,this.url=m}}class Ki extends ar{constructor(w,m,T="imperative",P=null){super(w,m),this.type=0,this.navigationTrigger=T,this.restoredState=P}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class cs extends ar{constructor(w,m,T){super(w,m),this.urlAfterRedirects=T,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ai extends ar{constructor(w,m,T,P){super(w,m),this.reason=T,this.code=P,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ei extends ar{constructor(w,m,T,P){super(w,m),this.error=T,this.target=P,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Is extends ar{constructor(w,m,T,P){super(w,m),this.urlAfterRedirects=T,this.state=P,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vi extends ar{constructor(w,m,T,P){super(w,m),this.urlAfterRedirects=T,this.state=P,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class No extends ar{constructor(w,m,T,P,K){super(w,m),this.urlAfterRedirects=T,this.state=P,this.shouldActivate=K,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class rs extends ar{constructor(w,m,T,P){super(w,m),this.urlAfterRedirects=T,this.state=P,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ua extends ar{constructor(w,m,T,P){super(w,m),this.urlAfterRedirects=T,this.state=P,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Os{constructor(w){this.route=w,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Wo{constructor(w){this.route=w,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ps{constructor(w){this.snapshot=w,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qi{constructor(w){this.snapshot=w,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ks{constructor(w){this.snapshot=w,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ks{constructor(w){this.snapshot=w,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ro{constructor(w,m,T){this.routerEvent=w,this.position=m,this.anchor=T,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Zi{constructor(w){this._root=w}get root(){return this._root.value}parent(w){const m=this.pathFromRoot(w);return m.length>1?m[m.length-2]:null}children(w){const m=fo(w,this._root);return m?m.children.map(T=>T.value):[]}firstChild(w){const m=fo(w,this._root);return m&&m.children.length>0?m.children[0].value:null}siblings(w){const m=po(w,this._root);return m.length<2?[]:m[m.length-2].children.map(P=>P.value).filter(P=>P!==w)}pathFromRoot(w){return po(w,this._root).map(m=>m.value)}}function fo(E,w){if(E===w.value)return w;for(const m of w.children){const T=fo(E,m);if(T)return T}return null}function po(E,w){if(E===w.value)return[w];for(const m of w.children){const T=po(E,m);if(T.length)return T.unshift(w),T}return[]}class Kr{constructor(w,m){this.value=w,this.children=m}toString(){return`TreeNode(${this.value})`}}function Yi(E){const w={};return E&&E.children.forEach(m=>w[m.value.outlet]=m),w}class Ds extends Zi{constructor(w,m){super(w),this.snapshot=m,Cs(this,w)}toString(){return this.snapshot.toString()}}function qr(E,w){const m=function ds(E,w){const fe=new Qi([],{},{},"",{},tn,w,null,E.root,-1,{});return new go("",new Kr(fe,[]))}(E,w),T=new ve([new me("",{})]),P=new ve({}),K=new ve({}),fe=new ve({}),be=new ve(""),wt=new Yn(T,P,fe,be,K,tn,w,m.root);return wt.snapshot=m.root,new Ds(new Kr(wt,[]),m)}class Yn{constructor(w,m,T,P,K,fe,be,wt){this.url=w,this.params=m,this.queryParams=T,this.fragment=P,this.data=K,this.outlet=fe,this.component=be,this.title=this.data?.pipe((0,$e.U)(Xt=>Xt[On]))??(0,H.of)(void 0),this._futureSnapshot=wt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,$e.U)(w=>Jn(w)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,$e.U)(w=>Jn(w)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function hs(E,w="emptyOnly"){const m=E.pathFromRoot;let T=0;if("always"!==w)for(T=m.length-1;T>=1;){const P=m[T],K=m[T-1];if(P.routeConfig&&""===P.routeConfig.path)T--;else{if(K.component)break;T--}}return function is(E){return E.reduce((w,m)=>({params:{...w.params,...m.params},data:{...w.data,...m.data},resolve:{...m.data,...w.resolve,...m.routeConfig?.data,...m._resolvedData}}),{params:{},data:{},resolve:{}})}(m.slice(T))}class Qi{constructor(w,m,T,P,K,fe,be,wt,Xt,qn,mn,_r){this.url=w,this.params=m,this.queryParams=T,this.fragment=P,this.data=K,this.outlet=fe,this.component=be,this.title=this.data?.[On],this.routeConfig=wt,this._urlSegment=Xt,this._lastPathIndex=qn,this._correctedLastPathIndex=_r??qn,this._resolve=mn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Jn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(T=>T.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class go extends Zi{constructor(w,m){super(m),this.url=w,Cs(this,m)}toString(){return ta(this._root)}}function Cs(E,w){w.value._routerState=E,w.children.forEach(m=>Cs(E,m))}function ta(E){const w=E.children.length>0?` { ${E.children.map(ta).join(", ")} } `:"";return`${E.value}${w}`}function wi(E){if(E.snapshot){const w=E.snapshot,m=E._futureSnapshot;E.snapshot=m,xn(w.queryParams,m.queryParams)||E.queryParams.next(m.queryParams),w.fragment!==m.fragment&&E.fragment.next(m.fragment),xn(w.params,m.params)||E.params.next(m.params),function Pn(E,w){if(E.length!==w.length)return!1;for(let m=0;m<E.length;++m)if(!xn(E[m],w[m]))return!1;return!0}(w.url,m.url)||E.url.next(m.url),xn(w.data,m.data)||E.data.next(m.data)}else E.snapshot=E._futureSnapshot,E.data.next(E._futureSnapshot.data)}function ss(E,w){const m=xn(E.params,w.params)&&function Me(E,w){return te(E,w)&&E.every((m,T)=>xn(m.parameters,w[T].parameters))}(E.url,w.url);return m&&!(!E.parent!=!w.parent)&&(!E.parent||ss(E.parent,w.parent))}function fi(E,w,m){if(m&&E.shouldReuseRoute(w.value,m.value.snapshot)){const T=m.value;T._futureSnapshot=w.value;const P=function ri(E,w,m){return w.children.map(T=>{for(const P of m.children)if(E.shouldReuseRoute(T.value,P.value.snapshot))return fi(E,T,P);return fi(E,T)})}(E,w,m);return new Kr(T,P)}{if(E.shouldAttach(w.value)){const K=E.retrieve(w.value);if(null!==K){const fe=K.route;return fe.value._futureSnapshot=w.value,fe.children=w.children.map(be=>fi(E,be)),fe}}const T=function Fs(E){return new Yn(new ve(E.url),new ve(E.params),new ve(E.queryParams),new ve(E.fragment),new ve(E.data),E.outlet,E.component,E)}(w.value),P=w.children.map(K=>fi(E,K));return new Kr(T,P)}}const mo="ngNavigationCancelingError";function Po(E,w){const{redirectTo:m,navigationBehaviorOptions:T}=xr(w)?{redirectTo:w,navigationBehaviorOptions:void 0}:w,P=Or(!1,0,w);return P.url=m,P.navigationBehaviorOptions=T,P}function Or(E,w,m){const T=new Error("NavigationCancelingError: "+(E||""));return T[mo]=!0,T.cancellationCode=w,m&&(T.url=m),T}function yo(E){return Ko(E)&&xr(E.url)}function Ko(E){return E&&E[mo]}class Bi{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Jr,this.attachRef=null}}let Jr=(()=>{class E{constructor(){this.contexts=new Map}onChildOutletCreated(m,T){const P=this.getOrCreateContext(m);P.outlet=T,this.contexts.set(m,P)}onChildOutletDestroyed(m){const T=this.getContext(m);T&&(T.outlet=null,T.attachRef=null)}onOutletDeactivated(){const m=this.contexts;return this.contexts=new Map,m}onOutletReAttached(m){this.contexts=m}getOrCreateContext(m){let T=this.getContext(m);return T||(T=new Bi,this.contexts.set(m,T)),T}getContext(m){return this.contexts.get(m)||null}}return E.\u0275fac=function(m){return new(m||E)},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const Mi=!1;let fs=(()=>{class E{constructor(m,T,P,K,fe){this.parentContexts=m,this.location=T,this.changeDetector=K,this.environmentInjector=fe,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=P||tn,m.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const m=this.parentContexts.getContext(this.name);m&&m.route&&(m.attachRef?this.attach(m.attachRef,m.route):this.activateWith(m.route,m.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,Mi);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,Mi);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,Mi);this.location.detach();const m=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(m.instance),m}attach(m,T){this.activated=m,this._activatedRoute=T,this.location.insert(m.hostView),this.attachEvents.emit(m.instance)}deactivate(){if(this.activated){const m=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(m)}}activateWith(m,T){if(this.isActivated)throw new c.vHH(4013,Mi);this._activatedRoute=m;const P=this.location,fe=m._futureSnapshot.component,be=this.parentContexts.getOrCreateContext(this.name).children,wt=new ji(m,be,P.injector);if(T&&function yr(E){return!!E.resolveComponentFactory}(T)){const Xt=T.resolveComponentFactory(fe);this.activated=P.createComponent(Xt,P.length,wt)}else this.activated=P.createComponent(fe,{index:P.length,injector:wt,environmentInjector:T??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return E.\u0275fac=function(m){return new(m||E)(c.Y36(Jr),c.Y36(c.s_b),c.$8M("name"),c.Y36(c.sBO),c.Y36(c.lqb))},E.\u0275dir=c.lG2({type:E,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),E})();class ji{constructor(w,m,T){this.route=w,this.childContexts=m,this.parent=T}get(w,m){return w===Yn?this.route:w===Jr?this.childContexts:this.parent.get(w,m)}}let Ls=(()=>{class E{}return E.\u0275fac=function(m){return new(m||E)},E.\u0275cmp=c.Xpm({type:E,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(m,T){1&m&&c._UZ(0,"router-outlet")},dependencies:[fs],encapsulation:2}),E})();function ps(E,w){return E.providers&&!E._injector&&(E._injector=(0,c.MMx)(E.providers,w,`Route: ${E.path}`)),E._injector??w}function Vs(E){const w=E.children&&E.children.map(Vs),m=w?{...E,children:w}:{...E};return!m.component&&!m.loadComponent&&(w||m.loadChildren)&&m.outlet&&m.outlet!==tn&&(m.component=Ls),m}function Ur(E){return E.outlet||tn}function Ti(E,w){const m=E.filter(T=>Ur(T)===w);return m.push(...E.filter(T=>Ur(T)!==w)),m}function Us(E){if(!E)return null;if(E.routeConfig?._injector)return E.routeConfig._injector;for(let w=E.parent;w;w=w.parent){const m=w.routeConfig;if(m?._loadedInjector)return m._loadedInjector;if(m?._injector)return m._injector}return null}class Lt{constructor(w,m,T,P){this.routeReuseStrategy=w,this.futureState=m,this.currState=T,this.forwardEvent=P}activate(w){const m=this.futureState._root,T=this.currState?this.currState._root:null;this.deactivateChildRoutes(m,T,w),wi(this.futureState.root),this.activateChildRoutes(m,T,w)}deactivateChildRoutes(w,m,T){const P=Yi(m);w.children.forEach(K=>{const fe=K.value.outlet;this.deactivateRoutes(K,P[fe],T),delete P[fe]}),rt(P,(K,fe)=>{this.deactivateRouteAndItsChildren(K,T)})}deactivateRoutes(w,m,T){const P=w.value,K=m?m.value:null;if(P===K)if(P.component){const fe=T.getContext(P.outlet);fe&&this.deactivateChildRoutes(w,m,fe.children)}else this.deactivateChildRoutes(w,m,T);else K&&this.deactivateRouteAndItsChildren(m,T)}deactivateRouteAndItsChildren(w,m){w.value.component&&this.routeReuseStrategy.shouldDetach(w.value.snapshot)?this.detachAndStoreRouteSubtree(w,m):this.deactivateRouteAndOutlet(w,m)}detachAndStoreRouteSubtree(w,m){const T=m.getContext(w.value.outlet),P=T&&w.value.component?T.children:m,K=Yi(w);for(const fe of Object.keys(K))this.deactivateRouteAndItsChildren(K[fe],P);if(T&&T.outlet){const fe=T.outlet.detach(),be=T.children.onOutletDeactivated();this.routeReuseStrategy.store(w.value.snapshot,{componentRef:fe,route:w,contexts:be})}}deactivateRouteAndOutlet(w,m){const T=m.getContext(w.value.outlet),P=T&&w.value.component?T.children:m,K=Yi(w);for(const fe of Object.keys(K))this.deactivateRouteAndItsChildren(K[fe],P);T&&T.outlet&&(T.outlet.deactivate(),T.children.onOutletDeactivated(),T.attachRef=null,T.resolver=null,T.route=null)}activateChildRoutes(w,m,T){const P=Yi(m);w.children.forEach(K=>{this.activateRoutes(K,P[K.value.outlet],T),this.forwardEvent(new Ks(K.value.snapshot))}),w.children.length&&this.forwardEvent(new qi(w.value.snapshot))}activateRoutes(w,m,T){const P=w.value,K=m?m.value:null;if(wi(P),P===K)if(P.component){const fe=T.getOrCreateContext(P.outlet);this.activateChildRoutes(w,m,fe.children)}else this.activateChildRoutes(w,m,T);else if(P.component){const fe=T.getOrCreateContext(P.outlet);if(this.routeReuseStrategy.shouldAttach(P.snapshot)){const be=this.routeReuseStrategy.retrieve(P.snapshot);this.routeReuseStrategy.store(P.snapshot,null),fe.children.onOutletReAttached(be.contexts),fe.attachRef=be.componentRef,fe.route=be.route.value,fe.outlet&&fe.outlet.attach(be.componentRef,be.route.value),wi(be.route.value),this.activateChildRoutes(w,null,fe.children)}else{const be=Us(P.snapshot),wt=be?.get(c._Vd)??null;fe.attachRef=null,fe.route=P,fe.resolver=wt,fe.injector=be,fe.outlet&&fe.outlet.activateWith(P,fe.injector),this.activateChildRoutes(w,null,fe.children)}}else this.activateChildRoutes(w,null,T)}}class er{constructor(w){this.path=w,this.route=this.path[this.path.length-1]}}class Fo{constructor(w,m){this.component=w,this.route=m}}function ms(E,w,m){const T=E._root;return bs(T,w?w._root:null,m,[T.value])}function Ji(E,w){const m=Symbol(),T=w.get(E,m);return T===m?"function"!=typeof E||(0,c.Z0I)(E)?w.get(E):E:T}function bs(E,w,m,T,P={canDeactivateChecks:[],canActivateChecks:[]}){const K=Yi(w);return E.children.forEach(fe=>{(function ai(E,w,m,T,P={canDeactivateChecks:[],canActivateChecks:[]}){const K=E.value,fe=w?w.value:null,be=m?m.getContext(E.value.outlet):null;if(fe&&K.routeConfig===fe.routeConfig){const wt=function Ii(E,w,m){if("function"==typeof m)return m(E,w);switch(m){case"pathParamsChange":return!te(E.url,w.url);case"pathParamsOrQueryParamsChange":return!te(E.url,w.url)||!xn(E.queryParams,w.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ss(E,w)||!xn(E.queryParams,w.queryParams);default:return!ss(E,w)}}(fe,K,K.routeConfig.runGuardsAndResolvers);wt?P.canActivateChecks.push(new er(T)):(K.data=fe.data,K._resolvedData=fe._resolvedData),bs(E,w,K.component?be?be.children:null:m,T,P),wt&&be&&be.outlet&&be.outlet.isActivated&&P.canDeactivateChecks.push(new Fo(be.outlet.component,fe))}else fe&&Zr(w,be,P),P.canActivateChecks.push(new er(T)),bs(E,null,K.component?be?be.children:null:m,T,P)})(fe,K[fe.value.outlet],m,T.concat([fe.value]),P),delete K[fe.value.outlet]}),rt(K,(fe,be)=>Zr(fe,m.getContext(be),P)),P}function Zr(E,w,m){const T=Yi(E),P=E.value;rt(T,(K,fe)=>{Zr(K,P.component?w?w.children.getContext(fe):null:w,m)}),m.canDeactivateChecks.push(new Fo(P.component&&w&&w.outlet&&w.outlet.isActivated?w.outlet.component:null,P))}function _o(E){return"function"==typeof E}function xi(E){return E instanceof Ve.K||"EmptyError"===E?.name}const Ni=Symbol("INITIAL_VALUE");function Di(){return(0,Ke.w)(E=>nt(E.map(w=>w.pipe((0,Tt.q)(1),(0,Rt.O)(Ni)))).pipe((0,$e.U)(w=>{for(const m of w)if(!0!==m){if(m===Ni)return Ni;if(!1===m||m instanceof De)return m}return!0}),(0,kt.h)(w=>w!==Ni),(0,Tt.q)(1)))}function bo(E){return(0,ae.z)((0,sn.b)(w=>{if(xr(w))throw Po(0,w)}),(0,$e.U)(w=>!0===w))}const S={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function G(E,w,m,T,P){const K=N(E,w,m);return K.matched?function Da(E,w,m,T){const P=w.canMatch;if(!P||0===P.length)return(0,H.of)(!0);const K=P.map(fe=>{const be=Ji(fe,E);return we(function gt(E){return E&&_o(E.canMatch)}(be)?be.canMatch(w,m):E.runInContext(()=>be(w,m)))});return(0,H.of)(K).pipe(Di(),bo())}(T=ps(w,T),w,m).pipe((0,$e.U)(fe=>!0===fe?K:{...S})):(0,H.of)(K)}function N(E,w,m){if(""===w.path)return"full"===w.pathMatch&&(E.hasChildren()||m.length>0)?{...S}:{matched:!0,consumedSegments:[],remainingSegments:m,parameters:{},positionalParamSegments:{}};const P=(w.matcher||jt)(m,E,w);if(!P)return{...S};const K={};rt(P.posParams,(be,wt)=>{K[wt]=be.path});const fe=P.consumed.length>0?{...K,...P.consumed[P.consumed.length-1].parameters}:K;return{matched:!0,consumedSegments:P.consumed,remainingSegments:m.slice(P.consumed.length),parameters:fe,positionalParamSegments:P.posParams??{}}}function Z(E,w,m,T,P="corrected"){if(m.length>0&&function It(E,w,m){return m.some(T=>wr(E,w,T)&&Ur(T)!==tn)}(E,m,T)){const fe=new oe(w,function yt(E,w,m,T){const P={};P[tn]=T,T._sourceSegment=E,T._segmentIndexShift=w.length;for(const K of m)if(""===K.path&&Ur(K)!==tn){const fe=new oe([],{});fe._sourceSegment=E,fe._segmentIndexShift=w.length,P[Ur(K)]=fe}return P}(E,w,T,new oe(m,E.children)));return fe._sourceSegment=E,fe._segmentIndexShift=w.length,{segmentGroup:fe,slicedSegments:[]}}if(0===m.length&&function Tn(E,w,m){return m.some(T=>wr(E,w,T))}(E,m,T)){const fe=new oe(E.segments,function Ie(E,w,m,T,P,K){const fe={};for(const be of T)if(wr(E,m,be)&&!P[Ur(be)]){const wt=new oe([],{});wt._sourceSegment=E,wt._segmentIndexShift="legacy"===K?E.segments.length:w.length,fe[Ur(be)]=wt}return{...P,...fe}}(E,w,m,T,E.children,P));return fe._sourceSegment=E,fe._segmentIndexShift=w.length,{segmentGroup:fe,slicedSegments:m}}const K=new oe(E.segments,E.children);return K._sourceSegment=E,K._segmentIndexShift=w.length,{segmentGroup:K,slicedSegments:m}}function wr(E,w,m){return(!(E.hasChildren()||w.length>0)||"full"!==m.pathMatch)&&""===m.path}function Tr(E,w,m,T){return!!(Ur(E)===T||T!==tn&&wr(w,m,E))&&("**"===E.path||N(w,E,m).matched)}function Sr(E,w,m){return 0===w.length&&!E.children[m]}const hr=!1;class ui{constructor(w){this.segmentGroup=w||null}}class Vr{constructor(w){this.urlTree=w}}function $(E){return Xe(new ui(E))}function v(E){return Xe(new Vr(E))}class ne{constructor(w,m,T,P,K){this.injector=w,this.configLoader=m,this.urlSerializer=T,this.urlTree=P,this.config=K,this.allowRedirects=!0}apply(){const w=Z(this.urlTree.root,[],[],this.config).segmentGroup,m=new oe(w.segments,w.children);return this.expandSegmentGroup(this.injector,this.config,m,tn).pipe((0,$e.U)(K=>this.createUrlTree(pn(K),this.urlTree.queryParams,this.urlTree.fragment))).pipe(dn(K=>{if(K instanceof Vr)return this.allowRedirects=!1,this.match(K.urlTree);throw K instanceof ui?this.noMatchError(K):K}))}match(w){return this.expandSegmentGroup(this.injector,this.config,w.root,tn).pipe((0,$e.U)(P=>this.createUrlTree(pn(P),w.queryParams,w.fragment))).pipe(dn(P=>{throw P instanceof ui?this.noMatchError(P):P}))}noMatchError(w){return new c.vHH(4002,hr)}createUrlTree(w,m,T){const P=Cr(w);return new De(P,m,T)}expandSegmentGroup(w,m,T,P){return 0===T.segments.length&&T.hasChildren()?this.expandChildren(w,m,T).pipe((0,$e.U)(K=>new oe([],K))):this.expandSegment(w,T,m,T.segments,P,!0)}expandChildren(w,m,T){const P=[];for(const K of Object.keys(T.children))"primary"===K?P.unshift(K):P.push(K);return(0,k.D)(P).pipe((0,Ct.b)(K=>{const fe=T.children[K],be=Ti(m,K);return this.expandSegmentGroup(w,be,fe,K).pipe((0,$e.U)(wt=>({segment:wt,outlet:K})))}),(0,st.R)((K,fe)=>(K[fe.outlet]=fe.segment,K),{}),Zt())}expandSegment(w,m,T,P,K,fe){return(0,k.D)(T).pipe((0,Ct.b)(be=>this.expandSegmentAgainstRoute(w,m,T,be,P,K,fe).pipe(dn(Xt=>{if(Xt instanceof ui)return(0,H.of)(null);throw Xt}))),(0,an.P)(be=>!!be),dn((be,wt)=>{if(xi(be))return Sr(m,P,K)?(0,H.of)(new oe([],{})):$(m);throw be}))}expandSegmentAgainstRoute(w,m,T,P,K,fe,be){return Tr(P,m,K,fe)?void 0===P.redirectTo?this.matchSegmentAgainstRoute(w,m,P,K,fe):be&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(w,m,T,P,K,fe):$(m):$(m)}expandSegmentAgainstRouteUsingRedirect(w,m,T,P,K,fe){return"**"===P.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(w,T,P,fe):this.expandRegularSegmentAgainstRouteUsingRedirect(w,m,T,P,K,fe)}expandWildCardWithParamsAgainstRouteUsingRedirect(w,m,T,P){const K=this.applyRedirectCommands([],T.redirectTo,{});return T.redirectTo.startsWith("/")?v(K):this.lineralizeSegments(T,K).pipe((0,Yt.z)(fe=>{const be=new oe(fe,{});return this.expandSegment(w,be,m,fe,P,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(w,m,T,P,K,fe){const{matched:be,consumedSegments:wt,remainingSegments:Xt,positionalParamSegments:qn}=N(m,P,K);if(!be)return $(m);const mn=this.applyRedirectCommands(wt,P.redirectTo,qn);return P.redirectTo.startsWith("/")?v(mn):this.lineralizeSegments(P,mn).pipe((0,Yt.z)(_r=>this.expandSegment(w,m,T,_r.concat(Xt),fe,!1)))}matchSegmentAgainstRoute(w,m,T,P,K){return"**"===T.path?(w=ps(T,w),T.loadChildren?(T._loadedRoutes?(0,H.of)({routes:T._loadedRoutes,injector:T._loadedInjector}):this.configLoader.loadChildren(w,T)).pipe((0,$e.U)(be=>(T._loadedRoutes=be.routes,T._loadedInjector=be.injector,new oe(P,{})))):(0,H.of)(new oe(P,{}))):G(m,T,P,w).pipe((0,Ke.w)(({matched:fe,consumedSegments:be,remainingSegments:wt})=>fe?this.getChildConfig(w=T._injector??w,T,P).pipe((0,Yt.z)(qn=>{const mn=qn.injector??w,_r=qn.routes,{segmentGroup:ts,slicedSegments:os}=Z(m,be,wt,_r),Xs=new oe(ts.segments,ts.children);if(0===os.length&&Xs.hasChildren())return this.expandChildren(mn,_r,Xs).pipe((0,$e.U)(Ca=>new oe(be,Ca)));if(0===_r.length&&0===os.length)return(0,H.of)(new oe(be,{}));const Fi=Ur(T)===K;return this.expandSegment(mn,Xs,_r,os,Fi?tn:K,!0).pipe((0,$e.U)(eo=>new oe(be.concat(eo.segments),eo.children)))})):$(m)))}getChildConfig(w,m,T){return m.children?(0,H.of)({routes:m.children,injector:w}):m.loadChildren?void 0!==m._loadedRoutes?(0,H.of)({routes:m._loadedRoutes,injector:m._loadedInjector}):function Co(E,w,m,T){const P=w.canLoad;if(void 0===P||0===P.length)return(0,H.of)(!0);const K=P.map(fe=>{const be=Ji(fe,E);return we(function L(E){return E&&_o(E.canLoad)}(be)?be.canLoad(w,m):E.runInContext(()=>be(w,m)))});return(0,H.of)(K).pipe(Di(),bo())}(w,m,T).pipe((0,Yt.z)(P=>P?this.configLoader.loadChildren(w,m).pipe((0,sn.b)(K=>{m._loadedRoutes=K.routes,m._loadedInjector=K.injector})):function R(E){return Xe(Or(hr,3))}())):(0,H.of)({routes:[],injector:w})}lineralizeSegments(w,m){let T=[],P=m.root;for(;;){if(T=T.concat(P.segments),0===P.numberOfChildren)return(0,H.of)(T);if(P.numberOfChildren>1||!P.children[tn])return Xe(new c.vHH(4e3,hr));P=P.children[tn]}}applyRedirectCommands(w,m,T){return this.applyRedirectCreateUrlTree(m,this.urlSerializer.parse(m),w,T)}applyRedirectCreateUrlTree(w,m,T,P){const K=this.createSegmentGroup(w,m.root,T,P);return new De(K,this.createQueryParams(m.queryParams,this.urlTree.queryParams),m.fragment)}createQueryParams(w,m){const T={};return rt(w,(P,K)=>{if("string"==typeof P&&P.startsWith(":")){const be=P.substring(1);T[K]=m[be]}else T[K]=P}),T}createSegmentGroup(w,m,T,P){const K=this.createSegments(w,m.segments,T,P);let fe={};return rt(m.children,(be,wt)=>{fe[wt]=this.createSegmentGroup(w,be,T,P)}),new oe(K,fe)}createSegments(w,m,T,P){return m.map(K=>K.path.startsWith(":")?this.findPosParam(w,K,P):this.findOrReturn(K,T))}findPosParam(w,m,T){const P=T[m.path.substring(1)];if(!P)throw new c.vHH(4001,hr);return P}findOrReturn(w,m){let T=0;for(const P of m){if(P.path===w.path)return m.splice(T),P;T++}return w}}class _e{}class Sn{constructor(w,m,T,P,K,fe,be,wt){this.injector=w,this.rootComponentType=m,this.config=T,this.urlTree=P,this.url=K,this.paramsInheritanceStrategy=fe,this.relativeLinkResolution=be,this.urlSerializer=wt}recognize(){const w=Z(this.urlTree.root,[],[],this.config.filter(m=>void 0===m.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,w,tn).pipe((0,$e.U)(m=>{if(null===m)return null;const T=new Qi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},tn,this.rootComponentType,null,this.urlTree.root,-1,{}),P=new Kr(T,m),K=new go(this.url,P);return this.inheritParamsAndData(K._root),K}))}inheritParamsAndData(w){const m=w.value,T=hs(m,this.paramsInheritanceStrategy);m.params=Object.freeze(T.params),m.data=Object.freeze(T.data),w.children.forEach(P=>this.inheritParamsAndData(P))}processSegmentGroup(w,m,T,P){return 0===T.segments.length&&T.hasChildren()?this.processChildren(w,m,T):this.processSegment(w,m,T,T.segments,P)}processChildren(w,m,T){return(0,k.D)(Object.keys(T.children)).pipe((0,Ct.b)(P=>{const K=T.children[P],fe=Ti(m,P);return this.processSegmentGroup(w,fe,K,P)}),(0,st.R)((P,K)=>P&&K?(P.push(...K),P):null),function yn(E,w=!1){return(0,We.e)((m,T)=>{let P=0;m.subscribe((0,vt.x)(T,K=>{const fe=E(K,P++);(fe||w)&&T.next(K),!fe&&T.complete()}))})}(P=>null!==P),(0,qe.d)(null),Zt(),(0,$e.U)(P=>{if(null===P)return null;const K=At(P);return function zt(E){E.sort((w,m)=>w.value.outlet===tn?-1:m.value.outlet===tn?1:w.value.outlet.localeCompare(m.value.outlet))}(K),K}))}processSegment(w,m,T,P,K){return(0,k.D)(m).pipe((0,Ct.b)(fe=>this.processSegmentAgainstRoute(fe._injector??w,fe,T,P,K)),(0,an.P)(fe=>!!fe),dn(fe=>{if(xi(fe))return Sr(T,P,K)?(0,H.of)([]):(0,H.of)(null);throw fe}))}processSegmentAgainstRoute(w,m,T,P,K){if(m.redirectTo||!Tr(m,T,P,K))return(0,H.of)(null);let fe;if("**"===m.path){const be=P.length>0?si(P).parameters:{},wt=fr(T)+P.length,Xt=new Qi(P,be,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Oi(m),Ur(m),m.component??m._loadedComponent??null,m,St(T),wt,ei(m),wt);fe=(0,H.of)({snapshot:Xt,consumedSegments:[],remainingSegments:[]})}else fe=G(T,m,P,w).pipe((0,$e.U)(({matched:be,consumedSegments:wt,remainingSegments:Xt,parameters:qn})=>{if(!be)return null;const mn=fr(T)+wt.length;return{snapshot:new Qi(wt,qn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Oi(m),Ur(m),m.component??m._loadedComponent??null,m,St(T),mn,ei(m),mn),consumedSegments:wt,remainingSegments:Xt}}));return fe.pipe((0,Ke.w)(be=>{if(null===be)return(0,H.of)(null);const{snapshot:wt,consumedSegments:Xt,remainingSegments:qn}=be;w=m._injector??w;const mn=m._loadedInjector??w,_r=function en(E){return E.children?E.children:E.loadChildren?E._loadedRoutes:[]}(m),{segmentGroup:ts,slicedSegments:os}=Z(T,Xt,qn,_r.filter(Fi=>void 0===Fi.redirectTo),this.relativeLinkResolution);if(0===os.length&&ts.hasChildren())return this.processChildren(mn,_r,ts).pipe((0,$e.U)(Fi=>null===Fi?null:[new Kr(wt,Fi)]));if(0===_r.length&&0===os.length)return(0,H.of)([new Kr(wt,[])]);const Xs=Ur(m)===K;return this.processSegment(mn,_r,ts,os,Xs?tn:K).pipe((0,$e.U)(Fi=>null===Fi?null:[new Kr(wt,Fi)]))}))}}function Hn(E){const w=E.value.routeConfig;return w&&""===w.path&&void 0===w.redirectTo}function At(E){const w=[],m=new Set;for(const T of E){if(!Hn(T)){w.push(T);continue}const P=w.find(K=>T.value.routeConfig===K.value.routeConfig);void 0!==P?(P.children.push(...T.children),m.add(P)):w.push(T)}for(const T of m){const P=At(T.children);w.push(new Kr(T.value,P))}return w.filter(T=>!m.has(T))}function St(E){let w=E;for(;w._sourceSegment;)w=w._sourceSegment;return w}function fr(E){let w=E,m=w._segmentIndexShift??0;for(;w._sourceSegment;)w=w._sourceSegment,m+=w._segmentIndexShift??0;return m-1}function Oi(E){return E.data||{}}function ei(E){return E.resolve||{}}function Wr(E){return"string"==typeof E.title||null===E.title}function uo(E){return(0,Ke.w)(w=>{const m=E(w);return m?(0,k.D)(m).pipe((0,$e.U)(()=>w)):(0,H.of)(w)})}let Rn=(()=>{class E{buildTitle(m){let T,P=m.root;for(;void 0!==P;)T=this.getResolvedTitleForRoute(P)??T,P=P.children.find(K=>K.outlet===tn);return T}getResolvedTitleForRoute(m){return m.data[On]}}return E.\u0275fac=function(m){return new(m||E)},E.\u0275prov=c.Yz7({token:E,factory:function(){return(0,c.f3M)(So)},providedIn:"root"}),E})(),So=(()=>{class E extends Rn{constructor(m){super(),this.title=m}updateTitle(m){const T=this.buildTitle(m);void 0!==T&&this.title.setTitle(T)}}return E.\u0275fac=function(m){return new(m||E)(c.LFG(rr.Dx))},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();class cn{}class or extends class Kt{shouldDetach(w){return!1}store(w,m){}shouldAttach(w){return!1}retrieve(w){return null}shouldReuseRoute(w,m){return w.routeConfig===m.routeConfig}}{}const Xi=new c.OlP("",{providedIn:"root",factory:()=>({})}),Qt=new c.OlP("ROUTES");let Ar=(()=>{class E{constructor(m,T){this.injector=m,this.compiler=T,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(m){if(this.componentLoaders.get(m))return this.componentLoaders.get(m);if(m._loadedComponent)return(0,H.of)(m._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(m);const T=we(m.loadComponent()).pipe((0,sn.b)(K=>{this.onLoadEndListener&&this.onLoadEndListener(m),m._loadedComponent=K}),Un(()=>{this.componentLoaders.delete(m)})),P=new xe(T,()=>new Te.x).pipe(Je());return this.componentLoaders.set(m,P),P}loadChildren(m,T){if(this.childrenLoaders.get(T))return this.childrenLoaders.get(T);if(T._loadedRoutes)return(0,H.of)({routes:T._loadedRoutes,injector:T._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(T);const K=this.loadModuleFactoryOrRoutes(T.loadChildren).pipe((0,$e.U)(be=>{this.onLoadEndListener&&this.onLoadEndListener(T);let wt,Xt,qn=!1;Array.isArray(be)?Xt=be:(wt=be.create(m).injector,Xt=Er(wt.get(Qt,[],c.XFs.Self|c.XFs.Optional)));return{routes:Xt.map(Vs),injector:wt}}),Un(()=>{this.childrenLoaders.delete(T)})),fe=new xe(K,()=>new Te.x).pipe(Je());return this.childrenLoaders.set(T,fe),fe}loadModuleFactoryOrRoutes(m){return we(m()).pipe((0,Yt.z)(T=>T instanceof c.YKP||Array.isArray(T)?(0,H.of)(T):(0,k.D)(this.compiler.compileModuleAsync(T))))}}return E.\u0275fac=function(m){return new(m||E)(c.LFG(c.zs3),c.LFG(c.Sil))},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();class ca{}class Ys{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,m){return w}}function Pi(E){throw E}function js(E,w,m){return w.parse("/")}const Ss={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Lo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function As(){const E=(0,c.f3M)(ee),w=(0,c.f3M)(Jr),m=(0,c.f3M)(Le.Ye),T=(0,c.f3M)(c.zs3),P=(0,c.f3M)(c.Sil),K=(0,c.f3M)(Qt,{optional:!0})??[],fe=(0,c.f3M)(Xi,{optional:!0})??{},be=(0,c.f3M)(So),wt=(0,c.f3M)(Rn,{optional:!0}),Xt=(0,c.f3M)(ca,{optional:!0}),qn=(0,c.f3M)(cn,{optional:!0}),mn=new ki(null,E,w,m,T,P,Er(K));return Xt&&(mn.urlHandlingStrategy=Xt),qn&&(mn.routeReuseStrategy=qn),mn.titleStrategy=wt??be,function na(E,w){E.errorHandler&&(w.errorHandler=E.errorHandler),E.malformedUriErrorHandler&&(w.malformedUriErrorHandler=E.malformedUriErrorHandler),E.onSameUrlNavigation&&(w.onSameUrlNavigation=E.onSameUrlNavigation),E.paramsInheritanceStrategy&&(w.paramsInheritanceStrategy=E.paramsInheritanceStrategy),E.relativeLinkResolution&&(w.relativeLinkResolution=E.relativeLinkResolution),E.urlUpdateStrategy&&(w.urlUpdateStrategy=E.urlUpdateStrategy),E.canceledNavigationResolution&&(w.canceledNavigationResolution=E.canceledNavigationResolution)}(fe,mn),mn}let ki=(()=>{class E{constructor(m,T,P,K,fe,be,wt){this.rootComponentType=m,this.urlSerializer=T,this.rootContexts=P,this.location=K,this.config=wt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Te.x,this.errorHandler=Pi,this.malformedUriErrorHandler=js,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,H.of)(void 0),this.urlHandlingStrategy=new Ys,this.routeReuseStrategy=new or,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=fe.get(Ar),this.configLoader.onLoadEndListener=_r=>this.triggerEvent(new Wo(_r)),this.configLoader.onLoadStartListener=_r=>this.triggerEvent(new Os(_r)),this.ngModule=fe.get(c.h0i),this.console=fe.get(c.c2e);const mn=fe.get(c.R0b);this.isNgZoneEnabled=mn instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(wt),this.currentUrlTree=function lt(){return new De(new oe([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=qr(this.currentUrlTree,this.rootComponentType),this.transitions=new ve({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(m){const T=this.events;return m.pipe((0,kt.h)(P=>0!==P.id),(0,$e.U)(P=>({...P,extractedUrl:this.urlHandlingStrategy.extract(P.rawUrl)})),(0,Ke.w)(P=>{let K=!1,fe=!1;return(0,H.of)(P).pipe((0,sn.b)(be=>{this.currentNavigation={id:be.id,initialUrl:be.rawUrl,extractedUrl:be.extractedUrl,trigger:be.source,extras:be.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ke.w)(be=>{const wt=this.browserUrlTree.toString(),Xt=!this.navigated||be.extractedUrl.toString()!==wt||wt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Xt)&&this.urlHandlingStrategy.shouldProcessUrl(be.rawUrl))return nu(be.source)&&(this.browserUrlTree=be.extractedUrl),(0,H.of)(be).pipe((0,Ke.w)(mn=>{const _r=this.transitions.getValue();return T.next(new Ki(mn.id,this.serializeUrl(mn.extractedUrl),mn.source,mn.restoredState)),_r!==this.transitions.getValue()?Nt.E:Promise.resolve(mn)}),function Se(E,w,m,T){return(0,Ke.w)(P=>function W(E,w,m,T,P){return new ne(E,w,m,T,P).apply()}(E,w,m,P.extractedUrl,T).pipe((0,$e.U)(K=>({...P,urlAfterRedirects:K}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,sn.b)(mn=>{this.currentNavigation={...this.currentNavigation,finalUrl:mn.urlAfterRedirects},P.urlAfterRedirects=mn.urlAfterRedirects}),function To(E,w,m,T,P,K){return(0,Yt.z)(fe=>function ln(E,w,m,T,P,K,fe="emptyOnly",be="legacy"){return new Sn(E,w,m,T,P,fe,be,K).recognize().pipe((0,Ke.w)(wt=>null===wt?function ct(E){return new Pe.y(w=>w.error(E))}(new _e):(0,H.of)(wt)))}(E,w,m,fe.urlAfterRedirects,T.serialize(fe.urlAfterRedirects),T,P,K).pipe((0,$e.U)(be=>({...fe,targetSnapshot:be}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,sn.b)(mn=>{if(P.targetSnapshot=mn.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!mn.extras.skipLocationChange){const ts=this.urlHandlingStrategy.merge(mn.urlAfterRedirects,mn.rawUrl);this.setBrowserUrl(ts,mn)}this.browserUrlTree=mn.urlAfterRedirects}const _r=new Is(mn.id,this.serializeUrl(mn.extractedUrl),this.serializeUrl(mn.urlAfterRedirects),mn.targetSnapshot);T.next(_r)}));if(Xt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:_r,extractedUrl:ts,source:os,restoredState:Xs,extras:Fi}=be,bu=new Ki(_r,this.serializeUrl(ts),os,Xs);T.next(bu);const eo=qr(ts,this.rootComponentType).snapshot;return P={...be,targetSnapshot:eo,urlAfterRedirects:ts,extras:{...Fi,skipLocationChange:!1,replaceUrl:!1}},(0,H.of)(P)}return this.rawUrlTree=be.rawUrl,be.resolve(null),Nt.E}),(0,sn.b)(be=>{const wt=new Vi(be.id,this.serializeUrl(be.extractedUrl),this.serializeUrl(be.urlAfterRedirects),be.targetSnapshot);this.triggerEvent(wt)}),(0,$e.U)(be=>P={...be,guards:ms(be.targetSnapshot,be.currentSnapshot,this.rootContexts)}),function wo(E,w){return(0,Yt.z)(m=>{const{targetSnapshot:T,currentSnapshot:P,guards:{canActivateChecks:K,canDeactivateChecks:fe}}=m;return 0===fe.length&&0===K.length?(0,H.of)({...m,guardsResult:!0}):function Ts(E,w,m,T){return(0,k.D)(E).pipe((0,Yt.z)(P=>function ao(E,w,m,T,P){const K=w&&w.routeConfig?w.routeConfig.canDeactivate:null;if(!K||0===K.length)return(0,H.of)(!0);const fe=K.map(be=>{const wt=Us(w)??P,Xt=Ji(be,wt);return we(function Q(E){return E&&_o(E.canDeactivate)}(Xt)?Xt.canDeactivate(E,w,m,T):wt.runInContext(()=>Xt(E,w,m,T))).pipe((0,an.P)())});return(0,H.of)(fe).pipe(Di())}(P.component,P.route,m,w,T)),(0,an.P)(P=>!0!==P,!0))}(fe,T,P,E).pipe((0,Yt.z)(be=>be&&function Eo(E){return"boolean"==typeof E}(be)?function Io(E,w,m,T){return(0,k.D)(w).pipe((0,Ct.b)(P=>(0,He.z)(function Do(E,w){return null!==E&&w&&w(new Ps(E)),(0,H.of)(!0)}(P.route.parent,T),function oo(E,w){return null!==E&&w&&w(new ks(E)),(0,H.of)(!0)}(P.route,T),function la(E,w,m){const T=w[w.length-1],K=w.slice(0,w.length-1).reverse().map(fe=>function Xr(E){const w=E.routeConfig?E.routeConfig.canActivateChild:null;return w&&0!==w.length?{node:E,guards:w}:null}(fe)).filter(fe=>null!==fe).map(fe=>ft(()=>{const be=fe.guards.map(wt=>{const Xt=Us(fe.node)??m,qn=Ji(wt,Xt);return we(function A(E){return E&&_o(E.canActivateChild)}(qn)?qn.canActivateChild(T,E):Xt.runInContext(()=>qn(T,E))).pipe((0,an.P)())});return(0,H.of)(be).pipe(Di())}));return(0,H.of)(K).pipe(Di())}(E,P.path,m),function qs(E,w,m){const T=w.routeConfig?w.routeConfig.canActivate:null;if(!T||0===T.length)return(0,H.of)(!0);const P=T.map(K=>ft(()=>{const fe=Us(w)??m,be=Ji(K,fe);return we(function O(E){return E&&_o(E.canActivate)}(be)?be.canActivate(w,E):fe.runInContext(()=>be(w,E))).pipe((0,an.P)())}));return(0,H.of)(P).pipe(Di())}(E,P.route,m))),(0,an.P)(P=>!0!==P,!0))}(T,K,E,w):(0,H.of)(be)),(0,$e.U)(be=>({...m,guardsResult:be})))})}(this.ngModule.injector,be=>this.triggerEvent(be)),(0,sn.b)(be=>{if(P.guardsResult=be.guardsResult,xr(be.guardsResult))throw Po(0,be.guardsResult);const wt=new No(be.id,this.serializeUrl(be.extractedUrl),this.serializeUrl(be.urlAfterRedirects),be.targetSnapshot,!!be.guardsResult);this.triggerEvent(wt)}),(0,kt.h)(be=>!!be.guardsResult||(this.restoreHistory(be),this.cancelNavigationTransition(be,"",3),!1)),uo(be=>{if(be.guards.canActivateChecks.length)return(0,H.of)(be).pipe((0,sn.b)(wt=>{const Xt=new rs(wt.id,this.serializeUrl(wt.extractedUrl),this.serializeUrl(wt.urlAfterRedirects),wt.targetSnapshot);this.triggerEvent(Xt)}),(0,Ke.w)(wt=>{let Xt=!1;return(0,H.of)(wt).pipe(function hi(E,w){return(0,Yt.z)(m=>{const{targetSnapshot:T,guards:{canActivateChecks:P}}=m;if(!P.length)return(0,H.of)(m);let K=0;return(0,k.D)(P).pipe((0,Ct.b)(fe=>function Zs(E,w,m,T){const P=E.routeConfig,K=E._resolve;return void 0!==P?.title&&!Wr(P)&&(K[On]=P.title),function ys(E,w,m,T){const P=function Bs(E){return[...Object.keys(E),...Object.getOwnPropertySymbols(E)]}(E);if(0===P.length)return(0,H.of)({});const K={};return(0,k.D)(P).pipe((0,Yt.z)(fe=>function $a(E,w,m,T){const P=Us(w)??T,K=Ji(E,P);return we(K.resolve?K.resolve(w,m):P.runInContext(()=>K(w,m)))}(E[fe],w,m,T).pipe((0,an.P)(),(0,sn.b)(be=>{K[fe]=be}))),Dt(1),function Wn(E){return(0,$e.U)(()=>E)}(K),dn(fe=>xi(fe)?Nt.E:Xe(fe)))}(K,E,w,T).pipe((0,$e.U)(fe=>(E._resolvedData=fe,E.data=hs(E,m).resolve,P&&Wr(P)&&(E.data[On]=P.title),null)))}(fe.route,T,E,w)),(0,sn.b)(()=>K++),Dt(1),(0,Yt.z)(fe=>K===P.length?(0,H.of)(m):Nt.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,sn.b)({next:()=>Xt=!0,complete:()=>{Xt||(this.restoreHistory(wt),this.cancelNavigationTransition(wt,"",2))}}))}),(0,sn.b)(wt=>{const Xt=new ua(wt.id,this.serializeUrl(wt.extractedUrl),this.serializeUrl(wt.urlAfterRedirects),wt.targetSnapshot);this.triggerEvent(Xt)}))}),uo(be=>{const wt=Xt=>{const qn=[];Xt.routeConfig?.loadComponent&&!Xt.routeConfig._loadedComponent&&qn.push(this.configLoader.loadComponent(Xt.routeConfig).pipe((0,sn.b)(mn=>{Xt.component=mn}),(0,$e.U)(()=>{})));for(const mn of Xt.children)qn.push(...wt(mn));return qn};return nt(wt(be.targetSnapshot.root)).pipe((0,qe.d)(),(0,Tt.q)(1))}),uo(()=>this.afterPreactivation()),(0,$e.U)(be=>{const wt=function Ui(E,w,m){const T=fi(E,w._root,m?m._root:void 0);return new Ds(T,w)}(this.routeReuseStrategy,be.targetSnapshot,be.currentRouterState);return P={...be,targetRouterState:wt}}),(0,sn.b)(be=>{this.currentUrlTree=be.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(be.urlAfterRedirects,be.rawUrl),this.routerState=be.targetRouterState,"deferred"===this.urlUpdateStrategy&&(be.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,be),this.browserUrlTree=be.urlAfterRedirects)}),((E,w,m)=>(0,$e.U)(T=>(new Lt(w,T.targetRouterState,T.currentRouterState,m).activate(E),T)))(this.rootContexts,this.routeReuseStrategy,be=>this.triggerEvent(be)),(0,sn.b)({next(){K=!0},complete(){K=!0}}),Un(()=>{K||fe||this.cancelNavigationTransition(P,"",1),this.currentNavigation?.id===P.id&&(this.currentNavigation=null)}),dn(be=>{if(fe=!0,Ko(be)){yo(be)||(this.navigated=!0,this.restoreHistory(P,!0));const wt=new Ai(P.id,this.serializeUrl(P.extractedUrl),be.message,be.cancellationCode);if(T.next(wt),yo(be)){const Xt=this.urlHandlingStrategy.merge(be.url,this.rawUrlTree),qn={skipLocationChange:P.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||nu(P.source)};this.scheduleNavigation(Xt,"imperative",null,qn,{resolve:P.resolve,reject:P.reject,promise:P.promise})}else P.resolve(!1)}else{this.restoreHistory(P,!0);const wt=new Ei(P.id,this.serializeUrl(P.extractedUrl),be,P.targetSnapshot??void 0);T.next(wt);try{P.resolve(this.errorHandler(be))}catch(Xt){P.reject(Xt)}}return Nt.E}))}))}resetRootComponentType(m){this.rootComponentType=m,this.routerState.root.component=this.rootComponentType}setTransition(m){this.transitions.next({...this.transitions.value,...m})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(m=>{const T="popstate"===m.type?"popstate":"hashchange";"popstate"===T&&setTimeout(()=>{const P={replaceUrl:!0},K=m.state?.navigationId?m.state:null;if(K){const be={...K};delete be.navigationId,delete be.\u0275routerPageId,0!==Object.keys(be).length&&(P.state=be)}const fe=this.parseUrl(m.url);this.scheduleNavigation(fe,T,K,P)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(m){this.events.next(m)}resetConfig(m){this.config=m.map(Vs),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(m,T={}){const{relativeTo:P,queryParams:K,fragment:fe,queryParamsHandling:be,preserveFragment:wt}=T,Xt=P||this.routerState.root,qn=wt?this.currentUrlTree.fragment:fe;let mn=null;switch(be){case"merge":mn={...this.currentUrlTree.queryParams,...K};break;case"preserve":mn=this.currentUrlTree.queryParams;break;default:mn=K||null}return null!==mn&&(mn=this.removeEmptyProps(mn)),Hr(Xt,this.currentUrlTree,m,mn,qn??null)}navigateByUrl(m,T={skipLocationChange:!1}){const P=xr(m)?m:this.parseUrl(m),K=this.urlHandlingStrategy.merge(P,this.rawUrlTree);return this.scheduleNavigation(K,"imperative",null,T)}navigate(m,T={skipLocationChange:!1}){return function da(E){for(let w=0;w<E.length;w++){if(null==E[w])throw new c.vHH(4008,false)}}(m),this.navigateByUrl(this.createUrlTree(m,T),T)}serializeUrl(m){return this.urlSerializer.serialize(m)}parseUrl(m){let T;try{T=this.urlSerializer.parse(m)}catch(P){T=this.malformedUriErrorHandler(P,this.urlSerializer,m)}return T}isActive(m,T){let P;if(P=!0===T?{...Ss}:!1===T?{...Lo}:T,xr(m))return An(this.currentUrlTree,m,P);const K=this.parseUrl(m);return An(this.currentUrlTree,K,P)}removeEmptyProps(m){return Object.keys(m).reduce((T,P)=>{const K=m[P];return null!=K&&(T[P]=K),T},{})}processNavigations(){this.navigations.subscribe(m=>{this.navigated=!0,this.lastSuccessfulId=m.id,this.currentPageId=m.targetPageId,this.events.next(new cs(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),m.resolve(!0)},m=>{this.console.warn(`Unhandled Navigation Error: ${m}`)})}scheduleNavigation(m,T,P,K,fe){if(this.disposed)return Promise.resolve(!1);let be,wt,Xt;fe?(be=fe.resolve,wt=fe.reject,Xt=fe.promise):Xt=new Promise((_r,ts)=>{be=_r,wt=ts});const qn=++this.navigationId;let mn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(P=this.location.getState()),mn=P&&P.\u0275routerPageId?P.\u0275routerPageId:K.replaceUrl||K.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):mn=0,this.setTransition({id:qn,targetPageId:mn,source:T,restoredState:P,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:m,extras:K,resolve:be,reject:wt,promise:Xt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Xt.catch(_r=>Promise.reject(_r))}setBrowserUrl(m,T){const P=this.urlSerializer.serialize(m),K={...T.extras.state,...this.generateNgRouterState(T.id,T.targetPageId)};this.location.isCurrentPathEqualTo(P)||T.extras.replaceUrl?this.location.replaceState(P,"",K):this.location.go(P,"",K)}restoreHistory(m,T=!1){if("computed"===this.canceledNavigationResolution){const P=this.currentPageId-m.targetPageId;"popstate"!==m.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===P?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===P&&(this.resetState(m),this.browserUrlTree=m.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(P)}else"replace"===this.canceledNavigationResolution&&(T&&this.resetState(m),this.resetUrlToCurrentUrlTree())}resetState(m){this.routerState=m.currentRouterState,this.currentUrlTree=m.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,m.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(m,T,P){const K=new Ai(m.id,this.serializeUrl(m.extractedUrl),T,P);this.triggerEvent(K),m.resolve(!1)}generateNgRouterState(m,T){return"computed"===this.canceledNavigationResolution?{navigationId:m,\u0275routerPageId:T}:{navigationId:m}}}return E.\u0275fac=function(m){c.$Z()},E.\u0275prov=c.Yz7({token:E,factory:function(){return As()},providedIn:"root"}),E})();function nu(E){return"imperative"!==E}let $s=(()=>{class E{constructor(m,T,P,K,fe){this.router=m,this.route=T,this.tabIndexAttribute=P,this.renderer=K,this.el=fe,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Te.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(m){this._preserveFragment=(0,c.D6c)(m)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(m){this._skipLocationChange=(0,c.D6c)(m)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(m){this._replaceUrl=(0,c.D6c)(m)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(m){if(null!=this.tabIndexAttribute)return;const T=this.renderer,P=this.el.nativeElement;null!==m?T.setAttribute(P,"tabindex",m):T.removeAttribute(P,"tabindex")}ngOnChanges(m){this.onChanges.next(this)}set routerLink(m){null!=m?(this.commands=Array.isArray(m)?m:[m],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return E.\u0275fac=function(m){return new(m||E)(c.Y36(ki),c.Y36(Yn),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq))},E.\u0275dir=c.lG2({type:E,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(m,T){1&m&&c.NdJ("click",function(){return T.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[c.TTD]}),E})();class Hi{}let Hs=(()=>{class E{constructor(m,T,P,K,fe){this.router=m,this.injector=P,this.preloadingStrategy=K,this.loader=fe}setUpPreloading(){this.subscription=this.router.events.pipe((0,kt.h)(m=>m instanceof cs),(0,Ct.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(m,T){const P=[];for(const K of T){K.providers&&!K._injector&&(K._injector=(0,c.MMx)(K.providers,m,`Route: ${K.path}`));const fe=K._injector??m,be=K._loadedInjector??fe;K.loadChildren&&!K._loadedRoutes&&void 0===K.canLoad||K.loadComponent&&!K._loadedComponent?P.push(this.preloadConfig(fe,K)):(K.children||K._loadedRoutes)&&P.push(this.processRoutes(be,K.children??K._loadedRoutes))}return(0,k.D)(P).pipe((0,nr.J)())}preloadConfig(m,T){return this.preloadingStrategy.preload(T,()=>{let P;P=T.loadChildren&&void 0===T.canLoad?this.loader.loadChildren(m,T):(0,H.of)(null);const K=P.pipe((0,Yt.z)(fe=>null===fe?(0,H.of)(void 0):(T._loadedRoutes=fe.routes,T._loadedInjector=fe.injector,this.processRoutes(fe.injector??m,fe.routes))));if(T.loadComponent&&!T._loadedComponent){const fe=this.loader.loadComponent(T);return(0,k.D)([K,fe]).pipe((0,nr.J)())}return K})}}return E.\u0275fac=function(m){return new(m||E)(c.LFG(ki),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(Hi),c.LFG(Ar))},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const Qs=new c.OlP("");let Uo=(()=>{class E{constructor(m,T,P={}){this.router=m,this.viewportScroller=T,this.options=P,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},P.scrollPositionRestoration=P.scrollPositionRestoration||"disabled",P.anchorScrolling=P.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(m=>{m instanceof Ki?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=m.navigationTrigger,this.restoredId=m.restoredState?m.restoredState.navigationId:0):m instanceof cs&&(this.lastId=m.id,this.scheduleScrollEvent(m,this.router.parseUrl(m.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(m=>{m instanceof Ro&&(m.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(m.position):m.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(m.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(m,T){this.router.triggerEvent(new Ro(m,"popstate"===this.lastSource?this.store[this.restoredId]:null,T))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return E.\u0275fac=function(m){c.$Z()},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac}),E})();function Ha(E,w){return{\u0275kind:E,\u0275providers:w}}function Ms(E){return[{provide:Qt,multi:!0,useValue:E}]}function qo(){const E=(0,c.f3M)(c.zs3);return w=>{const m=E.get(c.z2F);if(w!==m.components[0])return;const T=E.get(ki),P=E.get(Ku);1===E.get(Yr)&&T.initialNavigation(),E.get(pa,null,c.XFs.Optional)?.setUpPreloading(),E.get(Qs,null,c.XFs.Optional)?.init(),T.resetRootComponentType(m.componentTypes[0]),P.next(),P.complete()}}const Ku=new c.OlP("",{factory:()=>new Te.x}),Yr=new c.OlP("",{providedIn:"root",factory:()=>1});const pa=new c.OlP("");function Zo(E){return Ha(0,[{provide:pa,useExisting:Hs},{provide:Hi,useExisting:E}])}const Bo=new c.OlP("ROUTER_FORROOT_GUARD"),Ao=[Le.Ye,{provide:ee,useClass:Ge},{provide:ki,useFactory:As},Jr,{provide:Yn,useFactory:function ru(E){return E.routerState.root},deps:[ki]},Ar];function Qr(){return new c.PXZ("Router",ki)}let Js=(()=>{class E{constructor(m){}static forRoot(m,T){return{ngModule:E,providers:[Ao,[],Ms(m),{provide:Bo,useFactory:ga,deps:[[ki,new c.FiY,new c.tp0]]},{provide:Xi,useValue:T||{}},T?.useHash?{provide:Le.S$,useClass:Le.Do}:{provide:Le.S$,useClass:Le.b0},{provide:Qs,useFactory:()=>{const E=(0,c.f3M)(ki),w=(0,c.f3M)(Le.EM),m=(0,c.f3M)(Xi);return m.scrollOffset&&w.setOffset(m.scrollOffset),new Uo(E,w,m)}},T?.preloadingStrategy?Zo(T.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:Qr},T?.initialNavigation?Yo(T):[],[{provide:ra,useFactory:qo},{provide:c.tb,multi:!0,useExisting:ra}]]}}static forChild(m){return{ngModule:E,providers:[Ms(m)]}}}return E.\u0275fac=function(m){return new(m||E)(c.LFG(Bo,8))},E.\u0275mod=c.oAB({type:E}),E.\u0275inj=c.cJS({imports:[Ls]}),E})();function ga(E){return"guarded"}function Yo(E){return["disabled"===E.initialNavigation?Ha(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const w=(0,c.f3M)(ki);return()=>{w.setUpLocationChangeListener()}}},{provide:Yr,useValue:2}]).\u0275providers:[],"enabledBlocking"===E.initialNavigation?Ha(2,[{provide:Yr,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:w=>{const m=w.get(Le.V_,Promise.resolve());let T=!1;return()=>m.then(()=>new Promise(K=>{const fe=w.get(ki),be=w.get(Ku);(function P(K){w.get(ki).events.pipe((0,kt.h)(be=>be instanceof cs||be instanceof Ai||be instanceof Ei),(0,$e.U)(be=>be instanceof cs||be instanceof Ai&&(0===be.code||1===be.code)&&null),(0,kt.h)(be=>null!==be),(0,Tt.q)(1)).subscribe(()=>{K()})})(()=>{K(!0),T=!0}),fe.afterPreactivation=()=>(K(!0),T||be.closed?(0,H.of)(void 0):be),fe.initialNavigation()}))}}]).\u0275providers:[]]}const ra=new c.OlP("")},3942:(nn,ot,V)=>{V.d(ot,{Z:()=>nt});var c=V(2090),k=V(4859),H=V(9681),Te=V(1877);class ve{constructor(ut,He){this._delegate=ut,this.firebase=He,(0,H._addComponent)(ut,new k.wA("app-compat",()=>this,"PUBLIC")),this.container=ut.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ut){this._delegate.automaticDataCollectionEnabled=ut}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ut=>{this._delegate.checkDestroyed(),ut()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,H.deleteApp)(this._delegate)))}_getService(ut,He=H._DEFAULT_ENTRY_NAME){var bt;this._delegate.checkDestroyed();const ft=this._delegate.container.getProvider(ut);return!ft.isInitialized()&&"EXPLICIT"===(null===(bt=ft.getComponent())||void 0===bt?void 0:bt.instantiationMode)&&ft.initialize(),ft.getImmediate({identifier:He})}_removeServiceInstance(ut,He=H._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ut).clearInstance(He)}_addComponent(ut){(0,H._addComponent)(this._delegate,ut)}_addOrOverwriteComponent(ut){(0,H._addOrOverwriteComponent)(this._delegate,ut)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Pe=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),re=function Ye(){const Ht=function ce(Ht){const ut={},He={__esModule:!0,initializeApp:function ae(Fe,We={}){const Je=H.initializeApp(Fe,We);if((0,c.r3)(ut,Je.name))return ut[Je.name];const xe=new Ht(Je,He);return ut[Je.name]=xe,xe},app:ft,registerVersion:H.registerVersion,setLogLevel:H.setLogLevel,onLog:H.onLog,apps:null,SDK_VERSION:H.SDK_VERSION,INTERNAL:{registerComponent:function Xe(Fe){const We=Fe.name,Je=We.replace("-compat","");if(H._registerComponent(Fe)&&"PUBLIC"===Fe.type){const xe=(Le=ft())=>{if("function"!=typeof Le[Je])throw Pe.create("invalid-app-argument",{appName:We});return Le[Je]()};void 0!==Fe.serviceProps&&(0,c.ZB)(xe,Fe.serviceProps),He[Je]=xe,Ht.prototype[Je]=function(...Le){return this._getService.bind(this,We).apply(this,Fe.multipleInstances?Le:[])}}return"PUBLIC"===Fe.type?He[Je]:null},removeApp:function bt(Fe){delete ut[Fe]},useAsService:function Nt(Fe,We){return"serverAuth"===We?null:We},modularAPIs:H}};function ft(Fe){if(!(0,c.r3)(ut,Fe=Fe||H._DEFAULT_ENTRY_NAME))throw Pe.create("no-app",{appName:Fe});return ut[Fe]}return He.default=He,Object.defineProperty(He,"apps",{get:function Ae(){return Object.keys(ut).map(Fe=>ut[Fe])}}),ft.App=Ht,He}(ve);return Ht.INTERNAL=Object.assign(Object.assign({},Ht.INTERNAL),{createFirebaseNamespace:Ye,extendNamespace:function ut(He){(0,c.ZB)(Ht,He)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),Ht}(),ge=new Te.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){ge.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ht=self.firebase.SDK_VERSION;Ht&&Ht.indexOf("LITE")>=0&&ge.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const nt=re;!function _t(Ht){(0,H.registerVersion)("@firebase/app-compat","0.1.34",Ht)}()},9681:(nn,ot,V)=>{V.r(ot),V.d(ot,{FirebaseError:()=>Te.ZR,SDK_VERSION:()=>rr,_DEFAULT_ENTRY_NAME:()=>an,_addComponent:()=>st,_addOrOverwriteComponent:()=>Dt,_apps:()=>sn,_clearComponents:()=>yn,_components:()=>dn,_getProvider:()=>qe,_registerComponent:()=>Re,_removeServiceInstance:()=>Zt,deleteApp:()=>Jn,getApp:()=>On,getApps:()=>Dr,initializeApp:()=>tn,onLog:()=>xn,registerVersion:()=>Pn,setLogLevel:()=>zn});var c=V(5861),k=V(4859),H=V(1877),Te=V(2090),ve=V(8766);class Ve{constructor(Me){this.container=Me}getPlatformInfoString(){return this.container.getProviders().map(te=>{if(function Pe(me){return"VERSION"===me.getComponent()?.type}(te)){const j=te.getImmediate();return`${j.library}/${j.version}`}return null}).filter(te=>te).join(" ")}}const ce="@firebase/app",re=new H.Yd("@firebase/app"),an="[DEFAULT]",Ct={[ce]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},sn=new Map,dn=new Map;function st(me,Me){try{me.container.addComponent(Me)}catch(te){re.debug(`Component ${Me.name} failed to register with FirebaseApp ${me.name}`,te)}}function Dt(me,Me){me.container.addOrOverwriteComponent(Me)}function Re(me){const Me=me.name;if(dn.has(Me))return re.debug(`There were multiple attempts to register component ${Me}.`),!1;dn.set(Me,me);for(const te of sn.values())st(te,me);return!0}function qe(me,Me){const te=me.container.getProvider("heartbeat").getImmediate({optional:!0});return te&&te.triggerHeartbeat(),me.container.getProvider(Me)}function Zt(me,Me,te=an){qe(me,Me).clearInstance(te)}function yn(){dn.clear()}const Un=new Te.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class nr{constructor(Me,te,j){this._isDeleted=!1,this._options=Object.assign({},Me),this._config=Object.assign({},te),this._name=te.name,this._automaticDataCollectionEnabled=te.automaticDataCollectionEnabled,this._container=j,this.container.addComponent(new k.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Me){this.checkDestroyed(),this._automaticDataCollectionEnabled=Me}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Me){this._isDeleted=Me}checkDestroyed(){if(this.isDeleted)throw Un.create("app-deleted",{appName:this._name})}}const rr="9.10.0";function tn(me,Me={}){"object"!=typeof Me&&(Me={name:Me});const te=Object.assign({name:an,automaticDataCollectionEnabled:!1},Me),j=te.name;if("string"!=typeof j||!j)throw Un.create("bad-app-name",{appName:String(j)});const ee=sn.get(j);if(ee){if((0,Te.vZ)(me,ee.options)&&(0,Te.vZ)(te,ee.config))return ee;throw Un.create("duplicate-app",{appName:j})}const Ge=new k.H0(j);for(const rn of dn.values())Ge.addComponent(rn);const xt=new nr(me,te,Ge);return sn.set(j,xt),xt}function On(me=an){const Me=sn.get(me);if(!Me)throw Un.create("no-app",{appName:me});return Me}function Dr(){return Array.from(sn.values())}function Jn(me){return jt.apply(this,arguments)}function jt(){return(jt=(0,c.Z)(function*(me){const Me=me.name;sn.has(Me)&&(sn.delete(Me),yield Promise.all(me.container.getProviders().map(te=>te.delete())),me.isDeleted=!0)})).apply(this,arguments)}function Pn(me,Me,te){var j;let ee=null!==(j=Ct[me])&&void 0!==j?j:me;te&&(ee+=`-${te}`);const Ge=ee.match(/\s|\//),xt=Me.match(/\s|\//);if(Ge||xt){const rn=[`Unable to register library "${ee}" with version "${Me}":`];return Ge&&rn.push(`library name "${ee}" contains illegal characters (whitespace or "/")`),Ge&&xt&&rn.push("and"),xt&&rn.push(`version name "${Me}" contains illegal characters (whitespace or "/")`),void re.warn(rn.join(" "))}Re(new k.wA(`${ee}-version`,()=>({library:ee,version:Me}),"VERSION"))}function xn(me,Me){if(null!==me&&"function"!=typeof me)throw Un.create("invalid-log-argument");(0,H.Am)(me,Me)}function zn(me){(0,H.Ub)(me)}const mr="firebase-heartbeat-store";let rt=null;function we(){return rt||(rt=(0,ve.X3)("firebase-heartbeat-database",1,{upgrade:(me,Me)=>{0===Me&&me.createObjectStore(mr)}}).catch(me=>{throw Un.create("idb-open",{originalErrorMessage:me.message})})),rt}function lt(){return(lt=(0,c.Z)(function*(me){var Me;try{return(yield we()).transaction(mr).objectStore(mr).get(An(me))}catch(te){if(te instanceof Te.ZR)re.warn(te.message);else{const j=Un.create("idb-get",{originalErrorMessage:null===(Me=te)||void 0===Me?void 0:Me.message});re.warn(j.message)}}})).apply(this,arguments)}function ht(me,Me){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,c.Z)(function*(me,Me){var te;try{const ee=(yield we()).transaction(mr,"readwrite");return yield ee.objectStore(mr).put(Me,An(me)),ee.done}catch(j){if(j instanceof Te.ZR)re.warn(j.message);else{const ee=Un.create("idb-set",{originalErrorMessage:null===(te=j)||void 0===te?void 0:te.message});re.warn(ee.message)}}})).apply(this,arguments)}function An(me){return`${me.name}!${me.options.appId}`}class Zn{constructor(Me){this.container=Me,this._heartbeatsCache=null;const te=this.container.getProvider("app").getImmediate();this._storage=new Nn(te),this._heartbeatsCachePromise=this._storage.read().then(j=>(this._heartbeatsCache=j,j))}triggerHeartbeat(){var Me=this;return(0,c.Z)(function*(){const j=Me.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ee=Mn();if(null===Me._heartbeatsCache&&(Me._heartbeatsCache=yield Me._heartbeatsCachePromise),Me._heartbeatsCache.lastSentHeartbeatDate!==ee&&!Me._heartbeatsCache.heartbeats.some(Ge=>Ge.date===ee))return Me._heartbeatsCache.heartbeats.push({date:ee,agent:j}),Me._heartbeatsCache.heartbeats=Me._heartbeatsCache.heartbeats.filter(Ge=>{const xt=new Date(Ge.date).valueOf();return Date.now()-xt<=2592e6}),Me._storage.overwrite(Me._heartbeatsCache)})()}getHeartbeatsHeader(){var Me=this;return(0,c.Z)(function*(){if(null===Me._heartbeatsCache&&(yield Me._heartbeatsCachePromise),null===Me._heartbeatsCache||0===Me._heartbeatsCache.heartbeats.length)return"";const te=Mn(),{heartbeatsToSend:j,unsentEntries:ee}=function Nr(me,Me=1024){const te=[];let j=me.slice();for(const ee of me){const Ge=te.find(xt=>xt.agent===ee.agent);if(Ge){if(Ge.dates.push(ee.date),De(te)>Me){Ge.dates.pop();break}}else if(te.push({agent:ee.agent,dates:[ee.date]}),De(te)>Me){te.pop();break}j=j.slice(1)}return{heartbeatsToSend:te,unsentEntries:j}}(Me._heartbeatsCache.heartbeats),Ge=(0,Te.L)(JSON.stringify({version:2,heartbeats:j}));return Me._heartbeatsCache.lastSentHeartbeatDate=te,ee.length>0?(Me._heartbeatsCache.heartbeats=ee,yield Me._storage.overwrite(Me._heartbeatsCache)):(Me._heartbeatsCache.heartbeats=[],Me._storage.overwrite(Me._heartbeatsCache)),Ge})()}}function Mn(){return(new Date).toISOString().substring(0,10)}class Nn{constructor(Me){this.app=Me,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,Te.hl)()&&(0,Te.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Me=this;return(0,c.Z)(function*(){return(yield Me._canUseIndexedDBPromise)&&(yield function pe(me){return lt.apply(this,arguments)}(Me.app))||{heartbeats:[]}})()}overwrite(Me){var te=this;return(0,c.Z)(function*(){var j;if(yield te._canUseIndexedDBPromise){const Ge=yield te.read();return ht(te.app,{lastSentHeartbeatDate:null!==(j=Me.lastSentHeartbeatDate)&&void 0!==j?j:Ge.lastSentHeartbeatDate,heartbeats:Me.heartbeats})}})()}add(Me){var te=this;return(0,c.Z)(function*(){var j;if(yield te._canUseIndexedDBPromise){const Ge=yield te.read();return ht(te.app,{lastSentHeartbeatDate:null!==(j=Me.lastSentHeartbeatDate)&&void 0!==j?j:Ge.lastSentHeartbeatDate,heartbeats:[...Ge.heartbeats,...Me.heartbeats]})}})()}}function De(me){return(0,Te.L)(JSON.stringify({version:2,heartbeats:me})).length}!function oe(me){Re(new k.wA("platform-logger",Me=>new Ve(Me),"PRIVATE")),Re(new k.wA("heartbeat",Me=>new Zn(Me),"PRIVATE")),Pn(ce,"0.7.33",me),Pn(ce,"0.7.33","esm2017"),Pn("fire-js","")}("")},4859:(nn,ot,V)=>{V.d(ot,{H0:()=>ce,wA:()=>H});var c=V(5861),k=V(2090);class H{constructor(re,ge,ke){this.name=re,this.instanceFactory=ge,this.type=ke,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(re){return this.instantiationMode=re,this}setMultipleInstances(re){return this.multipleInstances=re,this}setServiceProps(re){return this.serviceProps=re,this}setInstanceCreatedCallback(re){return this.onInstanceCreated=re,this}}const Te="[DEFAULT]";class ve{constructor(re,ge){this.name=re,this.container=ge,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(re){const ge=this.normalizeInstanceIdentifier(re);if(!this.instancesDeferred.has(ge)){const ke=new k.BH;if(this.instancesDeferred.set(ge,ke),this.isInitialized(ge)||this.shouldAutoInitialize())try{const vt=this.getOrInitializeService({instanceIdentifier:ge});vt&&ke.resolve(vt)}catch{}}return this.instancesDeferred.get(ge).promise}getImmediate(re){var ge;const ke=this.normalizeInstanceIdentifier(re?.identifier),vt=null!==(ge=re?.optional)&&void 0!==ge&&ge;if(!this.isInitialized(ke)&&!this.shouldAutoInitialize()){if(vt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ke})}catch(_t){if(vt)return null;throw _t}}getComponent(){return this.component}setComponent(re){if(re.name!==this.name)throw Error(`Mismatching Component ${re.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=re,this.shouldAutoInitialize()){if(function Pe(Ye){return"EAGER"===Ye.instantiationMode}(re))try{this.getOrInitializeService({instanceIdentifier:Te})}catch{}for(const[ge,ke]of this.instancesDeferred.entries()){const vt=this.normalizeInstanceIdentifier(ge);try{const _t=this.getOrInitializeService({instanceIdentifier:vt});ke.resolve(_t)}catch{}}}}clearInstance(re=Te){this.instancesDeferred.delete(re),this.instancesOptions.delete(re),this.instances.delete(re)}delete(){var re=this;return(0,c.Z)(function*(){const ge=Array.from(re.instances.values());yield Promise.all([...ge.filter(ke=>"INTERNAL"in ke).map(ke=>ke.INTERNAL.delete()),...ge.filter(ke=>"_delete"in ke).map(ke=>ke._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(re=Te){return this.instances.has(re)}getOptions(re=Te){return this.instancesOptions.get(re)||{}}initialize(re={}){const{options:ge={}}=re,ke=this.normalizeInstanceIdentifier(re.instanceIdentifier);if(this.isInitialized(ke))throw Error(`${this.name}(${ke}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const vt=this.getOrInitializeService({instanceIdentifier:ke,options:ge});for(const[_t,nt]of this.instancesDeferred.entries())ke===this.normalizeInstanceIdentifier(_t)&&nt.resolve(vt);return vt}onInit(re,ge){var ke;const vt=this.normalizeInstanceIdentifier(ge),_t=null!==(ke=this.onInitCallbacks.get(vt))&&void 0!==ke?ke:new Set;_t.add(re),this.onInitCallbacks.set(vt,_t);const nt=this.instances.get(vt);return nt&&re(nt,vt),()=>{_t.delete(re)}}invokeOnInitCallbacks(re,ge){const ke=this.onInitCallbacks.get(ge);if(ke)for(const vt of ke)try{vt(re,ge)}catch{}}getOrInitializeService({instanceIdentifier:re,options:ge={}}){let ke=this.instances.get(re);if(!ke&&this.component&&(ke=this.component.instanceFactory(this.container,{instanceIdentifier:(Ye=re,Ye===Te?void 0:Ye),options:ge}),this.instances.set(re,ke),this.instancesOptions.set(re,ge),this.invokeOnInitCallbacks(ke,re),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,re,ke)}catch{}var Ye;return ke||null}normalizeInstanceIdentifier(re=Te){return this.component?this.component.multipleInstances?re:Te:re}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ce{constructor(re){this.name=re,this.providers=new Map}addComponent(re){const ge=this.getProvider(re.name);if(ge.isComponentSet())throw new Error(`Component ${re.name} has already been registered with ${this.name}`);ge.setComponent(re)}addOrOverwriteComponent(re){this.getProvider(re.name).isComponentSet()&&this.providers.delete(re.name),this.addComponent(re)}getProvider(re){if(this.providers.has(re))return this.providers.get(re);const ge=new ve(re,this);return this.providers.set(re,ge),ge}getProviders(){return Array.from(this.providers.values())}}},1877:(nn,ot,V)=>{V.d(ot,{Am:()=>Ye,Ub:()=>ce,Yd:()=>Pe,in:()=>k});const c=[];var k=(()=>{return(re=k||(k={}))[re.DEBUG=0]="DEBUG",re[re.VERBOSE=1]="VERBOSE",re[re.INFO=2]="INFO",re[re.WARN=3]="WARN",re[re.ERROR=4]="ERROR",re[re.SILENT=5]="SILENT",k;var re})();const H={debug:k.DEBUG,verbose:k.VERBOSE,info:k.INFO,warn:k.WARN,error:k.ERROR,silent:k.SILENT},Te=k.INFO,ve={[k.DEBUG]:"log",[k.VERBOSE]:"log",[k.INFO]:"info",[k.WARN]:"warn",[k.ERROR]:"error"},Ve=(re,ge,...ke)=>{if(ge<re.logLevel)return;const vt=(new Date).toISOString(),_t=ve[ge];if(!_t)throw new Error(`Attempted to log a message with an invalid logType (value: ${ge})`);console[_t](`[${vt}]  ${re.name}:`,...ke)};class Pe{constructor(ge){this.name=ge,this._logLevel=Te,this._logHandler=Ve,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(ge){if(!(ge in k))throw new TypeError(`Invalid value "${ge}" assigned to \`logLevel\``);this._logLevel=ge}setLogLevel(ge){this._logLevel="string"==typeof ge?H[ge]:ge}get logHandler(){return this._logHandler}set logHandler(ge){if("function"!=typeof ge)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ge}get userLogHandler(){return this._userLogHandler}set userLogHandler(ge){this._userLogHandler=ge}debug(...ge){this._userLogHandler&&this._userLogHandler(this,k.DEBUG,...ge),this._logHandler(this,k.DEBUG,...ge)}log(...ge){this._userLogHandler&&this._userLogHandler(this,k.VERBOSE,...ge),this._logHandler(this,k.VERBOSE,...ge)}info(...ge){this._userLogHandler&&this._userLogHandler(this,k.INFO,...ge),this._logHandler(this,k.INFO,...ge)}warn(...ge){this._userLogHandler&&this._userLogHandler(this,k.WARN,...ge),this._logHandler(this,k.WARN,...ge)}error(...ge){this._userLogHandler&&this._userLogHandler(this,k.ERROR,...ge),this._logHandler(this,k.ERROR,...ge)}}function ce(re){c.forEach(ge=>{ge.setLogLevel(re)})}function Ye(re,ge){for(const ke of c){let vt=null;ge&&ge.level&&(vt=H[ge.level]),ke.userLogHandler=null===re?null:(_t,nt,...Ht)=>{const ut=Ht.map(He=>{if(null==He)return null;if("string"==typeof He)return He;if("number"==typeof He||"boolean"==typeof He)return He.toString();if(He instanceof Error)return He.message;try{return JSON.stringify(He)}catch{return null}}).filter(He=>He).join(" ");nt>=(vt??_t.logLevel)&&re({level:k[nt].toLowerCase(),message:ut,args:Ht,type:_t.name})}}}},8766:(nn,ot,V)=>{V.d(ot,{Lj:()=>ae,X3:()=>ft});var c=V(5861);let H,Te;const Pe=new WeakMap,ce=new WeakMap,Ye=new WeakMap,re=new WeakMap,ge=new WeakMap;let _t={get(We,Je,xe){if(We instanceof IDBTransaction){if("done"===Je)return ce.get(We);if("objectStoreNames"===Je)return We.objectStoreNames||Ye.get(We);if("store"===Je)return xe.objectStoreNames[1]?void 0:xe.objectStore(xe.objectStoreNames[0])}return He(We[Je])},set:(We,Je,xe)=>(We[Je]=xe,!0),has:(We,Je)=>We instanceof IDBTransaction&&("done"===Je||"store"===Je)||Je in We};function ut(We){return"function"==typeof We?function Ht(We){return We!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ve(){return Te||(Te=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(We)?function(...Je){return We.apply(bt(this),Je),He(Pe.get(this))}:function(...Je){return He(We.apply(bt(this),Je))}:function(Je,...xe){const Le=We.call(bt(this),Je,...xe);return Ye.set(Le,Je.sort?Je.sort():[Je]),He(Le)}}(We):(We instanceof IDBTransaction&&function vt(We){if(ce.has(We))return;const Je=new Promise((xe,Le)=>{const $e=()=>{We.removeEventListener("complete",Ke),We.removeEventListener("error",Tt),We.removeEventListener("abort",Tt)},Ke=()=>{xe(),$e()},Tt=()=>{Le(We.error||new DOMException("AbortError","AbortError")),$e()};We.addEventListener("complete",Ke),We.addEventListener("error",Tt),We.addEventListener("abort",Tt)});ce.set(We,Je)}(We),((We,Je)=>Je.some(xe=>We instanceof xe))(We,function ve(){return H||(H=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(We,_t):We)}function He(We){if(We instanceof IDBRequest)return function ke(We){const Je=new Promise((xe,Le)=>{const $e=()=>{We.removeEventListener("success",Ke),We.removeEventListener("error",Tt)},Ke=()=>{xe(He(We.result)),$e()},Tt=()=>{Le(We.error),$e()};We.addEventListener("success",Ke),We.addEventListener("error",Tt)});return Je.then(xe=>{xe instanceof IDBCursor&&Pe.set(xe,We)}).catch(()=>{}),ge.set(Je,We),Je}(We);if(re.has(We))return re.get(We);const Je=ut(We);return Je!==We&&(re.set(We,Je),ge.set(Je,We)),Je}const bt=We=>ge.get(We);function ft(We,Je,{blocked:xe,upgrade:Le,blocking:$e,terminated:Ke}={}){const Tt=indexedDB.open(We,Je),Rt=He(Tt);return Le&&Tt.addEventListener("upgradeneeded",kt=>{Le(He(Tt.result),kt.oldVersion,kt.newVersion,He(Tt.transaction))}),xe&&Tt.addEventListener("blocked",()=>xe()),Rt.then(kt=>{Ke&&kt.addEventListener("close",()=>Ke()),$e&&kt.addEventListener("versionchange",()=>$e())}).catch(()=>{}),Rt}function ae(We,{blocked:Je}={}){const xe=indexedDB.deleteDatabase(We);return Je&&xe.addEventListener("blocked",()=>Je()),He(xe).then(()=>{})}const Ae=["get","getKey","getAll","getAllKeys","count"],Xe=["put","add","delete","clear"],Nt=new Map;function Fe(We,Je){if(!(We instanceof IDBDatabase)||Je in We||"string"!=typeof Je)return;if(Nt.get(Je))return Nt.get(Je);const xe=Je.replace(/FromIndex$/,""),Le=Je!==xe,$e=Xe.includes(xe);if(!(xe in(Le?IDBIndex:IDBObjectStore).prototype)||!$e&&!Ae.includes(xe))return;const Ke=function(){var Tt=(0,c.Z)(function*(Rt,...kt){const Yt=this.transaction(Rt,$e?"readwrite":"readonly");let an=Yt.store;return Le&&(an=an.index(kt.shift())),(yield Promise.all([an[xe](...kt),$e&&Yt.done]))[0]});return function(kt){return Tt.apply(this,arguments)}}();return Nt.set(Je,Ke),Ke}!function nt(We){_t=We(_t)}(We=>({...We,get:(Je,xe,Le)=>Fe(Je,xe)||We.get(Je,xe,Le),has:(Je,xe)=>!!Fe(Je,xe)||We.has(Je,xe)}))},7185:(nn,ot,V)=>{V.d(ot,{Rh:()=>Yt,_W:()=>Tt});var c=V(4650),k=V(7340),H=V(7579),Te=V(6895),ve=V(1481);const Ve=["toast-component",""];function Pe(st,Dt){if(1&st){const Re=c.EpF();c.TgZ(0,"button",5),c.NdJ("click",function(){c.CHM(Re);const Zt=c.oxw();return c.KtG(Zt.remove())}),c.TgZ(1,"span",6),c._uU(2,"\xd7"),c.qZA()()}}function ce(st,Dt){if(1&st&&(c.ynx(0),c._uU(1),c.BQk()),2&st){const Re=c.oxw(2);c.xp6(1),c.hij("[",Re.duplicatesCount+1,"]")}}function Ye(st,Dt){if(1&st&&(c.TgZ(0,"div"),c._uU(1),c.YNc(2,ce,2,1,"ng-container",4),c.qZA()),2&st){const Re=c.oxw();c.Tol(Re.options.titleClass),c.uIk("aria-label",Re.title),c.xp6(1),c.hij(" ",Re.title," "),c.xp6(1),c.Q6J("ngIf",Re.duplicatesCount)}}function re(st,Dt){if(1&st&&c._UZ(0,"div",7),2&st){const Re=c.oxw();c.Tol(Re.options.messageClass),c.Q6J("innerHTML",Re.message,c.oJD)}}function ge(st,Dt){if(1&st&&(c.TgZ(0,"div",8),c._uU(1),c.qZA()),2&st){const Re=c.oxw();c.Tol(Re.options.messageClass),c.uIk("aria-label",Re.message),c.xp6(1),c.hij(" ",Re.message," ")}}function ke(st,Dt){if(1&st&&(c.TgZ(0,"div"),c._UZ(1,"div",9),c.qZA()),2&st){const Re=c.oxw();c.xp6(1),c.Udp("width",Re.width+"%")}}class ae{constructor(Dt,Re){this.component=Dt,this.injector=Re}attach(Dt,Re){return this._attachedHost=Dt,Dt.attach(this,Re)}detach(){const Dt=this._attachedHost;if(Dt)return this._attachedHost=void 0,Dt.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(Dt){this._attachedHost=Dt}}class Xe{constructor(Dt,Re,qe,Zt,yn,Wn){this.toastId=Dt,this.config=Re,this.message=qe,this.title=Zt,this.toastType=yn,this.toastRef=Wn,this._onTap=new H.x,this._onAction=new H.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(Dt){this._onAction.next(Dt)}onAction(){return this._onAction.asObservable()}}const Fe=new c.OlP("ToastConfig");class We{constructor(Dt){this._overlayRef=Dt,this.duplicatesCount=0,this._afterClosed=new H.x,this._activate=new H.x,this._manualClose=new H.x,this._resetTimeout=new H.x,this._countDuplicate=new H.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(Dt,Re){Dt&&this._resetTimeout.next(),Re&&this._countDuplicate.next(++this.duplicatesCount)}}class Je{constructor(Dt,Re){this._toastPackage=Dt,this._parentInjector=Re}get(Dt,Re,qe){return Dt===Xe?this._toastPackage:this._parentInjector.get(Dt,Re,qe)}}class xe extends class Ae{attach(Dt,Re){return this._attachedPortal=Dt,this.attachComponentPortal(Dt,Re)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(Dt){this._disposeFn=Dt}}{constructor(Dt,Re,qe){super(),this._hostDomElement=Dt,this._componentFactoryResolver=Re,this._appRef=qe}attachComponentPortal(Dt,Re){const qe=this._componentFactoryResolver.resolveComponentFactory(Dt.component);let Zt;return Zt=qe.create(Dt.injector),this._appRef.attachView(Zt.hostView),this.setDisposeFn(()=>{this._appRef.detachView(Zt.hostView),Zt.destroy()}),Re?this._hostDomElement.insertBefore(this._getComponentRootNode(Zt),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(Zt)),Zt}_getComponentRootNode(Dt){return Dt.hostView.rootNodes[0]}}class Le{constructor(Dt){this._portalHost=Dt}attach(Dt,Re=!0){return this._portalHost.attach(Dt,Re)}detach(){return this._portalHost.detach()}}let $e=(()=>{class st{constructor(Re){this._document=Re}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Re=this._document.createElement("div");Re.classList.add("overlay-container"),Re.setAttribute("aria-live","polite"),this._document.body.appendChild(Re),this._containerElement=Re}}return st.\u0275fac=function(Re){return new(Re||st)(c.LFG(Te.K0))},st.\u0275prov=c.Yz7({token:st,factory:st.\u0275fac,providedIn:"root"}),st})(),Ke=(()=>{class st{constructor(Re,qe,Zt,yn){this._overlayContainer=Re,this._componentFactoryResolver=qe,this._appRef=Zt,this._document=yn,this._paneElements=new Map}create(Re,qe){return this._createOverlayRef(this.getPaneElement(Re,qe))}getPaneElement(Re="",qe){return this._paneElements.get(qe)||this._paneElements.set(qe,{}),this._paneElements.get(qe)[Re]||(this._paneElements.get(qe)[Re]=this._createPaneElement(Re,qe)),this._paneElements.get(qe)[Re]}_createPaneElement(Re,qe){const Zt=this._document.createElement("div");return Zt.id="toast-container",Zt.classList.add(Re),Zt.classList.add("toast-container"),qe?qe.getContainerElement().appendChild(Zt):this._overlayContainer.getContainerElement().appendChild(Zt),Zt}_createPortalHost(Re){return new xe(Re,this._componentFactoryResolver,this._appRef)}_createOverlayRef(Re){return new Le(this._createPortalHost(Re))}}return st.\u0275fac=function(Re){return new(Re||st)(c.LFG($e),c.LFG(c._Vd),c.LFG(c.z2F),c.LFG(Te.K0))},st.\u0275prov=c.Yz7({token:st,factory:st.\u0275fac,providedIn:"root"}),st})(),Tt=(()=>{class st{constructor(Re,qe,Zt,yn,Wn){this.overlay=qe,this._injector=Zt,this.sanitizer=yn,this.ngZone=Wn,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...Re.default,...Re.config},Re.config.iconClasses&&(this.toastrConfig.iconClasses={...Re.default.iconClasses,...Re.config.iconClasses})}show(Re,qe,Zt={},yn=""){return this._preBuildNotification(yn,Re,qe,this.applyConfig(Zt))}success(Re,qe,Zt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",Re,qe,this.applyConfig(Zt))}error(Re,qe,Zt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",Re,qe,this.applyConfig(Zt))}info(Re,qe,Zt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",Re,qe,this.applyConfig(Zt))}warning(Re,qe,Zt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",Re,qe,this.applyConfig(Zt))}clear(Re){for(const qe of this.toasts)if(void 0!==Re){if(qe.toastId===Re)return void qe.toastRef.manualClose()}else qe.toastRef.manualClose()}remove(Re){const qe=this._findToast(Re);if(!qe||(qe.activeToast.toastRef.close(),this.toasts.splice(qe.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const Zt=this.toasts[this.currentlyActive].toastRef;Zt.isInactive()||(this.currentlyActive=this.currentlyActive+1,Zt.activate())}return!0}findDuplicate(Re="",qe="",Zt,yn){const{includeTitleDuplicates:Wn}=this.toastrConfig;for(const Un of this.toasts){const nr=Wn&&Un.title===Re;if((!Wn||nr)&&Un.message===qe)return Un.toastRef.onDuplicate(Zt,yn),Un}return null}applyConfig(Re={}){return{...this.toastrConfig,...Re}}_findToast(Re){for(let qe=0;qe<this.toasts.length;qe++)if(this.toasts[qe].toastId===Re)return{index:qe,activeToast:this.toasts[qe]};return null}_preBuildNotification(Re,qe,Zt,yn){return yn.onActivateTick?this.ngZone.run(()=>this._buildNotification(Re,qe,Zt,yn)):this._buildNotification(Re,qe,Zt,yn)}_buildNotification(Re,qe,Zt,yn){if(!yn.toastComponent)throw new Error("toastComponent required");const Wn=this.findDuplicate(Zt,qe,this.toastrConfig.resetTimeoutOnDuplicate&&yn.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&Zt||qe)&&this.toastrConfig.preventDuplicates&&null!==Wn)return Wn;this.previousToastMessage=qe;let Un=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(Un=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const nr=this.overlay.create(yn.positionClass,this.overlayContainer);this.index=this.index+1;let rr=qe;qe&&yn.enableHtml&&(rr=this.sanitizer.sanitize(c.q3G.HTML,qe));const tn=new We(nr),On=new Xe(this.index,yn,rr,Zt,Re,tn),Dr=new Je(On,this._injector),Jn=new ae(yn.toastComponent,Dr),jt=nr.attach(Jn,this.toastrConfig.newestOnTop);tn.componentInstance=jt.instance;const Pn={toastId:this.index,title:Zt||"",message:qe||"",toastRef:tn,onShown:tn.afterActivate(),onHidden:tn.afterClosed(),onTap:On.onTap(),onAction:On.onAction(),portal:jt};return Un||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{Pn.toastRef.activate()})),this.toasts.push(Pn),Pn}}return st.\u0275fac=function(Re){return new(Re||st)(c.LFG(Fe),c.LFG(Ke),c.LFG(c.zs3),c.LFG(ve.H7),c.LFG(c.R0b))},st.\u0275prov=c.Yz7({token:st,factory:st.\u0275fac,providedIn:"root"}),st})();const kt={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class st{constructor(Re,qe,Zt){this.toastrService=Re,this.toastPackage=qe,this.ngZone=Zt,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=qe.message,this.title=qe.title,this.options=qe.config,this.originalTimeout=qe.config.timeOut,this.toastClasses=`${qe.toastType} ${qe.config.toastClass}`,this.sub=qe.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=qe.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=qe.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=qe.toastRef.countDuplicate().subscribe(yn=>{this.duplicatesCount=yn})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const Re=(new Date).getTime();this.width=(this.hideTime-Re)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(Re,qe){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(Re),qe)):this.timeout=setTimeout(()=>Re(),qe)}outsideInterval(Re,qe){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(Re),qe)):this.intervalId=setInterval(()=>Re(),qe)}runInsideAngular(Re){this.ngZone?this.ngZone.run(()=>Re()):Re()}}return st.\u0275fac=function(Re){return new(Re||st)(c.Y36(Tt),c.Y36(Xe),c.Y36(c.R0b))},st.\u0275cmp=c.Xpm({type:st,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(Re,qe){1&Re&&c.NdJ("click",function(){return qe.tapToast()})("mouseenter",function(){return qe.stickAround()})("mouseleave",function(){return qe.delayedHideToast()}),2&Re&&(c.d8E("@flyInOut",qe.state),c.Tol(qe.toastClasses),c.Udp("display",qe.displayStyle))},attrs:Ve,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(Re,qe){1&Re&&(c.YNc(0,Pe,3,0,"button",0),c.YNc(1,Ye,3,5,"div",1),c.YNc(2,re,1,3,"div",2),c.YNc(3,ge,2,4,"div",3),c.YNc(4,ke,2,2,"div",4)),2&Re&&(c.Q6J("ngIf",qe.options.closeButton),c.xp6(1),c.Q6J("ngIf",qe.title),c.xp6(1),c.Q6J("ngIf",qe.message&&qe.options.enableHtml),c.xp6(1),c.Q6J("ngIf",qe.message&&!qe.options.enableHtml),c.xp6(1),c.Q6J("ngIf",qe.options.progressBar))},dependencies:[Te.O5],encapsulation:2,data:{animation:[(0,k.X$)("flyInOut",[(0,k.SB)("inactive",(0,k.oB)({opacity:0})),(0,k.SB)("active",(0,k.oB)({opacity:1})),(0,k.SB)("removed",(0,k.oB)({opacity:0})),(0,k.eR)("inactive => active",(0,k.jt)("{{ easeTime }}ms {{ easing }}")),(0,k.eR)("active => removed",(0,k.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),st})()};let Yt=(()=>{class st{static forRoot(Re={}){return{ngModule:st,providers:[{provide:Fe,useValue:{default:kt,config:Re}}]}}}return st.\u0275fac=function(Re){return new(Re||st)},st.\u0275mod=c.oAB({type:st}),st.\u0275inj=c.cJS({imports:[Te.ez]}),st})()},5861:(nn,ot,V)=>{function c(H,Te,ve,Ve,Pe,ce,Ye){try{var re=H[ce](Ye),ge=re.value}catch(ke){return void ve(ke)}re.done?Te(ge):Promise.resolve(ge).then(Ve,Pe)}function k(H){return function(){var Te=this,ve=arguments;return new Promise(function(Ve,Pe){var ce=H.apply(Te,ve);function Ye(ge){c(ce,Ve,Pe,Ye,re,"next",ge)}function re(ge){c(ce,Ve,Pe,Ye,re,"throw",ge)}Ye(void 0)})}}V.d(ot,{Z:()=>k})}},nn=>{nn(nn.s=958)}]);